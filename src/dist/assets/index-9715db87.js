var cm=Object.defineProperty;var um=(Qc,ef,tf)=>ef in Qc?cm(Qc,ef,{enumerable:!0,configurable:!0,writable:!0,value:tf}):Qc[ef]=tf;var im=(Qc,ef,tf)=>(um(Qc,typeof ef!="symbol"?ef+"":ef,tf),tf);(function(){const ef=document.createElement("link").relList;if(ef&&ef.supports&&ef.supports("modulepreload"))return;for(const rf of document.querySelectorAll('link[rel="modulepreload"]'))nf(rf);new MutationObserver(rf=>{for(const sf of rf)if(sf.type==="childList")for(const af of sf.addedNodes)af.tagName==="LINK"&&af.rel==="modulepreload"&&nf(af)}).observe(document,{childList:!0,subtree:!0});function tf(rf){const sf={};return rf.integrity&&(sf.integrity=rf.integrity),rf.referrerPolicy&&(sf.referrerPolicy=rf.referrerPolicy),rf.crossOrigin==="use-credentials"?sf.credentials="include":rf.crossOrigin==="anonymous"?sf.credentials="omit":sf.credentials="same-origin",sf}function nf(rf){if(rf.ep)return;rf.ep=!0;const sf=tf(rf);fetch(rf.href,sf)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Qc){return Qc&&Qc.__esModule&&Object.prototype.hasOwnProperty.call(Qc,"default")?Qc.default:Qc}var re$3={exports:{}};const SEMVER_SPEC_VERSION="2.0.0",MAX_LENGTH$1=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,MAX_SAFE_BUILD_LENGTH=MAX_LENGTH$1-6,RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var constants$1={MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,RELEASE_TYPES,SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const debug$1=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...Qc)=>console.error("SEMVER",...Qc):()=>{};var debug_1=debug$1;(function(Qc,ef){const{MAX_SAFE_COMPONENT_LENGTH:tf,MAX_SAFE_BUILD_LENGTH:nf,MAX_LENGTH:rf}=constants$1,sf=debug_1;ef=Qc.exports={};const af=ef.re=[],lf=ef.safeRe=[],cf=ef.src=[],uf=ef.t={};let ff=0;const df="[a-zA-Z0-9-]",gf=[["\\s",1],["\\d",rf],[df,nf]],_f=Af=>{for(const[Df,Of]of gf)Af=Af.split(`${Df}*`).join(`${Df}{0,${Of}}`).split(`${Df}+`).join(`${Df}{1,${Of}}`);return Af},xf=(Af,Df,Of)=>{const Gf=_f(Df),Bf=ff++;sf(Af,Bf,Df),uf[Af]=Bf,cf[Bf]=Df,af[Bf]=new RegExp(Df,Of?"g":void 0),lf[Bf]=new RegExp(Gf,Of?"g":void 0)};xf("NUMERICIDENTIFIER","0|[1-9]\\d*"),xf("NUMERICIDENTIFIERLOOSE","\\d+"),xf("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${df}*`),xf("MAINVERSION",`(${cf[uf.NUMERICIDENTIFIER]})\\.(${cf[uf.NUMERICIDENTIFIER]})\\.(${cf[uf.NUMERICIDENTIFIER]})`),xf("MAINVERSIONLOOSE",`(${cf[uf.NUMERICIDENTIFIERLOOSE]})\\.(${cf[uf.NUMERICIDENTIFIERLOOSE]})\\.(${cf[uf.NUMERICIDENTIFIERLOOSE]})`),xf("PRERELEASEIDENTIFIER",`(?:${cf[uf.NUMERICIDENTIFIER]}|${cf[uf.NONNUMERICIDENTIFIER]})`),xf("PRERELEASEIDENTIFIERLOOSE",`(?:${cf[uf.NUMERICIDENTIFIERLOOSE]}|${cf[uf.NONNUMERICIDENTIFIER]})`),xf("PRERELEASE",`(?:-(${cf[uf.PRERELEASEIDENTIFIER]}(?:\\.${cf[uf.PRERELEASEIDENTIFIER]})*))`),xf("PRERELEASELOOSE",`(?:-?(${cf[uf.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${cf[uf.PRERELEASEIDENTIFIERLOOSE]})*))`),xf("BUILDIDENTIFIER",`${df}+`),xf("BUILD",`(?:\\+(${cf[uf.BUILDIDENTIFIER]}(?:\\.${cf[uf.BUILDIDENTIFIER]})*))`),xf("FULLPLAIN",`v?${cf[uf.MAINVERSION]}${cf[uf.PRERELEASE]}?${cf[uf.BUILD]}?`),xf("FULL",`^${cf[uf.FULLPLAIN]}$`),xf("LOOSEPLAIN",`[v=\\s]*${cf[uf.MAINVERSIONLOOSE]}${cf[uf.PRERELEASELOOSE]}?${cf[uf.BUILD]}?`),xf("LOOSE",`^${cf[uf.LOOSEPLAIN]}$`),xf("GTLT","((?:<|>)?=?)"),xf("XRANGEIDENTIFIERLOOSE",`${cf[uf.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),xf("XRANGEIDENTIFIER",`${cf[uf.NUMERICIDENTIFIER]}|x|X|\\*`),xf("XRANGEPLAIN",`[v=\\s]*(${cf[uf.XRANGEIDENTIFIER]})(?:\\.(${cf[uf.XRANGEIDENTIFIER]})(?:\\.(${cf[uf.XRANGEIDENTIFIER]})(?:${cf[uf.PRERELEASE]})?${cf[uf.BUILD]}?)?)?`),xf("XRANGEPLAINLOOSE",`[v=\\s]*(${cf[uf.XRANGEIDENTIFIERLOOSE]})(?:\\.(${cf[uf.XRANGEIDENTIFIERLOOSE]})(?:\\.(${cf[uf.XRANGEIDENTIFIERLOOSE]})(?:${cf[uf.PRERELEASELOOSE]})?${cf[uf.BUILD]}?)?)?`),xf("XRANGE",`^${cf[uf.GTLT]}\\s*${cf[uf.XRANGEPLAIN]}$`),xf("XRANGELOOSE",`^${cf[uf.GTLT]}\\s*${cf[uf.XRANGEPLAINLOOSE]}$`),xf("COERCE",`(^|[^\\d])(\\d{1,${tf}})(?:\\.(\\d{1,${tf}}))?(?:\\.(\\d{1,${tf}}))?(?:$|[^\\d])`),xf("COERCERTL",cf[uf.COERCE],!0),xf("LONETILDE","(?:~>?)"),xf("TILDETRIM",`(\\s*)${cf[uf.LONETILDE]}\\s+`,!0),ef.tildeTrimReplace="$1~",xf("TILDE",`^${cf[uf.LONETILDE]}${cf[uf.XRANGEPLAIN]}$`),xf("TILDELOOSE",`^${cf[uf.LONETILDE]}${cf[uf.XRANGEPLAINLOOSE]}$`),xf("LONECARET","(?:\\^)"),xf("CARETTRIM",`(\\s*)${cf[uf.LONECARET]}\\s+`,!0),ef.caretTrimReplace="$1^",xf("CARET",`^${cf[uf.LONECARET]}${cf[uf.XRANGEPLAIN]}$`),xf("CARETLOOSE",`^${cf[uf.LONECARET]}${cf[uf.XRANGEPLAINLOOSE]}$`),xf("COMPARATORLOOSE",`^${cf[uf.GTLT]}\\s*(${cf[uf.LOOSEPLAIN]})$|^$`),xf("COMPARATOR",`^${cf[uf.GTLT]}\\s*(${cf[uf.FULLPLAIN]})$|^$`),xf("COMPARATORTRIM",`(\\s*)${cf[uf.GTLT]}\\s*(${cf[uf.LOOSEPLAIN]}|${cf[uf.XRANGEPLAIN]})`,!0),ef.comparatorTrimReplace="$1$2$3",xf("HYPHENRANGE",`^\\s*(${cf[uf.XRANGEPLAIN]})\\s+-\\s+(${cf[uf.XRANGEPLAIN]})\\s*$`),xf("HYPHENRANGELOOSE",`^\\s*(${cf[uf.XRANGEPLAINLOOSE]})\\s+-\\s+(${cf[uf.XRANGEPLAINLOOSE]})\\s*$`),xf("STAR","(<|>)?=?\\s*\\*"),xf("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),xf("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$3,re$3.exports);var reExports=re$3.exports;const looseOption=Object.freeze({loose:!0}),emptyOpts=Object.freeze({}),parseOptions$1=Qc=>Qc?typeof Qc!="object"?looseOption:Qc:emptyOpts;var parseOptions_1=parseOptions$1;const numeric=/^[0-9]+$/,compareIdentifiers$1=(Qc,ef)=>{const tf=numeric.test(Qc),nf=numeric.test(ef);return tf&&nf&&(Qc=+Qc,ef=+ef),Qc===ef?0:tf&&!nf?-1:nf&&!tf?1:Qc<ef?-1:1},rcompareIdentifiers=(Qc,ef)=>compareIdentifiers$1(ef,Qc);var identifiers$1={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers};const debug=debug_1,{MAX_LENGTH,MAX_SAFE_INTEGER}=constants$1,{safeRe:re$2,t:t$3}=reExports,parseOptions=parseOptions_1,{compareIdentifiers}=identifiers$1;let SemVer$d=class n0{constructor(ef,tf){if(tf=parseOptions(tf),ef instanceof n0){if(ef.loose===!!tf.loose&&ef.includePrerelease===!!tf.includePrerelease)return ef;ef=ef.version}else if(typeof ef!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof ef}".`);if(ef.length>MAX_LENGTH)throw new TypeError(`version is longer than ${MAX_LENGTH} characters`);debug("SemVer",ef,tf),this.options=tf,this.loose=!!tf.loose,this.includePrerelease=!!tf.includePrerelease;const nf=ef.trim().match(tf.loose?re$2[t$3.LOOSE]:re$2[t$3.FULL]);if(!nf)throw new TypeError(`Invalid Version: ${ef}`);if(this.raw=ef,this.major=+nf[1],this.minor=+nf[2],this.patch=+nf[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");nf[4]?this.prerelease=nf[4].split(".").map(rf=>{if(/^[0-9]+$/.test(rf)){const sf=+rf;if(sf>=0&&sf<MAX_SAFE_INTEGER)return sf}return rf}):this.prerelease=[],this.build=nf[5]?nf[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(ef){if(debug("SemVer.compare",this.version,this.options,ef),!(ef instanceof n0)){if(typeof ef=="string"&&ef===this.version)return 0;ef=new n0(ef,this.options)}return ef.version===this.version?0:this.compareMain(ef)||this.comparePre(ef)}compareMain(ef){return ef instanceof n0||(ef=new n0(ef,this.options)),compareIdentifiers(this.major,ef.major)||compareIdentifiers(this.minor,ef.minor)||compareIdentifiers(this.patch,ef.patch)}comparePre(ef){if(ef instanceof n0||(ef=new n0(ef,this.options)),this.prerelease.length&&!ef.prerelease.length)return-1;if(!this.prerelease.length&&ef.prerelease.length)return 1;if(!this.prerelease.length&&!ef.prerelease.length)return 0;let tf=0;do{const nf=this.prerelease[tf],rf=ef.prerelease[tf];if(debug("prerelease compare",tf,nf,rf),nf===void 0&&rf===void 0)return 0;if(rf===void 0)return 1;if(nf===void 0)return-1;if(nf===rf)continue;return compareIdentifiers(nf,rf)}while(++tf)}compareBuild(ef){ef instanceof n0||(ef=new n0(ef,this.options));let tf=0;do{const nf=this.build[tf],rf=ef.build[tf];if(debug("prerelease compare",tf,nf,rf),nf===void 0&&rf===void 0)return 0;if(rf===void 0)return 1;if(nf===void 0)return-1;if(nf===rf)continue;return compareIdentifiers(nf,rf)}while(++tf)}inc(ef,tf,nf){switch(ef){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",tf,nf);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",tf,nf);break;case"prepatch":this.prerelease.length=0,this.inc("patch",tf,nf),this.inc("pre",tf,nf);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",tf,nf),this.inc("pre",tf,nf);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const rf=Number(nf)?1:0;if(!tf&&nf===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[rf];else{let sf=this.prerelease.length;for(;--sf>=0;)typeof this.prerelease[sf]=="number"&&(this.prerelease[sf]++,sf=-2);if(sf===-1){if(tf===this.prerelease.join(".")&&nf===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(rf)}}if(tf){let sf=[tf,rf];nf===!1&&(sf=[tf]),compareIdentifiers(this.prerelease[0],tf)===0?isNaN(this.prerelease[1])&&(this.prerelease=sf):this.prerelease=sf}break}default:throw new Error(`invalid increment argument: ${ef}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var semver$2=SemVer$d;const SemVer$c=semver$2,parse$7=(Qc,ef,tf=!1)=>{if(Qc instanceof SemVer$c)return Qc;try{return new SemVer$c(Qc,ef)}catch(nf){if(!tf)return null;throw nf}};var parse_1=parse$7;const parse$6=parse_1,valid$2=(Qc,ef)=>{const tf=parse$6(Qc,ef);return tf?tf.version:null};var valid_1=valid$2;const parse$5=parse_1,clean$1=(Qc,ef)=>{const tf=parse$5(Qc.trim().replace(/^[=v]+/,""),ef);return tf?tf.version:null};var clean_1=clean$1;const SemVer$b=semver$2,inc$1=(Qc,ef,tf,nf,rf)=>{typeof tf=="string"&&(rf=nf,nf=tf,tf=void 0);try{return new SemVer$b(Qc instanceof SemVer$b?Qc.version:Qc,tf).inc(ef,nf,rf).version}catch{return null}};var inc_1=inc$1;const parse$4=parse_1,diff$1=(Qc,ef)=>{const tf=parse$4(Qc,null,!0),nf=parse$4(ef,null,!0),rf=tf.compare(nf);if(rf===0)return null;const sf=rf>0,af=sf?tf:nf,lf=sf?nf:tf,cf=!!af.prerelease.length;if(!!lf.prerelease.length&&!cf)return!lf.patch&&!lf.minor?"major":af.patch?"patch":af.minor?"minor":"major";const ff=cf?"pre":"";return tf.major!==nf.major?ff+"major":tf.minor!==nf.minor?ff+"minor":tf.patch!==nf.patch?ff+"patch":"prerelease"};var diff_1=diff$1;const SemVer$a=semver$2,major$1=(Qc,ef)=>new SemVer$a(Qc,ef).major;var major_1=major$1;const SemVer$9=semver$2,minor$1=(Qc,ef)=>new SemVer$9(Qc,ef).minor;var minor_1=minor$1;const SemVer$8=semver$2,patch$2=(Qc,ef)=>new SemVer$8(Qc,ef).patch;var patch_1=patch$2;const parse$3=parse_1,prerelease$1=(Qc,ef)=>{const tf=parse$3(Qc,ef);return tf&&tf.prerelease.length?tf.prerelease:null};var prerelease_1=prerelease$1;const SemVer$7=semver$2,compare$b=(Qc,ef,tf)=>new SemVer$7(Qc,tf).compare(new SemVer$7(ef,tf));var compare_1=compare$b;const compare$a=compare_1,rcompare$1=(Qc,ef,tf)=>compare$a(ef,Qc,tf);var rcompare_1=rcompare$1;const compare$9=compare_1,compareLoose$1=(Qc,ef)=>compare$9(Qc,ef,!0);var compareLoose_1=compareLoose$1;const SemVer$6=semver$2,compareBuild$3=(Qc,ef,tf)=>{const nf=new SemVer$6(Qc,tf),rf=new SemVer$6(ef,tf);return nf.compare(rf)||nf.compareBuild(rf)};var compareBuild_1=compareBuild$3;const compareBuild$2=compareBuild_1,sort$1=(Qc,ef)=>Qc.sort((tf,nf)=>compareBuild$2(tf,nf,ef));var sort_1=sort$1;const compareBuild$1=compareBuild_1,rsort$1=(Qc,ef)=>Qc.sort((tf,nf)=>compareBuild$1(nf,tf,ef));var rsort_1=rsort$1;const compare$8=compare_1,gt$5=(Qc,ef,tf)=>compare$8(Qc,ef,tf)>0;var gt_1=gt$5;const compare$7=compare_1,lt$4=(Qc,ef,tf)=>compare$7(Qc,ef,tf)<0;var lt_1=lt$4;const compare$6=compare_1,eq$2=(Qc,ef,tf)=>compare$6(Qc,ef,tf)===0;var eq_1=eq$2;const compare$5=compare_1,neq$2=(Qc,ef,tf)=>compare$5(Qc,ef,tf)!==0;var neq_1=neq$2;const compare$4=compare_1,gte$3=(Qc,ef,tf)=>compare$4(Qc,ef,tf)>=0;var gte_1=gte$3;const compare$3=compare_1,lte$3=(Qc,ef,tf)=>compare$3(Qc,ef,tf)<=0;var lte_1=lte$3;const eq$1=eq_1,neq$1=neq_1,gt$4=gt_1,gte$2=gte_1,lt$3=lt_1,lte$2=lte_1,cmp$1=(Qc,ef,tf,nf)=>{switch(ef){case"===":return typeof Qc=="object"&&(Qc=Qc.version),typeof tf=="object"&&(tf=tf.version),Qc===tf;case"!==":return typeof Qc=="object"&&(Qc=Qc.version),typeof tf=="object"&&(tf=tf.version),Qc!==tf;case"":case"=":case"==":return eq$1(Qc,tf,nf);case"!=":return neq$1(Qc,tf,nf);case">":return gt$4(Qc,tf,nf);case">=":return gte$2(Qc,tf,nf);case"<":return lt$3(Qc,tf,nf);case"<=":return lte$2(Qc,tf,nf);default:throw new TypeError(`Invalid operator: ${ef}`)}};var cmp_1=cmp$1;const SemVer$5=semver$2,parse$2=parse_1,{safeRe:re$1,t:t$2}=reExports,coerce$1=(Qc,ef)=>{if(Qc instanceof SemVer$5)return Qc;if(typeof Qc=="number"&&(Qc=String(Qc)),typeof Qc!="string")return null;ef=ef||{};let tf=null;if(!ef.rtl)tf=Qc.match(re$1[t$2.COERCE]);else{let nf;for(;(nf=re$1[t$2.COERCERTL].exec(Qc))&&(!tf||tf.index+tf[0].length!==Qc.length);)(!tf||nf.index+nf[0].length!==tf.index+tf[0].length)&&(tf=nf),re$1[t$2.COERCERTL].lastIndex=nf.index+nf[1].length+nf[2].length;re$1[t$2.COERCERTL].lastIndex=-1}return tf===null?null:parse$2(`${tf[2]}.${tf[3]||"0"}.${tf[4]||"0"}`,ef)};var coerce_1=coerce$1,iterator,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator=function(Qc){Qc.prototype[Symbol.iterator]=function*(){for(let ef=this.head;ef;ef=ef.next)yield ef.value}}),iterator}var yallist=Yallist$1;Yallist$1.Node=Node$2;Yallist$1.create=Yallist$1;function Yallist$1(Qc){var ef=this;if(ef instanceof Yallist$1||(ef=new Yallist$1),ef.tail=null,ef.head=null,ef.length=0,Qc&&typeof Qc.forEach=="function")Qc.forEach(function(rf){ef.push(rf)});else if(arguments.length>0)for(var tf=0,nf=arguments.length;tf<nf;tf++)ef.push(arguments[tf]);return ef}Yallist$1.prototype.removeNode=function(Qc){if(Qc.list!==this)throw new Error("removing node which does not belong to this list");var ef=Qc.next,tf=Qc.prev;return ef&&(ef.prev=tf),tf&&(tf.next=ef),Qc===this.head&&(this.head=ef),Qc===this.tail&&(this.tail=tf),Qc.list.length--,Qc.next=null,Qc.prev=null,Qc.list=null,ef};Yallist$1.prototype.unshiftNode=function(Qc){if(Qc!==this.head){Qc.list&&Qc.list.removeNode(Qc);var ef=this.head;Qc.list=this,Qc.next=ef,ef&&(ef.prev=Qc),this.head=Qc,this.tail||(this.tail=Qc),this.length++}};Yallist$1.prototype.pushNode=function(Qc){if(Qc!==this.tail){Qc.list&&Qc.list.removeNode(Qc);var ef=this.tail;Qc.list=this,Qc.prev=ef,ef&&(ef.next=Qc),this.tail=Qc,this.head||(this.head=Qc),this.length++}};Yallist$1.prototype.push=function(){for(var Qc=0,ef=arguments.length;Qc<ef;Qc++)push(this,arguments[Qc]);return this.length};Yallist$1.prototype.unshift=function(){for(var Qc=0,ef=arguments.length;Qc<ef;Qc++)unshift(this,arguments[Qc]);return this.length};Yallist$1.prototype.pop=function(){if(this.tail){var Qc=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,Qc}};Yallist$1.prototype.shift=function(){if(this.head){var Qc=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,Qc}};Yallist$1.prototype.forEach=function(Qc,ef){ef=ef||this;for(var tf=this.head,nf=0;tf!==null;nf++)Qc.call(ef,tf.value,nf,this),tf=tf.next};Yallist$1.prototype.forEachReverse=function(Qc,ef){ef=ef||this;for(var tf=this.tail,nf=this.length-1;tf!==null;nf--)Qc.call(ef,tf.value,nf,this),tf=tf.prev};Yallist$1.prototype.get=function(Qc){for(var ef=0,tf=this.head;tf!==null&&ef<Qc;ef++)tf=tf.next;if(ef===Qc&&tf!==null)return tf.value};Yallist$1.prototype.getReverse=function(Qc){for(var ef=0,tf=this.tail;tf!==null&&ef<Qc;ef++)tf=tf.prev;if(ef===Qc&&tf!==null)return tf.value};Yallist$1.prototype.map=function(Qc,ef){ef=ef||this;for(var tf=new Yallist$1,nf=this.head;nf!==null;)tf.push(Qc.call(ef,nf.value,this)),nf=nf.next;return tf};Yallist$1.prototype.mapReverse=function(Qc,ef){ef=ef||this;for(var tf=new Yallist$1,nf=this.tail;nf!==null;)tf.push(Qc.call(ef,nf.value,this)),nf=nf.prev;return tf};Yallist$1.prototype.reduce=function(Qc,ef){var tf,nf=this.head;if(arguments.length>1)tf=ef;else if(this.head)nf=this.head.next,tf=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var rf=0;nf!==null;rf++)tf=Qc(tf,nf.value,rf),nf=nf.next;return tf};Yallist$1.prototype.reduceReverse=function(Qc,ef){var tf,nf=this.tail;if(arguments.length>1)tf=ef;else if(this.tail)nf=this.tail.prev,tf=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var rf=this.length-1;nf!==null;rf--)tf=Qc(tf,nf.value,rf),nf=nf.prev;return tf};Yallist$1.prototype.toArray=function(){for(var Qc=new Array(this.length),ef=0,tf=this.head;tf!==null;ef++)Qc[ef]=tf.value,tf=tf.next;return Qc};Yallist$1.prototype.toArrayReverse=function(){for(var Qc=new Array(this.length),ef=0,tf=this.tail;tf!==null;ef++)Qc[ef]=tf.value,tf=tf.prev;return Qc};Yallist$1.prototype.slice=function(Qc,ef){ef=ef||this.length,ef<0&&(ef+=this.length),Qc=Qc||0,Qc<0&&(Qc+=this.length);var tf=new Yallist$1;if(ef<Qc||ef<0)return tf;Qc<0&&(Qc=0),ef>this.length&&(ef=this.length);for(var nf=0,rf=this.head;rf!==null&&nf<Qc;nf++)rf=rf.next;for(;rf!==null&&nf<ef;nf++,rf=rf.next)tf.push(rf.value);return tf};Yallist$1.prototype.sliceReverse=function(Qc,ef){ef=ef||this.length,ef<0&&(ef+=this.length),Qc=Qc||0,Qc<0&&(Qc+=this.length);var tf=new Yallist$1;if(ef<Qc||ef<0)return tf;Qc<0&&(Qc=0),ef>this.length&&(ef=this.length);for(var nf=this.length,rf=this.tail;rf!==null&&nf>ef;nf--)rf=rf.prev;for(;rf!==null&&nf>Qc;nf--,rf=rf.prev)tf.push(rf.value);return tf};Yallist$1.prototype.splice=function(Qc,ef,...tf){Qc>this.length&&(Qc=this.length-1),Qc<0&&(Qc=this.length+Qc);for(var nf=0,rf=this.head;rf!==null&&nf<Qc;nf++)rf=rf.next;for(var sf=[],nf=0;rf&&nf<ef;nf++)sf.push(rf.value),rf=this.removeNode(rf);rf===null&&(rf=this.tail),rf!==this.head&&rf!==this.tail&&(rf=rf.prev);for(var nf=0;nf<tf.length;nf++)rf=insert(this,rf,tf[nf]);return sf};Yallist$1.prototype.reverse=function(){for(var Qc=this.head,ef=this.tail,tf=Qc;tf!==null;tf=tf.prev){var nf=tf.prev;tf.prev=tf.next,tf.next=nf}return this.head=ef,this.tail=Qc,this};function insert(Qc,ef,tf){var nf=ef===Qc.head?new Node$2(tf,null,ef,Qc):new Node$2(tf,ef,ef.next,Qc);return nf.next===null&&(Qc.tail=nf),nf.prev===null&&(Qc.head=nf),Qc.length++,nf}function push(Qc,ef){Qc.tail=new Node$2(ef,Qc.tail,null,Qc),Qc.head||(Qc.head=Qc.tail),Qc.length++}function unshift(Qc,ef){Qc.head=new Node$2(ef,null,Qc.head,Qc),Qc.tail||(Qc.tail=Qc.head),Qc.length++}function Node$2(Qc,ef,tf,nf){if(!(this instanceof Node$2))return new Node$2(Qc,ef,tf,nf);this.list=nf,this.value=Qc,ef?(ef.next=this,this.prev=ef):this.prev=null,tf?(tf.prev=this,this.next=tf):this.next=null}try{requireIterator()(Yallist$1)}catch{}const Yallist=yallist,MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;class LRUCache{constructor(ef){if(typeof ef=="number"&&(ef={max:ef}),ef||(ef={}),ef.max&&(typeof ef.max!="number"||ef.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=ef.max||1/0;const tf=ef.length||naiveLength;if(this[LENGTH_CALCULATOR]=typeof tf!="function"?naiveLength:tf,this[ALLOW_STALE]=ef.stale||!1,ef.maxAge&&typeof ef.maxAge!="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=ef.maxAge||0,this[DISPOSE]=ef.dispose,this[NO_DISPOSE_ON_SET]=ef.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=ef.updateAgeOnGet||!1,this.reset()}set max(ef){if(typeof ef!="number"||ef<0)throw new TypeError("max must be a non-negative number");this[MAX]=ef||1/0,trim(this)}get max(){return this[MAX]}set allowStale(ef){this[ALLOW_STALE]=!!ef}get allowStale(){return this[ALLOW_STALE]}set maxAge(ef){if(typeof ef!="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=ef,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(ef){typeof ef!="function"&&(ef=naiveLength),ef!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=ef,this[LENGTH]=0,this[LRU_LIST].forEach(tf=>{tf.length=this[LENGTH_CALCULATOR](tf.value,tf.key),this[LENGTH]+=tf.length})),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(ef,tf){tf=tf||this;for(let nf=this[LRU_LIST].tail;nf!==null;){const rf=nf.prev;forEachStep(this,ef,nf,tf),nf=rf}}forEach(ef,tf){tf=tf||this;for(let nf=this[LRU_LIST].head;nf!==null;){const rf=nf.next;forEachStep(this,ef,nf,tf),nf=rf}}keys(){return this[LRU_LIST].toArray().map(ef=>ef.key)}values(){return this[LRU_LIST].toArray().map(ef=>ef.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(ef=>this[DISPOSE](ef.key,ef.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map(ef=>isStale(this,ef)?!1:{k:ef.key,v:ef.value,e:ef.now+(ef.maxAge||0)}).toArray().filter(ef=>ef)}dumpLru(){return this[LRU_LIST]}set(ef,tf,nf){if(nf=nf||this[MAX_AGE],nf&&typeof nf!="number")throw new TypeError("maxAge must be a number");const rf=nf?Date.now():0,sf=this[LENGTH_CALCULATOR](tf,ef);if(this[CACHE].has(ef)){if(sf>this[MAX])return del$1(this,this[CACHE].get(ef)),!1;const cf=this[CACHE].get(ef).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](ef,cf.value)),cf.now=rf,cf.maxAge=nf,cf.value=tf,this[LENGTH]+=sf-cf.length,cf.length=sf,this.get(ef),trim(this),!0}const af=new Entry(ef,tf,sf,rf,nf);return af.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](ef,tf),!1):(this[LENGTH]+=af.length,this[LRU_LIST].unshift(af),this[CACHE].set(ef,this[LRU_LIST].head),trim(this),!0)}has(ef){if(!this[CACHE].has(ef))return!1;const tf=this[CACHE].get(ef).value;return!isStale(this,tf)}get(ef){return get$5(this,ef,!0)}peek(ef){return get$5(this,ef,!1)}pop(){const ef=this[LRU_LIST].tail;return ef?(del$1(this,ef),ef.value):null}del(ef){del$1(this,this[CACHE].get(ef))}load(ef){this.reset();const tf=Date.now();for(let nf=ef.length-1;nf>=0;nf--){const rf=ef[nf],sf=rf.e||0;if(sf===0)this.set(rf.k,rf.v);else{const af=sf-tf;af>0&&this.set(rf.k,rf.v,af)}}}prune(){this[CACHE].forEach((ef,tf)=>get$5(this,tf,!1))}}const get$5=(Qc,ef,tf)=>{const nf=Qc[CACHE].get(ef);if(nf){const rf=nf.value;if(isStale(Qc,rf)){if(del$1(Qc,nf),!Qc[ALLOW_STALE])return}else tf&&(Qc[UPDATE_AGE_ON_GET]&&(nf.value.now=Date.now()),Qc[LRU_LIST].unshiftNode(nf));return rf.value}},isStale=(Qc,ef)=>{if(!ef||!ef.maxAge&&!Qc[MAX_AGE])return!1;const tf=Date.now()-ef.now;return ef.maxAge?tf>ef.maxAge:Qc[MAX_AGE]&&tf>Qc[MAX_AGE]},trim=Qc=>{if(Qc[LENGTH]>Qc[MAX])for(let ef=Qc[LRU_LIST].tail;Qc[LENGTH]>Qc[MAX]&&ef!==null;){const tf=ef.prev;del$1(Qc,ef),ef=tf}},del$1=(Qc,ef)=>{if(ef){const tf=ef.value;Qc[DISPOSE]&&Qc[DISPOSE](tf.key,tf.value),Qc[LENGTH]-=tf.length,Qc[CACHE].delete(tf.key),Qc[LRU_LIST].removeNode(ef)}};class Entry{constructor(ef,tf,nf,rf,sf){this.key=ef,this.value=tf,this.length=nf,this.now=rf,this.maxAge=sf||0}}const forEachStep=(Qc,ef,tf,nf)=>{let rf=tf.value;isStale(Qc,rf)&&(del$1(Qc,tf),Qc[ALLOW_STALE]||(rf=void 0)),rf&&ef.call(nf,rf.value,rf.key,Qc)};var lruCache=LRUCache,range,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range;hasRequiredRange=1;class Qc{constructor(Qf,ah){if(ah=nf(ah),Qf instanceof Qc)return Qf.loose===!!ah.loose&&Qf.includePrerelease===!!ah.includePrerelease?Qf:new Qc(Qf.raw,ah);if(Qf instanceof rf)return this.raw=Qf.value,this.set=[[Qf]],this.format(),this;if(this.options=ah,this.loose=!!ah.loose,this.includePrerelease=!!ah.includePrerelease,this.raw=Qf.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(mh=>this.parseRange(mh.trim())).filter(mh=>mh.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const mh=this.set[0];if(this.set=this.set.filter(uh=>!xf(uh[0])),this.set.length===0)this.set=[mh];else if(this.set.length>1){for(const uh of this.set)if(uh.length===1&&Af(uh[0])){this.set=[uh];break}}}this.format()}format(){return this.range=this.set.map(Qf=>Qf.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Qf){const mh=((this.options.includePrerelease&&gf)|(this.options.loose&&_f))+":"+Qf,uh=tf.get(mh);if(uh)return uh;const jf=this.options.loose,Kf=jf?lf[cf.HYPHENRANGELOOSE]:lf[cf.HYPHENRANGE];Qf=Qf.replace(Kf,hh(this.options.includePrerelease)),sf("hyphen replace",Qf),Qf=Qf.replace(lf[cf.COMPARATORTRIM],uf),sf("comparator trim",Qf),Qf=Qf.replace(lf[cf.TILDETRIM],ff),sf("tilde trim",Qf),Qf=Qf.replace(lf[cf.CARETTRIM],df),sf("caret trim",Qf);let of=Qf.split(" ").map(Ef=>Of(Ef,this.options)).join(" ").split(/\s+/).map(Ef=>dh(Ef,this.options));jf&&(of=of.filter(Ef=>(sf("loose invalid filter",Ef,this.options),!!Ef.match(lf[cf.COMPARATORLOOSE])))),sf("range list",of);const hf=new Map,pf=of.map(Ef=>new rf(Ef,this.options));for(const Ef of pf){if(xf(Ef))return[Ef];hf.set(Ef.value,Ef)}hf.size>1&&hf.has("")&&hf.delete("");const vf=[...hf.values()];return tf.set(mh,vf),vf}intersects(Qf,ah){if(!(Qf instanceof Qc))throw new TypeError("a Range is required");return this.set.some(mh=>Df(mh,ah)&&Qf.set.some(uh=>Df(uh,ah)&&mh.every(jf=>uh.every(Kf=>jf.intersects(Kf,ah)))))}test(Qf){if(!Qf)return!1;if(typeof Qf=="string")try{Qf=new af(Qf,this.options)}catch{return!1}for(let ah=0;ah<this.set.length;ah++)if(sh(this.set[ah],Qf,this.options))return!0;return!1}}range=Qc;const ef=lruCache,tf=new ef({max:1e3}),nf=parseOptions_1,rf=requireComparator(),sf=debug_1,af=semver$2,{safeRe:lf,t:cf,comparatorTrimReplace:uf,tildeTrimReplace:ff,caretTrimReplace:df}=reExports,{FLAG_INCLUDE_PRERELEASE:gf,FLAG_LOOSE:_f}=constants$1,xf=Hf=>Hf.value==="<0.0.0-0",Af=Hf=>Hf.value==="",Df=(Hf,Qf)=>{let ah=!0;const mh=Hf.slice();let uh=mh.pop();for(;ah&&mh.length;)ah=mh.every(jf=>uh.intersects(jf,Qf)),uh=mh.pop();return ah},Of=(Hf,Qf)=>(sf("comp",Hf,Qf),Hf=Lf(Hf,Qf),sf("caret",Hf),Hf=Bf(Hf,Qf),sf("tildes",Hf),Hf=Tf(Hf,Qf),sf("xrange",Hf),Hf=rh(Hf,Qf),sf("stars",Hf),Hf),Gf=Hf=>!Hf||Hf.toLowerCase()==="x"||Hf==="*",Bf=(Hf,Qf)=>Hf.trim().split(/\s+/).map(ah=>Vf(ah,Qf)).join(" "),Vf=(Hf,Qf)=>{const ah=Qf.loose?lf[cf.TILDELOOSE]:lf[cf.TILDE];return Hf.replace(ah,(mh,uh,jf,Kf,of)=>{sf("tilde",Hf,mh,uh,jf,Kf,of);let hf;return Gf(uh)?hf="":Gf(jf)?hf=`>=${uh}.0.0 <${+uh+1}.0.0-0`:Gf(Kf)?hf=`>=${uh}.${jf}.0 <${uh}.${+jf+1}.0-0`:of?(sf("replaceTilde pr",of),hf=`>=${uh}.${jf}.${Kf}-${of} <${uh}.${+jf+1}.0-0`):hf=`>=${uh}.${jf}.${Kf} <${uh}.${+jf+1}.0-0`,sf("tilde return",hf),hf})},Lf=(Hf,Qf)=>Hf.trim().split(/\s+/).map(ah=>Cf(ah,Qf)).join(" "),Cf=(Hf,Qf)=>{sf("caret",Hf,Qf);const ah=Qf.loose?lf[cf.CARETLOOSE]:lf[cf.CARET],mh=Qf.includePrerelease?"-0":"";return Hf.replace(ah,(uh,jf,Kf,of,hf)=>{sf("caret",Hf,uh,jf,Kf,of,hf);let pf;return Gf(jf)?pf="":Gf(Kf)?pf=`>=${jf}.0.0${mh} <${+jf+1}.0.0-0`:Gf(of)?jf==="0"?pf=`>=${jf}.${Kf}.0${mh} <${jf}.${+Kf+1}.0-0`:pf=`>=${jf}.${Kf}.0${mh} <${+jf+1}.0.0-0`:hf?(sf("replaceCaret pr",hf),jf==="0"?Kf==="0"?pf=`>=${jf}.${Kf}.${of}-${hf} <${jf}.${Kf}.${+of+1}-0`:pf=`>=${jf}.${Kf}.${of}-${hf} <${jf}.${+Kf+1}.0-0`:pf=`>=${jf}.${Kf}.${of}-${hf} <${+jf+1}.0.0-0`):(sf("no pr"),jf==="0"?Kf==="0"?pf=`>=${jf}.${Kf}.${of}${mh} <${jf}.${Kf}.${+of+1}-0`:pf=`>=${jf}.${Kf}.${of}${mh} <${jf}.${+Kf+1}.0-0`:pf=`>=${jf}.${Kf}.${of} <${+jf+1}.0.0-0`),sf("caret return",pf),pf})},Tf=(Hf,Qf)=>(sf("replaceXRanges",Hf,Qf),Hf.split(/\s+/).map(ah=>Yf(ah,Qf)).join(" ")),Yf=(Hf,Qf)=>{Hf=Hf.trim();const ah=Qf.loose?lf[cf.XRANGELOOSE]:lf[cf.XRANGE];return Hf.replace(ah,(mh,uh,jf,Kf,of,hf)=>{sf("xRange",Hf,mh,uh,jf,Kf,of,hf);const pf=Gf(jf),vf=pf||Gf(Kf),Ef=vf||Gf(of),Sf=Ef;return uh==="="&&Sf&&(uh=""),hf=Qf.includePrerelease?"-0":"",pf?uh===">"||uh==="<"?mh="<0.0.0-0":mh="*":uh&&Sf?(vf&&(Kf=0),of=0,uh===">"?(uh=">=",vf?(jf=+jf+1,Kf=0,of=0):(Kf=+Kf+1,of=0)):uh==="<="&&(uh="<",vf?jf=+jf+1:Kf=+Kf+1),uh==="<"&&(hf="-0"),mh=`${uh+jf}.${Kf}.${of}${hf}`):vf?mh=`>=${jf}.0.0${hf} <${+jf+1}.0.0-0`:Ef&&(mh=`>=${jf}.${Kf}.0${hf} <${jf}.${+Kf+1}.0-0`),sf("xRange return",mh),mh})},rh=(Hf,Qf)=>(sf("replaceStars",Hf,Qf),Hf.trim().replace(lf[cf.STAR],"")),dh=(Hf,Qf)=>(sf("replaceGTE0",Hf,Qf),Hf.trim().replace(lf[Qf.includePrerelease?cf.GTE0PRE:cf.GTE0],"")),hh=Hf=>(Qf,ah,mh,uh,jf,Kf,of,hf,pf,vf,Ef,Sf,Ff)=>(Gf(mh)?ah="":Gf(uh)?ah=`>=${mh}.0.0${Hf?"-0":""}`:Gf(jf)?ah=`>=${mh}.${uh}.0${Hf?"-0":""}`:Kf?ah=`>=${ah}`:ah=`>=${ah}${Hf?"-0":""}`,Gf(pf)?hf="":Gf(vf)?hf=`<${+pf+1}.0.0-0`:Gf(Ef)?hf=`<${pf}.${+vf+1}.0-0`:Sf?hf=`<=${pf}.${vf}.${Ef}-${Sf}`:Hf?hf=`<${pf}.${vf}.${+Ef+1}-0`:hf=`<=${hf}`,`${ah} ${hf}`.trim()),sh=(Hf,Qf,ah)=>{for(let mh=0;mh<Hf.length;mh++)if(!Hf[mh].test(Qf))return!1;if(Qf.prerelease.length&&!ah.includePrerelease){for(let mh=0;mh<Hf.length;mh++)if(sf(Hf[mh].semver),Hf[mh].semver!==rf.ANY&&Hf[mh].semver.prerelease.length>0){const uh=Hf[mh].semver;if(uh.major===Qf.major&&uh.minor===Qf.minor&&uh.patch===Qf.patch)return!0}return!1}return!0};return range}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const Qc=Symbol("SemVer ANY");class ef{static get ANY(){return Qc}constructor(ff,df){if(df=tf(df),ff instanceof ef){if(ff.loose===!!df.loose)return ff;ff=ff.value}ff=ff.trim().split(/\s+/).join(" "),af("comparator",ff,df),this.options=df,this.loose=!!df.loose,this.parse(ff),this.semver===Qc?this.value="":this.value=this.operator+this.semver.version,af("comp",this)}parse(ff){const df=this.options.loose?nf[rf.COMPARATORLOOSE]:nf[rf.COMPARATOR],gf=ff.match(df);if(!gf)throw new TypeError(`Invalid comparator: ${ff}`);this.operator=gf[1]!==void 0?gf[1]:"",this.operator==="="&&(this.operator=""),gf[2]?this.semver=new lf(gf[2],this.options.loose):this.semver=Qc}toString(){return this.value}test(ff){if(af("Comparator.test",ff,this.options.loose),this.semver===Qc||ff===Qc)return!0;if(typeof ff=="string")try{ff=new lf(ff,this.options)}catch{return!1}return sf(ff,this.operator,this.semver,this.options)}intersects(ff,df){if(!(ff instanceof ef))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new cf(ff.value,df).test(this.value):ff.operator===""?ff.value===""?!0:new cf(this.value,df).test(ff.semver):(df=tf(df),df.includePrerelease&&(this.value==="<0.0.0-0"||ff.value==="<0.0.0-0")||!df.includePrerelease&&(this.value.startsWith("<0.0.0")||ff.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&ff.operator.startsWith(">")||this.operator.startsWith("<")&&ff.operator.startsWith("<")||this.semver.version===ff.semver.version&&this.operator.includes("=")&&ff.operator.includes("=")||sf(this.semver,"<",ff.semver,df)&&this.operator.startsWith(">")&&ff.operator.startsWith("<")||sf(this.semver,">",ff.semver,df)&&this.operator.startsWith("<")&&ff.operator.startsWith(">")))}}comparator=ef;const tf=parseOptions_1,{safeRe:nf,t:rf}=reExports,sf=cmp_1,af=debug_1,lf=semver$2,cf=requireRange();return comparator}const Range$9=requireRange(),satisfies$4=(Qc,ef,tf)=>{try{ef=new Range$9(ef,tf)}catch{return!1}return ef.test(Qc)};var satisfies_1=satisfies$4;const Range$8=requireRange(),toComparators$1=(Qc,ef)=>new Range$8(Qc,ef).set.map(tf=>tf.map(nf=>nf.value).join(" ").trim().split(" "));var toComparators_1=toComparators$1;const SemVer$4=semver$2,Range$7=requireRange(),maxSatisfying$1=(Qc,ef,tf)=>{let nf=null,rf=null,sf=null;try{sf=new Range$7(ef,tf)}catch{return null}return Qc.forEach(af=>{sf.test(af)&&(!nf||rf.compare(af)===-1)&&(nf=af,rf=new SemVer$4(nf,tf))}),nf};var maxSatisfying_1=maxSatisfying$1;const SemVer$3=semver$2,Range$6=requireRange(),minSatisfying$1=(Qc,ef,tf)=>{let nf=null,rf=null,sf=null;try{sf=new Range$6(ef,tf)}catch{return null}return Qc.forEach(af=>{sf.test(af)&&(!nf||rf.compare(af)===1)&&(nf=af,rf=new SemVer$3(nf,tf))}),nf};var minSatisfying_1=minSatisfying$1;const SemVer$2=semver$2,Range$5=requireRange(),gt$3=gt_1,minVersion$1=(Qc,ef)=>{Qc=new Range$5(Qc,ef);let tf=new SemVer$2("0.0.0");if(Qc.test(tf)||(tf=new SemVer$2("0.0.0-0"),Qc.test(tf)))return tf;tf=null;for(let nf=0;nf<Qc.set.length;++nf){const rf=Qc.set[nf];let sf=null;rf.forEach(af=>{const lf=new SemVer$2(af.semver.version);switch(af.operator){case">":lf.prerelease.length===0?lf.patch++:lf.prerelease.push(0),lf.raw=lf.format();case"":case">=":(!sf||gt$3(lf,sf))&&(sf=lf);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${af.operator}`)}}),sf&&(!tf||gt$3(tf,sf))&&(tf=sf)}return tf&&Qc.test(tf)?tf:null};var minVersion_1=minVersion$1;const Range$4=requireRange(),validRange$1=(Qc,ef)=>{try{return new Range$4(Qc,ef).range||"*"}catch{return null}};var valid$1=validRange$1;const SemVer$1=semver$2,Comparator$2=requireComparator(),{ANY:ANY$1}=Comparator$2,Range$3=requireRange(),satisfies$3=satisfies_1,gt$2=gt_1,lt$2=lt_1,lte$1=lte_1,gte$1=gte_1,outside$3=(Qc,ef,tf,nf)=>{Qc=new SemVer$1(Qc,nf),ef=new Range$3(ef,nf);let rf,sf,af,lf,cf;switch(tf){case">":rf=gt$2,sf=lte$1,af=lt$2,lf=">",cf=">=";break;case"<":rf=lt$2,sf=gte$1,af=gt$2,lf="<",cf="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies$3(Qc,ef,nf))return!1;for(let uf=0;uf<ef.set.length;++uf){const ff=ef.set[uf];let df=null,gf=null;if(ff.forEach(_f=>{_f.semver===ANY$1&&(_f=new Comparator$2(">=0.0.0")),df=df||_f,gf=gf||_f,rf(_f.semver,df.semver,nf)?df=_f:af(_f.semver,gf.semver,nf)&&(gf=_f)}),df.operator===lf||df.operator===cf||(!gf.operator||gf.operator===lf)&&sf(Qc,gf.semver))return!1;if(gf.operator===cf&&af(Qc,gf.semver))return!1}return!0};var outside_1=outside$3;const outside$2=outside_1,gtr$1=(Qc,ef,tf)=>outside$2(Qc,ef,">",tf);var gtr_1=gtr$1;const outside$1=outside_1,ltr$1=(Qc,ef,tf)=>outside$1(Qc,ef,"<",tf);var ltr_1=ltr$1;const Range$2=requireRange(),intersects$2=(Qc,ef,tf)=>(Qc=new Range$2(Qc,tf),ef=new Range$2(ef,tf),Qc.intersects(ef,tf));var intersects_1=intersects$2;const satisfies$2=satisfies_1,compare$2=compare_1;var simplify=(Qc,ef,tf)=>{const nf=[];let rf=null,sf=null;const af=Qc.sort((ff,df)=>compare$2(ff,df,tf));for(const ff of af)satisfies$2(ff,ef,tf)?(sf=ff,rf||(rf=ff)):(sf&&nf.push([rf,sf]),sf=null,rf=null);rf&&nf.push([rf,null]);const lf=[];for(const[ff,df]of nf)ff===df?lf.push(ff):!df&&ff===af[0]?lf.push("*"):df?ff===af[0]?lf.push(`<=${df}`):lf.push(`${ff} - ${df}`):lf.push(`>=${ff}`);const cf=lf.join(" || "),uf=typeof ef.raw=="string"?ef.raw:String(ef);return cf.length<uf.length?cf:ef};const Range$1=requireRange(),Comparator$1=requireComparator(),{ANY}=Comparator$1,satisfies$1=satisfies_1,compare$1=compare_1,subset$1=(Qc,ef,tf={})=>{if(Qc===ef)return!0;Qc=new Range$1(Qc,tf),ef=new Range$1(ef,tf);let nf=!1;e:for(const rf of Qc.set){for(const sf of ef.set){const af=simpleSubset(rf,sf,tf);if(nf=nf||af!==null,af)continue e}if(nf)return!1}return!0},minimumVersionWithPreRelease=[new Comparator$1(">=0.0.0-0")],minimumVersion=[new Comparator$1(">=0.0.0")],simpleSubset=(Qc,ef,tf)=>{if(Qc===ef)return!0;if(Qc.length===1&&Qc[0].semver===ANY){if(ef.length===1&&ef[0].semver===ANY)return!0;tf.includePrerelease?Qc=minimumVersionWithPreRelease:Qc=minimumVersion}if(ef.length===1&&ef[0].semver===ANY){if(tf.includePrerelease)return!0;ef=minimumVersion}const nf=new Set;let rf,sf;for(const _f of Qc)_f.operator===">"||_f.operator===">="?rf=higherGT(rf,_f,tf):_f.operator==="<"||_f.operator==="<="?sf=lowerLT(sf,_f,tf):nf.add(_f.semver);if(nf.size>1)return null;let af;if(rf&&sf){if(af=compare$1(rf.semver,sf.semver,tf),af>0)return null;if(af===0&&(rf.operator!==">="||sf.operator!=="<="))return null}for(const _f of nf){if(rf&&!satisfies$1(_f,String(rf),tf)||sf&&!satisfies$1(_f,String(sf),tf))return null;for(const xf of ef)if(!satisfies$1(_f,String(xf),tf))return!1;return!0}let lf,cf,uf,ff,df=sf&&!tf.includePrerelease&&sf.semver.prerelease.length?sf.semver:!1,gf=rf&&!tf.includePrerelease&&rf.semver.prerelease.length?rf.semver:!1;df&&df.prerelease.length===1&&sf.operator==="<"&&df.prerelease[0]===0&&(df=!1);for(const _f of ef){if(ff=ff||_f.operator===">"||_f.operator===">=",uf=uf||_f.operator==="<"||_f.operator==="<=",rf){if(gf&&_f.semver.prerelease&&_f.semver.prerelease.length&&_f.semver.major===gf.major&&_f.semver.minor===gf.minor&&_f.semver.patch===gf.patch&&(gf=!1),_f.operator===">"||_f.operator===">="){if(lf=higherGT(rf,_f,tf),lf===_f&&lf!==rf)return!1}else if(rf.operator===">="&&!satisfies$1(rf.semver,String(_f),tf))return!1}if(sf){if(df&&_f.semver.prerelease&&_f.semver.prerelease.length&&_f.semver.major===df.major&&_f.semver.minor===df.minor&&_f.semver.patch===df.patch&&(df=!1),_f.operator==="<"||_f.operator==="<="){if(cf=lowerLT(sf,_f,tf),cf===_f&&cf!==sf)return!1}else if(sf.operator==="<="&&!satisfies$1(sf.semver,String(_f),tf))return!1}if(!_f.operator&&(sf||rf)&&af!==0)return!1}return!(rf&&uf&&!sf&&af!==0||sf&&ff&&!rf&&af!==0||gf||df)},higherGT=(Qc,ef,tf)=>{if(!Qc)return ef;const nf=compare$1(Qc.semver,ef.semver,tf);return nf>0?Qc:nf<0||ef.operator===">"&&Qc.operator===">="?ef:Qc},lowerLT=(Qc,ef,tf)=>{if(!Qc)return ef;const nf=compare$1(Qc.semver,ef.semver,tf);return nf<0?Qc:nf>0||ef.operator==="<"&&Qc.operator==="<="?ef:Qc};var subset_1=subset$1;const internalRe=reExports,constants=constants$1,SemVer=semver$2,identifiers=identifiers$1,parse$1=parse_1,valid=valid_1,clean=clean_1,inc=inc_1,diff=diff_1,major=major_1,minor=minor_1,patch$1=patch_1,prerelease=prerelease_1,compare=compare_1,rcompare=rcompare_1,compareLoose=compareLoose_1,compareBuild=compareBuild_1,sort=sort_1,rsort=rsort_1,gt$1=gt_1,lt$1=lt_1,eq=eq_1,neq=neq_1,gte=gte_1,lte=lte_1,cmp=cmp_1,coerce=coerce_1,Comparator=requireComparator(),Range=requireRange(),satisfies=satisfies_1,toComparators=toComparators_1,maxSatisfying=maxSatisfying_1,minSatisfying=minSatisfying_1,minVersion=minVersion_1,validRange=valid$1,outside=outside_1,gtr=gtr_1,ltr=ltr_1,intersects$1=intersects_1,simplifyRange=simplify,subset=subset_1;var semver={parse:parse$1,valid,clean,inc,diff,major,minor,patch:patch$1,prerelease,compare,rcompare,compareLoose,compareBuild,sort,rsort,gt:gt$1,lt:lt$1,eq,neq,gte,lte,cmp,coerce,Comparator,Range,satisfies,toComparators,maxSatisfying,minSatisfying,minVersion,validRange,outside,gtr,ltr,intersects:intersects$1,simplifyRange,subset,SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants.RELEASE_TYPES,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers};const semver$1=getDefaultExportFromCjs(semver);function bit_check(Qc,ef){return(Qc>>ef)%2!=0}function bit_set(Qc,ef){return Qc|1<<ef}function bit_clear(Qc,ef){return Qc&~(1<<ef)}const API_VERSION_1_39="1.39.0",API_VERSION_1_41="1.41.0",API_VERSION_1_42="1.42.0",API_VERSION_1_43="1.43.0",API_VERSION_1_44="1.44.0",API_VERSION_1_45="1.45.0",API_VERSION_1_46="1.46.0",CONFIGURATOR={API_VERSION_ACCEPTED:API_VERSION_1_41,API_VERSION_MIN_SUPPORTED_BACKUP_RESTORE:API_VERSION_1_41,API_VERSION_MAX_SUPPORTED:API_VERSION_1_46,connectionValid:!1,connectionValidCliOnly:!1,virtualMode:!1,virtualApiVersion:"0.0.1",cliActive:!1,cliValid:!1,productName:"Betaflight Configurator",cliEngineActive:!1,cliEngineValid:!1,gitChangesetId:"unknown",version:"0.0.1",gitRevision:"norevision",latestVersion:"0.0.1",latestVersionReleaseUrl:"https://github.com/betaflight/betaflight-configurator/releases",getDisplayVersion:function(){return this.version.indexOf(this.gitRevision)===-1?`${this.version} (${this.gitRevision})`:`${this.version}`},isDevVersion:function(){return this.version.includes("debug")}},INITIAL_CONFIG={apiVersion:"0.0.0",flightControllerIdentifier:"",flightControllerVersion:"",version:0,buildInfo:"",buildKey:"",buildOptions:[],multiType:0,msp_version:0,capability:0,cycleTime:0,i2cError:0,cpuload:0,cpuTemp:0,activeSensors:0,mode:0,profile:0,uid:[0,0,0],accelerometerTrims:[0,0],name:"",craftName:"",displayName:"",pilotName:"",pidProfileNames:["","","",""],rateProfileNames:["","","",""],numProfiles:3,rateProfile:0,boardType:0,armingDisableCount:0,armingDisableFlags:0,armingDisabled:!1,runawayTakeoffPreventionDisabled:!1,boardIdentifier:"",boardVersion:0,targetCapabilities:0,targetName:"",boardName:"",manufacturerId:"",signature:[],mcuTypeId:255,configurationState:0,configStateFlag:0,sampleRateHz:0,configurationProblems:0,hardwareName:""},INITIAL_ANALOG={voltage:0,mAhdrawn:0,rssi:0,amperage:0,last_received_timestamp:0},INITIAL_BATTERY_CONFIG={vbatmincellvoltage:0,vbatmaxcellvoltage:0,vbatwarningcellvoltage:0,capacity:0,voltageMeterSource:0,currentMeterSource:0},FC={ADJUSTMENT_RANGES:null,ADVANCED_TUNING:null,ADVANCED_TUNING_ACTIVE:null,ANALOG:{...INITIAL_ANALOG},ARMING_CONFIG:null,AUX_CONFIG:null,AUX_CONFIG_IDS:null,BATTERY_CONFIG:{...INITIAL_BATTERY_CONFIG},BATTERY_STATE:null,BEEPER_CONFIG:null,BF_CONFIG:null,BLACKBOX:null,BOARD_ALIGNMENT_CONFIG:null,CONFIG:{...INITIAL_CONFIG,get hardwareName(){let Qc;return this.targetName?Qc=this.targetName:Qc=this.boardIdentifier,this.boardName&&this.boardName!==Qc&&(Qc=`${this.boardName}(${Qc})`),this.manufacturerId&&(Qc=`${this.manufacturerId}/${Qc}`),Qc},set hardwareName(Qc){}},COPY_PROFILE:null,CURRENT_METERS:null,CURRENT_METER_CONFIGS:null,DATAFLASH:null,DEFAULT:null,DEFAULT_PIDS:null,FAILSAFE_CONFIG:null,FC_CONFIG:null,FEATURE_CONFIG:null,FILTER_CONFIG:null,GPS_CONFIG:null,GPS_DATA:null,GPS_RESCUE:null,LED_COLORS:null,LED_MODE_COLORS:null,LED_STRIP:null,LED_CONFIG_VALUES:[],MISC:null,MIXER_CONFIG:null,MODE_RANGES:null,MODE_RANGES_EXTRA:null,MOTOR_3D_CONFIG:null,MOTOR_CONFIG:null,MOTOR_DATA:null,MOTOR_OUTPUT_ORDER:null,MOTOR_TELEMETRY_DATA:null,MULTIPLE_MSP:null,PID:null,PIDS_ACTIVE:null,PID_ADVANCED_CONFIG:null,PID_NAMES:null,PIDS:null,RC:null,RC_DEADBAND_CONFIG:null,RC_MAP:null,RC_TUNING:null,RSSI_CONFIG:null,RXFAIL_CONFIG:null,RX_CONFIG:null,SDCARD:null,SENSOR_ALIGNMENT:null,SENSOR_CONFIG:null,SENSOR_CONFIG_ACTIVE:null,SENSOR_DATA:null,SERIAL_CONFIG:null,SERVO_CONFIG:null,SERVO_DATA:null,SERVO_RULES:null,TRANSPONDER:null,TUNING_SLIDERS:null,VOLTAGE_METERS:null,VOLTAGE_METER_CONFIGS:null,VTXTABLE_BAND:null,VTXTABLE_POWERLEVEL:null,VTX_CONFIG:null,VTX_DEVICE_STATUS:null,resetState(){Object.assign(this.CONFIG,INITIAL_CONFIG),Object.assign(this.ANALOG,INITIAL_ANALOG),Object.assign(this.BATTERY_CONFIG,INITIAL_BATTERY_CONFIG),this.BF_CONFIG={currentscale:0,currentoffset:0,currentmetertype:0,batterycapacity:0},this.COPY_PROFILE={type:0,dstProfile:0,srcProfile:0},this.FEATURE_CONFIG={features:0},this.BEEPER_CONFIG={beepers:0,dshotBeaconTone:0,dshotBeaconConditions:0},this.MIXER_CONFIG={mixer:0,reverseMotorDir:0},this.BOARD_ALIGNMENT_CONFIG={roll:0,pitch:0,yaw:0},this.LED_STRIP=[],this.LED_COLORS=[],this.LED_MODE_COLORS=[],this.PID={controller:0},this.PID_NAMES=[],this.PIDS_ACTIVE=Array.from({length:10}),this.PIDS=Array.from({length:10});for(let Qc=0;Qc<10;Qc++)this.PIDS_ACTIVE[Qc]=Array.from({length:3}),this.PIDS[Qc]=Array.from({length:3});this.RC_MAP=[],this.RC={active_channels:0,channels:Array.from({length:32})},this.RC_TUNING={RC_RATE:0,RC_EXPO:0,roll_pitch_rate:0,roll_rate:0,pitch_rate:0,yaw_rate:0,dynamic_THR_PID:0,throttle_MID:0,throttle_EXPO:0,dynamic_THR_breakpoint:0,RC_YAW_EXPO:0,rcYawRate:0,rcPitchRate:0,RC_PITCH_EXPO:0,roll_rate_limit:1998,pitch_rate_limit:1998,yaw_rate_limit:1998,rates_type:0},this.AUX_CONFIG=[],this.AUX_CONFIG_IDS=[],this.MODE_RANGES=[],this.MODE_RANGES_EXTRA=[],this.ADJUSTMENT_RANGES=[],this.SERVO_CONFIG=[],this.SERVO_RULES=[],this.SERIAL_CONFIG={ports:[],mspBaudRate:0,gpsBaudRate:0,gpsPassthroughBaudRate:0,cliBaudRate:0},this.SENSOR_DATA={gyroscope:[0,0,0],accelerometer:[0,0,0],magnetometer:[0,0,0],altitude:0,sonar:0,kinematics:[0,0,0],debug:[0,0,0,0,0,0,0,0]},this.MOTOR_DATA=Array.from({length:8}),this.SERVO_DATA=Array.from({length:8}),this.MOTOR_TELEMETRY_DATA={rpm:[0,0,0,0,0,0,0,0],invalidPercent:[0,0,0,0,0,0,0,0],temperature:[0,0,0,0,0,0,0,0],voltage:[0,0,0,0,0,0,0,0],current:[0,0,0,0,0,0,0,0],consumption:[0,0,0,0,0,0,0,0]},this.GPS_DATA={fix:0,numSat:0,lat:0,lon:0,alt:0,speed:0,ground_course:0,distanceToHome:0,directionToHome:0,update:0,chn:[],svid:[],quality:[],cno:[]},this.VOLTAGE_METERS=[],this.VOLTAGE_METER_CONFIGS=[],this.CURRENT_METERS=[],this.CURRENT_METER_CONFIGS=[],this.BATTERY_STATE={},this.BATTERY_CONFIG={vbatmincellvoltage:0,vbatmaxcellvoltage:0,vbatwarningcellvoltage:0,capacity:0,voltageMeterSource:0,currentMeterSource:0},this.ARMING_CONFIG={auto_disarm_delay:0,disarm_kill_switch:0,small_angle:0},this.FC_CONFIG={loopTime:0},this.MISC={failsafe_throttle:0,gps_baudrate:0,multiwiicurrentoutput:0,placeholder2:0,vbatscale:0,vbatmincellvoltage:0,vbatmaxcellvoltage:0,vbatwarningcellvoltage:0,batterymetertype:1},this.MOTOR_CONFIG={minthrottle:0,maxthrottle:0,mincommand:0,motor_count:0,motor_poles:0,use_dshot_telemetry:!1,use_esc_sensor:!1},this.GPS_CONFIG={provider:0,ublox_sbas:0,auto_config:0,auto_baud:0,home_point_once:0,ublox_use_galileo:0},this.RSSI_CONFIG={channel:0},this.MOTOR_3D_CONFIG={deadband3d_low:0,deadband3d_high:0,neutral:0},this.DATAFLASH={ready:!1,supported:!1,sectors:0,totalSize:0,usedSize:0},this.SDCARD={supported:!1,state:0,filesystemLastError:0,freeSizeKB:0,totalSizeKB:0},this.BLACKBOX={supported:!1,blackboxDevice:0,blackboxRateNum:1,blackboxRateDenom:1,blackboxPDenom:0,blackboxSampleRate:0,blackboxDisabledMask:0},this.TRANSPONDER={supported:!1,data:[],provider:0,providers:[]},this.RC_DEADBAND_CONFIG={deadband:0,yaw_deadband:0,alt_hold_deadband:0,deadband3d_throttle:0},this.SENSOR_ALIGNMENT={align_gyro:0,align_acc:0,align_mag:0,gyro_detection_flags:0,gyro_to_use:0,gyro_1_align:0,gyro_2_align:0},this.PID_ADVANCED_CONFIG={gyro_sync_denom:0,pid_process_denom:0,use_unsyncedPwm:0,fast_pwm_protocol:0,motor_pwm_rate:0,digitalIdlePercent:0,gyroUse32kHz:0,motorPwmInversion:0,gyroHighFsr:0,gyroMovementCalibThreshold:0,gyroCalibDuration:0,gyroOffsetYaw:0,gyroCheckOverflow:0,debugMode:0,debugModeCount:0},this.FILTER_CONFIG={gyro_hardware_lpf:0,gyro_32khz_hardware_lpf:0,gyro_lowpass_hz:0,gyro_lowpass_dyn_min_hz:0,gyro_lowpass_dyn_max_hz:0,gyro_lowpass_type:0,gyro_lowpass2_hz:0,gyro_lowpass2_type:0,gyro_notch_hz:0,gyro_notch_cutoff:0,gyro_notch2_hz:0,gyro_notch2_cutoff:0,dterm_lowpass_hz:0,dterm_lowpass_dyn_min_hz:0,dterm_lowpass_dyn_max_hz:0,dterm_lowpass_type:0,dterm_lowpass2_hz:0,dterm_lowpass2_type:0,dyn_lpf_curve_expo:0,dterm_notch_hz:0,dterm_notch_cutoff:0,yaw_lowpass_hz:0,dyn_notch_range:0,dyn_notch_width_percent:0,dyn_notch_q:0,dyn_notch_min_hz:0,dyn_notch_max_hz:0,dyn_notch_count:0,gyro_rpm_notch_harmonics:0,gyro_rpm_notch_min_hz:0},this.ADVANCED_TUNING={rollPitchItermIgnoreRate:0,yawItermIgnoreRate:0,yaw_p_limit:0,deltaMethod:0,vbatPidCompensation:0,dtermSetpointTransition:0,dtermSetpointWeight:0,toleranceBand:0,toleranceBandReduction:0,itermThrottleGain:0,pidMaxVelocity:0,pidMaxVelocityYaw:0,levelAngleLimit:0,levelSensitivity:0,itermThrottleThreshold:0,itermAcceleratorGain:0,antiGravityGain:0,itermRotation:0,smartFeedforward:0,itermRelax:0,itermRelaxType:0,itermRelaxCutoff:0,absoluteControlGain:0,throttleBoost:0,acroTrainerAngleLimit:0,feedforwardRoll:0,feedforwardPitch:0,feedforwardYaw:0,feedforwardTransition:0,antiGravityMode:0,dMinRoll:0,dMinPitch:0,dMinYaw:0,dMinGain:0,dMinAdvance:0,useIntegratedYaw:0,integratedYawRelax:0,motorOutputLimit:0,autoProfileCellCount:0,idleMinRpm:0,feedforward_averaging:0,feedforward_smooth_factor:0,feedforward_boost:0,feedforward_max_rate_limit:0,feedforward_jitter_factor:0,vbat_sag_compensation:0,thrustLinearization:0,tpaRate:0,tpaBreakpoint:0},this.ADVANCED_TUNING_ACTIVE={...this.ADVANCED_TUNING},this.SENSOR_CONFIG={acc_hardware:0,baro_hardware:0,mag_hardware:0,sonar_hardware:0},this.SENSOR_CONFIG_ACTIVE={gyro_hardware:0,...this.SENSOR_CONFIG},this.RX_CONFIG={serialrx_provider:0,stick_max:0,stick_center:0,stick_min:0,spektrum_sat_bind:0,rx_min_usec:0,rx_max_usec:0,rcInterpolation:0,rcInterpolationInterval:0,rcInterpolationChannels:0,airModeActivateThreshold:0,rxSpiProtocol:0,rxSpiId:0,rxSpiRfChannelCount:0,fpvCamAngleDegrees:0,rcSmoothingType:0,rcSmoothingSetpointCutoff:0,rcSmoothingFeedforwardCutoff:0,rcSmoothingInputType:0,rcSmoothingDerivativeType:0,rcSmoothingAutoFactor:0,usbCdcHidType:0,rcSmoothingMode:0,elrsUid:0},this.FAILSAFE_CONFIG={failsafe_delay:0,failsafe_off_delay:0,failsafe_throttle:0,failsafe_switch_mode:0,failsafe_throttle_low_delay:0,failsafe_procedure:0},this.GPS_RESCUE={angle:0,returnAltitudeM:0,descentDistanceM:0,groundSpeed:0,throttleMin:0,throttleMax:0,throttleHover:0,sanityChecks:0,minSats:0,ascendRate:0,descendRate:0,allowArmingWithoutFix:0,altitudeMode:0,minStartDistM:0,initialClimbM:0},this.RXFAIL_CONFIG=[],this.VTX_CONFIG={vtx_type:0,vtx_band:0,vtx_channel:0,vtx_power:0,vtx_pit_mode:!1,vtx_frequency:0,vtx_device_ready:!1,vtx_low_power_disarm:0,vtx_pit_mode_frequency:0,vtx_table_available:!1,vtx_table_bands:0,vtx_table_channels:0,vtx_table_powerlevels:0,vtx_table_clear:!1},this.VTXTABLE_BAND={vtxtable_band_number:0,vtxtable_band_name:"",vtxtable_band_letter:"",vtxtable_band_is_factory_band:!1,vtxtable_band_frequencies:[]},this.VTXTABLE_POWERLEVEL={vtxtable_powerlevel_number:0,vtxtable_powerlevel_value:0,vtxtable_powerlevel_label:0},this.MOTOR_OUTPUT_ORDER=[],this.MULTIPLE_MSP={msp_commands:[]},this.DEFAULT={gyro_lowpass_hz:100,gyro_lowpass_dyn_min_hz:150,gyro_lowpass_dyn_max_hz:450,gyro_lowpass_type:this.FILTER_TYPE_FLAGS.PT1,gyro_lowpass2_hz:300,gyro_lowpass2_type:this.FILTER_TYPE_FLAGS.PT1,gyro_notch_cutoff:300,gyro_notch_hz:400,gyro_notch2_cutoff:100,gyro_notch2_hz:200,gyro_rpm_notch_harmonics:3,gyro_rpm_notch_min_hz:100,dterm_lowpass_hz:100,dterm_lowpass_dyn_min_hz:150,dterm_lowpass_dyn_max_hz:250,dyn_lpf_curve_expo:5,dterm_lowpass_type:this.FILTER_TYPE_FLAGS.PT1,dterm_lowpass2_hz:200,dterm_lowpass2_type:this.FILTER_TYPE_FLAGS.BIQUAD,dterm_notch_cutoff:160,dterm_notch_hz:260,yaw_lowpass_hz:100,dyn_notch_q:120,dyn_notch_width_percent:8,dyn_notch_count:3,dyn_notch_q_rpm:500,dyn_notch_count_rpm:1,dyn_notch_min_hz:150,dyn_notch_max_hz:600},this.DEFAULT_PIDS=[42,85,35,20,90,46,90,38,22,95,30,90,0,0,90],this.VTX_DEVICE_STATUS=null,this.TUNING_SLIDERS={slider_pd_ratio:0,slider_pd_gain:0,slider_feedforward_gain:0,slider_master_multiplier:0,slider_dterm_filter:0,slider_dterm_filter_multiplier:0,slider_gyro_filter:0,slider_gyro_filter_multiplier:0,slider_pids_mode:0,slider_d_gain:0,slider_pi_gain:0,slider_dmax_gain:0,slider_i_gain:0,slider_roll_pitch_ratio:0,slider_pitch_pi_gain:0,slider_pids_valid:0,slider_gyro_valid:0,slider_dterm_valid:0},this.DEFAULT_TUNING_SLIDERS={slider_pids_mode:2,slider_d_gain:100,slider_pi_gain:100,slider_feedforward_gain:100,slider_dmax_gain:100,slider_i_gain:100,slider_roll_pitch_ratio:100,slider_pitch_pi_gain:100,slider_master_multiplier:100,slider_dterm_filter:1,slider_dterm_filter_multiplier:100,slider_gyro_filter:1,slider_gyro_filter_multiplier:100,slider_pids_valid:1,slider_gyro_valid:1,slider_dterm_valid:1}},getSerialRxTypes:()=>{const Qc=FC.CONFIG.apiVersion,ef=["SPEKTRUM1024","SPEKTRUM2048","SBUS","SUMD","SUMH","XBUS_MODE_B","XBUS_MODE_B_RJ01","IBUS","JETIEXBUS","CRSF","SPEKTRUM2048/SRXL","TARGET_CUSTOM","FrSky FPort"];return semver$1.gte(Qc,API_VERSION_1_42)&&ef.push("SPEKTRUM SRXL2"),semver$1.gte(Qc,API_VERSION_1_44)&&ef.push("IRC GHOST"),ef},getHardwareName(){let Qc;return this.CONFIG.targetName?Qc=this.CONFIG.targetName:Qc=this.CONFIG.boardIdentifier,this.CONFIG.boardName&&this.CONFIG.boardName!==Qc&&(Qc=`${this.CONFIG.boardName}(${Qc})`),this.CONFIG.manufacturerId&&(Qc=`${this.CONFIG.manufacturerId}/${Qc}`),Qc},MCU_TYPES:{0:"SIMULATOR",1:"F40X",2:"F411",3:"F446",4:"F722",5:"F745",6:"F746",7:"F765",8:"H750",9:"H743_REV_UNKNOWN",10:"H743_REV_Y",11:"H743_REV_X",12:"H743_REV_V",13:"H7A3",14:"H723_725",15:"G474",16:"H730",255:"Unknown MCU"},getMcuType(){return this.MCU_TYPES[this.CONFIG.mcuTypeId]},CONFIGURATION_STATES:{DEFAULTS_BARE:0,DEFAULTS_CUSTOM:1,CONFIGURED:2},TARGET_CAPABILITIES_FLAGS:{HAS_VCP:0,HAS_SOFTSERIAL:1,IS_UNIFIED:2,HAS_FLASH_BOOTLOADER:3,SUPPORTS_CUSTOM_DEFAULTS:4,HAS_CUSTOM_DEFAULTS:5,SUPPORTS_RX_BIND:6},CONFIGURATION_PROBLEM_FLAGS:{ACC_NEEDS_CALIBRATION:0,MOTOR_PROTOCOL_DISABLED:1},boardHasVcp(){return bit_check(this.CONFIG.targetCapabilities,this.TARGET_CAPABILITIES_FLAGS.HAS_VCP)},boardHasFlashBootloader(){let Qc=!1;return semver$1.gte(this.CONFIG.apiVersion,API_VERSION_1_42)&&(Qc=bit_check(this.CONFIG.targetCapabilities,this.TARGET_CAPABILITIES_FLAGS.HAS_FLASH_BOOTLOADER)),Qc},FILTER_TYPE_FLAGS:{PT1:0,BIQUAD:1},getFilterDefaults(){const Qc=this.DEFAULT;return Qc.gyro_lowpass_hz=150,Qc.gyro_lowpass_type=this.FILTER_TYPE_FLAGS.BIQUAD,Qc.gyro_lowpass2_hz=0,Qc.gyro_lowpass2_type=this.FILTER_TYPE_FLAGS.BIQUAD,Qc.dterm_lowpass_hz=150,Qc.dterm_lowpass_type=this.FILTER_TYPE_FLAGS.BIQUAD,Qc.dterm_lowpass2_hz=150,Qc.dterm_lowpass2_type=this.FILTER_TYPE_FLAGS.BIQUAD,semver$1.gte(this.CONFIG.apiVersion,API_VERSION_1_42)&&(Qc.gyro_lowpass_hz=200,Qc.gyro_lowpass_dyn_min_hz=200,Qc.gyro_lowpass_dyn_max_hz=500,Qc.gyro_lowpass_type=this.FILTER_TYPE_FLAGS.PT1,Qc.gyro_lowpass2_hz=250,Qc.gyro_lowpass2_type=this.FILTER_TYPE_FLAGS.PT1,Qc.dterm_lowpass_hz=150,Qc.dterm_lowpass_dyn_min_hz=70,Qc.dterm_lowpass_dyn_max_hz=170,Qc.dterm_lowpass_type=this.FILTER_TYPE_FLAGS.PT1,Qc.dterm_lowpass2_hz=150,Qc.dterm_lowpass2_type=this.FILTER_TYPE_FLAGS.PT1),semver$1.gte(this.CONFIG.apiVersion,API_VERSION_1_44)&&(Qc.dyn_notch_q=300,Qc.gyro_lowpass_hz=250,Qc.gyro_lowpass_dyn_min_hz=250,Qc.gyro_lowpass2_hz=500,Qc.dterm_lowpass_hz=75,Qc.dterm_lowpass_dyn_min_hz=75,Qc.dterm_lowpass_dyn_max_hz=150),semver$1.gte(this.CONFIG.apiVersion,API_VERSION_1_45)&&(Qc.dyn_notch_min_hz=100),Qc},getPidDefaults(){let Qc=this.DEFAULT_PIDS;return semver$1.eq(this.CONFIG.apiVersion,API_VERSION_1_43)&&(Qc=[42,85,35,23,90,46,90,38,25,95,45,90,0,0,90]),semver$1.gte(this.CONFIG.apiVersion,API_VERSION_1_44)&&(Qc=[45,80,40,30,120,47,84,46,34,125,45,80,0,0,120]),Qc},getSliderDefaults(){return this.DEFAULT_TUNING_SLIDERS},RATES_TYPE:{BETAFLIGHT:0,RACEFLIGHT:1,KISS:2,ACTUAL:3,QUICKRATES:4}};Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(Qc){return typeof Qc=="number"&&isFinite(Qc)&&Math.floor(Qc)===Qc});Math.sign===void 0&&(Math.sign=function(Qc){return Qc<0?-1:Qc>0?1:+Qc});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&function(){Object.assign=function(Qc){if(Qc==null)throw new TypeError("Cannot convert undefined or null to object");for(var ef=Object(Qc),tf=1;tf<arguments.length;tf++){var nf=arguments[tf];if(nf!=null)for(var rf in nf)Object.prototype.hasOwnProperty.call(nf,rf)&&(ef[rf]=nf[rf])}return ef}}();function EventDispatcher(){}Object.assign(EventDispatcher.prototype,{addEventListener:function(Qc,ef){this._listeners===void 0&&(this._listeners={});var tf=this._listeners;tf[Qc]===void 0&&(tf[Qc]=[]),tf[Qc].indexOf(ef)===-1&&tf[Qc].push(ef)},hasEventListener:function(Qc,ef){if(this._listeners===void 0)return!1;var tf=this._listeners;return tf[Qc]!==void 0&&tf[Qc].indexOf(ef)!==-1},removeEventListener:function(Qc,ef){if(this._listeners!==void 0){var tf=this._listeners,nf=tf[Qc];if(nf!==void 0){var rf=nf.indexOf(ef);rf!==-1&&nf.splice(rf,1)}}},dispatchEvent:function(Qc){if(this._listeners!==void 0){var ef=this._listeners,tf=ef[Qc.type];if(tf!==void 0){Qc.target=this;for(var nf=tf.slice(0),rf=0,sf=nf.length;rf<sf;rf++)nf[rf].call(this,Qc)}}}});var REVISION="97",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,NoColors=0,FaceColors=1,VertexColors=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,Uncharted2ToneMapping=3,CineonToneMapping=4,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,SphericalReflectionMapping=305,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipMapNearestFilter=1004,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipMapNearestFilter=1007,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedShort565Type=1019,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,GammaEncoding=3007,RGBEEncoding=3002,RGBM7Encoding=3004,RGBM16Encoding=3005,RGBDEncoding=3006,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,_Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var Qc=[],ef=0;ef<256;ef++)Qc[ef]=(ef<16?"0":"")+ef.toString(16);return function(){var nf=Math.random()*4294967295|0,rf=Math.random()*4294967295|0,sf=Math.random()*4294967295|0,af=Math.random()*4294967295|0,lf=Qc[nf&255]+Qc[nf>>8&255]+Qc[nf>>16&255]+Qc[nf>>24&255]+"-"+Qc[rf&255]+Qc[rf>>8&255]+"-"+Qc[rf>>16&15|64]+Qc[rf>>24&255]+"-"+Qc[sf&63|128]+Qc[sf>>8&255]+"-"+Qc[sf>>16&255]+Qc[sf>>24&255]+Qc[af&255]+Qc[af>>8&255]+Qc[af>>16&255]+Qc[af>>24&255];return lf.toUpperCase()}}(),clamp:function(Qc,ef,tf){return Math.max(ef,Math.min(tf,Qc))},euclideanModulo:function(Qc,ef){return(Qc%ef+ef)%ef},mapLinear:function(Qc,ef,tf,nf,rf){return nf+(Qc-ef)*(rf-nf)/(tf-ef)},lerp:function(Qc,ef,tf){return(1-tf)*Qc+tf*ef},smoothstep:function(Qc,ef,tf){return Qc<=ef?0:Qc>=tf?1:(Qc=(Qc-ef)/(tf-ef),Qc*Qc*(3-2*Qc))},smootherstep:function(Qc,ef,tf){return Qc<=ef?0:Qc>=tf?1:(Qc=(Qc-ef)/(tf-ef),Qc*Qc*Qc*(Qc*(Qc*6-15)+10))},randInt:function(Qc,ef){return Qc+Math.floor(Math.random()*(ef-Qc+1))},randFloat:function(Qc,ef){return Qc+Math.random()*(ef-Qc)},randFloatSpread:function(Qc){return Qc*(.5-Math.random())},degToRad:function(Qc){return Qc*_Math.DEG2RAD},radToDeg:function(Qc){return Qc*_Math.RAD2DEG},isPowerOfTwo:function(Qc){return(Qc&Qc-1)===0&&Qc!==0},ceilPowerOfTwo:function(Qc){return Math.pow(2,Math.ceil(Math.log(Qc)/Math.LN2))},floorPowerOfTwo:function(Qc){return Math.pow(2,Math.floor(Math.log(Qc)/Math.LN2))}};function Vector2(Qc,ef){this.x=Qc||0,this.y=ef||0}Object.defineProperties(Vector2.prototype,{width:{get:function(){return this.x},set:function(Qc){this.x=Qc}},height:{get:function(){return this.y},set:function(Qc){this.y=Qc}}});Object.assign(Vector2.prototype,{isVector2:!0,set:function(Qc,ef){return this.x=Qc,this.y=ef,this},setScalar:function(Qc){return this.x=Qc,this.y=Qc,this},setX:function(Qc){return this.x=Qc,this},setY:function(Qc){return this.y=Qc,this},setComponent:function(Qc,ef){switch(Qc){case 0:this.x=ef;break;case 1:this.y=ef;break;default:throw new Error("index is out of range: "+Qc)}return this},getComponent:function(Qc){switch(Qc){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+Qc)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(Qc){return this.x=Qc.x,this.y=Qc.y,this},add:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(Qc,ef)):(this.x+=Qc.x,this.y+=Qc.y,this)},addScalar:function(Qc){return this.x+=Qc,this.y+=Qc,this},addVectors:function(Qc,ef){return this.x=Qc.x+ef.x,this.y=Qc.y+ef.y,this},addScaledVector:function(Qc,ef){return this.x+=Qc.x*ef,this.y+=Qc.y*ef,this},sub:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(Qc,ef)):(this.x-=Qc.x,this.y-=Qc.y,this)},subScalar:function(Qc){return this.x-=Qc,this.y-=Qc,this},subVectors:function(Qc,ef){return this.x=Qc.x-ef.x,this.y=Qc.y-ef.y,this},multiply:function(Qc){return this.x*=Qc.x,this.y*=Qc.y,this},multiplyScalar:function(Qc){return this.x*=Qc,this.y*=Qc,this},divide:function(Qc){return this.x/=Qc.x,this.y/=Qc.y,this},divideScalar:function(Qc){return this.multiplyScalar(1/Qc)},applyMatrix3:function(Qc){var ef=this.x,tf=this.y,nf=Qc.elements;return this.x=nf[0]*ef+nf[3]*tf+nf[6],this.y=nf[1]*ef+nf[4]*tf+nf[7],this},min:function(Qc){return this.x=Math.min(this.x,Qc.x),this.y=Math.min(this.y,Qc.y),this},max:function(Qc){return this.x=Math.max(this.x,Qc.x),this.y=Math.max(this.y,Qc.y),this},clamp:function(Qc,ef){return this.x=Math.max(Qc.x,Math.min(ef.x,this.x)),this.y=Math.max(Qc.y,Math.min(ef.y,this.y)),this},clampScalar:function(){var Qc=new Vector2,ef=new Vector2;return function(nf,rf){return Qc.set(nf,nf),ef.set(rf,rf),this.clamp(Qc,ef)}}(),clampLength:function(Qc,ef){var tf=this.length();return this.divideScalar(tf||1).multiplyScalar(Math.max(Qc,Math.min(ef,tf)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(Qc){return this.x*Qc.x+this.y*Qc.y},cross:function(Qc){return this.x*Qc.y-this.y*Qc.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var Qc=Math.atan2(this.y,this.x);return Qc<0&&(Qc+=2*Math.PI),Qc},distanceTo:function(Qc){return Math.sqrt(this.distanceToSquared(Qc))},distanceToSquared:function(Qc){var ef=this.x-Qc.x,tf=this.y-Qc.y;return ef*ef+tf*tf},manhattanDistanceTo:function(Qc){return Math.abs(this.x-Qc.x)+Math.abs(this.y-Qc.y)},setLength:function(Qc){return this.normalize().multiplyScalar(Qc)},lerp:function(Qc,ef){return this.x+=(Qc.x-this.x)*ef,this.y+=(Qc.y-this.y)*ef,this},lerpVectors:function(Qc,ef,tf){return this.subVectors(ef,Qc).multiplyScalar(tf).add(Qc)},equals:function(Qc){return Qc.x===this.x&&Qc.y===this.y},fromArray:function(Qc,ef){return ef===void 0&&(ef=0),this.x=Qc[ef],this.y=Qc[ef+1],this},toArray:function(Qc,ef){return Qc===void 0&&(Qc=[]),ef===void 0&&(ef=0),Qc[ef]=this.x,Qc[ef+1]=this.y,Qc},fromBufferAttribute:function(Qc,ef,tf){return tf!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=Qc.getX(ef),this.y=Qc.getY(ef),this},rotateAround:function(Qc,ef){var tf=Math.cos(ef),nf=Math.sin(ef),rf=this.x-Qc.x,sf=this.y-Qc.y;return this.x=rf*tf-sf*nf+Qc.x,this.y=rf*nf+sf*tf+Qc.y,this}});function Matrix4(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Matrix4.prototype,{isMatrix4:!0,set:function(Qc,ef,tf,nf,rf,sf,af,lf,cf,uf,ff,df,gf,_f,xf,Af){var Df=this.elements;return Df[0]=Qc,Df[4]=ef,Df[8]=tf,Df[12]=nf,Df[1]=rf,Df[5]=sf,Df[9]=af,Df[13]=lf,Df[2]=cf,Df[6]=uf,Df[10]=ff,Df[14]=df,Df[3]=gf,Df[7]=_f,Df[11]=xf,Df[15]=Af,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new Matrix4().fromArray(this.elements)},copy:function(Qc){var ef=this.elements,tf=Qc.elements;return ef[0]=tf[0],ef[1]=tf[1],ef[2]=tf[2],ef[3]=tf[3],ef[4]=tf[4],ef[5]=tf[5],ef[6]=tf[6],ef[7]=tf[7],ef[8]=tf[8],ef[9]=tf[9],ef[10]=tf[10],ef[11]=tf[11],ef[12]=tf[12],ef[13]=tf[13],ef[14]=tf[14],ef[15]=tf[15],this},copyPosition:function(Qc){var ef=this.elements,tf=Qc.elements;return ef[12]=tf[12],ef[13]=tf[13],ef[14]=tf[14],this},extractBasis:function(Qc,ef,tf){return Qc.setFromMatrixColumn(this,0),ef.setFromMatrixColumn(this,1),tf.setFromMatrixColumn(this,2),this},makeBasis:function(Qc,ef,tf){return this.set(Qc.x,ef.x,tf.x,0,Qc.y,ef.y,tf.y,0,Qc.z,ef.z,tf.z,0,0,0,0,1),this},extractRotation:function(){var Qc=new Vector3;return function(tf){var nf=this.elements,rf=tf.elements,sf=1/Qc.setFromMatrixColumn(tf,0).length(),af=1/Qc.setFromMatrixColumn(tf,1).length(),lf=1/Qc.setFromMatrixColumn(tf,2).length();return nf[0]=rf[0]*sf,nf[1]=rf[1]*sf,nf[2]=rf[2]*sf,nf[3]=0,nf[4]=rf[4]*af,nf[5]=rf[5]*af,nf[6]=rf[6]*af,nf[7]=0,nf[8]=rf[8]*lf,nf[9]=rf[9]*lf,nf[10]=rf[10]*lf,nf[11]=0,nf[12]=0,nf[13]=0,nf[14]=0,nf[15]=1,this}}(),makeRotationFromEuler:function(Qc){Qc&&Qc.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var ef=this.elements,tf=Qc.x,nf=Qc.y,rf=Qc.z,sf=Math.cos(tf),af=Math.sin(tf),lf=Math.cos(nf),cf=Math.sin(nf),uf=Math.cos(rf),ff=Math.sin(rf);if(Qc.order==="XYZ"){var df=sf*uf,gf=sf*ff,_f=af*uf,xf=af*ff;ef[0]=lf*uf,ef[4]=-lf*ff,ef[8]=cf,ef[1]=gf+_f*cf,ef[5]=df-xf*cf,ef[9]=-af*lf,ef[2]=xf-df*cf,ef[6]=_f+gf*cf,ef[10]=sf*lf}else if(Qc.order==="YXZ"){var Af=lf*uf,Df=lf*ff,Of=cf*uf,Gf=cf*ff;ef[0]=Af+Gf*af,ef[4]=Of*af-Df,ef[8]=sf*cf,ef[1]=sf*ff,ef[5]=sf*uf,ef[9]=-af,ef[2]=Df*af-Of,ef[6]=Gf+Af*af,ef[10]=sf*lf}else if(Qc.order==="ZXY"){var Af=lf*uf,Df=lf*ff,Of=cf*uf,Gf=cf*ff;ef[0]=Af-Gf*af,ef[4]=-sf*ff,ef[8]=Of+Df*af,ef[1]=Df+Of*af,ef[5]=sf*uf,ef[9]=Gf-Af*af,ef[2]=-sf*cf,ef[6]=af,ef[10]=sf*lf}else if(Qc.order==="ZYX"){var df=sf*uf,gf=sf*ff,_f=af*uf,xf=af*ff;ef[0]=lf*uf,ef[4]=_f*cf-gf,ef[8]=df*cf+xf,ef[1]=lf*ff,ef[5]=xf*cf+df,ef[9]=gf*cf-_f,ef[2]=-cf,ef[6]=af*lf,ef[10]=sf*lf}else if(Qc.order==="YZX"){var Bf=sf*lf,Vf=sf*cf,Lf=af*lf,Cf=af*cf;ef[0]=lf*uf,ef[4]=Cf-Bf*ff,ef[8]=Lf*ff+Vf,ef[1]=ff,ef[5]=sf*uf,ef[9]=-af*uf,ef[2]=-cf*uf,ef[6]=Vf*ff+Lf,ef[10]=Bf-Cf*ff}else if(Qc.order==="XZY"){var Bf=sf*lf,Vf=sf*cf,Lf=af*lf,Cf=af*cf;ef[0]=lf*uf,ef[4]=-ff,ef[8]=cf*uf,ef[1]=Bf*ff+Cf,ef[5]=sf*uf,ef[9]=Vf*ff-Lf,ef[2]=Lf*ff-Vf,ef[6]=af*uf,ef[10]=Cf*ff+Bf}return ef[3]=0,ef[7]=0,ef[11]=0,ef[12]=0,ef[13]=0,ef[14]=0,ef[15]=1,this},makeRotationFromQuaternion:function(){var Qc=new Vector3(0,0,0),ef=new Vector3(1,1,1);return function(nf){return this.compose(Qc,nf,ef)}}(),lookAt:function(){var Qc=new Vector3,ef=new Vector3,tf=new Vector3;return function(rf,sf,af){var lf=this.elements;return tf.subVectors(rf,sf),tf.lengthSq()===0&&(tf.z=1),tf.normalize(),Qc.crossVectors(af,tf),Qc.lengthSq()===0&&(Math.abs(af.z)===1?tf.x+=1e-4:tf.z+=1e-4,tf.normalize(),Qc.crossVectors(af,tf)),Qc.normalize(),ef.crossVectors(tf,Qc),lf[0]=Qc.x,lf[4]=ef.x,lf[8]=tf.x,lf[1]=Qc.y,lf[5]=ef.y,lf[9]=tf.y,lf[2]=Qc.z,lf[6]=ef.z,lf[10]=tf.z,this}}(),multiply:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(Qc,ef)):this.multiplyMatrices(this,Qc)},premultiply:function(Qc){return this.multiplyMatrices(Qc,this)},multiplyMatrices:function(Qc,ef){var tf=Qc.elements,nf=ef.elements,rf=this.elements,sf=tf[0],af=tf[4],lf=tf[8],cf=tf[12],uf=tf[1],ff=tf[5],df=tf[9],gf=tf[13],_f=tf[2],xf=tf[6],Af=tf[10],Df=tf[14],Of=tf[3],Gf=tf[7],Bf=tf[11],Vf=tf[15],Lf=nf[0],Cf=nf[4],Tf=nf[8],Yf=nf[12],rh=nf[1],dh=nf[5],hh=nf[9],sh=nf[13],Hf=nf[2],Qf=nf[6],ah=nf[10],mh=nf[14],uh=nf[3],jf=nf[7],Kf=nf[11],of=nf[15];return rf[0]=sf*Lf+af*rh+lf*Hf+cf*uh,rf[4]=sf*Cf+af*dh+lf*Qf+cf*jf,rf[8]=sf*Tf+af*hh+lf*ah+cf*Kf,rf[12]=sf*Yf+af*sh+lf*mh+cf*of,rf[1]=uf*Lf+ff*rh+df*Hf+gf*uh,rf[5]=uf*Cf+ff*dh+df*Qf+gf*jf,rf[9]=uf*Tf+ff*hh+df*ah+gf*Kf,rf[13]=uf*Yf+ff*sh+df*mh+gf*of,rf[2]=_f*Lf+xf*rh+Af*Hf+Df*uh,rf[6]=_f*Cf+xf*dh+Af*Qf+Df*jf,rf[10]=_f*Tf+xf*hh+Af*ah+Df*Kf,rf[14]=_f*Yf+xf*sh+Af*mh+Df*of,rf[3]=Of*Lf+Gf*rh+Bf*Hf+Vf*uh,rf[7]=Of*Cf+Gf*dh+Bf*Qf+Vf*jf,rf[11]=Of*Tf+Gf*hh+Bf*ah+Vf*Kf,rf[15]=Of*Yf+Gf*sh+Bf*mh+Vf*of,this},multiplyScalar:function(Qc){var ef=this.elements;return ef[0]*=Qc,ef[4]*=Qc,ef[8]*=Qc,ef[12]*=Qc,ef[1]*=Qc,ef[5]*=Qc,ef[9]*=Qc,ef[13]*=Qc,ef[2]*=Qc,ef[6]*=Qc,ef[10]*=Qc,ef[14]*=Qc,ef[3]*=Qc,ef[7]*=Qc,ef[11]*=Qc,ef[15]*=Qc,this},applyToBufferAttribute:function(){var Qc=new Vector3;return function(tf){for(var nf=0,rf=tf.count;nf<rf;nf++)Qc.x=tf.getX(nf),Qc.y=tf.getY(nf),Qc.z=tf.getZ(nf),Qc.applyMatrix4(this),tf.setXYZ(nf,Qc.x,Qc.y,Qc.z);return tf}}(),determinant:function(){var Qc=this.elements,ef=Qc[0],tf=Qc[4],nf=Qc[8],rf=Qc[12],sf=Qc[1],af=Qc[5],lf=Qc[9],cf=Qc[13],uf=Qc[2],ff=Qc[6],df=Qc[10],gf=Qc[14],_f=Qc[3],xf=Qc[7],Af=Qc[11],Df=Qc[15];return _f*(+rf*lf*ff-nf*cf*ff-rf*af*df+tf*cf*df+nf*af*gf-tf*lf*gf)+xf*(+ef*lf*gf-ef*cf*df+rf*sf*df-nf*sf*gf+nf*cf*uf-rf*lf*uf)+Af*(+ef*cf*ff-ef*af*gf-rf*sf*ff+tf*sf*gf+rf*af*uf-tf*cf*uf)+Df*(-nf*af*uf-ef*lf*ff+ef*af*df+nf*sf*ff-tf*sf*df+tf*lf*uf)},transpose:function(){var Qc=this.elements,ef;return ef=Qc[1],Qc[1]=Qc[4],Qc[4]=ef,ef=Qc[2],Qc[2]=Qc[8],Qc[8]=ef,ef=Qc[6],Qc[6]=Qc[9],Qc[9]=ef,ef=Qc[3],Qc[3]=Qc[12],Qc[12]=ef,ef=Qc[7],Qc[7]=Qc[13],Qc[13]=ef,ef=Qc[11],Qc[11]=Qc[14],Qc[14]=ef,this},setPosition:function(Qc){var ef=this.elements;return ef[12]=Qc.x,ef[13]=Qc.y,ef[14]=Qc.z,this},getInverse:function(Qc,ef){var tf=this.elements,nf=Qc.elements,rf=nf[0],sf=nf[1],af=nf[2],lf=nf[3],cf=nf[4],uf=nf[5],ff=nf[6],df=nf[7],gf=nf[8],_f=nf[9],xf=nf[10],Af=nf[11],Df=nf[12],Of=nf[13],Gf=nf[14],Bf=nf[15],Vf=_f*Gf*df-Of*xf*df+Of*ff*Af-uf*Gf*Af-_f*ff*Bf+uf*xf*Bf,Lf=Df*xf*df-gf*Gf*df-Df*ff*Af+cf*Gf*Af+gf*ff*Bf-cf*xf*Bf,Cf=gf*Of*df-Df*_f*df+Df*uf*Af-cf*Of*Af-gf*uf*Bf+cf*_f*Bf,Tf=Df*_f*ff-gf*Of*ff-Df*uf*xf+cf*Of*xf+gf*uf*Gf-cf*_f*Gf,Yf=rf*Vf+sf*Lf+af*Cf+lf*Tf;if(Yf===0){var rh="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(ef===!0)throw new Error(rh);return console.warn(rh),this.identity()}var dh=1/Yf;return tf[0]=Vf*dh,tf[1]=(Of*xf*lf-_f*Gf*lf-Of*af*Af+sf*Gf*Af+_f*af*Bf-sf*xf*Bf)*dh,tf[2]=(uf*Gf*lf-Of*ff*lf+Of*af*df-sf*Gf*df-uf*af*Bf+sf*ff*Bf)*dh,tf[3]=(_f*ff*lf-uf*xf*lf-_f*af*df+sf*xf*df+uf*af*Af-sf*ff*Af)*dh,tf[4]=Lf*dh,tf[5]=(gf*Gf*lf-Df*xf*lf+Df*af*Af-rf*Gf*Af-gf*af*Bf+rf*xf*Bf)*dh,tf[6]=(Df*ff*lf-cf*Gf*lf-Df*af*df+rf*Gf*df+cf*af*Bf-rf*ff*Bf)*dh,tf[7]=(cf*xf*lf-gf*ff*lf+gf*af*df-rf*xf*df-cf*af*Af+rf*ff*Af)*dh,tf[8]=Cf*dh,tf[9]=(Df*_f*lf-gf*Of*lf-Df*sf*Af+rf*Of*Af+gf*sf*Bf-rf*_f*Bf)*dh,tf[10]=(cf*Of*lf-Df*uf*lf+Df*sf*df-rf*Of*df-cf*sf*Bf+rf*uf*Bf)*dh,tf[11]=(gf*uf*lf-cf*_f*lf-gf*sf*df+rf*_f*df+cf*sf*Af-rf*uf*Af)*dh,tf[12]=Tf*dh,tf[13]=(gf*Of*af-Df*_f*af+Df*sf*xf-rf*Of*xf-gf*sf*Gf+rf*_f*Gf)*dh,tf[14]=(Df*uf*af-cf*Of*af-Df*sf*ff+rf*Of*ff+cf*sf*Gf-rf*uf*Gf)*dh,tf[15]=(cf*_f*af-gf*uf*af+gf*sf*ff-rf*_f*ff-cf*sf*xf+rf*uf*xf)*dh,this},scale:function(Qc){var ef=this.elements,tf=Qc.x,nf=Qc.y,rf=Qc.z;return ef[0]*=tf,ef[4]*=nf,ef[8]*=rf,ef[1]*=tf,ef[5]*=nf,ef[9]*=rf,ef[2]*=tf,ef[6]*=nf,ef[10]*=rf,ef[3]*=tf,ef[7]*=nf,ef[11]*=rf,this},getMaxScaleOnAxis:function(){var Qc=this.elements,ef=Qc[0]*Qc[0]+Qc[1]*Qc[1]+Qc[2]*Qc[2],tf=Qc[4]*Qc[4]+Qc[5]*Qc[5]+Qc[6]*Qc[6],nf=Qc[8]*Qc[8]+Qc[9]*Qc[9]+Qc[10]*Qc[10];return Math.sqrt(Math.max(ef,tf,nf))},makeTranslation:function(Qc,ef,tf){return this.set(1,0,0,Qc,0,1,0,ef,0,0,1,tf,0,0,0,1),this},makeRotationX:function(Qc){var ef=Math.cos(Qc),tf=Math.sin(Qc);return this.set(1,0,0,0,0,ef,-tf,0,0,tf,ef,0,0,0,0,1),this},makeRotationY:function(Qc){var ef=Math.cos(Qc),tf=Math.sin(Qc);return this.set(ef,0,tf,0,0,1,0,0,-tf,0,ef,0,0,0,0,1),this},makeRotationZ:function(Qc){var ef=Math.cos(Qc),tf=Math.sin(Qc);return this.set(ef,-tf,0,0,tf,ef,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(Qc,ef){var tf=Math.cos(ef),nf=Math.sin(ef),rf=1-tf,sf=Qc.x,af=Qc.y,lf=Qc.z,cf=rf*sf,uf=rf*af;return this.set(cf*sf+tf,cf*af-nf*lf,cf*lf+nf*af,0,cf*af+nf*lf,uf*af+tf,uf*lf-nf*sf,0,cf*lf-nf*af,uf*lf+nf*sf,rf*lf*lf+tf,0,0,0,0,1),this},makeScale:function(Qc,ef,tf){return this.set(Qc,0,0,0,0,ef,0,0,0,0,tf,0,0,0,0,1),this},makeShear:function(Qc,ef,tf){return this.set(1,ef,tf,0,Qc,1,tf,0,Qc,ef,1,0,0,0,0,1),this},compose:function(Qc,ef,tf){var nf=this.elements,rf=ef._x,sf=ef._y,af=ef._z,lf=ef._w,cf=rf+rf,uf=sf+sf,ff=af+af,df=rf*cf,gf=rf*uf,_f=rf*ff,xf=sf*uf,Af=sf*ff,Df=af*ff,Of=lf*cf,Gf=lf*uf,Bf=lf*ff,Vf=tf.x,Lf=tf.y,Cf=tf.z;return nf[0]=(1-(xf+Df))*Vf,nf[1]=(gf+Bf)*Vf,nf[2]=(_f-Gf)*Vf,nf[3]=0,nf[4]=(gf-Bf)*Lf,nf[5]=(1-(df+Df))*Lf,nf[6]=(Af+Of)*Lf,nf[7]=0,nf[8]=(_f+Gf)*Cf,nf[9]=(Af-Of)*Cf,nf[10]=(1-(df+xf))*Cf,nf[11]=0,nf[12]=Qc.x,nf[13]=Qc.y,nf[14]=Qc.z,nf[15]=1,this},decompose:function(){var Qc=new Vector3,ef=new Matrix4;return function(nf,rf,sf){var af=this.elements,lf=Qc.set(af[0],af[1],af[2]).length(),cf=Qc.set(af[4],af[5],af[6]).length(),uf=Qc.set(af[8],af[9],af[10]).length(),ff=this.determinant();ff<0&&(lf=-lf),nf.x=af[12],nf.y=af[13],nf.z=af[14],ef.copy(this);var df=1/lf,gf=1/cf,_f=1/uf;return ef.elements[0]*=df,ef.elements[1]*=df,ef.elements[2]*=df,ef.elements[4]*=gf,ef.elements[5]*=gf,ef.elements[6]*=gf,ef.elements[8]*=_f,ef.elements[9]*=_f,ef.elements[10]*=_f,rf.setFromRotationMatrix(ef),sf.x=lf,sf.y=cf,sf.z=uf,this}}(),makePerspective:function(Qc,ef,tf,nf,rf,sf){sf===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var af=this.elements,lf=2*rf/(ef-Qc),cf=2*rf/(tf-nf),uf=(ef+Qc)/(ef-Qc),ff=(tf+nf)/(tf-nf),df=-(sf+rf)/(sf-rf),gf=-2*sf*rf/(sf-rf);return af[0]=lf,af[4]=0,af[8]=uf,af[12]=0,af[1]=0,af[5]=cf,af[9]=ff,af[13]=0,af[2]=0,af[6]=0,af[10]=df,af[14]=gf,af[3]=0,af[7]=0,af[11]=-1,af[15]=0,this},makeOrthographic:function(Qc,ef,tf,nf,rf,sf){var af=this.elements,lf=1/(ef-Qc),cf=1/(tf-nf),uf=1/(sf-rf),ff=(ef+Qc)*lf,df=(tf+nf)*cf,gf=(sf+rf)*uf;return af[0]=2*lf,af[4]=0,af[8]=0,af[12]=-ff,af[1]=0,af[5]=2*cf,af[9]=0,af[13]=-df,af[2]=0,af[6]=0,af[10]=-2*uf,af[14]=-gf,af[3]=0,af[7]=0,af[11]=0,af[15]=1,this},equals:function(Qc){for(var ef=this.elements,tf=Qc.elements,nf=0;nf<16;nf++)if(ef[nf]!==tf[nf])return!1;return!0},fromArray:function(Qc,ef){ef===void 0&&(ef=0);for(var tf=0;tf<16;tf++)this.elements[tf]=Qc[tf+ef];return this},toArray:function(Qc,ef){Qc===void 0&&(Qc=[]),ef===void 0&&(ef=0);var tf=this.elements;return Qc[ef]=tf[0],Qc[ef+1]=tf[1],Qc[ef+2]=tf[2],Qc[ef+3]=tf[3],Qc[ef+4]=tf[4],Qc[ef+5]=tf[5],Qc[ef+6]=tf[6],Qc[ef+7]=tf[7],Qc[ef+8]=tf[8],Qc[ef+9]=tf[9],Qc[ef+10]=tf[10],Qc[ef+11]=tf[11],Qc[ef+12]=tf[12],Qc[ef+13]=tf[13],Qc[ef+14]=tf[14],Qc[ef+15]=tf[15],Qc}});function Quaternion(Qc,ef,tf,nf){this._x=Qc||0,this._y=ef||0,this._z=tf||0,this._w=nf!==void 0?nf:1}Object.assign(Quaternion,{slerp:function(Qc,ef,tf,nf){return tf.copy(Qc).slerp(ef,nf)},slerpFlat:function(Qc,ef,tf,nf,rf,sf,af){var lf=tf[nf+0],cf=tf[nf+1],uf=tf[nf+2],ff=tf[nf+3],df=rf[sf+0],gf=rf[sf+1],_f=rf[sf+2],xf=rf[sf+3];if(ff!==xf||lf!==df||cf!==gf||uf!==_f){var Af=1-af,Df=lf*df+cf*gf+uf*_f+ff*xf,Of=Df>=0?1:-1,Gf=1-Df*Df;if(Gf>Number.EPSILON){var Bf=Math.sqrt(Gf),Vf=Math.atan2(Bf,Df*Of);Af=Math.sin(Af*Vf)/Bf,af=Math.sin(af*Vf)/Bf}var Lf=af*Of;if(lf=lf*Af+df*Lf,cf=cf*Af+gf*Lf,uf=uf*Af+_f*Lf,ff=ff*Af+xf*Lf,Af===1-af){var Cf=1/Math.sqrt(lf*lf+cf*cf+uf*uf+ff*ff);lf*=Cf,cf*=Cf,uf*=Cf,ff*=Cf}}Qc[ef]=lf,Qc[ef+1]=cf,Qc[ef+2]=uf,Qc[ef+3]=ff}});Object.defineProperties(Quaternion.prototype,{x:{get:function(){return this._x},set:function(Qc){this._x=Qc,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(Qc){this._y=Qc,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(Qc){this._z=Qc,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(Qc){this._w=Qc,this.onChangeCallback()}}});Object.assign(Quaternion.prototype,{isQuaternion:!0,set:function(Qc,ef,tf,nf){return this._x=Qc,this._y=ef,this._z=tf,this._w=nf,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(Qc){return this._x=Qc.x,this._y=Qc.y,this._z=Qc.z,this._w=Qc.w,this.onChangeCallback(),this},setFromEuler:function(Qc,ef){if(!(Qc&&Qc.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var tf=Qc._x,nf=Qc._y,rf=Qc._z,sf=Qc.order,af=Math.cos,lf=Math.sin,cf=af(tf/2),uf=af(nf/2),ff=af(rf/2),df=lf(tf/2),gf=lf(nf/2),_f=lf(rf/2);return sf==="XYZ"?(this._x=df*uf*ff+cf*gf*_f,this._y=cf*gf*ff-df*uf*_f,this._z=cf*uf*_f+df*gf*ff,this._w=cf*uf*ff-df*gf*_f):sf==="YXZ"?(this._x=df*uf*ff+cf*gf*_f,this._y=cf*gf*ff-df*uf*_f,this._z=cf*uf*_f-df*gf*ff,this._w=cf*uf*ff+df*gf*_f):sf==="ZXY"?(this._x=df*uf*ff-cf*gf*_f,this._y=cf*gf*ff+df*uf*_f,this._z=cf*uf*_f+df*gf*ff,this._w=cf*uf*ff-df*gf*_f):sf==="ZYX"?(this._x=df*uf*ff-cf*gf*_f,this._y=cf*gf*ff+df*uf*_f,this._z=cf*uf*_f-df*gf*ff,this._w=cf*uf*ff+df*gf*_f):sf==="YZX"?(this._x=df*uf*ff+cf*gf*_f,this._y=cf*gf*ff+df*uf*_f,this._z=cf*uf*_f-df*gf*ff,this._w=cf*uf*ff-df*gf*_f):sf==="XZY"&&(this._x=df*uf*ff-cf*gf*_f,this._y=cf*gf*ff-df*uf*_f,this._z=cf*uf*_f+df*gf*ff,this._w=cf*uf*ff+df*gf*_f),ef!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(Qc,ef){var tf=ef/2,nf=Math.sin(tf);return this._x=Qc.x*nf,this._y=Qc.y*nf,this._z=Qc.z*nf,this._w=Math.cos(tf),this.onChangeCallback(),this},setFromRotationMatrix:function(Qc){var ef=Qc.elements,tf=ef[0],nf=ef[4],rf=ef[8],sf=ef[1],af=ef[5],lf=ef[9],cf=ef[2],uf=ef[6],ff=ef[10],df=tf+af+ff,gf;return df>0?(gf=.5/Math.sqrt(df+1),this._w=.25/gf,this._x=(uf-lf)*gf,this._y=(rf-cf)*gf,this._z=(sf-nf)*gf):tf>af&&tf>ff?(gf=2*Math.sqrt(1+tf-af-ff),this._w=(uf-lf)/gf,this._x=.25*gf,this._y=(nf+sf)/gf,this._z=(rf+cf)/gf):af>ff?(gf=2*Math.sqrt(1+af-tf-ff),this._w=(rf-cf)/gf,this._x=(nf+sf)/gf,this._y=.25*gf,this._z=(lf+uf)/gf):(gf=2*Math.sqrt(1+ff-tf-af),this._w=(sf-nf)/gf,this._x=(rf+cf)/gf,this._y=(lf+uf)/gf,this._z=.25*gf),this.onChangeCallback(),this},setFromUnitVectors:function(){var Qc=new Vector3,ef,tf=1e-6;return function(rf,sf){return Qc===void 0&&(Qc=new Vector3),ef=rf.dot(sf)+1,ef<tf?(ef=0,Math.abs(rf.x)>Math.abs(rf.z)?Qc.set(-rf.y,rf.x,0):Qc.set(0,-rf.z,rf.y)):Qc.crossVectors(rf,sf),this._x=Qc.x,this._y=Qc.y,this._z=Qc.z,this._w=ef,this.normalize()}}(),angleTo:function(Qc){return 2*Math.acos(Math.abs(_Math.clamp(this.dot(Qc),-1,1)))},rotateTowards:function(Qc,ef){var tf=this.angleTo(Qc);if(tf===0)return this;var nf=Math.min(1,ef/tf);return this.slerp(Qc,nf),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(Qc){return this._x*Qc._x+this._y*Qc._y+this._z*Qc._z+this._w*Qc._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var Qc=this.length();return Qc===0?(this._x=0,this._y=0,this._z=0,this._w=1):(Qc=1/Qc,this._x=this._x*Qc,this._y=this._y*Qc,this._z=this._z*Qc,this._w=this._w*Qc),this.onChangeCallback(),this},multiply:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(Qc,ef)):this.multiplyQuaternions(this,Qc)},premultiply:function(Qc){return this.multiplyQuaternions(Qc,this)},multiplyQuaternions:function(Qc,ef){var tf=Qc._x,nf=Qc._y,rf=Qc._z,sf=Qc._w,af=ef._x,lf=ef._y,cf=ef._z,uf=ef._w;return this._x=tf*uf+sf*af+nf*cf-rf*lf,this._y=nf*uf+sf*lf+rf*af-tf*cf,this._z=rf*uf+sf*cf+tf*lf-nf*af,this._w=sf*uf-tf*af-nf*lf-rf*cf,this.onChangeCallback(),this},slerp:function(Qc,ef){if(ef===0)return this;if(ef===1)return this.copy(Qc);var tf=this._x,nf=this._y,rf=this._z,sf=this._w,af=sf*Qc._w+tf*Qc._x+nf*Qc._y+rf*Qc._z;if(af<0?(this._w=-Qc._w,this._x=-Qc._x,this._y=-Qc._y,this._z=-Qc._z,af=-af):this.copy(Qc),af>=1)return this._w=sf,this._x=tf,this._y=nf,this._z=rf,this;var lf=1-af*af;if(lf<=Number.EPSILON){var cf=1-ef;return this._w=cf*sf+ef*this._w,this._x=cf*tf+ef*this._x,this._y=cf*nf+ef*this._y,this._z=cf*rf+ef*this._z,this.normalize()}var uf=Math.sqrt(lf),ff=Math.atan2(uf,af),df=Math.sin((1-ef)*ff)/uf,gf=Math.sin(ef*ff)/uf;return this._w=sf*df+this._w*gf,this._x=tf*df+this._x*gf,this._y=nf*df+this._y*gf,this._z=rf*df+this._z*gf,this.onChangeCallback(),this},equals:function(Qc){return Qc._x===this._x&&Qc._y===this._y&&Qc._z===this._z&&Qc._w===this._w},fromArray:function(Qc,ef){return ef===void 0&&(ef=0),this._x=Qc[ef],this._y=Qc[ef+1],this._z=Qc[ef+2],this._w=Qc[ef+3],this.onChangeCallback(),this},toArray:function(Qc,ef){return Qc===void 0&&(Qc=[]),ef===void 0&&(ef=0),Qc[ef]=this._x,Qc[ef+1]=this._y,Qc[ef+2]=this._z,Qc[ef+3]=this._w,Qc},onChange:function(Qc){return this.onChangeCallback=Qc,this},onChangeCallback:function(){}});function Vector3(Qc,ef,tf){this.x=Qc||0,this.y=ef||0,this.z=tf||0}Object.assign(Vector3.prototype,{isVector3:!0,set:function(Qc,ef,tf){return this.x=Qc,this.y=ef,this.z=tf,this},setScalar:function(Qc){return this.x=Qc,this.y=Qc,this.z=Qc,this},setX:function(Qc){return this.x=Qc,this},setY:function(Qc){return this.y=Qc,this},setZ:function(Qc){return this.z=Qc,this},setComponent:function(Qc,ef){switch(Qc){case 0:this.x=ef;break;case 1:this.y=ef;break;case 2:this.z=ef;break;default:throw new Error("index is out of range: "+Qc)}return this},getComponent:function(Qc){switch(Qc){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+Qc)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(Qc){return this.x=Qc.x,this.y=Qc.y,this.z=Qc.z,this},add:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(Qc,ef)):(this.x+=Qc.x,this.y+=Qc.y,this.z+=Qc.z,this)},addScalar:function(Qc){return this.x+=Qc,this.y+=Qc,this.z+=Qc,this},addVectors:function(Qc,ef){return this.x=Qc.x+ef.x,this.y=Qc.y+ef.y,this.z=Qc.z+ef.z,this},addScaledVector:function(Qc,ef){return this.x+=Qc.x*ef,this.y+=Qc.y*ef,this.z+=Qc.z*ef,this},sub:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(Qc,ef)):(this.x-=Qc.x,this.y-=Qc.y,this.z-=Qc.z,this)},subScalar:function(Qc){return this.x-=Qc,this.y-=Qc,this.z-=Qc,this},subVectors:function(Qc,ef){return this.x=Qc.x-ef.x,this.y=Qc.y-ef.y,this.z=Qc.z-ef.z,this},multiply:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(Qc,ef)):(this.x*=Qc.x,this.y*=Qc.y,this.z*=Qc.z,this)},multiplyScalar:function(Qc){return this.x*=Qc,this.y*=Qc,this.z*=Qc,this},multiplyVectors:function(Qc,ef){return this.x=Qc.x*ef.x,this.y=Qc.y*ef.y,this.z=Qc.z*ef.z,this},applyEuler:function(){var Qc=new Quaternion;return function(tf){return tf&&tf.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Qc.setFromEuler(tf))}}(),applyAxisAngle:function(){var Qc=new Quaternion;return function(tf,nf){return this.applyQuaternion(Qc.setFromAxisAngle(tf,nf))}}(),applyMatrix3:function(Qc){var ef=this.x,tf=this.y,nf=this.z,rf=Qc.elements;return this.x=rf[0]*ef+rf[3]*tf+rf[6]*nf,this.y=rf[1]*ef+rf[4]*tf+rf[7]*nf,this.z=rf[2]*ef+rf[5]*tf+rf[8]*nf,this},applyMatrix4:function(Qc){var ef=this.x,tf=this.y,nf=this.z,rf=Qc.elements,sf=1/(rf[3]*ef+rf[7]*tf+rf[11]*nf+rf[15]);return this.x=(rf[0]*ef+rf[4]*tf+rf[8]*nf+rf[12])*sf,this.y=(rf[1]*ef+rf[5]*tf+rf[9]*nf+rf[13])*sf,this.z=(rf[2]*ef+rf[6]*tf+rf[10]*nf+rf[14])*sf,this},applyQuaternion:function(Qc){var ef=this.x,tf=this.y,nf=this.z,rf=Qc.x,sf=Qc.y,af=Qc.z,lf=Qc.w,cf=lf*ef+sf*nf-af*tf,uf=lf*tf+af*ef-rf*nf,ff=lf*nf+rf*tf-sf*ef,df=-rf*ef-sf*tf-af*nf;return this.x=cf*lf+df*-rf+uf*-af-ff*-sf,this.y=uf*lf+df*-sf+ff*-rf-cf*-af,this.z=ff*lf+df*-af+cf*-sf-uf*-rf,this},project:function(Qc){return this.applyMatrix4(Qc.matrixWorldInverse).applyMatrix4(Qc.projectionMatrix)},unproject:function(){var Qc=new Matrix4;return function(tf){return this.applyMatrix4(Qc.getInverse(tf.projectionMatrix)).applyMatrix4(tf.matrixWorld)}}(),transformDirection:function(Qc){var ef=this.x,tf=this.y,nf=this.z,rf=Qc.elements;return this.x=rf[0]*ef+rf[4]*tf+rf[8]*nf,this.y=rf[1]*ef+rf[5]*tf+rf[9]*nf,this.z=rf[2]*ef+rf[6]*tf+rf[10]*nf,this.normalize()},divide:function(Qc){return this.x/=Qc.x,this.y/=Qc.y,this.z/=Qc.z,this},divideScalar:function(Qc){return this.multiplyScalar(1/Qc)},min:function(Qc){return this.x=Math.min(this.x,Qc.x),this.y=Math.min(this.y,Qc.y),this.z=Math.min(this.z,Qc.z),this},max:function(Qc){return this.x=Math.max(this.x,Qc.x),this.y=Math.max(this.y,Qc.y),this.z=Math.max(this.z,Qc.z),this},clamp:function(Qc,ef){return this.x=Math.max(Qc.x,Math.min(ef.x,this.x)),this.y=Math.max(Qc.y,Math.min(ef.y,this.y)),this.z=Math.max(Qc.z,Math.min(ef.z,this.z)),this},clampScalar:function(){var Qc=new Vector3,ef=new Vector3;return function(nf,rf){return Qc.set(nf,nf,nf),ef.set(rf,rf,rf),this.clamp(Qc,ef)}}(),clampLength:function(Qc,ef){var tf=this.length();return this.divideScalar(tf||1).multiplyScalar(Math.max(Qc,Math.min(ef,tf)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(Qc){return this.x*Qc.x+this.y*Qc.y+this.z*Qc.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(Qc){return this.normalize().multiplyScalar(Qc)},lerp:function(Qc,ef){return this.x+=(Qc.x-this.x)*ef,this.y+=(Qc.y-this.y)*ef,this.z+=(Qc.z-this.z)*ef,this},lerpVectors:function(Qc,ef,tf){return this.subVectors(ef,Qc).multiplyScalar(tf).add(Qc)},cross:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(Qc,ef)):this.crossVectors(this,Qc)},crossVectors:function(Qc,ef){var tf=Qc.x,nf=Qc.y,rf=Qc.z,sf=ef.x,af=ef.y,lf=ef.z;return this.x=nf*lf-rf*af,this.y=rf*sf-tf*lf,this.z=tf*af-nf*sf,this},projectOnVector:function(Qc){var ef=Qc.dot(this)/Qc.lengthSq();return this.copy(Qc).multiplyScalar(ef)},projectOnPlane:function(){var Qc=new Vector3;return function(tf){return Qc.copy(this).projectOnVector(tf),this.sub(Qc)}}(),reflect:function(){var Qc=new Vector3;return function(tf){return this.sub(Qc.copy(tf).multiplyScalar(2*this.dot(tf)))}}(),angleTo:function(Qc){var ef=this.dot(Qc)/Math.sqrt(this.lengthSq()*Qc.lengthSq());return Math.acos(_Math.clamp(ef,-1,1))},distanceTo:function(Qc){return Math.sqrt(this.distanceToSquared(Qc))},distanceToSquared:function(Qc){var ef=this.x-Qc.x,tf=this.y-Qc.y,nf=this.z-Qc.z;return ef*ef+tf*tf+nf*nf},manhattanDistanceTo:function(Qc){return Math.abs(this.x-Qc.x)+Math.abs(this.y-Qc.y)+Math.abs(this.z-Qc.z)},setFromSpherical:function(Qc){return this.setFromSphericalCoords(Qc.radius,Qc.phi,Qc.theta)},setFromSphericalCoords:function(Qc,ef,tf){var nf=Math.sin(ef)*Qc;return this.x=nf*Math.sin(tf),this.y=Math.cos(ef)*Qc,this.z=nf*Math.cos(tf),this},setFromCylindrical:function(Qc){return this.setFromCylindricalCoords(Qc.radius,Qc.theta,Qc.y)},setFromCylindricalCoords:function(Qc,ef,tf){return this.x=Qc*Math.sin(ef),this.y=tf,this.z=Qc*Math.cos(ef),this},setFromMatrixPosition:function(Qc){var ef=Qc.elements;return this.x=ef[12],this.y=ef[13],this.z=ef[14],this},setFromMatrixScale:function(Qc){var ef=this.setFromMatrixColumn(Qc,0).length(),tf=this.setFromMatrixColumn(Qc,1).length(),nf=this.setFromMatrixColumn(Qc,2).length();return this.x=ef,this.y=tf,this.z=nf,this},setFromMatrixColumn:function(Qc,ef){return this.fromArray(Qc.elements,ef*4)},equals:function(Qc){return Qc.x===this.x&&Qc.y===this.y&&Qc.z===this.z},fromArray:function(Qc,ef){return ef===void 0&&(ef=0),this.x=Qc[ef],this.y=Qc[ef+1],this.z=Qc[ef+2],this},toArray:function(Qc,ef){return Qc===void 0&&(Qc=[]),ef===void 0&&(ef=0),Qc[ef]=this.x,Qc[ef+1]=this.y,Qc[ef+2]=this.z,Qc},fromBufferAttribute:function(Qc,ef,tf){return tf!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=Qc.getX(ef),this.y=Qc.getY(ef),this.z=Qc.getZ(ef),this}});function Matrix3(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Matrix3.prototype,{isMatrix3:!0,set:function(Qc,ef,tf,nf,rf,sf,af,lf,cf){var uf=this.elements;return uf[0]=Qc,uf[1]=nf,uf[2]=af,uf[3]=ef,uf[4]=rf,uf[5]=lf,uf[6]=tf,uf[7]=sf,uf[8]=cf,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(Qc){var ef=this.elements,tf=Qc.elements;return ef[0]=tf[0],ef[1]=tf[1],ef[2]=tf[2],ef[3]=tf[3],ef[4]=tf[4],ef[5]=tf[5],ef[6]=tf[6],ef[7]=tf[7],ef[8]=tf[8],this},setFromMatrix4:function(Qc){var ef=Qc.elements;return this.set(ef[0],ef[4],ef[8],ef[1],ef[5],ef[9],ef[2],ef[6],ef[10]),this},applyToBufferAttribute:function(){var Qc=new Vector3;return function(tf){for(var nf=0,rf=tf.count;nf<rf;nf++)Qc.x=tf.getX(nf),Qc.y=tf.getY(nf),Qc.z=tf.getZ(nf),Qc.applyMatrix3(this),tf.setXYZ(nf,Qc.x,Qc.y,Qc.z);return tf}}(),multiply:function(Qc){return this.multiplyMatrices(this,Qc)},premultiply:function(Qc){return this.multiplyMatrices(Qc,this)},multiplyMatrices:function(Qc,ef){var tf=Qc.elements,nf=ef.elements,rf=this.elements,sf=tf[0],af=tf[3],lf=tf[6],cf=tf[1],uf=tf[4],ff=tf[7],df=tf[2],gf=tf[5],_f=tf[8],xf=nf[0],Af=nf[3],Df=nf[6],Of=nf[1],Gf=nf[4],Bf=nf[7],Vf=nf[2],Lf=nf[5],Cf=nf[8];return rf[0]=sf*xf+af*Of+lf*Vf,rf[3]=sf*Af+af*Gf+lf*Lf,rf[6]=sf*Df+af*Bf+lf*Cf,rf[1]=cf*xf+uf*Of+ff*Vf,rf[4]=cf*Af+uf*Gf+ff*Lf,rf[7]=cf*Df+uf*Bf+ff*Cf,rf[2]=df*xf+gf*Of+_f*Vf,rf[5]=df*Af+gf*Gf+_f*Lf,rf[8]=df*Df+gf*Bf+_f*Cf,this},multiplyScalar:function(Qc){var ef=this.elements;return ef[0]*=Qc,ef[3]*=Qc,ef[6]*=Qc,ef[1]*=Qc,ef[4]*=Qc,ef[7]*=Qc,ef[2]*=Qc,ef[5]*=Qc,ef[8]*=Qc,this},determinant:function(){var Qc=this.elements,ef=Qc[0],tf=Qc[1],nf=Qc[2],rf=Qc[3],sf=Qc[4],af=Qc[5],lf=Qc[6],cf=Qc[7],uf=Qc[8];return ef*sf*uf-ef*af*cf-tf*rf*uf+tf*af*lf+nf*rf*cf-nf*sf*lf},getInverse:function(Qc,ef){Qc&&Qc.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var tf=Qc.elements,nf=this.elements,rf=tf[0],sf=tf[1],af=tf[2],lf=tf[3],cf=tf[4],uf=tf[5],ff=tf[6],df=tf[7],gf=tf[8],_f=gf*cf-uf*df,xf=uf*ff-gf*lf,Af=df*lf-cf*ff,Df=rf*_f+sf*xf+af*Af;if(Df===0){var Of="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(ef===!0)throw new Error(Of);return console.warn(Of),this.identity()}var Gf=1/Df;return nf[0]=_f*Gf,nf[1]=(af*df-gf*sf)*Gf,nf[2]=(uf*sf-af*cf)*Gf,nf[3]=xf*Gf,nf[4]=(gf*rf-af*ff)*Gf,nf[5]=(af*lf-uf*rf)*Gf,nf[6]=Af*Gf,nf[7]=(sf*ff-df*rf)*Gf,nf[8]=(cf*rf-sf*lf)*Gf,this},transpose:function(){var Qc,ef=this.elements;return Qc=ef[1],ef[1]=ef[3],ef[3]=Qc,Qc=ef[2],ef[2]=ef[6],ef[6]=Qc,Qc=ef[5],ef[5]=ef[7],ef[7]=Qc,this},getNormalMatrix:function(Qc){return this.setFromMatrix4(Qc).getInverse(this).transpose()},transposeIntoArray:function(Qc){var ef=this.elements;return Qc[0]=ef[0],Qc[1]=ef[3],Qc[2]=ef[6],Qc[3]=ef[1],Qc[4]=ef[4],Qc[5]=ef[7],Qc[6]=ef[2],Qc[7]=ef[5],Qc[8]=ef[8],this},setUvTransform:function(Qc,ef,tf,nf,rf,sf,af){var lf=Math.cos(rf),cf=Math.sin(rf);this.set(tf*lf,tf*cf,-tf*(lf*sf+cf*af)+sf+Qc,-nf*cf,nf*lf,-nf*(-cf*sf+lf*af)+af+ef,0,0,1)},scale:function(Qc,ef){var tf=this.elements;return tf[0]*=Qc,tf[3]*=Qc,tf[6]*=Qc,tf[1]*=ef,tf[4]*=ef,tf[7]*=ef,this},rotate:function(Qc){var ef=Math.cos(Qc),tf=Math.sin(Qc),nf=this.elements,rf=nf[0],sf=nf[3],af=nf[6],lf=nf[1],cf=nf[4],uf=nf[7];return nf[0]=ef*rf+tf*lf,nf[3]=ef*sf+tf*cf,nf[6]=ef*af+tf*uf,nf[1]=-tf*rf+ef*lf,nf[4]=-tf*sf+ef*cf,nf[7]=-tf*af+ef*uf,this},translate:function(Qc,ef){var tf=this.elements;return tf[0]+=Qc*tf[2],tf[3]+=Qc*tf[5],tf[6]+=Qc*tf[8],tf[1]+=ef*tf[2],tf[4]+=ef*tf[5],tf[7]+=ef*tf[8],this},equals:function(Qc){for(var ef=this.elements,tf=Qc.elements,nf=0;nf<9;nf++)if(ef[nf]!==tf[nf])return!1;return!0},fromArray:function(Qc,ef){ef===void 0&&(ef=0);for(var tf=0;tf<9;tf++)this.elements[tf]=Qc[tf+ef];return this},toArray:function(Qc,ef){Qc===void 0&&(Qc=[]),ef===void 0&&(ef=0);var tf=this.elements;return Qc[ef]=tf[0],Qc[ef+1]=tf[1],Qc[ef+2]=tf[2],Qc[ef+3]=tf[3],Qc[ef+4]=tf[4],Qc[ef+5]=tf[5],Qc[ef+6]=tf[6],Qc[ef+7]=tf[7],Qc[ef+8]=tf[8],Qc}});var ImageUtils={getDataURL:function(Qc){var ef;if(Qc instanceof HTMLCanvasElement)ef=Qc;else{ef=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),ef.width=Qc.width,ef.height=Qc.height;var tf=ef.getContext("2d");Qc instanceof ImageData?tf.putImageData(Qc,0,0):tf.drawImage(Qc,0,0,Qc.width,Qc.height)}return ef.width>2048||ef.height>2048?ef.toDataURL("image/jpeg",.6):ef.toDataURL("image/png")}},textureId=0;function Texture(Qc,ef,tf,nf,rf,sf,af,lf,cf,uf){Object.defineProperty(this,"id",{value:textureId++}),this.uuid=_Math.generateUUID(),this.name="",this.image=Qc!==void 0?Qc:Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=ef!==void 0?ef:Texture.DEFAULT_MAPPING,this.wrapS=tf!==void 0?tf:ClampToEdgeWrapping,this.wrapT=nf!==void 0?nf:ClampToEdgeWrapping,this.magFilter=rf!==void 0?rf:LinearFilter,this.minFilter=sf!==void 0?sf:LinearMipMapLinearFilter,this.anisotropy=cf!==void 0?cf:1,this.format=af!==void 0?af:RGBAFormat,this.type=lf!==void 0?lf:UnsignedByteType,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=uf!==void 0?uf:LinearEncoding,this.version=0,this.onUpdate=null}Texture.DEFAULT_IMAGE=void 0;Texture.DEFAULT_MAPPING=UVMapping;Texture.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Texture,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.name=Qc.name,this.image=Qc.image,this.mipmaps=Qc.mipmaps.slice(0),this.mapping=Qc.mapping,this.wrapS=Qc.wrapS,this.wrapT=Qc.wrapT,this.magFilter=Qc.magFilter,this.minFilter=Qc.minFilter,this.anisotropy=Qc.anisotropy,this.format=Qc.format,this.type=Qc.type,this.offset.copy(Qc.offset),this.repeat.copy(Qc.repeat),this.center.copy(Qc.center),this.rotation=Qc.rotation,this.matrixAutoUpdate=Qc.matrixAutoUpdate,this.matrix.copy(Qc.matrix),this.generateMipmaps=Qc.generateMipmaps,this.premultiplyAlpha=Qc.premultiplyAlpha,this.flipY=Qc.flipY,this.unpackAlignment=Qc.unpackAlignment,this.encoding=Qc.encoding,this},toJSON:function(Qc){var ef=Qc===void 0||typeof Qc=="string";if(!ef&&Qc.textures[this.uuid]!==void 0)return Qc.textures[this.uuid];var tf={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(this.image!==void 0){var nf=this.image;if(nf.uuid===void 0&&(nf.uuid=_Math.generateUUID()),!ef&&Qc.images[nf.uuid]===void 0){var rf;if(Array.isArray(nf)){rf=[];for(var sf=0,af=nf.length;sf<af;sf++)rf.push(ImageUtils.getDataURL(nf[sf]))}else rf=ImageUtils.getDataURL(nf);Qc.images[nf.uuid]={uuid:nf.uuid,url:rf}}tf.image=nf.uuid}return ef||(Qc.textures[this.uuid]=tf),tf},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(Qc){if(this.mapping!==UVMapping)return Qc;if(Qc.applyMatrix3(this.matrix),Qc.x<0||Qc.x>1)switch(this.wrapS){case RepeatWrapping:Qc.x=Qc.x-Math.floor(Qc.x);break;case ClampToEdgeWrapping:Qc.x=Qc.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(Qc.x)%2)===1?Qc.x=Math.ceil(Qc.x)-Qc.x:Qc.x=Qc.x-Math.floor(Qc.x);break}if(Qc.y<0||Qc.y>1)switch(this.wrapT){case RepeatWrapping:Qc.y=Qc.y-Math.floor(Qc.y);break;case ClampToEdgeWrapping:Qc.y=Qc.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(Qc.y)%2)===1?Qc.y=Math.ceil(Qc.y)-Qc.y:Qc.y=Qc.y-Math.floor(Qc.y);break}return this.flipY&&(Qc.y=1-Qc.y),Qc}});Object.defineProperty(Texture.prototype,"needsUpdate",{set:function(Qc){Qc===!0&&this.version++}});function Vector4(Qc,ef,tf,nf){this.x=Qc||0,this.y=ef||0,this.z=tf||0,this.w=nf!==void 0?nf:1}Object.assign(Vector4.prototype,{isVector4:!0,set:function(Qc,ef,tf,nf){return this.x=Qc,this.y=ef,this.z=tf,this.w=nf,this},setScalar:function(Qc){return this.x=Qc,this.y=Qc,this.z=Qc,this.w=Qc,this},setX:function(Qc){return this.x=Qc,this},setY:function(Qc){return this.y=Qc,this},setZ:function(Qc){return this.z=Qc,this},setW:function(Qc){return this.w=Qc,this},setComponent:function(Qc,ef){switch(Qc){case 0:this.x=ef;break;case 1:this.y=ef;break;case 2:this.z=ef;break;case 3:this.w=ef;break;default:throw new Error("index is out of range: "+Qc)}return this},getComponent:function(Qc){switch(Qc){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+Qc)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(Qc){return this.x=Qc.x,this.y=Qc.y,this.z=Qc.z,this.w=Qc.w!==void 0?Qc.w:1,this},add:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(Qc,ef)):(this.x+=Qc.x,this.y+=Qc.y,this.z+=Qc.z,this.w+=Qc.w,this)},addScalar:function(Qc){return this.x+=Qc,this.y+=Qc,this.z+=Qc,this.w+=Qc,this},addVectors:function(Qc,ef){return this.x=Qc.x+ef.x,this.y=Qc.y+ef.y,this.z=Qc.z+ef.z,this.w=Qc.w+ef.w,this},addScaledVector:function(Qc,ef){return this.x+=Qc.x*ef,this.y+=Qc.y*ef,this.z+=Qc.z*ef,this.w+=Qc.w*ef,this},sub:function(Qc,ef){return ef!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(Qc,ef)):(this.x-=Qc.x,this.y-=Qc.y,this.z-=Qc.z,this.w-=Qc.w,this)},subScalar:function(Qc){return this.x-=Qc,this.y-=Qc,this.z-=Qc,this.w-=Qc,this},subVectors:function(Qc,ef){return this.x=Qc.x-ef.x,this.y=Qc.y-ef.y,this.z=Qc.z-ef.z,this.w=Qc.w-ef.w,this},multiplyScalar:function(Qc){return this.x*=Qc,this.y*=Qc,this.z*=Qc,this.w*=Qc,this},applyMatrix4:function(Qc){var ef=this.x,tf=this.y,nf=this.z,rf=this.w,sf=Qc.elements;return this.x=sf[0]*ef+sf[4]*tf+sf[8]*nf+sf[12]*rf,this.y=sf[1]*ef+sf[5]*tf+sf[9]*nf+sf[13]*rf,this.z=sf[2]*ef+sf[6]*tf+sf[10]*nf+sf[14]*rf,this.w=sf[3]*ef+sf[7]*tf+sf[11]*nf+sf[15]*rf,this},divideScalar:function(Qc){return this.multiplyScalar(1/Qc)},setAxisAngleFromQuaternion:function(Qc){this.w=2*Math.acos(Qc.w);var ef=Math.sqrt(1-Qc.w*Qc.w);return ef<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=Qc.x/ef,this.y=Qc.y/ef,this.z=Qc.z/ef),this},setAxisAngleFromRotationMatrix:function(Qc){var ef,tf,nf,rf,sf=.01,af=.1,lf=Qc.elements,cf=lf[0],uf=lf[4],ff=lf[8],df=lf[1],gf=lf[5],_f=lf[9],xf=lf[2],Af=lf[6],Df=lf[10];if(Math.abs(uf-df)<sf&&Math.abs(ff-xf)<sf&&Math.abs(_f-Af)<sf){if(Math.abs(uf+df)<af&&Math.abs(ff+xf)<af&&Math.abs(_f+Af)<af&&Math.abs(cf+gf+Df-3)<af)return this.set(1,0,0,0),this;ef=Math.PI;var Of=(cf+1)/2,Gf=(gf+1)/2,Bf=(Df+1)/2,Vf=(uf+df)/4,Lf=(ff+xf)/4,Cf=(_f+Af)/4;return Of>Gf&&Of>Bf?Of<sf?(tf=0,nf=.707106781,rf=.707106781):(tf=Math.sqrt(Of),nf=Vf/tf,rf=Lf/tf):Gf>Bf?Gf<sf?(tf=.707106781,nf=0,rf=.707106781):(nf=Math.sqrt(Gf),tf=Vf/nf,rf=Cf/nf):Bf<sf?(tf=.707106781,nf=.707106781,rf=0):(rf=Math.sqrt(Bf),tf=Lf/rf,nf=Cf/rf),this.set(tf,nf,rf,ef),this}var Tf=Math.sqrt((Af-_f)*(Af-_f)+(ff-xf)*(ff-xf)+(df-uf)*(df-uf));return Math.abs(Tf)<.001&&(Tf=1),this.x=(Af-_f)/Tf,this.y=(ff-xf)/Tf,this.z=(df-uf)/Tf,this.w=Math.acos((cf+gf+Df-1)/2),this},min:function(Qc){return this.x=Math.min(this.x,Qc.x),this.y=Math.min(this.y,Qc.y),this.z=Math.min(this.z,Qc.z),this.w=Math.min(this.w,Qc.w),this},max:function(Qc){return this.x=Math.max(this.x,Qc.x),this.y=Math.max(this.y,Qc.y),this.z=Math.max(this.z,Qc.z),this.w=Math.max(this.w,Qc.w),this},clamp:function(Qc,ef){return this.x=Math.max(Qc.x,Math.min(ef.x,this.x)),this.y=Math.max(Qc.y,Math.min(ef.y,this.y)),this.z=Math.max(Qc.z,Math.min(ef.z,this.z)),this.w=Math.max(Qc.w,Math.min(ef.w,this.w)),this},clampScalar:function(){var Qc,ef;return function(nf,rf){return Qc===void 0&&(Qc=new Vector4,ef=new Vector4),Qc.set(nf,nf,nf,nf),ef.set(rf,rf,rf,rf),this.clamp(Qc,ef)}}(),clampLength:function(Qc,ef){var tf=this.length();return this.divideScalar(tf||1).multiplyScalar(Math.max(Qc,Math.min(ef,tf)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(Qc){return this.x*Qc.x+this.y*Qc.y+this.z*Qc.z+this.w*Qc.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(Qc){return this.normalize().multiplyScalar(Qc)},lerp:function(Qc,ef){return this.x+=(Qc.x-this.x)*ef,this.y+=(Qc.y-this.y)*ef,this.z+=(Qc.z-this.z)*ef,this.w+=(Qc.w-this.w)*ef,this},lerpVectors:function(Qc,ef,tf){return this.subVectors(ef,Qc).multiplyScalar(tf).add(Qc)},equals:function(Qc){return Qc.x===this.x&&Qc.y===this.y&&Qc.z===this.z&&Qc.w===this.w},fromArray:function(Qc,ef){return ef===void 0&&(ef=0),this.x=Qc[ef],this.y=Qc[ef+1],this.z=Qc[ef+2],this.w=Qc[ef+3],this},toArray:function(Qc,ef){return Qc===void 0&&(Qc=[]),ef===void 0&&(ef=0),Qc[ef]=this.x,Qc[ef+1]=this.y,Qc[ef+2]=this.z,Qc[ef+3]=this.w,Qc},fromBufferAttribute:function(Qc,ef,tf){return tf!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=Qc.getX(ef),this.y=Qc.getY(ef),this.z=Qc.getZ(ef),this.w=Qc.getW(ef),this}});function WebGLRenderTarget(Qc,ef,tf){this.width=Qc,this.height=ef,this.scissor=new Vector4(0,0,Qc,ef),this.scissorTest=!1,this.viewport=new Vector4(0,0,Qc,ef),tf=tf||{},tf.minFilter===void 0&&(tf.minFilter=LinearFilter),this.texture=new Texture(void 0,void 0,tf.wrapS,tf.wrapT,tf.magFilter,tf.minFilter,tf.format,tf.type,tf.anisotropy,tf.encoding),this.texture.generateMipmaps=tf.generateMipmaps!==void 0?tf.generateMipmaps:!0,this.depthBuffer=tf.depthBuffer!==void 0?tf.depthBuffer:!0,this.stencilBuffer=tf.stencilBuffer!==void 0?tf.stencilBuffer:!0,this.depthTexture=tf.depthTexture!==void 0?tf.depthTexture:null}WebGLRenderTarget.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:WebGLRenderTarget,isWebGLRenderTarget:!0,setSize:function(Qc,ef){(this.width!==Qc||this.height!==ef)&&(this.width=Qc,this.height=ef,this.dispose()),this.viewport.set(0,0,Qc,ef),this.scissor.set(0,0,Qc,ef)},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.width=Qc.width,this.height=Qc.height,this.viewport.copy(Qc.viewport),this.texture=Qc.texture.clone(),this.depthBuffer=Qc.depthBuffer,this.stencilBuffer=Qc.stencilBuffer,this.depthTexture=Qc.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function WebGLRenderTargetCube(Qc,ef,tf){WebGLRenderTarget.call(this,Qc,ef,tf),this.activeCubeFace=0,this.activeMipMapLevel=0}WebGLRenderTargetCube.prototype=Object.create(WebGLRenderTarget.prototype);WebGLRenderTargetCube.prototype.constructor=WebGLRenderTargetCube;WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube=!0;function DataTexture(Qc,ef,tf,nf,rf,sf,af,lf,cf,uf,ff,df){Texture.call(this,null,sf,af,lf,cf,uf,nf,rf,ff,df),this.image={data:Qc,width:ef,height:tf},this.magFilter=cf!==void 0?cf:NearestFilter,this.minFilter=uf!==void 0?uf:NearestFilter,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}DataTexture.prototype=Object.create(Texture.prototype);DataTexture.prototype.constructor=DataTexture;DataTexture.prototype.isDataTexture=!0;function Box3(Qc,ef){this.min=Qc!==void 0?Qc:new Vector3(1/0,1/0,1/0),this.max=ef!==void 0?ef:new Vector3(-1/0,-1/0,-1/0)}Object.assign(Box3.prototype,{isBox3:!0,set:function(Qc,ef){return this.min.copy(Qc),this.max.copy(ef),this},setFromArray:function(Qc){for(var ef=1/0,tf=1/0,nf=1/0,rf=-1/0,sf=-1/0,af=-1/0,lf=0,cf=Qc.length;lf<cf;lf+=3){var uf=Qc[lf],ff=Qc[lf+1],df=Qc[lf+2];uf<ef&&(ef=uf),ff<tf&&(tf=ff),df<nf&&(nf=df),uf>rf&&(rf=uf),ff>sf&&(sf=ff),df>af&&(af=df)}return this.min.set(ef,tf,nf),this.max.set(rf,sf,af),this},setFromBufferAttribute:function(Qc){for(var ef=1/0,tf=1/0,nf=1/0,rf=-1/0,sf=-1/0,af=-1/0,lf=0,cf=Qc.count;lf<cf;lf++){var uf=Qc.getX(lf),ff=Qc.getY(lf),df=Qc.getZ(lf);uf<ef&&(ef=uf),ff<tf&&(tf=ff),df<nf&&(nf=df),uf>rf&&(rf=uf),ff>sf&&(sf=ff),df>af&&(af=df)}return this.min.set(ef,tf,nf),this.max.set(rf,sf,af),this},setFromPoints:function(Qc){this.makeEmpty();for(var ef=0,tf=Qc.length;ef<tf;ef++)this.expandByPoint(Qc[ef]);return this},setFromCenterAndSize:function(){var Qc=new Vector3;return function(tf,nf){var rf=Qc.copy(nf).multiplyScalar(.5);return this.min.copy(tf).sub(rf),this.max.copy(tf).add(rf),this}}(),setFromObject:function(Qc){return this.makeEmpty(),this.expandByObject(Qc)},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.min.copy(Qc.min),this.max.copy(Qc.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(Qc){return Qc===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),Qc=new Vector3),this.isEmpty()?Qc.set(0,0,0):Qc.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(Qc){return Qc===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),Qc=new Vector3),this.isEmpty()?Qc.set(0,0,0):Qc.subVectors(this.max,this.min)},expandByPoint:function(Qc){return this.min.min(Qc),this.max.max(Qc),this},expandByVector:function(Qc){return this.min.sub(Qc),this.max.add(Qc),this},expandByScalar:function(Qc){return this.min.addScalar(-Qc),this.max.addScalar(Qc),this},expandByObject:function(){var Qc,ef,tf,nf=new Vector3;function rf(sf){var af=sf.geometry;if(af!==void 0){if(af.isGeometry){var lf=af.vertices;for(ef=0,tf=lf.length;ef<tf;ef++)nf.copy(lf[ef]),nf.applyMatrix4(sf.matrixWorld),Qc.expandByPoint(nf)}else if(af.isBufferGeometry){var cf=af.attributes.position;if(cf!==void 0)for(ef=0,tf=cf.count;ef<tf;ef++)nf.fromBufferAttribute(cf,ef).applyMatrix4(sf.matrixWorld),Qc.expandByPoint(nf)}}}return function(af){return Qc=this,af.updateMatrixWorld(!0),af.traverse(rf),this}}(),containsPoint:function(Qc){return!(Qc.x<this.min.x||Qc.x>this.max.x||Qc.y<this.min.y||Qc.y>this.max.y||Qc.z<this.min.z||Qc.z>this.max.z)},containsBox:function(Qc){return this.min.x<=Qc.min.x&&Qc.max.x<=this.max.x&&this.min.y<=Qc.min.y&&Qc.max.y<=this.max.y&&this.min.z<=Qc.min.z&&Qc.max.z<=this.max.z},getParameter:function(Qc,ef){return ef===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),ef=new Vector3),ef.set((Qc.x-this.min.x)/(this.max.x-this.min.x),(Qc.y-this.min.y)/(this.max.y-this.min.y),(Qc.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(Qc){return!(Qc.max.x<this.min.x||Qc.min.x>this.max.x||Qc.max.y<this.min.y||Qc.min.y>this.max.y||Qc.max.z<this.min.z||Qc.min.z>this.max.z)},intersectsSphere:function(){var Qc=new Vector3;return function(tf){return this.clampPoint(tf.center,Qc),Qc.distanceToSquared(tf.center)<=tf.radius*tf.radius}}(),intersectsPlane:function(Qc){var ef,tf;return Qc.normal.x>0?(ef=Qc.normal.x*this.min.x,tf=Qc.normal.x*this.max.x):(ef=Qc.normal.x*this.max.x,tf=Qc.normal.x*this.min.x),Qc.normal.y>0?(ef+=Qc.normal.y*this.min.y,tf+=Qc.normal.y*this.max.y):(ef+=Qc.normal.y*this.max.y,tf+=Qc.normal.y*this.min.y),Qc.normal.z>0?(ef+=Qc.normal.z*this.min.z,tf+=Qc.normal.z*this.max.z):(ef+=Qc.normal.z*this.max.z,tf+=Qc.normal.z*this.min.z),ef<=-Qc.constant&&tf>=-Qc.constant},intersectsTriangle:function(){var Qc=new Vector3,ef=new Vector3,tf=new Vector3,nf=new Vector3,rf=new Vector3,sf=new Vector3,af=new Vector3,lf=new Vector3,cf=new Vector3,uf=new Vector3;function ff(df){var gf,_f;for(gf=0,_f=df.length-3;gf<=_f;gf+=3){af.fromArray(df,gf);var xf=cf.x*Math.abs(af.x)+cf.y*Math.abs(af.y)+cf.z*Math.abs(af.z),Af=Qc.dot(af),Df=ef.dot(af),Of=tf.dot(af);if(Math.max(-Math.max(Af,Df,Of),Math.min(Af,Df,Of))>xf)return!1}return!0}return function(gf){if(this.isEmpty())return!1;this.getCenter(lf),cf.subVectors(this.max,lf),Qc.subVectors(gf.a,lf),ef.subVectors(gf.b,lf),tf.subVectors(gf.c,lf),nf.subVectors(ef,Qc),rf.subVectors(tf,ef),sf.subVectors(Qc,tf);var _f=[0,-nf.z,nf.y,0,-rf.z,rf.y,0,-sf.z,sf.y,nf.z,0,-nf.x,rf.z,0,-rf.x,sf.z,0,-sf.x,-nf.y,nf.x,0,-rf.y,rf.x,0,-sf.y,sf.x,0];return!ff(_f)||(_f=[1,0,0,0,1,0,0,0,1],!ff(_f))?!1:(uf.crossVectors(nf,rf),_f=[uf.x,uf.y,uf.z],ff(_f))}}(),clampPoint:function(Qc,ef){return ef===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),ef=new Vector3),ef.copy(Qc).clamp(this.min,this.max)},distanceToPoint:function(){var Qc=new Vector3;return function(tf){var nf=Qc.copy(tf).clamp(this.min,this.max);return nf.sub(tf).length()}}(),getBoundingSphere:function(){var Qc=new Vector3;return function(tf){return tf===void 0&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),tf=new Sphere),this.getCenter(tf.center),tf.radius=this.getSize(Qc).length()*.5,tf}}(),intersect:function(Qc){return this.min.max(Qc.min),this.max.min(Qc.max),this.isEmpty()&&this.makeEmpty(),this},union:function(Qc){return this.min.min(Qc.min),this.max.max(Qc.max),this},applyMatrix4:function(){var Qc=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3];return function(tf){return this.isEmpty()?this:(Qc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(tf),Qc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(tf),Qc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(tf),Qc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(tf),Qc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(tf),Qc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(tf),Qc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(tf),Qc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(tf),this.setFromPoints(Qc),this)}}(),translate:function(Qc){return this.min.add(Qc),this.max.add(Qc),this},equals:function(Qc){return Qc.min.equals(this.min)&&Qc.max.equals(this.max)}});function Sphere(Qc,ef){this.center=Qc!==void 0?Qc:new Vector3,this.radius=ef!==void 0?ef:0}Object.assign(Sphere.prototype,{set:function(Qc,ef){return this.center.copy(Qc),this.radius=ef,this},setFromPoints:function(){var Qc=new Box3;return function(tf,nf){var rf=this.center;nf!==void 0?rf.copy(nf):Qc.setFromPoints(tf).getCenter(rf);for(var sf=0,af=0,lf=tf.length;af<lf;af++)sf=Math.max(sf,rf.distanceToSquared(tf[af]));return this.radius=Math.sqrt(sf),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.center.copy(Qc.center),this.radius=Qc.radius,this},empty:function(){return this.radius<=0},containsPoint:function(Qc){return Qc.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(Qc){return Qc.distanceTo(this.center)-this.radius},intersectsSphere:function(Qc){var ef=this.radius+Qc.radius;return Qc.center.distanceToSquared(this.center)<=ef*ef},intersectsBox:function(Qc){return Qc.intersectsSphere(this)},intersectsPlane:function(Qc){return Math.abs(Qc.distanceToPoint(this.center))<=this.radius},clampPoint:function(Qc,ef){var tf=this.center.distanceToSquared(Qc);return ef===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),ef=new Vector3),ef.copy(Qc),tf>this.radius*this.radius&&(ef.sub(this.center).normalize(),ef.multiplyScalar(this.radius).add(this.center)),ef},getBoundingBox:function(Qc){return Qc===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),Qc=new Box3),Qc.set(this.center,this.center),Qc.expandByScalar(this.radius),Qc},applyMatrix4:function(Qc){return this.center.applyMatrix4(Qc),this.radius=this.radius*Qc.getMaxScaleOnAxis(),this},translate:function(Qc){return this.center.add(Qc),this},equals:function(Qc){return Qc.center.equals(this.center)&&Qc.radius===this.radius}});function Plane(Qc,ef){this.normal=Qc!==void 0?Qc:new Vector3(1,0,0),this.constant=ef!==void 0?ef:0}Object.assign(Plane.prototype,{set:function(Qc,ef){return this.normal.copy(Qc),this.constant=ef,this},setComponents:function(Qc,ef,tf,nf){return this.normal.set(Qc,ef,tf),this.constant=nf,this},setFromNormalAndCoplanarPoint:function(Qc,ef){return this.normal.copy(Qc),this.constant=-ef.dot(this.normal),this},setFromCoplanarPoints:function(){var Qc=new Vector3,ef=new Vector3;return function(nf,rf,sf){var af=Qc.subVectors(sf,rf).cross(ef.subVectors(nf,rf)).normalize();return this.setFromNormalAndCoplanarPoint(af,nf),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.normal.copy(Qc.normal),this.constant=Qc.constant,this},normalize:function(){var Qc=1/this.normal.length();return this.normal.multiplyScalar(Qc),this.constant*=Qc,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(Qc){return this.normal.dot(Qc)+this.constant},distanceToSphere:function(Qc){return this.distanceToPoint(Qc.center)-Qc.radius},projectPoint:function(Qc,ef){return ef===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),ef=new Vector3),ef.copy(this.normal).multiplyScalar(-this.distanceToPoint(Qc)).add(Qc)},intersectLine:function(){var Qc=new Vector3;return function(tf,nf){nf===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),nf=new Vector3);var rf=tf.delta(Qc),sf=this.normal.dot(rf);if(sf===0)return this.distanceToPoint(tf.start)===0?nf.copy(tf.start):void 0;var af=-(tf.start.dot(this.normal)+this.constant)/sf;if(!(af<0||af>1))return nf.copy(rf).multiplyScalar(af).add(tf.start)}}(),intersectsLine:function(Qc){var ef=this.distanceToPoint(Qc.start),tf=this.distanceToPoint(Qc.end);return ef<0&&tf>0||tf<0&&ef>0},intersectsBox:function(Qc){return Qc.intersectsPlane(this)},intersectsSphere:function(Qc){return Qc.intersectsPlane(this)},coplanarPoint:function(Qc){return Qc===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),Qc=new Vector3),Qc.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var Qc=new Vector3,ef=new Matrix3;return function(nf,rf){var sf=rf||ef.getNormalMatrix(nf),af=this.coplanarPoint(Qc).applyMatrix4(nf),lf=this.normal.applyMatrix3(sf).normalize();return this.constant=-af.dot(lf),this}}(),translate:function(Qc){return this.constant-=Qc.dot(this.normal),this},equals:function(Qc){return Qc.normal.equals(this.normal)&&Qc.constant===this.constant}});function Frustum(Qc,ef,tf,nf,rf,sf){this.planes=[Qc!==void 0?Qc:new Plane,ef!==void 0?ef:new Plane,tf!==void 0?tf:new Plane,nf!==void 0?nf:new Plane,rf!==void 0?rf:new Plane,sf!==void 0?sf:new Plane]}Object.assign(Frustum.prototype,{set:function(Qc,ef,tf,nf,rf,sf){var af=this.planes;return af[0].copy(Qc),af[1].copy(ef),af[2].copy(tf),af[3].copy(nf),af[4].copy(rf),af[5].copy(sf),this},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){for(var ef=this.planes,tf=0;tf<6;tf++)ef[tf].copy(Qc.planes[tf]);return this},setFromMatrix:function(Qc){var ef=this.planes,tf=Qc.elements,nf=tf[0],rf=tf[1],sf=tf[2],af=tf[3],lf=tf[4],cf=tf[5],uf=tf[6],ff=tf[7],df=tf[8],gf=tf[9],_f=tf[10],xf=tf[11],Af=tf[12],Df=tf[13],Of=tf[14],Gf=tf[15];return ef[0].setComponents(af-nf,ff-lf,xf-df,Gf-Af).normalize(),ef[1].setComponents(af+nf,ff+lf,xf+df,Gf+Af).normalize(),ef[2].setComponents(af+rf,ff+cf,xf+gf,Gf+Df).normalize(),ef[3].setComponents(af-rf,ff-cf,xf-gf,Gf-Df).normalize(),ef[4].setComponents(af-sf,ff-uf,xf-_f,Gf-Of).normalize(),ef[5].setComponents(af+sf,ff+uf,xf+_f,Gf+Of).normalize(),this},intersectsObject:function(){var Qc=new Sphere;return function(tf){var nf=tf.geometry;return nf.boundingSphere===null&&nf.computeBoundingSphere(),Qc.copy(nf.boundingSphere).applyMatrix4(tf.matrixWorld),this.intersectsSphere(Qc)}}(),intersectsSprite:function(){var Qc=new Sphere;return function(tf){return Qc.center.set(0,0,0),Qc.radius=.7071067811865476,Qc.applyMatrix4(tf.matrixWorld),this.intersectsSphere(Qc)}}(),intersectsSphere:function(Qc){for(var ef=this.planes,tf=Qc.center,nf=-Qc.radius,rf=0;rf<6;rf++){var sf=ef[rf].distanceToPoint(tf);if(sf<nf)return!1}return!0},intersectsBox:function(){var Qc=new Vector3;return function(tf){for(var nf=this.planes,rf=0;rf<6;rf++){var sf=nf[rf];if(Qc.x=sf.normal.x>0?tf.max.x:tf.min.x,Qc.y=sf.normal.y>0?tf.max.y:tf.min.y,Qc.z=sf.normal.z>0?tf.max.z:tf.min.z,sf.distanceToPoint(Qc)<0)return!1}return!0}}(),containsPoint:function(Qc){for(var ef=this.planes,tf=0;tf<6;tf++)if(ef[tf].distanceToPoint(Qc)<0)return!1;return!0}});var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif
`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif
`,alphatest_fragment=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif
`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( PHYSICAL )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif
`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex=`
vec3 transformed = vec3( position );
`,beginnormal_vertex=`
vec3 objectNormal = vec3( normal );
`,bsdfs=`float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;
	return specularColor * AB.x + AB.y;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif
`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;
	}
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;
		}
		if ( clipped ) discard;
	#endif
#endif
`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
		varying vec3 vViewPosition;
	#endif
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif
`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
	varying vec3 vViewPosition;
#endif
`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
	vViewPosition = - mvPosition.xyz;
#endif
`,color_fragment=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif
`,color_pars_vertex=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common=`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#define saturate(a) clamp( a, 0.0, 1.0 )
#define whiteCompliment(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_textureSize (1024.0)
int getFaceFromDirection(vec3 direction) {
	vec3 absDirection = abs(direction);
	int face = -1;
	if( absDirection.x > absDirection.z ) {
		if(absDirection.x > absDirection.y )
			face = direction.x > 0.0 ? 0 : 3;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	else {
		if(absDirection.z > absDirection.y )
			face = direction.z > 0.0 ? 2 : 5;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	return face;
}
#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)
#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))
vec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {
	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);
	float dxRoughness = dFdx(roughness);
	float dyRoughness = dFdy(roughness);
	vec3 dx = dFdx( vec * scale * dxRoughness );
	vec3 dy = dFdy( vec * scale * dyRoughness );
	float d = max( dot( dx, dx ), dot( dy, dy ) );
	d = clamp(d, 1.0, cubeUV_rangeClamp);
	float mipLevel = 0.5 * log2(d);
	return vec2(floor(mipLevel), fract(mipLevel));
}
#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)
#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)
vec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {
	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;
	float a = 16.0 * cubeUV_rcpTextureSize;
	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );
	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;
	float powScale = exp2_packed.x * exp2_packed.y;
	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;
	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;
	bool bRes = mipLevel == 0.0;
	scale =  bRes && (scale < a) ? a : scale;
	vec3 r;
	vec2 offset;
	int face = getFaceFromDirection(direction);
	float rcpPowScale = 1.0 / powScale;
	if( face == 0) {
		r = vec3(direction.x, -direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 1) {
		r = vec3(direction.y, direction.x, direction.z);
		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 2) {
		r = vec3(direction.z, direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 3) {
		r = vec3(direction.x, direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	else if( face == 4) {
		r = vec3(direction.y, direction.x, -direction.z);
		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	else {
		r = vec3(direction.z, -direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	r = normalize(r);
	float texelOffset = 0.5 * cubeUV_rcpTextureSize;
	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;
	vec2 base = offset + vec2( texelOffset );
	return base + s * ( scale - 2.0 * texelOffset );
}
#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)
vec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {
	float roughnessVal = roughness* cubeUV_maxLods3;
	float r1 = floor(roughnessVal);
	float r2 = r1 + 1.0;
	float t = fract(roughnessVal);
	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);
	float s = mipInfo.y;
	float level0 = mipInfo.x;
	float level1 = level0 + 1.0;
	level1 = level1 > 5.0 ? 5.0 : level1;
	level0 += min( floor( s + 0.5 ), 5.0 );
	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);
	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));
	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);
	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));
	vec4 result = mix(color10, color20, t);
	return vec4(result.rgb, 1.0);
}
#endif
`,defaultnormal_vertex=`vec3 transformedNormal = normalMatrix * objectNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif
`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );
#endif
`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif
`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif
`,encodings_fragment=`  gl_FragColor = linearToOutputTexel( gl_FragColor );
`,encodings_pars_fragment=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = min( floor( D ) / 255.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}
`,envmap_fragment=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToVertex, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		vec2 sampleUV;
		reflectVec = normalize( reflectVec );
		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	envColor = envMapTexelToLinear( envColor );
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif
`,envmap_pars_fragment=`#if defined( USE_ENVMAP ) || defined( PHYSICAL )
	uniform float reflectivity;
	uniform float envMapIntensity;
#endif
#ifdef USE_ENVMAP
	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )
		varying vec3 vWorldPosition;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif
`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif
`,envmap_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif
`,fog_vertex=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif
`,fog_pars_vertex=`#ifdef USE_FOG
	varying float fogDepth;
#endif
`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif
`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif
`,gradientmap_pars_fragment=`#ifdef TOON
	uniform sampler2D gradientMap;
	vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
		float dotNL = dot( normal, lightDirection );
		vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
		#ifdef USE_GRADIENTMAP
			return texture2D( gradientMap, coord ).rgb;
		#else
			return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
		#endif
	}
#endif
`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
#endif
`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
#endif
`,lights_pars_begin=`uniform vec3 ambientLightColor;
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
		float shadowCameraNear;
		float shadowCameraFar;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif
`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP ) && defined( PHYSICAL )
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			vec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );
		#else
			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			vec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV;
			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif
`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;
`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	#ifdef TOON
		vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#else
		float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
		vec3 irradiance = dotNL * directLight.color;
	#endif
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)
`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );
#ifdef STANDARD
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
	material.clearCoat = saturate( clearCoat );	material.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );
#endif
`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
	#ifndef STANDARD
		float clearCoat;
		float clearCoatRoughness;
	#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearCoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos - halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos + halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos + halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos - halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifndef STANDARD
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif
	reflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );
	reflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	#ifndef STANDARD
		reflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );
	#endif
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	#ifndef STANDARD
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		float dotNL = dotNV;
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif
	reflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );
	#ifndef STANDARD
		reflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );
	#endif
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )
#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}
`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = normalize( vViewPosition );
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
#endif
#if defined( RE_IndirectDiffuse )
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearCoatRadiance = vec3( 0.0 );
#endif
`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )
		irradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );
	#ifndef STANDARD
		clearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );
	#endif
#endif
`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );
#endif
`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
#endif
`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
	#else
		uniform float logDepthBufFC;
	#endif
#endif
`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
	#else
		gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
		gl_Position.z *= gl_Position.w;
	#endif
#endif
`,map_fragment=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif
`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif
`,map_particle_fragment=`#ifdef USE_MAP
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
`,map_particle_pars_fragment=`#ifdef USE_MAP
	uniform mat3 uvTransform;
	uniform sampler2D map;
#endif
`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif
`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];
	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];
	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];
	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];
#endif
`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];
	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];
	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];
	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];
	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];
	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];
	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];
	#endif
#endif
`,normal_fragment_begin=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
#endif
`,normal_fragment_maps=`#ifdef USE_NORMALMAP
	#ifdef OBJECTSPACE_NORMALMAP
		normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
		#ifdef FLIP_SIDED
			normal = - normal;
		#endif
		#ifdef DOUBLE_SIDED
			normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		normal = normalize( normalMatrix * normal );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif
`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
	#ifdef OBJECTSPACE_NORMALMAP
		uniform mat3 normalMatrix;
	#else
		vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {
			vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
			vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
			vec2 st0 = dFdx( vUv.st );
			vec2 st1 = dFdy( vUv.st );
			float scale = sign( st1.t * st0.s - st0.t * st1.s );
			vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
			vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
			vec3 N = normalize( surf_norm );
			mat3 tsn = mat3( S, T, N );
			vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
			mapN.xy *= normalScale;
			mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			return normalize( tsn * mapN );
		}
	#endif
#endif
`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}
`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif
`,project_vertex=`vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );
gl_Position = projectionMatrix * mvPosition;
`,dithering_fragment=`#if defined( DITHERING )
  gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif
`,dithering_pars_fragment=`#if defined( DITHERING )
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif
`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif
`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];
	#endif
	#if NUM_SPOT_LIGHTS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];
	#endif
	#if NUM_POINT_LIGHTS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {
		const vec2 offset = vec2( 0.0, 1.0 );
		vec2 texelSize = vec2( 1.0 ) / size;
		vec2 centroidUV = floor( uv * size + 0.5 ) / size;
		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );
		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );
		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );
		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );
		vec2 f = fract( uv * size + 0.5 );
		float a = mix( lb, lt, f.y );
		float b = mix( rb, rt, f.y );
		float c = mix( a, b, f.x );
		return c;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			shadow = (
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif
`,shadowmap_pars_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];
	#endif
	#if NUM_SPOT_LIGHTS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];
	#endif
	#if NUM_POINT_LIGHTS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];
	#endif
#endif
`,shadowmap_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#endif
#endif
`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_SPOT_LIGHTS > 0
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_POINT_LIGHTS > 0
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#endif
	#endif
	return shadow;
}
`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif
`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif
`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
#endif
`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif
`,tonemapping_pars_fragment=`#ifndef saturate
	#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
`,uv_pars_fragment=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
`,uv_vertex=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = uv2;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );
#endif
`,background_frag=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
}
`,background_vert=`varying vec2 vUv;
void main() {
	vUv = uv;
	gl_Position = vec4( position, 1.0 );
	gl_Position.z = 1.0;
}
`,cube_frag=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldPosition;
void main() {
	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );
	gl_FragColor.a *= opacity;
}
`,cube_vert=`varying vec3 vWorldPosition;
#include <common>
void main() {
	vWorldPosition = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}
`,depth_frag=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );
	#endif
}
`,depth_vert=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}
`,distanceRGBA_frag=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}
`,distanceRGBA_vert=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}
`,equirect_frag=`uniform sampler2D tEquirect;
varying vec3 vWorldPosition;
#include <common>
void main() {
	vec3 direction = normalize( vWorldPosition );
	vec2 sampleUV;
	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;
	gl_FragColor = texture2D( tEquirect, sampleUV );
}
`,equirect_vert=`varying vec3 vWorldPosition;
#include <common>
void main() {
	vWorldPosition = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}
`,linedashed_frag=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,linedashed_vert=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	vLineDistance = scale * lineDistance;
	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}
`,meshbasic_frag=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		reflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,meshbasic_vert=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}
`,meshlambert_frag=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}
`,meshlambert_vert=`#define LAMBERT
varying vec3 vLightFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}
`,meshmatcap_frag=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	vec4 matcapColor = texture2D( matcap, uv );
	matcapColor = matcapTexelToLinear( matcapColor );
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,meshmatcap_vert=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}
`,meshphong_frag=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}
`,meshphong_vert=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}
`,meshphysical_frag=`#define PHYSICAL
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifndef STANDARD
	uniform float clearCoat;
	uniform float clearCoatRoughness;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}
`,meshphysical_vert=`#define PHYSICAL
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}
`,normal_frag=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}
`,normal_vert=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )
	vViewPosition = - mvPosition.xyz;
#endif
}
`,points_frag=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,points_vert=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}
`,shadow_frag=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <fog_fragment>
}
`,shadow_vert=`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}
`,sprite_frag=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,sprite_vert=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}
`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_vertex,lights_pars_begin,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normalmap_pars_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_frag,background_vert,cube_frag,cube_vert,depth_frag,depth_vert,distanceRGBA_frag,distanceRGBA_vert,equirect_frag,equirect_vert,linedashed_frag,linedashed_vert,meshbasic_frag,meshbasic_vert,meshlambert_frag,meshlambert_vert,meshmatcap_frag,meshmatcap_vert,meshphong_frag,meshphong_vert,meshphysical_frag,meshphysical_vert,normal_frag,normal_vert,points_frag,points_vert,shadow_frag,shadow_vert,sprite_frag,sprite_vert},UniformsUtils={merge:function(Qc){for(var ef={},tf=0;tf<Qc.length;tf++){var nf=this.clone(Qc[tf]);for(var rf in nf)ef[rf]=nf[rf]}return ef},clone:function(Qc){var ef={};for(var tf in Qc){ef[tf]={};for(var nf in Qc[tf]){var rf=Qc[tf][nf];rf&&(rf.isColor||rf.isMatrix3||rf.isMatrix4||rf.isVector2||rf.isVector3||rf.isVector4||rf.isTexture)?ef[tf][nf]=rf.clone():Array.isArray(rf)?ef[tf][nf]=rf.slice():ef[tf][nf]=rf}}return ef}},ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Color$1(Qc,ef,tf){return ef===void 0&&tf===void 0?this.set(Qc):this.setRGB(Qc,ef,tf)}Object.assign(Color$1.prototype,{isColor:!0,r:1,g:1,b:1,set:function(Qc){return Qc&&Qc.isColor?this.copy(Qc):typeof Qc=="number"?this.setHex(Qc):typeof Qc=="string"&&this.setStyle(Qc),this},setScalar:function(Qc){return this.r=Qc,this.g=Qc,this.b=Qc,this},setHex:function(Qc){return Qc=Math.floor(Qc),this.r=(Qc>>16&255)/255,this.g=(Qc>>8&255)/255,this.b=(Qc&255)/255,this},setRGB:function(Qc,ef,tf){return this.r=Qc,this.g=ef,this.b=tf,this},setHSL:function(){function Qc(ef,tf,nf){return nf<0&&(nf+=1),nf>1&&(nf-=1),nf<1/6?ef+(tf-ef)*6*nf:nf<1/2?tf:nf<2/3?ef+(tf-ef)*6*(2/3-nf):ef}return function(tf,nf,rf){if(tf=_Math.euclideanModulo(tf,1),nf=_Math.clamp(nf,0,1),rf=_Math.clamp(rf,0,1),nf===0)this.r=this.g=this.b=rf;else{var sf=rf<=.5?rf*(1+nf):rf+nf-rf*nf,af=2*rf-sf;this.r=Qc(af,sf,tf+1/3),this.g=Qc(af,sf,tf),this.b=Qc(af,sf,tf-1/3)}return this}}(),setStyle:function(Qc){function ef(df){df!==void 0&&parseFloat(df)<1&&console.warn("THREE.Color: Alpha component of "+Qc+" will be ignored.")}var tf;if(tf=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(Qc)){var nf,rf=tf[1],sf=tf[2];switch(rf){case"rgb":case"rgba":if(nf=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(sf))return this.r=Math.min(255,parseInt(nf[1],10))/255,this.g=Math.min(255,parseInt(nf[2],10))/255,this.b=Math.min(255,parseInt(nf[3],10))/255,ef(nf[5]),this;if(nf=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(sf))return this.r=Math.min(100,parseInt(nf[1],10))/100,this.g=Math.min(100,parseInt(nf[2],10))/100,this.b=Math.min(100,parseInt(nf[3],10))/100,ef(nf[5]),this;break;case"hsl":case"hsla":if(nf=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(sf)){var af=parseFloat(nf[1])/360,lf=parseInt(nf[2],10)/100,cf=parseInt(nf[3],10)/100;return ef(nf[5]),this.setHSL(af,lf,cf)}break}}else if(tf=/^\#([A-Fa-f0-9]+)$/.exec(Qc)){var uf=tf[1],ff=uf.length;if(ff===3)return this.r=parseInt(uf.charAt(0)+uf.charAt(0),16)/255,this.g=parseInt(uf.charAt(1)+uf.charAt(1),16)/255,this.b=parseInt(uf.charAt(2)+uf.charAt(2),16)/255,this;if(ff===6)return this.r=parseInt(uf.charAt(0)+uf.charAt(1),16)/255,this.g=parseInt(uf.charAt(2)+uf.charAt(3),16)/255,this.b=parseInt(uf.charAt(4)+uf.charAt(5),16)/255,this}if(Qc&&Qc.length>0){var uf=ColorKeywords[Qc];uf!==void 0?this.setHex(uf):console.warn("THREE.Color: Unknown color "+Qc)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(Qc){return this.r=Qc.r,this.g=Qc.g,this.b=Qc.b,this},copyGammaToLinear:function(Qc,ef){return ef===void 0&&(ef=2),this.r=Math.pow(Qc.r,ef),this.g=Math.pow(Qc.g,ef),this.b=Math.pow(Qc.b,ef),this},copyLinearToGamma:function(Qc,ef){ef===void 0&&(ef=2);var tf=ef>0?1/ef:1;return this.r=Math.pow(Qc.r,tf),this.g=Math.pow(Qc.g,tf),this.b=Math.pow(Qc.b,tf),this},convertGammaToLinear:function(Qc){return this.copyGammaToLinear(this,Qc),this},convertLinearToGamma:function(Qc){return this.copyLinearToGamma(this,Qc),this},copySRGBToLinear:function(){function Qc(ef){return ef<.04045?ef*.0773993808:Math.pow(ef*.9478672986+.0521327014,2.4)}return function(tf){return this.r=Qc(tf.r),this.g=Qc(tf.g),this.b=Qc(tf.b),this}}(),copyLinearToSRGB:function(){function Qc(ef){return ef<.0031308?ef*12.92:1.055*Math.pow(ef,.41666)-.055}return function(tf){return this.r=Qc(tf.r),this.g=Qc(tf.g),this.b=Qc(tf.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(Qc){Qc===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),Qc={h:0,s:0,l:0});var ef=this.r,tf=this.g,nf=this.b,rf=Math.max(ef,tf,nf),sf=Math.min(ef,tf,nf),af,lf,cf=(sf+rf)/2;if(sf===rf)af=0,lf=0;else{var uf=rf-sf;switch(lf=cf<=.5?uf/(rf+sf):uf/(2-rf-sf),rf){case ef:af=(tf-nf)/uf+(tf<nf?6:0);break;case tf:af=(nf-ef)/uf+2;break;case nf:af=(ef-tf)/uf+4;break}af/=6}return Qc.h=af,Qc.s=lf,Qc.l=cf,Qc},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(){var Qc={};return function(ef,tf,nf){return this.getHSL(Qc),Qc.h+=ef,Qc.s+=tf,Qc.l+=nf,this.setHSL(Qc.h,Qc.s,Qc.l),this}}(),add:function(Qc){return this.r+=Qc.r,this.g+=Qc.g,this.b+=Qc.b,this},addColors:function(Qc,ef){return this.r=Qc.r+ef.r,this.g=Qc.g+ef.g,this.b=Qc.b+ef.b,this},addScalar:function(Qc){return this.r+=Qc,this.g+=Qc,this.b+=Qc,this},sub:function(Qc){return this.r=Math.max(0,this.r-Qc.r),this.g=Math.max(0,this.g-Qc.g),this.b=Math.max(0,this.b-Qc.b),this},multiply:function(Qc){return this.r*=Qc.r,this.g*=Qc.g,this.b*=Qc.b,this},multiplyScalar:function(Qc){return this.r*=Qc,this.g*=Qc,this.b*=Qc,this},lerp:function(Qc,ef){return this.r+=(Qc.r-this.r)*ef,this.g+=(Qc.g-this.g)*ef,this.b+=(Qc.b-this.b)*ef,this},lerpHSL:function(){var Qc={h:0,s:0,l:0},ef={h:0,s:0,l:0};return function(nf,rf){this.getHSL(Qc),nf.getHSL(ef);var sf=_Math.lerp(Qc.h,ef.h,rf),af=_Math.lerp(Qc.s,ef.s,rf),lf=_Math.lerp(Qc.l,ef.l,rf);return this.setHSL(sf,af,lf),this}}(),equals:function(Qc){return Qc.r===this.r&&Qc.g===this.g&&Qc.b===this.b},fromArray:function(Qc,ef){return ef===void 0&&(ef=0),this.r=Qc[ef],this.g=Qc[ef+1],this.b=Qc[ef+2],this},toArray:function(Qc,ef){return Qc===void 0&&(Qc=[]),ef===void 0&&(ef=0),Qc[ef]=this.r,Qc[ef+1]=this.g,Qc[ef+2]=this.b,Qc},toJSON:function(){return this.getHex()}});var UniformsLib={common:{diffuse:{value:new Color$1(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Color$1(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(15658734)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},matcap:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:UniformsUtils.merge([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.normal_vert,fragmentShader:ShaderChunk.normal_frag},sprite:{uniforms:UniformsUtils.merge([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:UniformsUtils.merge([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:UniformsUtils.merge([ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLAnimation(){var Qc=null,ef=!1,tf=null;function nf(rf,sf){ef!==!1&&(tf(rf,sf),Qc.requestAnimationFrame(nf))}return{start:function(){ef!==!0&&tf!==null&&(Qc.requestAnimationFrame(nf),ef=!0)},stop:function(){ef=!1},setAnimationLoop:function(rf){tf=rf},setContext:function(rf){Qc=rf}}}function WebGLAttributes(Qc){var ef=new WeakMap;function tf(lf,cf){var uf=lf.array,ff=lf.dynamic?Qc.DYNAMIC_DRAW:Qc.STATIC_DRAW,df=Qc.createBuffer();Qc.bindBuffer(cf,df),Qc.bufferData(cf,uf,ff),lf.onUploadCallback();var gf=Qc.FLOAT;return uf instanceof Float32Array?gf=Qc.FLOAT:uf instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):uf instanceof Uint16Array?gf=Qc.UNSIGNED_SHORT:uf instanceof Int16Array?gf=Qc.SHORT:uf instanceof Uint32Array?gf=Qc.UNSIGNED_INT:uf instanceof Int32Array?gf=Qc.INT:uf instanceof Int8Array?gf=Qc.BYTE:uf instanceof Uint8Array&&(gf=Qc.UNSIGNED_BYTE),{buffer:df,type:gf,bytesPerElement:uf.BYTES_PER_ELEMENT,version:lf.version}}function nf(lf,cf,uf){var ff=cf.array,df=cf.updateRange;Qc.bindBuffer(uf,lf),cf.dynamic===!1?Qc.bufferData(uf,ff,Qc.STATIC_DRAW):df.count===-1?Qc.bufferSubData(uf,0,ff):df.count===0?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(Qc.bufferSubData(uf,df.offset*ff.BYTES_PER_ELEMENT,ff.subarray(df.offset,df.offset+df.count)),df.count=-1)}function rf(lf){return lf.isInterleavedBufferAttribute&&(lf=lf.data),ef.get(lf)}function sf(lf){lf.isInterleavedBufferAttribute&&(lf=lf.data);var cf=ef.get(lf);cf&&(Qc.deleteBuffer(cf.buffer),ef.delete(lf))}function af(lf,cf){lf.isInterleavedBufferAttribute&&(lf=lf.data);var uf=ef.get(lf);uf===void 0?ef.set(lf,tf(lf,cf)):uf.version<lf.version&&(nf(uf.buffer,lf,cf),uf.version=lf.version)}return{get:rf,remove:sf,update:af}}function Face3(Qc,ef,tf,nf,rf,sf){this.a=Qc,this.b=ef,this.c=tf,this.normal=nf&&nf.isVector3?nf:new Vector3,this.vertexNormals=Array.isArray(nf)?nf:[],this.color=rf&&rf.isColor?rf:new Color$1,this.vertexColors=Array.isArray(rf)?rf:[],this.materialIndex=sf!==void 0?sf:0}Object.assign(Face3.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(Qc){this.a=Qc.a,this.b=Qc.b,this.c=Qc.c,this.normal.copy(Qc.normal),this.color.copy(Qc.color),this.materialIndex=Qc.materialIndex;for(var ef=0,tf=Qc.vertexNormals.length;ef<tf;ef++)this.vertexNormals[ef]=Qc.vertexNormals[ef].clone();for(var ef=0,tf=Qc.vertexColors.length;ef<tf;ef++)this.vertexColors[ef]=Qc.vertexColors[ef].clone();return this}});function Euler(Qc,ef,tf,nf){this._x=Qc||0,this._y=ef||0,this._z=tf||0,this._order=nf||Euler.DefaultOrder}Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];Euler.DefaultOrder="XYZ";Object.defineProperties(Euler.prototype,{x:{get:function(){return this._x},set:function(Qc){this._x=Qc,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(Qc){this._y=Qc,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(Qc){this._z=Qc,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(Qc){this._order=Qc,this.onChangeCallback()}}});Object.assign(Euler.prototype,{isEuler:!0,set:function(Qc,ef,tf,nf){return this._x=Qc,this._y=ef,this._z=tf,this._order=nf||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(Qc){return this._x=Qc._x,this._y=Qc._y,this._z=Qc._z,this._order=Qc._order,this.onChangeCallback(),this},setFromRotationMatrix:function(Qc,ef,tf){var nf=_Math.clamp,rf=Qc.elements,sf=rf[0],af=rf[4],lf=rf[8],cf=rf[1],uf=rf[5],ff=rf[9],df=rf[2],gf=rf[6],_f=rf[10];return ef=ef||this._order,ef==="XYZ"?(this._y=Math.asin(nf(lf,-1,1)),Math.abs(lf)<.99999?(this._x=Math.atan2(-ff,_f),this._z=Math.atan2(-af,sf)):(this._x=Math.atan2(gf,uf),this._z=0)):ef==="YXZ"?(this._x=Math.asin(-nf(ff,-1,1)),Math.abs(ff)<.99999?(this._y=Math.atan2(lf,_f),this._z=Math.atan2(cf,uf)):(this._y=Math.atan2(-df,sf),this._z=0)):ef==="ZXY"?(this._x=Math.asin(nf(gf,-1,1)),Math.abs(gf)<.99999?(this._y=Math.atan2(-df,_f),this._z=Math.atan2(-af,uf)):(this._y=0,this._z=Math.atan2(cf,sf))):ef==="ZYX"?(this._y=Math.asin(-nf(df,-1,1)),Math.abs(df)<.99999?(this._x=Math.atan2(gf,_f),this._z=Math.atan2(cf,sf)):(this._x=0,this._z=Math.atan2(-af,uf))):ef==="YZX"?(this._z=Math.asin(nf(cf,-1,1)),Math.abs(cf)<.99999?(this._x=Math.atan2(-ff,uf),this._y=Math.atan2(-df,sf)):(this._x=0,this._y=Math.atan2(lf,_f))):ef==="XZY"?(this._z=Math.asin(-nf(af,-1,1)),Math.abs(af)<.99999?(this._x=Math.atan2(gf,uf),this._y=Math.atan2(lf,sf)):(this._x=Math.atan2(-ff,_f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+ef),this._order=ef,tf!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var Qc=new Matrix4;return function(tf,nf,rf){return Qc.makeRotationFromQuaternion(tf),this.setFromRotationMatrix(Qc,nf,rf)}}(),setFromVector3:function(Qc,ef){return this.set(Qc.x,Qc.y,Qc.z,ef||this._order)},reorder:function(){var Qc=new Quaternion;return function(tf){return Qc.setFromEuler(this),this.setFromQuaternion(Qc,tf)}}(),equals:function(Qc){return Qc._x===this._x&&Qc._y===this._y&&Qc._z===this._z&&Qc._order===this._order},fromArray:function(Qc){return this._x=Qc[0],this._y=Qc[1],this._z=Qc[2],Qc[3]!==void 0&&(this._order=Qc[3]),this.onChangeCallback(),this},toArray:function(Qc,ef){return Qc===void 0&&(Qc=[]),ef===void 0&&(ef=0),Qc[ef]=this._x,Qc[ef+1]=this._y,Qc[ef+2]=this._z,Qc[ef+3]=this._order,Qc},toVector3:function(Qc){return Qc?Qc.set(this._x,this._y,this._z):new Vector3(this._x,this._y,this._z)},onChange:function(Qc){return this.onChangeCallback=Qc,this},onChangeCallback:function(){}});function Layers(){this.mask=1}Object.assign(Layers.prototype,{set:function(Qc){this.mask=1<<Qc|0},enable:function(Qc){this.mask|=1<<Qc|0},toggle:function(Qc){this.mask^=1<<Qc|0},disable:function(Qc){this.mask&=~(1<<Qc|0)},test:function(Qc){return(this.mask&Qc.mask)!==0}});var object3DId=0;function Object3D(){Object.defineProperty(this,"id",{value:object3DId++}),this.uuid=_Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();var Qc=new Vector3,ef=new Euler,tf=new Quaternion,nf=new Vector3(1,1,1);function rf(){tf.setFromEuler(ef,!1)}function sf(){ef.setFromQuaternion(tf,void 0,!1)}ef.onChange(rf),tf.onChange(sf),Object.defineProperties(this,{position:{enumerable:!0,value:Qc},rotation:{enumerable:!0,value:ef},quaternion:{enumerable:!0,value:tf},scale:{enumerable:!0,value:nf},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Object3D,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(Qc){this.matrix.multiplyMatrices(Qc,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(Qc){return this.quaternion.premultiply(Qc),this},setRotationFromAxisAngle:function(Qc,ef){this.quaternion.setFromAxisAngle(Qc,ef)},setRotationFromEuler:function(Qc){this.quaternion.setFromEuler(Qc,!0)},setRotationFromMatrix:function(Qc){this.quaternion.setFromRotationMatrix(Qc)},setRotationFromQuaternion:function(Qc){this.quaternion.copy(Qc)},rotateOnAxis:function(){var Qc=new Quaternion;return function(tf,nf){return Qc.setFromAxisAngle(tf,nf),this.quaternion.multiply(Qc),this}}(),rotateOnWorldAxis:function(){var Qc=new Quaternion;return function(tf,nf){return Qc.setFromAxisAngle(tf,nf),this.quaternion.premultiply(Qc),this}}(),rotateX:function(){var Qc=new Vector3(1,0,0);return function(tf){return this.rotateOnAxis(Qc,tf)}}(),rotateY:function(){var Qc=new Vector3(0,1,0);return function(tf){return this.rotateOnAxis(Qc,tf)}}(),rotateZ:function(){var Qc=new Vector3(0,0,1);return function(tf){return this.rotateOnAxis(Qc,tf)}}(),translateOnAxis:function(){var Qc=new Vector3;return function(tf,nf){return Qc.copy(tf).applyQuaternion(this.quaternion),this.position.add(Qc.multiplyScalar(nf)),this}}(),translateX:function(){var Qc=new Vector3(1,0,0);return function(tf){return this.translateOnAxis(Qc,tf)}}(),translateY:function(){var Qc=new Vector3(0,1,0);return function(tf){return this.translateOnAxis(Qc,tf)}}(),translateZ:function(){var Qc=new Vector3(0,0,1);return function(tf){return this.translateOnAxis(Qc,tf)}}(),localToWorld:function(Qc){return Qc.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var Qc=new Matrix4;return function(tf){return tf.applyMatrix4(Qc.getInverse(this.matrixWorld))}}(),lookAt:function(){var Qc=new Quaternion,ef=new Matrix4,tf=new Vector3,nf=new Vector3;return function(sf,af,lf){sf.isVector3?tf.copy(sf):tf.set(sf,af,lf);var cf=this.parent;this.updateWorldMatrix(!0,!1),nf.setFromMatrixPosition(this.matrixWorld),this.isCamera?ef.lookAt(nf,tf,this.up):ef.lookAt(tf,nf,this.up),this.quaternion.setFromRotationMatrix(ef),cf&&(ef.extractRotation(cf.matrixWorld),Qc.setFromRotationMatrix(ef),this.quaternion.premultiply(Qc.inverse()))}}(),add:function(Qc){if(arguments.length>1){for(var ef=0;ef<arguments.length;ef++)this.add(arguments[ef]);return this}return Qc===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",Qc),this):(Qc&&Qc.isObject3D?(Qc.parent!==null&&Qc.parent.remove(Qc),Qc.parent=this,Qc.dispatchEvent({type:"added"}),this.children.push(Qc)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",Qc),this)},remove:function(Qc){if(arguments.length>1){for(var ef=0;ef<arguments.length;ef++)this.remove(arguments[ef]);return this}var tf=this.children.indexOf(Qc);return tf!==-1&&(Qc.parent=null,Qc.dispatchEvent({type:"removed"}),this.children.splice(tf,1)),this},getObjectById:function(Qc){return this.getObjectByProperty("id",Qc)},getObjectByName:function(Qc){return this.getObjectByProperty("name",Qc)},getObjectByProperty:function(Qc,ef){if(this[Qc]===ef)return this;for(var tf=0,nf=this.children.length;tf<nf;tf++){var rf=this.children[tf],sf=rf.getObjectByProperty(Qc,ef);if(sf!==void 0)return sf}},getWorldPosition:function(Qc){return Qc===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),Qc=new Vector3),this.updateMatrixWorld(!0),Qc.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var Qc=new Vector3,ef=new Vector3;return function(nf){return nf===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),nf=new Quaternion),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Qc,nf,ef),nf}}(),getWorldScale:function(){var Qc=new Vector3,ef=new Quaternion;return function(nf){return nf===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),nf=new Vector3),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Qc,ef,nf),nf}}(),getWorldDirection:function(Qc){Qc===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),Qc=new Vector3),this.updateMatrixWorld(!0);var ef=this.matrixWorld.elements;return Qc.set(ef[8],ef[9],ef[10]).normalize()},raycast:function(){},traverse:function(Qc){Qc(this);for(var ef=this.children,tf=0,nf=ef.length;tf<nf;tf++)ef[tf].traverse(Qc)},traverseVisible:function(Qc){if(this.visible!==!1){Qc(this);for(var ef=this.children,tf=0,nf=ef.length;tf<nf;tf++)ef[tf].traverseVisible(Qc)}},traverseAncestors:function(Qc){var ef=this.parent;ef!==null&&(Qc(ef),ef.traverseAncestors(Qc))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(Qc){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||Qc)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,Qc=!0);for(var ef=this.children,tf=0,nf=ef.length;tf<nf;tf++)ef[tf].updateMatrixWorld(Qc)},updateWorldMatrix:function(Qc,ef){var tf=this.parent;if(Qc===!0&&tf!==null&&tf.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),ef===!0)for(var nf=this.children,rf=0,sf=nf.length;rf<sf;rf++)nf[rf].updateWorldMatrix(!1,!0)},toJSON:function(Qc){var ef=Qc===void 0||typeof Qc=="string",tf={};ef&&(Qc={geometries:{},materials:{},textures:{},images:{},shapes:{}},tf.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var nf={};nf.uuid=this.uuid,nf.type=this.type,this.name!==""&&(nf.name=this.name),this.castShadow===!0&&(nf.castShadow=!0),this.receiveShadow===!0&&(nf.receiveShadow=!0),this.visible===!1&&(nf.visible=!1),this.frustumCulled===!1&&(nf.frustumCulled=!1),this.renderOrder!==0&&(nf.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(nf.userData=this.userData),nf.layers=this.layers.mask,nf.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(nf.matrixAutoUpdate=!1);function rf(Df,Of){return Df[Of.uuid]===void 0&&(Df[Of.uuid]=Of.toJSON(Qc)),Of.uuid}if(this.isMesh||this.isLine||this.isPoints){nf.geometry=rf(Qc.geometries,this.geometry);var sf=this.geometry.parameters;if(sf!==void 0&&sf.shapes!==void 0){var af=sf.shapes;if(Array.isArray(af))for(var lf=0,cf=af.length;lf<cf;lf++){var uf=af[lf];rf(Qc.shapes,uf)}else rf(Qc.shapes,af)}}if(this.material!==void 0)if(Array.isArray(this.material)){for(var ff=[],lf=0,cf=this.material.length;lf<cf;lf++)ff.push(rf(Qc.materials,this.material[lf]));nf.material=ff}else nf.material=rf(Qc.materials,this.material);if(this.children.length>0){nf.children=[];for(var lf=0;lf<this.children.length;lf++)nf.children.push(this.children[lf].toJSON(Qc).object)}if(ef){var df=Af(Qc.geometries),gf=Af(Qc.materials),_f=Af(Qc.textures),xf=Af(Qc.images),af=Af(Qc.shapes);df.length>0&&(tf.geometries=df),gf.length>0&&(tf.materials=gf),_f.length>0&&(tf.textures=_f),xf.length>0&&(tf.images=xf),af.length>0&&(tf.shapes=af)}return tf.object=nf,tf;function Af(Df){var Of=[];for(var Gf in Df){var Bf=Df[Gf];delete Bf.metadata,Of.push(Bf)}return Of}},clone:function(Qc){return new this.constructor().copy(this,Qc)},copy:function(Qc,ef){if(ef===void 0&&(ef=!0),this.name=Qc.name,this.up.copy(Qc.up),this.position.copy(Qc.position),this.quaternion.copy(Qc.quaternion),this.scale.copy(Qc.scale),this.matrix.copy(Qc.matrix),this.matrixWorld.copy(Qc.matrixWorld),this.matrixAutoUpdate=Qc.matrixAutoUpdate,this.matrixWorldNeedsUpdate=Qc.matrixWorldNeedsUpdate,this.layers.mask=Qc.layers.mask,this.visible=Qc.visible,this.castShadow=Qc.castShadow,this.receiveShadow=Qc.receiveShadow,this.frustumCulled=Qc.frustumCulled,this.renderOrder=Qc.renderOrder,this.userData=JSON.parse(JSON.stringify(Qc.userData)),ef===!0)for(var tf=0;tf<Qc.children.length;tf++){var nf=Qc.children[tf];this.add(nf.clone())}return this}});var geometryId=0;function Geometry(){Object.defineProperty(this,"id",{value:geometryId+=2}),this.uuid=_Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Geometry.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Geometry,isGeometry:!0,applyMatrix:function(Qc){for(var ef=new Matrix3().getNormalMatrix(Qc),tf=0,nf=this.vertices.length;tf<nf;tf++){var rf=this.vertices[tf];rf.applyMatrix4(Qc)}for(var tf=0,nf=this.faces.length;tf<nf;tf++){var sf=this.faces[tf];sf.normal.applyMatrix3(ef).normalize();for(var af=0,lf=sf.vertexNormals.length;af<lf;af++)sf.vertexNormals[af].applyMatrix3(ef).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var Qc=new Matrix4;return function(tf){return Qc.makeRotationX(tf),this.applyMatrix(Qc),this}}(),rotateY:function(){var Qc=new Matrix4;return function(tf){return Qc.makeRotationY(tf),this.applyMatrix(Qc),this}}(),rotateZ:function(){var Qc=new Matrix4;return function(tf){return Qc.makeRotationZ(tf),this.applyMatrix(Qc),this}}(),translate:function(){var Qc=new Matrix4;return function(tf,nf,rf){return Qc.makeTranslation(tf,nf,rf),this.applyMatrix(Qc),this}}(),scale:function(){var Qc=new Matrix4;return function(tf,nf,rf){return Qc.makeScale(tf,nf,rf),this.applyMatrix(Qc),this}}(),lookAt:function(){var Qc=new Object3D;return function(tf){Qc.lookAt(tf),Qc.updateMatrix(),this.applyMatrix(Qc.matrix)}}(),fromBufferGeometry:function(Qc){var ef=this,tf=Qc.index!==null?Qc.index.array:void 0,nf=Qc.attributes,rf=nf.position.array,sf=nf.normal!==void 0?nf.normal.array:void 0,af=nf.color!==void 0?nf.color.array:void 0,lf=nf.uv!==void 0?nf.uv.array:void 0,cf=nf.uv2!==void 0?nf.uv2.array:void 0;cf!==void 0&&(this.faceVertexUvs[1]=[]);for(var uf=[],ff=[],df=[],gf=0,_f=0;gf<rf.length;gf+=3,_f+=2)ef.vertices.push(new Vector3(rf[gf],rf[gf+1],rf[gf+2])),sf!==void 0&&uf.push(new Vector3(sf[gf],sf[gf+1],sf[gf+2])),af!==void 0&&ef.colors.push(new Color$1(af[gf],af[gf+1],af[gf+2])),lf!==void 0&&ff.push(new Vector2(lf[_f],lf[_f+1])),cf!==void 0&&df.push(new Vector2(cf[_f],cf[_f+1]));function xf(Vf,Lf,Cf,Tf){var Yf=sf!==void 0?[uf[Vf].clone(),uf[Lf].clone(),uf[Cf].clone()]:[],rh=af!==void 0?[ef.colors[Vf].clone(),ef.colors[Lf].clone(),ef.colors[Cf].clone()]:[],dh=new Face3(Vf,Lf,Cf,Yf,rh,Tf);ef.faces.push(dh),lf!==void 0&&ef.faceVertexUvs[0].push([ff[Vf].clone(),ff[Lf].clone(),ff[Cf].clone()]),cf!==void 0&&ef.faceVertexUvs[1].push([df[Vf].clone(),df[Lf].clone(),df[Cf].clone()])}var Af=Qc.groups;if(Af.length>0)for(var gf=0;gf<Af.length;gf++)for(var Df=Af[gf],Of=Df.start,Gf=Df.count,_f=Of,Bf=Of+Gf;_f<Bf;_f+=3)tf!==void 0?xf(tf[_f],tf[_f+1],tf[_f+2],Df.materialIndex):xf(_f,_f+1,_f+2,Df.materialIndex);else if(tf!==void 0)for(var gf=0;gf<tf.length;gf+=3)xf(tf[gf],tf[gf+1],tf[gf+2]);else for(var gf=0;gf<rf.length/3;gf+=3)xf(gf,gf+1,gf+2);return this.computeFaceNormals(),Qc.boundingBox!==null&&(this.boundingBox=Qc.boundingBox.clone()),Qc.boundingSphere!==null&&(this.boundingSphere=Qc.boundingSphere.clone()),this},center:function(){var Qc=new Vector3;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qc).negate(),this.translate(Qc.x,Qc.y,Qc.z),this}}(),normalize:function(){this.computeBoundingSphere();var Qc=this.boundingSphere.center,ef=this.boundingSphere.radius,tf=ef===0?1:1/ef,nf=new Matrix4;return nf.set(tf,0,0,-tf*Qc.x,0,tf,0,-tf*Qc.y,0,0,tf,-tf*Qc.z,0,0,0,1),this.applyMatrix(nf),this},computeFaceNormals:function(){for(var Qc=new Vector3,ef=new Vector3,tf=0,nf=this.faces.length;tf<nf;tf++){var rf=this.faces[tf],sf=this.vertices[rf.a],af=this.vertices[rf.b],lf=this.vertices[rf.c];Qc.subVectors(lf,af),ef.subVectors(sf,af),Qc.cross(ef),Qc.normalize(),rf.normal.copy(Qc)}},computeVertexNormals:function(Qc){Qc===void 0&&(Qc=!0);var ef,tf,nf,rf,sf,af;for(af=new Array(this.vertices.length),ef=0,tf=this.vertices.length;ef<tf;ef++)af[ef]=new Vector3;if(Qc){var lf,cf,uf,ff=new Vector3,df=new Vector3;for(nf=0,rf=this.faces.length;nf<rf;nf++)sf=this.faces[nf],lf=this.vertices[sf.a],cf=this.vertices[sf.b],uf=this.vertices[sf.c],ff.subVectors(uf,cf),df.subVectors(lf,cf),ff.cross(df),af[sf.a].add(ff),af[sf.b].add(ff),af[sf.c].add(ff)}else for(this.computeFaceNormals(),nf=0,rf=this.faces.length;nf<rf;nf++)sf=this.faces[nf],af[sf.a].add(sf.normal),af[sf.b].add(sf.normal),af[sf.c].add(sf.normal);for(ef=0,tf=this.vertices.length;ef<tf;ef++)af[ef].normalize();for(nf=0,rf=this.faces.length;nf<rf;nf++){sf=this.faces[nf];var gf=sf.vertexNormals;gf.length===3?(gf[0].copy(af[sf.a]),gf[1].copy(af[sf.b]),gf[2].copy(af[sf.c])):(gf[0]=af[sf.a].clone(),gf[1]=af[sf.b].clone(),gf[2]=af[sf.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var Qc,ef,tf;for(this.computeFaceNormals(),Qc=0,ef=this.faces.length;Qc<ef;Qc++){tf=this.faces[Qc];var nf=tf.vertexNormals;nf.length===3?(nf[0].copy(tf.normal),nf[1].copy(tf.normal),nf[2].copy(tf.normal)):(nf[0]=tf.normal.clone(),nf[1]=tf.normal.clone(),nf[2]=tf.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var Qc,ef,tf,nf,rf;for(tf=0,nf=this.faces.length;tf<nf;tf++)for(rf=this.faces[tf],rf.__originalFaceNormal?rf.__originalFaceNormal.copy(rf.normal):rf.__originalFaceNormal=rf.normal.clone(),rf.__originalVertexNormals||(rf.__originalVertexNormals=[]),Qc=0,ef=rf.vertexNormals.length;Qc<ef;Qc++)rf.__originalVertexNormals[Qc]?rf.__originalVertexNormals[Qc].copy(rf.vertexNormals[Qc]):rf.__originalVertexNormals[Qc]=rf.vertexNormals[Qc].clone();var sf=new Geometry;for(sf.faces=this.faces,Qc=0,ef=this.morphTargets.length;Qc<ef;Qc++){if(!this.morphNormals[Qc]){this.morphNormals[Qc]={},this.morphNormals[Qc].faceNormals=[],this.morphNormals[Qc].vertexNormals=[];var af=this.morphNormals[Qc].faceNormals,lf=this.morphNormals[Qc].vertexNormals,uf,ff;for(tf=0,nf=this.faces.length;tf<nf;tf++)uf=new Vector3,ff={a:new Vector3,b:new Vector3,c:new Vector3},af.push(uf),lf.push(ff)}var cf=this.morphNormals[Qc];sf.vertices=this.morphTargets[Qc].vertices,sf.computeFaceNormals(),sf.computeVertexNormals();var uf,ff;for(tf=0,nf=this.faces.length;tf<nf;tf++)rf=this.faces[tf],uf=cf.faceNormals[tf],ff=cf.vertexNormals[tf],uf.copy(rf.normal),ff.a.copy(rf.vertexNormals[0]),ff.b.copy(rf.vertexNormals[1]),ff.c.copy(rf.vertexNormals[2])}for(tf=0,nf=this.faces.length;tf<nf;tf++)rf=this.faces[tf],rf.normal=rf.__originalFaceNormal,rf.vertexNormals=rf.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(Qc,ef,tf){if(!(Qc&&Qc.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",Qc);return}var nf,rf=this.vertices.length,sf=this.vertices,af=Qc.vertices,lf=this.faces,cf=Qc.faces,uf=this.faceVertexUvs[0],ff=Qc.faceVertexUvs[0],df=this.colors,gf=Qc.colors;tf===void 0&&(tf=0),ef!==void 0&&(nf=new Matrix3().getNormalMatrix(ef));for(var _f=0,xf=af.length;_f<xf;_f++){var Af=af[_f],Df=Af.clone();ef!==void 0&&Df.applyMatrix4(ef),sf.push(Df)}for(var _f=0,xf=gf.length;_f<xf;_f++)df.push(gf[_f].clone());for(_f=0,xf=cf.length;_f<xf;_f++){var Of=cf[_f],Gf,Bf,Vf,Lf=Of.vertexNormals,Cf=Of.vertexColors;Gf=new Face3(Of.a+rf,Of.b+rf,Of.c+rf),Gf.normal.copy(Of.normal),nf!==void 0&&Gf.normal.applyMatrix3(nf).normalize();for(var Tf=0,Yf=Lf.length;Tf<Yf;Tf++)Bf=Lf[Tf].clone(),nf!==void 0&&Bf.applyMatrix3(nf).normalize(),Gf.vertexNormals.push(Bf);Gf.color.copy(Of.color);for(var Tf=0,Yf=Cf.length;Tf<Yf;Tf++)Vf=Cf[Tf],Gf.vertexColors.push(Vf.clone());Gf.materialIndex=Of.materialIndex+tf,lf.push(Gf)}for(_f=0,xf=ff.length;_f<xf;_f++){var rh=ff[_f],dh=[];if(rh!==void 0){for(var Tf=0,Yf=rh.length;Tf<Yf;Tf++)dh.push(rh[Tf].clone());uf.push(dh)}}},mergeMesh:function(Qc){if(!(Qc&&Qc.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",Qc);return}Qc.matrixAutoUpdate&&Qc.updateMatrix(),this.merge(Qc.geometry,Qc.matrix)},mergeVertices:function(){var Qc={},ef=[],tf=[],nf,rf,sf=4,af=Math.pow(10,sf),lf,cf,uf,ff,df,gf;for(lf=0,cf=this.vertices.length;lf<cf;lf++)nf=this.vertices[lf],rf=Math.round(nf.x*af)+"_"+Math.round(nf.y*af)+"_"+Math.round(nf.z*af),Qc[rf]===void 0?(Qc[rf]=lf,ef.push(this.vertices[lf]),tf[lf]=ef.length-1):tf[lf]=tf[Qc[rf]];var _f=[];for(lf=0,cf=this.faces.length;lf<cf;lf++){uf=this.faces[lf],uf.a=tf[uf.a],uf.b=tf[uf.b],uf.c=tf[uf.c],ff=[uf.a,uf.b,uf.c];for(var xf=0;xf<3;xf++)if(ff[xf]===ff[(xf+1)%3]){_f.push(lf);break}}for(lf=_f.length-1;lf>=0;lf--){var Af=_f[lf];for(this.faces.splice(Af,1),df=0,gf=this.faceVertexUvs.length;df<gf;df++)this.faceVertexUvs[df].splice(Af,1)}var Df=this.vertices.length-ef.length;return this.vertices=ef,Df},setFromPoints:function(Qc){this.vertices=[];for(var ef=0,tf=Qc.length;ef<tf;ef++){var nf=Qc[ef];this.vertices.push(new Vector3(nf.x,nf.y,nf.z||0))}return this},sortFacesByMaterialIndex:function(){for(var Qc=this.faces,ef=Qc.length,tf=0;tf<ef;tf++)Qc[tf]._id=tf;function nf(uf,ff){return uf.materialIndex-ff.materialIndex}Qc.sort(nf);var rf=this.faceVertexUvs[0],sf=this.faceVertexUvs[1],af,lf;rf&&rf.length===ef&&(af=[]),sf&&sf.length===ef&&(lf=[]);for(var tf=0;tf<ef;tf++){var cf=Qc[tf]._id;af&&af.push(rf[cf]),lf&&lf.push(sf[cf])}af&&(this.faceVertexUvs[0]=af),lf&&(this.faceVertexUvs[1]=lf)},toJSON:function(){var Qc={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(Qc.uuid=this.uuid,Qc.type=this.type,this.name!==""&&(Qc.name=this.name),this.parameters!==void 0){var ef=this.parameters;for(var tf in ef)ef[tf]!==void 0&&(Qc[tf]=ef[tf]);return Qc}for(var nf=[],rf=0;rf<this.vertices.length;rf++){var sf=this.vertices[rf];nf.push(sf.x,sf.y,sf.z)}for(var af=[],lf=[],cf={},uf=[],ff={},df=[],gf={},rf=0;rf<this.faces.length;rf++){var _f=this.faces[rf],xf=!0,Af=!1,Df=this.faceVertexUvs[0][rf]!==void 0,Of=_f.normal.length()>0,Gf=_f.vertexNormals.length>0,Bf=_f.color.r!==1||_f.color.g!==1||_f.color.b!==1,Vf=_f.vertexColors.length>0,Lf=0;if(Lf=rh(Lf,0,0),Lf=rh(Lf,1,xf),Lf=rh(Lf,2,Af),Lf=rh(Lf,3,Df),Lf=rh(Lf,4,Of),Lf=rh(Lf,5,Gf),Lf=rh(Lf,6,Bf),Lf=rh(Lf,7,Vf),af.push(Lf),af.push(_f.a,_f.b,_f.c),af.push(_f.materialIndex),Df){var Cf=this.faceVertexUvs[0][rf];af.push(sh(Cf[0]),sh(Cf[1]),sh(Cf[2]))}if(Of&&af.push(dh(_f.normal)),Gf){var Tf=_f.vertexNormals;af.push(dh(Tf[0]),dh(Tf[1]),dh(Tf[2]))}if(Bf&&af.push(hh(_f.color)),Vf){var Yf=_f.vertexColors;af.push(hh(Yf[0]),hh(Yf[1]),hh(Yf[2]))}}function rh(Hf,Qf,ah){return ah?Hf|1<<Qf:Hf&~(1<<Qf)}function dh(Hf){var Qf=Hf.x.toString()+Hf.y.toString()+Hf.z.toString();return cf[Qf]!==void 0||(cf[Qf]=lf.length/3,lf.push(Hf.x,Hf.y,Hf.z)),cf[Qf]}function hh(Hf){var Qf=Hf.r.toString()+Hf.g.toString()+Hf.b.toString();return ff[Qf]!==void 0||(ff[Qf]=uf.length,uf.push(Hf.getHex())),ff[Qf]}function sh(Hf){var Qf=Hf.x.toString()+Hf.y.toString();return gf[Qf]!==void 0||(gf[Qf]=df.length/2,df.push(Hf.x,Hf.y)),gf[Qf]}return Qc.data={},Qc.data.vertices=nf,Qc.data.normals=lf,uf.length>0&&(Qc.data.colors=uf),df.length>0&&(Qc.data.uvs=[df]),Qc.data.faces=af,Qc},clone:function(){return new Geometry().copy(this)},copy:function(Qc){var ef,tf,nf,rf,sf,af;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=Qc.name;var lf=Qc.vertices;for(ef=0,tf=lf.length;ef<tf;ef++)this.vertices.push(lf[ef].clone());var cf=Qc.colors;for(ef=0,tf=cf.length;ef<tf;ef++)this.colors.push(cf[ef].clone());var uf=Qc.faces;for(ef=0,tf=uf.length;ef<tf;ef++)this.faces.push(uf[ef].clone());for(ef=0,tf=Qc.faceVertexUvs.length;ef<tf;ef++){var ff=Qc.faceVertexUvs[ef];for(this.faceVertexUvs[ef]===void 0&&(this.faceVertexUvs[ef]=[]),nf=0,rf=ff.length;nf<rf;nf++){var df=ff[nf],gf=[];for(sf=0,af=df.length;sf<af;sf++){var _f=df[sf];gf.push(_f.clone())}this.faceVertexUvs[ef].push(gf)}}var xf=Qc.morphTargets;for(ef=0,tf=xf.length;ef<tf;ef++){var Af={};if(Af.name=xf[ef].name,xf[ef].vertices!==void 0)for(Af.vertices=[],nf=0,rf=xf[ef].vertices.length;nf<rf;nf++)Af.vertices.push(xf[ef].vertices[nf].clone());if(xf[ef].normals!==void 0)for(Af.normals=[],nf=0,rf=xf[ef].normals.length;nf<rf;nf++)Af.normals.push(xf[ef].normals[nf].clone());this.morphTargets.push(Af)}var Df=Qc.morphNormals;for(ef=0,tf=Df.length;ef<tf;ef++){var Of={};if(Df[ef].vertexNormals!==void 0)for(Of.vertexNormals=[],nf=0,rf=Df[ef].vertexNormals.length;nf<rf;nf++){var Gf=Df[ef].vertexNormals[nf],Bf={};Bf.a=Gf.a.clone(),Bf.b=Gf.b.clone(),Bf.c=Gf.c.clone(),Of.vertexNormals.push(Bf)}if(Df[ef].faceNormals!==void 0)for(Of.faceNormals=[],nf=0,rf=Df[ef].faceNormals.length;nf<rf;nf++)Of.faceNormals.push(Df[ef].faceNormals[nf].clone());this.morphNormals.push(Of)}var Vf=Qc.skinWeights;for(ef=0,tf=Vf.length;ef<tf;ef++)this.skinWeights.push(Vf[ef].clone());var Lf=Qc.skinIndices;for(ef=0,tf=Lf.length;ef<tf;ef++)this.skinIndices.push(Lf[ef].clone());var Cf=Qc.lineDistances;for(ef=0,tf=Cf.length;ef<tf;ef++)this.lineDistances.push(Cf[ef]);var Tf=Qc.boundingBox;Tf!==null&&(this.boundingBox=Tf.clone());var Yf=Qc.boundingSphere;return Yf!==null&&(this.boundingSphere=Yf.clone()),this.elementsNeedUpdate=Qc.elementsNeedUpdate,this.verticesNeedUpdate=Qc.verticesNeedUpdate,this.uvsNeedUpdate=Qc.uvsNeedUpdate,this.normalsNeedUpdate=Qc.normalsNeedUpdate,this.colorsNeedUpdate=Qc.colorsNeedUpdate,this.lineDistancesNeedUpdate=Qc.lineDistancesNeedUpdate,this.groupsNeedUpdate=Qc.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function BufferAttribute(Qc,ef,tf){if(Array.isArray(Qc))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=Qc,this.itemSize=ef,this.count=Qc!==void 0?Qc.length/ef:0,this.normalized=tf===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(BufferAttribute.prototype,"needsUpdate",{set:function(Qc){Qc===!0&&this.version++}});Object.assign(BufferAttribute.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(Qc){if(Array.isArray(Qc))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=Qc!==void 0?Qc.length/this.itemSize:0,this.array=Qc,this},setDynamic:function(Qc){return this.dynamic=Qc,this},copy:function(Qc){return this.name=Qc.name,this.array=new Qc.array.constructor(Qc.array),this.itemSize=Qc.itemSize,this.count=Qc.count,this.normalized=Qc.normalized,this.dynamic=Qc.dynamic,this},copyAt:function(Qc,ef,tf){Qc*=this.itemSize,tf*=ef.itemSize;for(var nf=0,rf=this.itemSize;nf<rf;nf++)this.array[Qc+nf]=ef.array[tf+nf];return this},copyArray:function(Qc){return this.array.set(Qc),this},copyColorsArray:function(Qc){for(var ef=this.array,tf=0,nf=0,rf=Qc.length;nf<rf;nf++){var sf=Qc[nf];sf===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",nf),sf=new Color$1),ef[tf++]=sf.r,ef[tf++]=sf.g,ef[tf++]=sf.b}return this},copyVector2sArray:function(Qc){for(var ef=this.array,tf=0,nf=0,rf=Qc.length;nf<rf;nf++){var sf=Qc[nf];sf===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",nf),sf=new Vector2),ef[tf++]=sf.x,ef[tf++]=sf.y}return this},copyVector3sArray:function(Qc){for(var ef=this.array,tf=0,nf=0,rf=Qc.length;nf<rf;nf++){var sf=Qc[nf];sf===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",nf),sf=new Vector3),ef[tf++]=sf.x,ef[tf++]=sf.y,ef[tf++]=sf.z}return this},copyVector4sArray:function(Qc){for(var ef=this.array,tf=0,nf=0,rf=Qc.length;nf<rf;nf++){var sf=Qc[nf];sf===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",nf),sf=new Vector4),ef[tf++]=sf.x,ef[tf++]=sf.y,ef[tf++]=sf.z,ef[tf++]=sf.w}return this},set:function(Qc,ef){return ef===void 0&&(ef=0),this.array.set(Qc,ef),this},getX:function(Qc){return this.array[Qc*this.itemSize]},setX:function(Qc,ef){return this.array[Qc*this.itemSize]=ef,this},getY:function(Qc){return this.array[Qc*this.itemSize+1]},setY:function(Qc,ef){return this.array[Qc*this.itemSize+1]=ef,this},getZ:function(Qc){return this.array[Qc*this.itemSize+2]},setZ:function(Qc,ef){return this.array[Qc*this.itemSize+2]=ef,this},getW:function(Qc){return this.array[Qc*this.itemSize+3]},setW:function(Qc,ef){return this.array[Qc*this.itemSize+3]=ef,this},setXY:function(Qc,ef,tf){return Qc*=this.itemSize,this.array[Qc+0]=ef,this.array[Qc+1]=tf,this},setXYZ:function(Qc,ef,tf,nf){return Qc*=this.itemSize,this.array[Qc+0]=ef,this.array[Qc+1]=tf,this.array[Qc+2]=nf,this},setXYZW:function(Qc,ef,tf,nf,rf){return Qc*=this.itemSize,this.array[Qc+0]=ef,this.array[Qc+1]=tf,this.array[Qc+2]=nf,this.array[Qc+3]=rf,this},onUpload:function(Qc){return this.onUploadCallback=Qc,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}});function Int8BufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Int8Array(Qc),ef,tf)}Int8BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Int8BufferAttribute.prototype.constructor=Int8BufferAttribute;function Uint8BufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Uint8Array(Qc),ef,tf)}Uint8BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Uint8BufferAttribute.prototype.constructor=Uint8BufferAttribute;function Uint8ClampedBufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Uint8ClampedArray(Qc),ef,tf)}Uint8ClampedBufferAttribute.prototype=Object.create(BufferAttribute.prototype);Uint8ClampedBufferAttribute.prototype.constructor=Uint8ClampedBufferAttribute;function Int16BufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Int16Array(Qc),ef,tf)}Int16BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Int16BufferAttribute.prototype.constructor=Int16BufferAttribute;function Uint16BufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Uint16Array(Qc),ef,tf)}Uint16BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Uint16BufferAttribute.prototype.constructor=Uint16BufferAttribute;function Int32BufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Int32Array(Qc),ef,tf)}Int32BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Int32BufferAttribute.prototype.constructor=Int32BufferAttribute;function Uint32BufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Uint32Array(Qc),ef,tf)}Uint32BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Uint32BufferAttribute.prototype.constructor=Uint32BufferAttribute;function Float32BufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Float32Array(Qc),ef,tf)}Float32BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Float32BufferAttribute.prototype.constructor=Float32BufferAttribute;function Float64BufferAttribute(Qc,ef,tf){BufferAttribute.call(this,new Float64Array(Qc),ef,tf)}Float64BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Float64BufferAttribute.prototype.constructor=Float64BufferAttribute;function DirectGeometry(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(DirectGeometry.prototype,{computeGroups:function(Qc){for(var ef,tf=[],nf=void 0,rf=Qc.faces,sf=0;sf<rf.length;sf++){var af=rf[sf];af.materialIndex!==nf&&(nf=af.materialIndex,ef!==void 0&&(ef.count=sf*3-ef.start,tf.push(ef)),ef={start:sf*3,materialIndex:nf})}ef!==void 0&&(ef.count=sf*3-ef.start,tf.push(ef)),this.groups=tf},fromGeometry:function(Qc){var ef=Qc.faces,tf=Qc.vertices,nf=Qc.faceVertexUvs,rf=nf[0]&&nf[0].length>0,sf=nf[1]&&nf[1].length>0,af=Qc.morphTargets,lf=af.length,cf;if(lf>0){cf=[];for(var uf=0;uf<lf;uf++)cf[uf]={name:af[uf].name,data:[]};this.morphTargets.position=cf}var ff=Qc.morphNormals,df=ff.length,gf;if(df>0){gf=[];for(var uf=0;uf<df;uf++)gf[uf]={name:ff[uf].name,data:[]};this.morphTargets.normal=gf}var _f=Qc.skinIndices,xf=Qc.skinWeights,Af=_f.length===tf.length,Df=xf.length===tf.length;tf.length>0&&ef.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var uf=0;uf<ef.length;uf++){var Of=ef[uf];this.vertices.push(tf[Of.a],tf[Of.b],tf[Of.c]);var Gf=Of.vertexNormals;if(Gf.length===3)this.normals.push(Gf[0],Gf[1],Gf[2]);else{var Bf=Of.normal;this.normals.push(Bf,Bf,Bf)}var Vf=Of.vertexColors;if(Vf.length===3)this.colors.push(Vf[0],Vf[1],Vf[2]);else{var Lf=Of.color;this.colors.push(Lf,Lf,Lf)}if(rf===!0){var Cf=nf[0][uf];Cf!==void 0?this.uvs.push(Cf[0],Cf[1],Cf[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",uf),this.uvs.push(new Vector2,new Vector2,new Vector2))}if(sf===!0){var Cf=nf[1][uf];Cf!==void 0?this.uvs2.push(Cf[0],Cf[1],Cf[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",uf),this.uvs2.push(new Vector2,new Vector2,new Vector2))}for(var Tf=0;Tf<lf;Tf++){var Yf=af[Tf].vertices;cf[Tf].data.push(Yf[Of.a],Yf[Of.b],Yf[Of.c])}for(var Tf=0;Tf<df;Tf++){var rh=ff[Tf].vertexNormals[uf];gf[Tf].data.push(rh.a,rh.b,rh.c)}Af&&this.skinIndices.push(_f[Of.a],_f[Of.b],_f[Of.c]),Df&&this.skinWeights.push(xf[Of.a],xf[Of.b],xf[Of.c])}return this.computeGroups(Qc),this.verticesNeedUpdate=Qc.verticesNeedUpdate,this.normalsNeedUpdate=Qc.normalsNeedUpdate,this.colorsNeedUpdate=Qc.colorsNeedUpdate,this.uvsNeedUpdate=Qc.uvsNeedUpdate,this.groupsNeedUpdate=Qc.groupsNeedUpdate,this}});function arrayMax(Qc){if(Qc.length===0)return-1/0;for(var ef=Qc[0],tf=1,nf=Qc.length;tf<nf;++tf)Qc[tf]>ef&&(ef=Qc[tf]);return ef}var bufferGeometryId=1;function BufferGeometry(){Object.defineProperty(this,"id",{value:bufferGeometryId+=2}),this.uuid=_Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}BufferGeometry.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:BufferGeometry,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(Qc){Array.isArray(Qc)?this.index=new(arrayMax(Qc)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(Qc,1):this.index=Qc},addAttribute:function(Qc,ef){return!(ef&&ef.isBufferAttribute)&&!(ef&&ef.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(Qc,new BufferAttribute(arguments[1],arguments[2]))):Qc==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(ef),this):(this.attributes[Qc]=ef,this)},getAttribute:function(Qc){return this.attributes[Qc]},removeAttribute:function(Qc){return delete this.attributes[Qc],this},addGroup:function(Qc,ef,tf){this.groups.push({start:Qc,count:ef,materialIndex:tf!==void 0?tf:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(Qc,ef){this.drawRange.start=Qc,this.drawRange.count=ef},applyMatrix:function(Qc){var ef=this.attributes.position;ef!==void 0&&(Qc.applyToBufferAttribute(ef),ef.needsUpdate=!0);var tf=this.attributes.normal;if(tf!==void 0){var nf=new Matrix3().getNormalMatrix(Qc);nf.applyToBufferAttribute(tf),tf.needsUpdate=!0}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(){var Qc=new Matrix4;return function(tf){return Qc.makeRotationX(tf),this.applyMatrix(Qc),this}}(),rotateY:function(){var Qc=new Matrix4;return function(tf){return Qc.makeRotationY(tf),this.applyMatrix(Qc),this}}(),rotateZ:function(){var Qc=new Matrix4;return function(tf){return Qc.makeRotationZ(tf),this.applyMatrix(Qc),this}}(),translate:function(){var Qc=new Matrix4;return function(tf,nf,rf){return Qc.makeTranslation(tf,nf,rf),this.applyMatrix(Qc),this}}(),scale:function(){var Qc=new Matrix4;return function(tf,nf,rf){return Qc.makeScale(tf,nf,rf),this.applyMatrix(Qc),this}}(),lookAt:function(){var Qc=new Object3D;return function(tf){Qc.lookAt(tf),Qc.updateMatrix(),this.applyMatrix(Qc.matrix)}}(),center:function(){var Qc=new Vector3;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qc).negate(),this.translate(Qc.x,Qc.y,Qc.z),this}}(),setFromObject:function(Qc){var ef=Qc.geometry;if(Qc.isPoints||Qc.isLine){var tf=new Float32BufferAttribute(ef.vertices.length*3,3),nf=new Float32BufferAttribute(ef.colors.length*3,3);if(this.addAttribute("position",tf.copyVector3sArray(ef.vertices)),this.addAttribute("color",nf.copyColorsArray(ef.colors)),ef.lineDistances&&ef.lineDistances.length===ef.vertices.length){var rf=new Float32BufferAttribute(ef.lineDistances.length,1);this.addAttribute("lineDistance",rf.copyArray(ef.lineDistances))}ef.boundingSphere!==null&&(this.boundingSphere=ef.boundingSphere.clone()),ef.boundingBox!==null&&(this.boundingBox=ef.boundingBox.clone())}else Qc.isMesh&&ef&&ef.isGeometry&&this.fromGeometry(ef);return this},setFromPoints:function(Qc){for(var ef=[],tf=0,nf=Qc.length;tf<nf;tf++){var rf=Qc[tf];ef.push(rf.x,rf.y,rf.z||0)}return this.addAttribute("position",new Float32BufferAttribute(ef,3)),this},updateFromObject:function(Qc){var ef=Qc.geometry;if(Qc.isMesh){var tf=ef.__directGeometry;if(ef.elementsNeedUpdate===!0&&(tf=void 0,ef.elementsNeedUpdate=!1),tf===void 0)return this.fromGeometry(ef);tf.verticesNeedUpdate=ef.verticesNeedUpdate,tf.normalsNeedUpdate=ef.normalsNeedUpdate,tf.colorsNeedUpdate=ef.colorsNeedUpdate,tf.uvsNeedUpdate=ef.uvsNeedUpdate,tf.groupsNeedUpdate=ef.groupsNeedUpdate,ef.verticesNeedUpdate=!1,ef.normalsNeedUpdate=!1,ef.colorsNeedUpdate=!1,ef.uvsNeedUpdate=!1,ef.groupsNeedUpdate=!1,ef=tf}var nf;return ef.verticesNeedUpdate===!0&&(nf=this.attributes.position,nf!==void 0&&(nf.copyVector3sArray(ef.vertices),nf.needsUpdate=!0),ef.verticesNeedUpdate=!1),ef.normalsNeedUpdate===!0&&(nf=this.attributes.normal,nf!==void 0&&(nf.copyVector3sArray(ef.normals),nf.needsUpdate=!0),ef.normalsNeedUpdate=!1),ef.colorsNeedUpdate===!0&&(nf=this.attributes.color,nf!==void 0&&(nf.copyColorsArray(ef.colors),nf.needsUpdate=!0),ef.colorsNeedUpdate=!1),ef.uvsNeedUpdate&&(nf=this.attributes.uv,nf!==void 0&&(nf.copyVector2sArray(ef.uvs),nf.needsUpdate=!0),ef.uvsNeedUpdate=!1),ef.lineDistancesNeedUpdate&&(nf=this.attributes.lineDistance,nf!==void 0&&(nf.copyArray(ef.lineDistances),nf.needsUpdate=!0),ef.lineDistancesNeedUpdate=!1),ef.groupsNeedUpdate&&(ef.computeGroups(Qc.geometry),this.groups=ef.groups,ef.groupsNeedUpdate=!1),this},fromGeometry:function(Qc){return Qc.__directGeometry=new DirectGeometry().fromGeometry(Qc),this.fromDirectGeometry(Qc.__directGeometry)},fromDirectGeometry:function(Qc){var ef=new Float32Array(Qc.vertices.length*3);if(this.addAttribute("position",new BufferAttribute(ef,3).copyVector3sArray(Qc.vertices)),Qc.normals.length>0){var tf=new Float32Array(Qc.normals.length*3);this.addAttribute("normal",new BufferAttribute(tf,3).copyVector3sArray(Qc.normals))}if(Qc.colors.length>0){var nf=new Float32Array(Qc.colors.length*3);this.addAttribute("color",new BufferAttribute(nf,3).copyColorsArray(Qc.colors))}if(Qc.uvs.length>0){var rf=new Float32Array(Qc.uvs.length*2);this.addAttribute("uv",new BufferAttribute(rf,2).copyVector2sArray(Qc.uvs))}if(Qc.uvs2.length>0){var sf=new Float32Array(Qc.uvs2.length*2);this.addAttribute("uv2",new BufferAttribute(sf,2).copyVector2sArray(Qc.uvs2))}this.groups=Qc.groups;for(var af in Qc.morphTargets){for(var lf=[],cf=Qc.morphTargets[af],uf=0,ff=cf.length;uf<ff;uf++){var df=cf[uf],gf=new Float32BufferAttribute(df.data.length*3,3);gf.name=df.name,lf.push(gf.copyVector3sArray(df.data))}this.morphAttributes[af]=lf}if(Qc.skinIndices.length>0){var _f=new Float32BufferAttribute(Qc.skinIndices.length*4,4);this.addAttribute("skinIndex",_f.copyVector4sArray(Qc.skinIndices))}if(Qc.skinWeights.length>0){var xf=new Float32BufferAttribute(Qc.skinWeights.length*4,4);this.addAttribute("skinWeight",xf.copyVector4sArray(Qc.skinWeights))}return Qc.boundingSphere!==null&&(this.boundingSphere=Qc.boundingSphere.clone()),Qc.boundingBox!==null&&(this.boundingBox=Qc.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Box3);var Qc=this.attributes.position;Qc!==void 0?this.boundingBox.setFromBufferAttribute(Qc):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var Qc=new Box3,ef=new Vector3;return function(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);var nf=this.attributes.position;if(nf){var rf=this.boundingSphere.center;Qc.setFromBufferAttribute(nf),Qc.getCenter(rf);for(var sf=0,af=0,lf=nf.count;af<lf;af++)ef.x=nf.getX(af),ef.y=nf.getY(af),ef.z=nf.getZ(af),sf=Math.max(sf,rf.distanceToSquared(ef));this.boundingSphere.radius=Math.sqrt(sf),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var Qc=this.index,ef=this.attributes;if(ef.position){var tf=ef.position.array;if(ef.normal===void 0)this.addAttribute("normal",new BufferAttribute(new Float32Array(tf.length),3));else for(var nf=ef.normal.array,rf=0,sf=nf.length;rf<sf;rf++)nf[rf]=0;var af=ef.normal.array,lf,cf,uf,ff=new Vector3,df=new Vector3,gf=new Vector3,_f=new Vector3,xf=new Vector3;if(Qc)for(var Af=Qc.array,rf=0,sf=Qc.count;rf<sf;rf+=3)lf=Af[rf+0]*3,cf=Af[rf+1]*3,uf=Af[rf+2]*3,ff.fromArray(tf,lf),df.fromArray(tf,cf),gf.fromArray(tf,uf),_f.subVectors(gf,df),xf.subVectors(ff,df),_f.cross(xf),af[lf]+=_f.x,af[lf+1]+=_f.y,af[lf+2]+=_f.z,af[cf]+=_f.x,af[cf+1]+=_f.y,af[cf+2]+=_f.z,af[uf]+=_f.x,af[uf+1]+=_f.y,af[uf+2]+=_f.z;else for(var rf=0,sf=tf.length;rf<sf;rf+=9)ff.fromArray(tf,rf),df.fromArray(tf,rf+3),gf.fromArray(tf,rf+6),_f.subVectors(gf,df),xf.subVectors(ff,df),_f.cross(xf),af[rf]=_f.x,af[rf+1]=_f.y,af[rf+2]=_f.z,af[rf+3]=_f.x,af[rf+4]=_f.y,af[rf+5]=_f.z,af[rf+6]=_f.x,af[rf+7]=_f.y,af[rf+8]=_f.z;this.normalizeNormals(),ef.normal.needsUpdate=!0}},merge:function(Qc,ef){if(!(Qc&&Qc.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",Qc);return}ef===void 0&&(ef=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var tf=this.attributes;for(var nf in tf)if(Qc.attributes[nf]!==void 0)for(var rf=tf[nf],sf=rf.array,af=Qc.attributes[nf],lf=af.array,cf=af.itemSize,uf=0,ff=cf*ef;uf<lf.length;uf++,ff++)sf[ff]=lf[uf];return this},normalizeNormals:function(){var Qc=new Vector3;return function(){for(var tf=this.attributes.normal,nf=0,rf=tf.count;nf<rf;nf++)Qc.x=tf.getX(nf),Qc.y=tf.getY(nf),Qc.z=tf.getZ(nf),Qc.normalize(),tf.setXYZ(nf,Qc.x,Qc.y,Qc.z)}}(),toNonIndexed:function(){if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var Qc=new BufferGeometry,ef=this.index.array,tf=this.attributes;for(var nf in tf){for(var rf=tf[nf],sf=rf.array,af=rf.itemSize,lf=new sf.constructor(ef.length*af),cf=0,uf=0,ff=0,df=ef.length;ff<df;ff++){cf=ef[ff]*af;for(var gf=0;gf<af;gf++)lf[uf++]=sf[cf++]}Qc.addAttribute(nf,new BufferAttribute(lf,af))}for(var _f=this.groups,ff=0,df=_f.length;ff<df;ff++){var xf=_f[ff];Qc.addGroup(xf.start,xf.count,xf.materialIndex)}return Qc},toJSON:function(){var Qc={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(Qc.uuid=this.uuid,Qc.type=this.type,this.name!==""&&(Qc.name=this.name),Object.keys(this.userData).length>0&&(Qc.userData=this.userData),this.parameters!==void 0){var ef=this.parameters;for(var tf in ef)ef[tf]!==void 0&&(Qc[tf]=ef[tf]);return Qc}Qc.data={attributes:{}};var nf=this.index;if(nf!==null){var rf=Array.prototype.slice.call(nf.array);Qc.data.index={type:nf.array.constructor.name,array:rf}}var sf=this.attributes;for(var tf in sf){var af=sf[tf],rf=Array.prototype.slice.call(af.array);Qc.data.attributes[tf]={itemSize:af.itemSize,type:af.array.constructor.name,array:rf,normalized:af.normalized}}var lf=this.groups;lf.length>0&&(Qc.data.groups=JSON.parse(JSON.stringify(lf)));var cf=this.boundingSphere;return cf!==null&&(Qc.data.boundingSphere={center:cf.center.toArray(),radius:cf.radius}),Qc},clone:function(){return new BufferGeometry().copy(this)},copy:function(Qc){var ef,tf,nf;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=Qc.name;var rf=Qc.index;rf!==null&&this.setIndex(rf.clone());var sf=Qc.attributes;for(ef in sf){var af=sf[ef];this.addAttribute(ef,af.clone())}var lf=Qc.morphAttributes;for(ef in lf){var cf=[],uf=lf[ef];for(tf=0,nf=uf.length;tf<nf;tf++)cf.push(uf[tf].clone());this.morphAttributes[ef]=cf}var ff=Qc.groups;for(tf=0,nf=ff.length;tf<nf;tf++){var df=ff[tf];this.addGroup(df.start,df.count,df.materialIndex)}var gf=Qc.boundingBox;gf!==null&&(this.boundingBox=gf.clone());var _f=Qc.boundingSphere;return _f!==null&&(this.boundingSphere=_f.clone()),this.drawRange.start=Qc.drawRange.start,this.drawRange.count=Qc.drawRange.count,this.userData=Qc.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function BoxGeometry(Qc,ef,tf,nf,rf,sf){Geometry.call(this),this.type="BoxGeometry",this.parameters={width:Qc,height:ef,depth:tf,widthSegments:nf,heightSegments:rf,depthSegments:sf},this.fromBufferGeometry(new BoxBufferGeometry(Qc,ef,tf,nf,rf,sf)),this.mergeVertices()}BoxGeometry.prototype=Object.create(Geometry.prototype);BoxGeometry.prototype.constructor=BoxGeometry;function BoxBufferGeometry(Qc,ef,tf,nf,rf,sf){BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:Qc,height:ef,depth:tf,widthSegments:nf,heightSegments:rf,depthSegments:sf};var af=this;Qc=Qc||1,ef=ef||1,tf=tf||1,nf=Math.floor(nf)||1,rf=Math.floor(rf)||1,sf=Math.floor(sf)||1;var lf=[],cf=[],uf=[],ff=[],df=0,gf=0;_f("z","y","x",-1,-1,tf,ef,Qc,sf,rf,0),_f("z","y","x",1,-1,tf,ef,-Qc,sf,rf,1),_f("x","z","y",1,1,Qc,tf,ef,nf,sf,2),_f("x","z","y",1,-1,Qc,tf,-ef,nf,sf,3),_f("x","y","z",1,-1,Qc,ef,tf,nf,rf,4),_f("x","y","z",-1,-1,Qc,ef,-tf,nf,rf,5),this.setIndex(lf),this.addAttribute("position",new Float32BufferAttribute(cf,3)),this.addAttribute("normal",new Float32BufferAttribute(uf,3)),this.addAttribute("uv",new Float32BufferAttribute(ff,2));function _f(xf,Af,Df,Of,Gf,Bf,Vf,Lf,Cf,Tf,Yf){var rh=Bf/Cf,dh=Vf/Tf,hh=Bf/2,sh=Vf/2,Hf=Lf/2,Qf=Cf+1,ah=Tf+1,mh=0,uh=0,jf,Kf,of=new Vector3;for(Kf=0;Kf<ah;Kf++){var hf=Kf*dh-sh;for(jf=0;jf<Qf;jf++){var pf=jf*rh-hh;of[xf]=pf*Of,of[Af]=hf*Gf,of[Df]=Hf,cf.push(of.x,of.y,of.z),of[xf]=0,of[Af]=0,of[Df]=Lf>0?1:-1,uf.push(of.x,of.y,of.z),ff.push(jf/Cf),ff.push(1-Kf/Tf),mh+=1}}for(Kf=0;Kf<Tf;Kf++)for(jf=0;jf<Cf;jf++){var vf=df+jf+Qf*Kf,Ef=df+jf+Qf*(Kf+1),Sf=df+(jf+1)+Qf*(Kf+1),Ff=df+(jf+1)+Qf*Kf;lf.push(vf,Ef,Ff),lf.push(Ef,Sf,Ff),uh+=6}af.addGroup(gf,uh,Yf),gf+=uh,df+=mh}}BoxBufferGeometry.prototype=Object.create(BufferGeometry.prototype);BoxBufferGeometry.prototype.constructor=BoxBufferGeometry;function PlaneGeometry(Qc,ef,tf,nf){Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:Qc,height:ef,widthSegments:tf,heightSegments:nf},this.fromBufferGeometry(new PlaneBufferGeometry(Qc,ef,tf,nf)),this.mergeVertices()}PlaneGeometry.prototype=Object.create(Geometry.prototype);PlaneGeometry.prototype.constructor=PlaneGeometry;function PlaneBufferGeometry(Qc,ef,tf,nf){BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:Qc,height:ef,widthSegments:tf,heightSegments:nf},Qc=Qc||1,ef=ef||1;var rf=Qc/2,sf=ef/2,af=Math.floor(tf)||1,lf=Math.floor(nf)||1,cf=af+1,uf=lf+1,ff=Qc/af,df=ef/lf,gf,_f,xf=[],Af=[],Df=[],Of=[];for(_f=0;_f<uf;_f++){var Gf=_f*df-sf;for(gf=0;gf<cf;gf++){var Bf=gf*ff-rf;Af.push(Bf,-Gf,0),Df.push(0,0,1),Of.push(gf/af),Of.push(1-_f/lf)}}for(_f=0;_f<lf;_f++)for(gf=0;gf<af;gf++){var Vf=gf+cf*_f,Lf=gf+cf*(_f+1),Cf=gf+1+cf*(_f+1),Tf=gf+1+cf*_f;xf.push(Vf,Lf,Tf),xf.push(Lf,Cf,Tf)}this.setIndex(xf),this.addAttribute("position",new Float32BufferAttribute(Af,3)),this.addAttribute("normal",new Float32BufferAttribute(Df,3)),this.addAttribute("uv",new Float32BufferAttribute(Of,2))}PlaneBufferGeometry.prototype=Object.create(BufferGeometry.prototype);PlaneBufferGeometry.prototype.constructor=PlaneBufferGeometry;var materialId=0;function Material(){Object.defineProperty(this,"id",{value:materialId++}),this.uuid=_Math.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=NormalBlending,this.side=FrontSide,this.flatShading=!1,this.vertexColors=NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}Material.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Material,isMaterial:!0,onBeforeCompile:function(){},setValues:function(Qc){if(Qc!==void 0)for(var ef in Qc){var tf=Qc[ef];if(tf===void 0){console.warn("THREE.Material: '"+ef+"' parameter is undefined.");continue}if(ef==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=tf===FlatShading;continue}var nf=this[ef];if(nf===void 0){console.warn("THREE."+this.type+": '"+ef+"' is not a property of this material.");continue}nf&&nf.isColor?nf.set(tf):nf&&nf.isVector3&&tf&&tf.isVector3?nf.copy(tf):ef==="overdraw"?this[ef]=Number(tf):this[ef]=tf}},toJSON:function(Qc){var ef=Qc===void 0||typeof Qc=="string";ef&&(Qc={textures:{},images:{}});var tf={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};tf.uuid=this.uuid,tf.type=this.type,this.name!==""&&(tf.name=this.name),this.color&&this.color.isColor&&(tf.color=this.color.getHex()),this.roughness!==void 0&&(tf.roughness=this.roughness),this.metalness!==void 0&&(tf.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(tf.emissive=this.emissive.getHex()),this.emissiveIntensity!==1&&(tf.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(tf.specular=this.specular.getHex()),this.shininess!==void 0&&(tf.shininess=this.shininess),this.clearCoat!==void 0&&(tf.clearCoat=this.clearCoat),this.clearCoatRoughness!==void 0&&(tf.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(tf.map=this.map.toJSON(Qc).uuid),this.alphaMap&&this.alphaMap.isTexture&&(tf.alphaMap=this.alphaMap.toJSON(Qc).uuid),this.lightMap&&this.lightMap.isTexture&&(tf.lightMap=this.lightMap.toJSON(Qc).uuid),this.aoMap&&this.aoMap.isTexture&&(tf.aoMap=this.aoMap.toJSON(Qc).uuid,tf.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(tf.bumpMap=this.bumpMap.toJSON(Qc).uuid,tf.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(tf.normalMap=this.normalMap.toJSON(Qc).uuid,tf.normalMapType=this.normalMapType,tf.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(tf.displacementMap=this.displacementMap.toJSON(Qc).uuid,tf.displacementScale=this.displacementScale,tf.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(tf.roughnessMap=this.roughnessMap.toJSON(Qc).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(tf.metalnessMap=this.metalnessMap.toJSON(Qc).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(tf.emissiveMap=this.emissiveMap.toJSON(Qc).uuid),this.specularMap&&this.specularMap.isTexture&&(tf.specularMap=this.specularMap.toJSON(Qc).uuid),this.envMap&&this.envMap.isTexture&&(tf.envMap=this.envMap.toJSON(Qc).uuid,tf.reflectivity=this.reflectivity,this.combine!==void 0&&(tf.combine=this.combine),this.envMapIntensity!==void 0&&(tf.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(tf.gradientMap=this.gradientMap.toJSON(Qc).uuid),this.size!==void 0&&(tf.size=this.size),this.sizeAttenuation!==void 0&&(tf.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(tf.blending=this.blending),this.flatShading===!0&&(tf.flatShading=this.flatShading),this.side!==FrontSide&&(tf.side=this.side),this.vertexColors!==NoColors&&(tf.vertexColors=this.vertexColors),this.opacity<1&&(tf.opacity=this.opacity),this.transparent===!0&&(tf.transparent=this.transparent),tf.depthFunc=this.depthFunc,tf.depthTest=this.depthTest,tf.depthWrite=this.depthWrite,this.rotation!==0&&(tf.rotation=this.rotation),this.polygonOffset===!0&&(tf.polygonOffset=!0),this.polygonOffsetFactor!==0&&(tf.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(tf.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==1&&(tf.linewidth=this.linewidth),this.dashSize!==void 0&&(tf.dashSize=this.dashSize),this.gapSize!==void 0&&(tf.gapSize=this.gapSize),this.scale!==void 0&&(tf.scale=this.scale),this.dithering===!0&&(tf.dithering=!0),this.alphaTest>0&&(tf.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(tf.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(tf.wireframe=this.wireframe),this.wireframeLinewidth>1&&(tf.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(tf.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(tf.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(tf.morphTargets=!0),this.skinning===!0&&(tf.skinning=!0),this.visible===!1&&(tf.visible=!1),JSON.stringify(this.userData)!=="{}"&&(tf.userData=this.userData);function nf(af){var lf=[];for(var cf in af){var uf=af[cf];delete uf.metadata,lf.push(uf)}return lf}if(ef){var rf=nf(Qc.textures),sf=nf(Qc.images);rf.length>0&&(tf.textures=rf),sf.length>0&&(tf.images=sf)}return tf},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){this.name=Qc.name,this.fog=Qc.fog,this.lights=Qc.lights,this.blending=Qc.blending,this.side=Qc.side,this.flatShading=Qc.flatShading,this.vertexColors=Qc.vertexColors,this.opacity=Qc.opacity,this.transparent=Qc.transparent,this.blendSrc=Qc.blendSrc,this.blendDst=Qc.blendDst,this.blendEquation=Qc.blendEquation,this.blendSrcAlpha=Qc.blendSrcAlpha,this.blendDstAlpha=Qc.blendDstAlpha,this.blendEquationAlpha=Qc.blendEquationAlpha,this.depthFunc=Qc.depthFunc,this.depthTest=Qc.depthTest,this.depthWrite=Qc.depthWrite,this.colorWrite=Qc.colorWrite,this.precision=Qc.precision,this.polygonOffset=Qc.polygonOffset,this.polygonOffsetFactor=Qc.polygonOffsetFactor,this.polygonOffsetUnits=Qc.polygonOffsetUnits,this.dithering=Qc.dithering,this.alphaTest=Qc.alphaTest,this.premultipliedAlpha=Qc.premultipliedAlpha,this.overdraw=Qc.overdraw,this.visible=Qc.visible,this.userData=JSON.parse(JSON.stringify(Qc.userData)),this.clipShadows=Qc.clipShadows,this.clipIntersection=Qc.clipIntersection;var ef=Qc.clippingPlanes,tf=null;if(ef!==null){var nf=ef.length;tf=new Array(nf);for(var rf=0;rf!==nf;++rf)tf[rf]=ef[rf].clone()}return this.clippingPlanes=tf,this.shadowSide=Qc.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function ShaderMaterial(Qc){Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,Qc!==void 0&&(Qc.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(Qc))}ShaderMaterial.prototype=Object.create(Material.prototype);ShaderMaterial.prototype.constructor=ShaderMaterial;ShaderMaterial.prototype.isShaderMaterial=!0;ShaderMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.fragmentShader=Qc.fragmentShader,this.vertexShader=Qc.vertexShader,this.uniforms=UniformsUtils.clone(Qc.uniforms),this.defines=Object.assign({},Qc.defines),this.wireframe=Qc.wireframe,this.wireframeLinewidth=Qc.wireframeLinewidth,this.lights=Qc.lights,this.clipping=Qc.clipping,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this.morphNormals=Qc.morphNormals,this.extensions=Qc.extensions,this};ShaderMaterial.prototype.toJSON=function(Qc){var ef=Material.prototype.toJSON.call(this,Qc);ef.uniforms={};for(var tf in this.uniforms){var nf=this.uniforms[tf],rf=nf.value;rf.isTexture?ef.uniforms[tf]={type:"t",value:rf.toJSON(Qc).uuid}:rf.isColor?ef.uniforms[tf]={type:"c",value:rf.getHex()}:rf.isVector2?ef.uniforms[tf]={type:"v2",value:rf.toArray()}:rf.isVector3?ef.uniforms[tf]={type:"v3",value:rf.toArray()}:rf.isVector4?ef.uniforms[tf]={type:"v4",value:rf.toArray()}:rf.isMatrix4?ef.uniforms[tf]={type:"m4",value:rf.toArray()}:ef.uniforms[tf]={value:rf}}return Object.keys(this.defines).length>0&&(ef.defines=this.defines),ef.vertexShader=this.vertexShader,ef.fragmentShader=this.fragmentShader,ef};function Ray(Qc,ef){this.origin=Qc!==void 0?Qc:new Vector3,this.direction=ef!==void 0?ef:new Vector3}Object.assign(Ray.prototype,{set:function(Qc,ef){return this.origin.copy(Qc),this.direction.copy(ef),this},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.origin.copy(Qc.origin),this.direction.copy(Qc.direction),this},at:function(Qc,ef){return ef===void 0&&(console.warn("THREE.Ray: .at() target is now required"),ef=new Vector3),ef.copy(this.direction).multiplyScalar(Qc).add(this.origin)},lookAt:function(Qc){return this.direction.copy(Qc).sub(this.origin).normalize(),this},recast:function(){var Qc=new Vector3;return function(tf){return this.origin.copy(this.at(tf,Qc)),this}}(),closestPointToPoint:function(Qc,ef){ef===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),ef=new Vector3),ef.subVectors(Qc,this.origin);var tf=ef.dot(this.direction);return tf<0?ef.copy(this.origin):ef.copy(this.direction).multiplyScalar(tf).add(this.origin)},distanceToPoint:function(Qc){return Math.sqrt(this.distanceSqToPoint(Qc))},distanceSqToPoint:function(){var Qc=new Vector3;return function(tf){var nf=Qc.subVectors(tf,this.origin).dot(this.direction);return nf<0?this.origin.distanceToSquared(tf):(Qc.copy(this.direction).multiplyScalar(nf).add(this.origin),Qc.distanceToSquared(tf))}}(),distanceSqToSegment:function(){var Qc=new Vector3,ef=new Vector3,tf=new Vector3;return function(rf,sf,af,lf){Qc.copy(rf).add(sf).multiplyScalar(.5),ef.copy(sf).sub(rf).normalize(),tf.copy(this.origin).sub(Qc);var cf=rf.distanceTo(sf)*.5,uf=-this.direction.dot(ef),ff=tf.dot(this.direction),df=-tf.dot(ef),gf=tf.lengthSq(),_f=Math.abs(1-uf*uf),xf,Af,Df,Of;if(_f>0)if(xf=uf*df-ff,Af=uf*ff-df,Of=cf*_f,xf>=0)if(Af>=-Of)if(Af<=Of){var Gf=1/_f;xf*=Gf,Af*=Gf,Df=xf*(xf+uf*Af+2*ff)+Af*(uf*xf+Af+2*df)+gf}else Af=cf,xf=Math.max(0,-(uf*Af+ff)),Df=-xf*xf+Af*(Af+2*df)+gf;else Af=-cf,xf=Math.max(0,-(uf*Af+ff)),Df=-xf*xf+Af*(Af+2*df)+gf;else Af<=-Of?(xf=Math.max(0,-(-uf*cf+ff)),Af=xf>0?-cf:Math.min(Math.max(-cf,-df),cf),Df=-xf*xf+Af*(Af+2*df)+gf):Af<=Of?(xf=0,Af=Math.min(Math.max(-cf,-df),cf),Df=Af*(Af+2*df)+gf):(xf=Math.max(0,-(uf*cf+ff)),Af=xf>0?cf:Math.min(Math.max(-cf,-df),cf),Df=-xf*xf+Af*(Af+2*df)+gf);else Af=uf>0?-cf:cf,xf=Math.max(0,-(uf*Af+ff)),Df=-xf*xf+Af*(Af+2*df)+gf;return af&&af.copy(this.direction).multiplyScalar(xf).add(this.origin),lf&&lf.copy(ef).multiplyScalar(Af).add(Qc),Df}}(),intersectSphere:function(){var Qc=new Vector3;return function(tf,nf){Qc.subVectors(tf.center,this.origin);var rf=Qc.dot(this.direction),sf=Qc.dot(Qc)-rf*rf,af=tf.radius*tf.radius;if(sf>af)return null;var lf=Math.sqrt(af-sf),cf=rf-lf,uf=rf+lf;return cf<0&&uf<0?null:cf<0?this.at(uf,nf):this.at(cf,nf)}}(),intersectsSphere:function(Qc){return this.distanceSqToPoint(Qc.center)<=Qc.radius*Qc.radius},distanceToPlane:function(Qc){var ef=Qc.normal.dot(this.direction);if(ef===0)return Qc.distanceToPoint(this.origin)===0?0:null;var tf=-(this.origin.dot(Qc.normal)+Qc.constant)/ef;return tf>=0?tf:null},intersectPlane:function(Qc,ef){var tf=this.distanceToPlane(Qc);return tf===null?null:this.at(tf,ef)},intersectsPlane:function(Qc){var ef=Qc.distanceToPoint(this.origin);if(ef===0)return!0;var tf=Qc.normal.dot(this.direction);return tf*ef<0},intersectBox:function(Qc,ef){var tf,nf,rf,sf,af,lf,cf=1/this.direction.x,uf=1/this.direction.y,ff=1/this.direction.z,df=this.origin;return cf>=0?(tf=(Qc.min.x-df.x)*cf,nf=(Qc.max.x-df.x)*cf):(tf=(Qc.max.x-df.x)*cf,nf=(Qc.min.x-df.x)*cf),uf>=0?(rf=(Qc.min.y-df.y)*uf,sf=(Qc.max.y-df.y)*uf):(rf=(Qc.max.y-df.y)*uf,sf=(Qc.min.y-df.y)*uf),tf>sf||rf>nf||((rf>tf||tf!==tf)&&(tf=rf),(sf<nf||nf!==nf)&&(nf=sf),ff>=0?(af=(Qc.min.z-df.z)*ff,lf=(Qc.max.z-df.z)*ff):(af=(Qc.max.z-df.z)*ff,lf=(Qc.min.z-df.z)*ff),tf>lf||af>nf)||((af>tf||tf!==tf)&&(tf=af),(lf<nf||nf!==nf)&&(nf=lf),nf<0)?null:this.at(tf>=0?tf:nf,ef)},intersectsBox:function(){var Qc=new Vector3;return function(tf){return this.intersectBox(tf,Qc)!==null}}(),intersectTriangle:function(){var Qc=new Vector3,ef=new Vector3,tf=new Vector3,nf=new Vector3;return function(sf,af,lf,cf,uf){ef.subVectors(af,sf),tf.subVectors(lf,sf),nf.crossVectors(ef,tf);var ff=this.direction.dot(nf),df;if(ff>0){if(cf)return null;df=1}else if(ff<0)df=-1,ff=-ff;else return null;Qc.subVectors(this.origin,sf);var gf=df*this.direction.dot(tf.crossVectors(Qc,tf));if(gf<0)return null;var _f=df*this.direction.dot(ef.cross(Qc));if(_f<0||gf+_f>ff)return null;var xf=-df*Qc.dot(nf);return xf<0?null:this.at(xf/ff,uf)}}(),applyMatrix4:function(Qc){return this.origin.applyMatrix4(Qc),this.direction.transformDirection(Qc),this},equals:function(Qc){return Qc.origin.equals(this.origin)&&Qc.direction.equals(this.direction)}});function Triangle(Qc,ef,tf){this.a=Qc!==void 0?Qc:new Vector3,this.b=ef!==void 0?ef:new Vector3,this.c=tf!==void 0?tf:new Vector3}Object.assign(Triangle,{getNormal:function(){var Qc=new Vector3;return function(tf,nf,rf,sf){sf===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),sf=new Vector3),sf.subVectors(rf,nf),Qc.subVectors(tf,nf),sf.cross(Qc);var af=sf.lengthSq();return af>0?sf.multiplyScalar(1/Math.sqrt(af)):sf.set(0,0,0)}}(),getBarycoord:function(){var Qc=new Vector3,ef=new Vector3,tf=new Vector3;return function(rf,sf,af,lf,cf){Qc.subVectors(lf,sf),ef.subVectors(af,sf),tf.subVectors(rf,sf);var uf=Qc.dot(Qc),ff=Qc.dot(ef),df=Qc.dot(tf),gf=ef.dot(ef),_f=ef.dot(tf),xf=uf*gf-ff*ff;if(cf===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),cf=new Vector3),xf===0)return cf.set(-2,-1,-1);var Af=1/xf,Df=(gf*df-ff*_f)*Af,Of=(uf*_f-ff*df)*Af;return cf.set(1-Df-Of,Of,Df)}}(),containsPoint:function(){var Qc=new Vector3;return function(tf,nf,rf,sf){return Triangle.getBarycoord(tf,nf,rf,sf,Qc),Qc.x>=0&&Qc.y>=0&&Qc.x+Qc.y<=1}}(),getUV:function(){var Qc=new Vector3;return function(tf,nf,rf,sf,af,lf,cf,uf){return this.getBarycoord(tf,nf,rf,sf,Qc),uf.set(0,0),uf.addScaledVector(af,Qc.x),uf.addScaledVector(lf,Qc.y),uf.addScaledVector(cf,Qc.z),uf}}()});Object.assign(Triangle.prototype,{set:function(Qc,ef,tf){return this.a.copy(Qc),this.b.copy(ef),this.c.copy(tf),this},setFromPointsAndIndices:function(Qc,ef,tf,nf){return this.a.copy(Qc[ef]),this.b.copy(Qc[tf]),this.c.copy(Qc[nf]),this},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.a.copy(Qc.a),this.b.copy(Qc.b),this.c.copy(Qc.c),this},getArea:function(){var Qc=new Vector3,ef=new Vector3;return function(){return Qc.subVectors(this.c,this.b),ef.subVectors(this.a,this.b),Qc.cross(ef).length()*.5}}(),getMidpoint:function(Qc){return Qc===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),Qc=new Vector3),Qc.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(Qc){return Triangle.getNormal(this.a,this.b,this.c,Qc)},getPlane:function(Qc){return Qc===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),Qc=new Vector3),Qc.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(Qc,ef){return Triangle.getBarycoord(Qc,this.a,this.b,this.c,ef)},containsPoint:function(Qc){return Triangle.containsPoint(Qc,this.a,this.b,this.c)},getUV:function(Qc,ef,tf,nf,rf){return Triangle.getUV(Qc,this.a,this.b,this.c,ef,tf,nf,rf)},intersectsBox:function(Qc){return Qc.intersectsTriangle(this)},closestPointToPoint:function(){var Qc=new Vector3,ef=new Vector3,tf=new Vector3,nf=new Vector3,rf=new Vector3,sf=new Vector3;return function(lf,cf){cf===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),cf=new Vector3);var uf=this.a,ff=this.b,df=this.c,gf,_f;Qc.subVectors(ff,uf),ef.subVectors(df,uf),nf.subVectors(lf,uf);var xf=Qc.dot(nf),Af=ef.dot(nf);if(xf<=0&&Af<=0)return cf.copy(uf);rf.subVectors(lf,ff);var Df=Qc.dot(rf),Of=ef.dot(rf);if(Df>=0&&Of<=Df)return cf.copy(ff);var Gf=xf*Of-Df*Af;if(Gf<=0&&xf>=0&&Df<=0)return gf=xf/(xf-Df),cf.copy(uf).addScaledVector(Qc,gf);sf.subVectors(lf,df);var Bf=Qc.dot(sf),Vf=ef.dot(sf);if(Vf>=0&&Bf<=Vf)return cf.copy(df);var Lf=Bf*Af-xf*Vf;if(Lf<=0&&Af>=0&&Vf<=0)return _f=Af/(Af-Vf),cf.copy(uf).addScaledVector(ef,_f);var Cf=Df*Vf-Bf*Of;if(Cf<=0&&Of-Df>=0&&Bf-Vf>=0)return tf.subVectors(df,ff),_f=(Of-Df)/(Of-Df+(Bf-Vf)),cf.copy(ff).addScaledVector(tf,_f);var Tf=1/(Cf+Lf+Gf);return gf=Lf*Tf,_f=Gf*Tf,cf.copy(uf).addScaledVector(Qc,gf).addScaledVector(ef,_f)}}(),equals:function(Qc){return Qc.a.equals(this.a)&&Qc.b.equals(this.b)&&Qc.c.equals(this.c)}});function MeshBasicMaterial(Qc){Material.call(this),this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(Qc)}MeshBasicMaterial.prototype=Object.create(Material.prototype);MeshBasicMaterial.prototype.constructor=MeshBasicMaterial;MeshBasicMaterial.prototype.isMeshBasicMaterial=!0;MeshBasicMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.color.copy(Qc.color),this.map=Qc.map,this.lightMap=Qc.lightMap,this.lightMapIntensity=Qc.lightMapIntensity,this.aoMap=Qc.aoMap,this.aoMapIntensity=Qc.aoMapIntensity,this.specularMap=Qc.specularMap,this.alphaMap=Qc.alphaMap,this.envMap=Qc.envMap,this.combine=Qc.combine,this.reflectivity=Qc.reflectivity,this.refractionRatio=Qc.refractionRatio,this.wireframe=Qc.wireframe,this.wireframeLinewidth=Qc.wireframeLinewidth,this.wireframeLinecap=Qc.wireframeLinecap,this.wireframeLinejoin=Qc.wireframeLinejoin,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this};function Mesh(Qc,ef){Object3D.call(this),this.type="Mesh",this.geometry=Qc!==void 0?Qc:new BufferGeometry,this.material=ef!==void 0?ef:new MeshBasicMaterial({color:Math.random()*16777215}),this.drawMode=TrianglesDrawMode,this.updateMorphTargets()}Mesh.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Mesh,isMesh:!0,setDrawMode:function(Qc){this.drawMode=Qc},copy:function(Qc){return Object3D.prototype.copy.call(this,Qc),this.drawMode=Qc.drawMode,Qc.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=Qc.morphTargetInfluences.slice()),Qc.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},Qc.morphTargetDictionary)),this},updateMorphTargets:function(){var Qc=this.geometry,ef,tf,nf;if(Qc.isBufferGeometry){var rf=Qc.morphAttributes,sf=Object.keys(rf);if(sf.length>0){var af=rf[sf[0]];if(af!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},ef=0,tf=af.length;ef<tf;ef++)nf=af[ef].name||String(ef),this.morphTargetInfluences.push(0),this.morphTargetDictionary[nf]=ef}}else{var lf=Qc.morphTargets;if(lf!==void 0&&lf.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},ef=0,tf=lf.length;ef<tf;ef++)nf=lf[ef].name||String(ef),this.morphTargetInfluences.push(0),this.morphTargetDictionary[nf]=ef}},raycast:function(){var Qc=new Matrix4,ef=new Ray,tf=new Sphere,nf=new Vector3,rf=new Vector3,sf=new Vector3,af=new Vector3,lf=new Vector3,cf=new Vector3,uf=new Vector2,ff=new Vector2,df=new Vector2,gf=new Vector3,_f=new Vector3;function xf(Df,Of,Gf,Bf,Vf,Lf,Cf,Tf){var Yf;if(Of.side===BackSide?Yf=Bf.intersectTriangle(Cf,Lf,Vf,!0,Tf):Yf=Bf.intersectTriangle(Vf,Lf,Cf,Of.side!==DoubleSide,Tf),Yf===null)return null;_f.copy(Tf),_f.applyMatrix4(Df.matrixWorld);var rh=Gf.ray.origin.distanceTo(_f);return rh<Gf.near||rh>Gf.far?null:{distance:rh,point:_f.clone(),object:Df}}function Af(Df,Of,Gf,Bf,Vf,Lf,Cf,Tf,Yf){nf.fromBufferAttribute(Vf,Cf),rf.fromBufferAttribute(Vf,Tf),sf.fromBufferAttribute(Vf,Yf);var rh=xf(Df,Of,Gf,Bf,nf,rf,sf,gf);if(rh){Lf&&(uf.fromBufferAttribute(Lf,Cf),ff.fromBufferAttribute(Lf,Tf),df.fromBufferAttribute(Lf,Yf),rh.uv=Triangle.getUV(gf,nf,rf,sf,uf,ff,df,new Vector2));var dh=new Face3(Cf,Tf,Yf);Triangle.getNormal(nf,rf,sf,dh.normal),rh.face=dh}return rh}return function(Of,Gf){var Bf=this.geometry,Vf=this.material,Lf=this.matrixWorld;if(Vf!==void 0&&(Bf.boundingSphere===null&&Bf.computeBoundingSphere(),tf.copy(Bf.boundingSphere),tf.applyMatrix4(Lf),Of.ray.intersectsSphere(tf)!==!1&&(Qc.getInverse(Lf),ef.copy(Of.ray).applyMatrix4(Qc),!(Bf.boundingBox!==null&&ef.intersectsBox(Bf.boundingBox)===!1)))){var Cf;if(Bf.isBufferGeometry){var Tf,Yf,rh,dh=Bf.index,hh=Bf.attributes.position,sh=Bf.attributes.uv,Hf=Bf.groups,Qf=Bf.drawRange,ah,mh,uh,jf,Kf,of,hf,pf;if(dh!==null)if(Array.isArray(Vf))for(ah=0,uh=Hf.length;ah<uh;ah++)for(Kf=Hf[ah],of=Vf[Kf.materialIndex],hf=Math.max(Kf.start,Qf.start),pf=Math.min(Kf.start+Kf.count,Qf.start+Qf.count),mh=hf,jf=pf;mh<jf;mh+=3)Tf=dh.getX(mh),Yf=dh.getX(mh+1),rh=dh.getX(mh+2),Cf=Af(this,of,Of,ef,hh,sh,Tf,Yf,rh),Cf&&(Cf.faceIndex=Math.floor(mh/3),Gf.push(Cf));else for(hf=Math.max(0,Qf.start),pf=Math.min(dh.count,Qf.start+Qf.count),ah=hf,uh=pf;ah<uh;ah+=3)Tf=dh.getX(ah),Yf=dh.getX(ah+1),rh=dh.getX(ah+2),Cf=Af(this,Vf,Of,ef,hh,sh,Tf,Yf,rh),Cf&&(Cf.faceIndex=Math.floor(ah/3),Gf.push(Cf));else if(hh!==void 0)if(Array.isArray(Vf))for(ah=0,uh=Hf.length;ah<uh;ah++)for(Kf=Hf[ah],of=Vf[Kf.materialIndex],hf=Math.max(Kf.start,Qf.start),pf=Math.min(Kf.start+Kf.count,Qf.start+Qf.count),mh=hf,jf=pf;mh<jf;mh+=3)Tf=mh,Yf=mh+1,rh=mh+2,Cf=Af(this,of,Of,ef,hh,sh,Tf,Yf,rh),Cf&&(Cf.faceIndex=Math.floor(mh/3),Gf.push(Cf));else for(hf=Math.max(0,Qf.start),pf=Math.min(hh.count,Qf.start+Qf.count),ah=hf,uh=pf;ah<uh;ah+=3)Tf=ah,Yf=ah+1,rh=ah+2,Cf=Af(this,Vf,Of,ef,hh,sh,Tf,Yf,rh),Cf&&(Cf.faceIndex=Math.floor(ah/3),Gf.push(Cf))}else if(Bf.isGeometry){var vf,Ef,Sf,Ff=Array.isArray(Vf),Uf=Bf.vertices,Wf=Bf.faces,eh,th=Bf.faceVertexUvs[0];th.length>0&&(eh=th);for(var _h=0,wh=Wf.length;_h<wh;_h++){var oh=Wf[_h],gh=Ff?Vf[oh.materialIndex]:Vf;if(gh!==void 0){if(vf=Uf[oh.a],Ef=Uf[oh.b],Sf=Uf[oh.c],gh.morphTargets===!0){var qf=Bf.morphTargets,zf=this.morphTargetInfluences;nf.set(0,0,0),rf.set(0,0,0),sf.set(0,0,0);for(var Th=0,Fh=qf.length;Th<Fh;Th++){var Uh=zf[Th];if(Uh!==0){var jh=qf[Th].vertices;nf.addScaledVector(af.subVectors(jh[oh.a],vf),Uh),rf.addScaledVector(lf.subVectors(jh[oh.b],Ef),Uh),sf.addScaledVector(cf.subVectors(jh[oh.c],Sf),Uh)}}nf.add(vf),rf.add(Ef),sf.add(Sf),vf=nf,Ef=rf,Sf=sf}if(Cf=xf(this,gh,Of,ef,vf,Ef,Sf,gf),Cf){if(eh&&eh[_h]){var qh=eh[_h];uf.copy(qh[0]),ff.copy(qh[1]),df.copy(qh[2]),Cf.uv=Triangle.getUV(gf,vf,Ef,Sf,uf,ff,df,new Vector2)}Cf.face=oh,Cf.faceIndex=_h,Gf.push(Cf)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function WebGLBackground(Qc,ef,tf,nf){var rf=new Color$1(0),sf=0,af,lf;function cf(ff,df,gf,_f){var xf=df.background;xf===null?uf(rf,sf):xf&&xf.isColor&&(uf(xf,1),_f=!0),(Qc.autoClear||_f)&&Qc.clear(Qc.autoClearColor,Qc.autoClearDepth,Qc.autoClearStencil),xf&&xf.isCubeTexture?(lf===void 0&&(lf=new Mesh(new BoxBufferGeometry(1,1,1),new ShaderMaterial({uniforms:UniformsUtils.clone(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!0,depthWrite:!1,fog:!1})),lf.geometry.removeAttribute("normal"),lf.geometry.removeAttribute("uv"),lf.onBeforeRender=function(Af,Df,Of){this.matrixWorld.copyPosition(Of.matrixWorld)},tf.update(lf)),lf.material.uniforms.tCube.value=xf,ff.push(lf,lf.geometry,lf.material,0,null)):xf&&xf.isTexture&&(af===void 0&&(af=new Mesh(new PlaneBufferGeometry(2,2),new ShaderMaterial({uniforms:UniformsUtils.clone(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!0,depthWrite:!1,fog:!1})),af.geometry.removeAttribute("normal"),tf.update(af)),af.material.uniforms.t2D.value=xf,ff.push(af,af.geometry,af.material,0,null))}function uf(ff,df){ef.buffers.color.setClear(ff.r,ff.g,ff.b,df,nf)}return{getClearColor:function(){return rf},setClearColor:function(ff,df){rf.set(ff),sf=df!==void 0?df:1,uf(rf,sf)},getClearAlpha:function(){return sf},setClearAlpha:function(ff){sf=ff,uf(rf,sf)},render:cf}}function WebGLBufferRenderer(Qc,ef,tf,nf){var rf;function sf(cf){rf=cf}function af(cf,uf){Qc.drawArrays(rf,cf,uf),tf.update(uf,rf)}function lf(cf,uf,ff){var df;if(nf.isWebGL2)df=Qc;else if(df=ef.get("ANGLE_instanced_arrays"),df===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}df[nf.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](rf,uf,ff,cf.maxInstancedCount),tf.update(ff,rf,cf.maxInstancedCount)}this.setMode=sf,this.render=af,this.renderInstances=lf}function WebGLCapabilities(Qc,ef,tf){var nf;function rf(){if(nf!==void 0)return nf;var Lf=ef.get("EXT_texture_filter_anisotropic");return Lf!==null?nf=Qc.getParameter(Lf.MAX_TEXTURE_MAX_ANISOTROPY_EXT):nf=0,nf}function sf(Lf){if(Lf==="highp"){if(Qc.getShaderPrecisionFormat(Qc.VERTEX_SHADER,Qc.HIGH_FLOAT).precision>0&&Qc.getShaderPrecisionFormat(Qc.FRAGMENT_SHADER,Qc.HIGH_FLOAT).precision>0)return"highp";Lf="mediump"}return Lf==="mediump"&&Qc.getShaderPrecisionFormat(Qc.VERTEX_SHADER,Qc.MEDIUM_FLOAT).precision>0&&Qc.getShaderPrecisionFormat(Qc.FRAGMENT_SHADER,Qc.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var af=typeof WebGL2RenderingContext<"u"&&Qc instanceof WebGL2RenderingContext,lf=tf.precision!==void 0?tf.precision:"highp",cf=sf(lf);cf!==lf&&(console.warn("THREE.WebGLRenderer:",lf,"not supported, using",cf,"instead."),lf=cf);var uf=tf.logarithmicDepthBuffer===!0,ff=Qc.getParameter(Qc.MAX_TEXTURE_IMAGE_UNITS),df=Qc.getParameter(Qc.MAX_VERTEX_TEXTURE_IMAGE_UNITS),gf=Qc.getParameter(Qc.MAX_TEXTURE_SIZE),_f=Qc.getParameter(Qc.MAX_CUBE_MAP_TEXTURE_SIZE),xf=Qc.getParameter(Qc.MAX_VERTEX_ATTRIBS),Af=Qc.getParameter(Qc.MAX_VERTEX_UNIFORM_VECTORS),Df=Qc.getParameter(Qc.MAX_VARYING_VECTORS),Of=Qc.getParameter(Qc.MAX_FRAGMENT_UNIFORM_VECTORS),Gf=df>0,Bf=af||!!ef.get("OES_texture_float"),Vf=Gf&&Bf;return{isWebGL2:af,getMaxAnisotropy:rf,getMaxPrecision:sf,precision:lf,logarithmicDepthBuffer:uf,maxTextures:ff,maxVertexTextures:df,maxTextureSize:gf,maxCubemapSize:_f,maxAttributes:xf,maxVertexUniforms:Af,maxVaryings:Df,maxFragmentUniforms:Of,vertexTextures:Gf,floatFragmentTextures:Bf,floatVertexTextures:Vf}}function WebGLClipping(){var Qc=this,ef=null,tf=0,nf=!1,rf=!1,sf=new Plane,af=new Matrix3,lf={value:null,needsUpdate:!1};this.uniform=lf,this.numPlanes=0,this.numIntersection=0,this.init=function(ff,df,gf){var _f=ff.length!==0||df||tf!==0||nf;return nf=df,ef=uf(ff,gf,0),tf=ff.length,_f},this.beginShadows=function(){rf=!0,uf(null)},this.endShadows=function(){rf=!1,cf()},this.setState=function(ff,df,gf,_f,xf,Af){if(!nf||ff===null||ff.length===0||rf&&!gf)rf?uf(null):cf();else{var Df=rf?0:tf,Of=Df*4,Gf=xf.clippingState||null;lf.value=Gf,Gf=uf(ff,_f,Of,Af);for(var Bf=0;Bf!==Of;++Bf)Gf[Bf]=ef[Bf];xf.clippingState=Gf,this.numIntersection=df?this.numPlanes:0,this.numPlanes+=Df}};function cf(){lf.value!==ef&&(lf.value=ef,lf.needsUpdate=tf>0),Qc.numPlanes=tf,Qc.numIntersection=0}function uf(ff,df,gf,_f){var xf=ff!==null?ff.length:0,Af=null;if(xf!==0){if(Af=lf.value,_f!==!0||Af===null){var Df=gf+xf*4,Of=df.matrixWorldInverse;af.getNormalMatrix(Of),(Af===null||Af.length<Df)&&(Af=new Float32Array(Df));for(var Gf=0,Bf=gf;Gf!==xf;++Gf,Bf+=4)sf.copy(ff[Gf]).applyMatrix4(Of,af),sf.normal.toArray(Af,Bf),Af[Bf+3]=sf.constant}lf.value=Af,lf.needsUpdate=!0}return Qc.numPlanes=xf,Af}}function WebGLExtensions(Qc){var ef={};return{get:function(tf){if(ef[tf]!==void 0)return ef[tf];var nf;switch(tf){case"WEBGL_depth_texture":nf=Qc.getExtension("WEBGL_depth_texture")||Qc.getExtension("MOZ_WEBGL_depth_texture")||Qc.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nf=Qc.getExtension("EXT_texture_filter_anisotropic")||Qc.getExtension("MOZ_EXT_texture_filter_anisotropic")||Qc.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nf=Qc.getExtension("WEBGL_compressed_texture_s3tc")||Qc.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||Qc.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nf=Qc.getExtension("WEBGL_compressed_texture_pvrtc")||Qc.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nf=Qc.getExtension(tf)}return nf===null&&console.warn("THREE.WebGLRenderer: "+tf+" extension not supported."),ef[tf]=nf,nf}}}function WebGLGeometries(Qc,ef,tf){var nf={},rf={};function sf(uf){var ff=uf.target,df=nf[ff.id];df.index!==null&&ef.remove(df.index);for(var gf in df.attributes)ef.remove(df.attributes[gf]);ff.removeEventListener("dispose",sf),delete nf[ff.id];var _f=rf[df.id];_f&&(ef.remove(_f),delete rf[df.id]),tf.memory.geometries--}function af(uf,ff){var df=nf[ff.id];return df||(ff.addEventListener("dispose",sf),ff.isBufferGeometry?df=ff:ff.isGeometry&&(ff._bufferGeometry===void 0&&(ff._bufferGeometry=new BufferGeometry().setFromObject(uf)),df=ff._bufferGeometry),nf[ff.id]=df,tf.memory.geometries++,df)}function lf(uf){var ff=uf.index,df=uf.attributes;ff!==null&&ef.update(ff,Qc.ELEMENT_ARRAY_BUFFER);for(var gf in df)ef.update(df[gf],Qc.ARRAY_BUFFER);var _f=uf.morphAttributes;for(var gf in _f)for(var xf=_f[gf],Af=0,Df=xf.length;Af<Df;Af++)ef.update(xf[Af],Qc.ARRAY_BUFFER)}function cf(uf){var ff=rf[uf.id];if(ff)return ff;var df=[],gf=uf.index,_f=uf.attributes;if(gf!==null)for(var xf=gf.array,Af=0,Df=xf.length;Af<Df;Af+=3){var Of=xf[Af+0],Gf=xf[Af+1],Bf=xf[Af+2];df.push(Of,Gf,Gf,Bf,Bf,Of)}else for(var xf=_f.position.array,Af=0,Df=xf.length/3-1;Af<Df;Af+=3){var Of=Af+0,Gf=Af+1,Bf=Af+2;df.push(Of,Gf,Gf,Bf,Bf,Of)}return ff=new(arrayMax(df)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(df,1),ef.update(ff,Qc.ELEMENT_ARRAY_BUFFER),rf[uf.id]=ff,ff}return{get:af,update:lf,getWireframeAttribute:cf}}function WebGLIndexedBufferRenderer(Qc,ef,tf,nf){var rf;function sf(df){rf=df}var af,lf;function cf(df){af=df.type,lf=df.bytesPerElement}function uf(df,gf){Qc.drawElements(rf,gf,af,df*lf),tf.update(gf,rf)}function ff(df,gf,_f){var xf;if(nf.isWebGL2)xf=Qc;else{var xf=ef.get("ANGLE_instanced_arrays");if(xf===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}xf[nf.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](rf,_f,af,gf*lf,df.maxInstancedCount),tf.update(_f,rf,df.maxInstancedCount)}this.setMode=sf,this.setIndex=cf,this.render=uf,this.renderInstances=ff}function WebGLInfo(Qc){var ef={geometries:0,textures:0},tf={frame:0,calls:0,triangles:0,points:0,lines:0};function nf(sf,af,lf){switch(lf=lf||1,tf.calls++,af){case Qc.TRIANGLES:tf.triangles+=lf*(sf/3);break;case Qc.TRIANGLE_STRIP:case Qc.TRIANGLE_FAN:tf.triangles+=lf*(sf-2);break;case Qc.LINES:tf.lines+=lf*(sf/2);break;case Qc.LINE_STRIP:tf.lines+=lf*(sf-1);break;case Qc.LINE_LOOP:tf.lines+=lf*sf;break;case Qc.POINTS:tf.points+=lf*sf;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",af);break}}function rf(){tf.frame++,tf.calls=0,tf.triangles=0,tf.points=0,tf.lines=0}return{memory:ef,render:tf,programs:null,autoReset:!0,reset:rf,update:nf}}function absNumericalSort(Qc,ef){return Math.abs(ef[1])-Math.abs(Qc[1])}function WebGLMorphtargets(Qc){var ef={},tf=new Float32Array(8);function nf(rf,sf,af,lf){var cf=rf.morphTargetInfluences,uf=cf.length,ff=ef[sf.id];if(ff===void 0){ff=[];for(var df=0;df<uf;df++)ff[df]=[df,0];ef[sf.id]=ff}for(var gf=af.morphTargets&&sf.morphAttributes.position,_f=af.morphNormals&&sf.morphAttributes.normal,df=0;df<uf;df++){var xf=ff[df];xf[1]!==0&&(gf&&sf.removeAttribute("morphTarget"+df),_f&&sf.removeAttribute("morphNormal"+df))}for(var df=0;df<uf;df++){var xf=ff[df];xf[0]=df,xf[1]=cf[df]}ff.sort(absNumericalSort);for(var df=0;df<8;df++){var xf=ff[df];if(xf){var Af=xf[0],Df=xf[1];if(Df){gf&&sf.addAttribute("morphTarget"+df,gf[Af]),_f&&sf.addAttribute("morphNormal"+df,_f[Af]),tf[df]=Df;continue}}tf[df]=0}lf.getUniforms().setValue(Qc,"morphTargetInfluences",tf)}return{update:nf}}function WebGLObjects(Qc,ef){var tf={};function nf(sf){var af=ef.render.frame,lf=sf.geometry,cf=Qc.get(sf,lf);return tf[cf.id]!==af&&(lf.isGeometry&&cf.updateFromObject(sf),Qc.update(cf),tf[cf.id]=af),cf}function rf(){tf={}}return{update:nf,dispose:rf}}function CubeTexture(Qc,ef,tf,nf,rf,sf,af,lf,cf,uf){Qc=Qc!==void 0?Qc:[],ef=ef!==void 0?ef:CubeReflectionMapping,Texture.call(this,Qc,ef,tf,nf,rf,sf,af,lf,cf,uf),this.flipY=!1}CubeTexture.prototype=Object.create(Texture.prototype);CubeTexture.prototype.constructor=CubeTexture;CubeTexture.prototype.isCubeTexture=!0;Object.defineProperty(CubeTexture.prototype,"images",{get:function(){return this.image},set:function(Qc){this.image=Qc}});function DataTexture3D(Qc,ef,tf,nf){Texture.call(this,null),this.image={data:Qc,width:ef,height:tf,depth:nf},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.flipY=!1}DataTexture3D.prototype=Object.create(Texture.prototype);DataTexture3D.prototype.constructor=DataTexture3D;DataTexture3D.prototype.isDataTexture3D=!0;var emptyTexture=new Texture,emptyTexture3d=new DataTexture3D,emptyCubeTexture=new CubeTexture;function UniformContainer(){this.seq=[],this.map={}}var arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(Qc,ef,tf){var nf=Qc[0];if(nf<=0||nf>0)return Qc;var rf=ef*tf,sf=arrayCacheF32[rf];if(sf===void 0&&(sf=new Float32Array(rf),arrayCacheF32[rf]=sf),ef!==0){nf.toArray(sf,0);for(var af=1,lf=0;af!==ef;++af)lf+=tf,Qc[af].toArray(sf,lf)}return sf}function arraysEqual(Qc,ef){if(Qc.length!==ef.length)return!1;for(var tf=0,nf=Qc.length;tf<nf;tf++)if(Qc[tf]!==ef[tf])return!1;return!0}function copyArray(Qc,ef){for(var tf=0,nf=ef.length;tf<nf;tf++)Qc[tf]=ef[tf]}function allocTexUnits(Qc,ef){var tf=arrayCacheI32[ef];tf===void 0&&(tf=new Int32Array(ef),arrayCacheI32[ef]=tf);for(var nf=0;nf!==ef;++nf)tf[nf]=Qc.allocTextureUnit();return tf}function setValue1f(Qc,ef){var tf=this.cache;tf[0]!==ef&&(Qc.uniform1f(this.addr,ef),tf[0]=ef)}function setValue1i(Qc,ef){var tf=this.cache;tf[0]!==ef&&(Qc.uniform1i(this.addr,ef),tf[0]=ef)}function setValue2fv(Qc,ef){var tf=this.cache;if(ef.x!==void 0)(tf[0]!==ef.x||tf[1]!==ef.y)&&(Qc.uniform2f(this.addr,ef.x,ef.y),tf[0]=ef.x,tf[1]=ef.y);else{if(arraysEqual(tf,ef))return;Qc.uniform2fv(this.addr,ef),copyArray(tf,ef)}}function setValue3fv(Qc,ef){var tf=this.cache;if(ef.x!==void 0)(tf[0]!==ef.x||tf[1]!==ef.y||tf[2]!==ef.z)&&(Qc.uniform3f(this.addr,ef.x,ef.y,ef.z),tf[0]=ef.x,tf[1]=ef.y,tf[2]=ef.z);else if(ef.r!==void 0)(tf[0]!==ef.r||tf[1]!==ef.g||tf[2]!==ef.b)&&(Qc.uniform3f(this.addr,ef.r,ef.g,ef.b),tf[0]=ef.r,tf[1]=ef.g,tf[2]=ef.b);else{if(arraysEqual(tf,ef))return;Qc.uniform3fv(this.addr,ef),copyArray(tf,ef)}}function setValue4fv(Qc,ef){var tf=this.cache;if(ef.x!==void 0)(tf[0]!==ef.x||tf[1]!==ef.y||tf[2]!==ef.z||tf[3]!==ef.w)&&(Qc.uniform4f(this.addr,ef.x,ef.y,ef.z,ef.w),tf[0]=ef.x,tf[1]=ef.y,tf[2]=ef.z,tf[3]=ef.w);else{if(arraysEqual(tf,ef))return;Qc.uniform4fv(this.addr,ef),copyArray(tf,ef)}}function setValue2fm(Qc,ef){var tf=this.cache,nf=ef.elements;if(nf===void 0){if(arraysEqual(tf,ef))return;Qc.uniformMatrix2fv(this.addr,!1,ef),copyArray(tf,ef)}else{if(arraysEqual(tf,nf))return;mat2array.set(nf),Qc.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(tf,nf)}}function setValue3fm(Qc,ef){var tf=this.cache,nf=ef.elements;if(nf===void 0){if(arraysEqual(tf,ef))return;Qc.uniformMatrix3fv(this.addr,!1,ef),copyArray(tf,ef)}else{if(arraysEqual(tf,nf))return;mat3array.set(nf),Qc.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(tf,nf)}}function setValue4fm(Qc,ef){var tf=this.cache,nf=ef.elements;if(nf===void 0){if(arraysEqual(tf,ef))return;Qc.uniformMatrix4fv(this.addr,!1,ef),copyArray(tf,ef)}else{if(arraysEqual(tf,nf))return;mat4array.set(nf),Qc.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(tf,nf)}}function setValueT1(Qc,ef,tf){var nf=this.cache,rf=tf.allocTextureUnit();nf[0]!==rf&&(Qc.uniform1i(this.addr,rf),nf[0]=rf),tf.setTexture2D(ef||emptyTexture,rf)}function setValueT3D1(Qc,ef,tf){var nf=this.cache,rf=tf.allocTextureUnit();nf[0]!==rf&&(Qc.uniform1i(this.addr,rf),nf[0]=rf),tf.setTexture3D(ef||emptyTexture3d,rf)}function setValueT6(Qc,ef,tf){var nf=this.cache,rf=tf.allocTextureUnit();nf[0]!==rf&&(Qc.uniform1i(this.addr,rf),nf[0]=rf),tf.setTextureCube(ef||emptyCubeTexture,rf)}function setValue2iv(Qc,ef){var tf=this.cache;arraysEqual(tf,ef)||(Qc.uniform2iv(this.addr,ef),copyArray(tf,ef))}function setValue3iv(Qc,ef){var tf=this.cache;arraysEqual(tf,ef)||(Qc.uniform3iv(this.addr,ef),copyArray(tf,ef))}function setValue4iv(Qc,ef){var tf=this.cache;arraysEqual(tf,ef)||(Qc.uniform4iv(this.addr,ef),copyArray(tf,ef))}function getSingularSetter(Qc){switch(Qc){case 5126:return setValue1f;case 35664:return setValue2fv;case 35665:return setValue3fv;case 35666:return setValue4fv;case 35674:return setValue2fm;case 35675:return setValue3fm;case 35676:return setValue4fm;case 35678:case 36198:return setValueT1;case 35679:return setValueT3D1;case 35680:return setValueT6;case 5124:case 35670:return setValue1i;case 35667:case 35671:return setValue2iv;case 35668:case 35672:return setValue3iv;case 35669:case 35673:return setValue4iv}}function setValue1fv(Qc,ef){var tf=this.cache;arraysEqual(tf,ef)||(Qc.uniform1fv(this.addr,ef),copyArray(tf,ef))}function setValue1iv(Qc,ef){var tf=this.cache;arraysEqual(tf,ef)||(Qc.uniform1iv(this.addr,ef),copyArray(tf,ef))}function setValueV2a(Qc,ef){var tf=this.cache,nf=flatten(ef,this.size,2);arraysEqual(tf,nf)||(Qc.uniform2fv(this.addr,nf),this.updateCache(nf))}function setValueV3a(Qc,ef){var tf=this.cache,nf=flatten(ef,this.size,3);arraysEqual(tf,nf)||(Qc.uniform3fv(this.addr,nf),this.updateCache(nf))}function setValueV4a(Qc,ef){var tf=this.cache,nf=flatten(ef,this.size,4);arraysEqual(tf,nf)||(Qc.uniform4fv(this.addr,nf),this.updateCache(nf))}function setValueM2a(Qc,ef){var tf=this.cache,nf=flatten(ef,this.size,4);arraysEqual(tf,nf)||(Qc.uniformMatrix2fv(this.addr,!1,nf),this.updateCache(nf))}function setValueM3a(Qc,ef){var tf=this.cache,nf=flatten(ef,this.size,9);arraysEqual(tf,nf)||(Qc.uniformMatrix3fv(this.addr,!1,nf),this.updateCache(nf))}function setValueM4a(Qc,ef){var tf=this.cache,nf=flatten(ef,this.size,16);arraysEqual(tf,nf)||(Qc.uniformMatrix4fv(this.addr,!1,nf),this.updateCache(nf))}function setValueT1a(Qc,ef,tf){var nf=this.cache,rf=ef.length,sf=allocTexUnits(tf,rf);arraysEqual(nf,sf)===!1&&(Qc.uniform1iv(this.addr,sf),copyArray(nf,sf));for(var af=0;af!==rf;++af)tf.setTexture2D(ef[af]||emptyTexture,sf[af])}function setValueT6a(Qc,ef,tf){var nf=this.cache,rf=ef.length,sf=allocTexUnits(tf,rf);arraysEqual(nf,sf)===!1&&(Qc.uniform1iv(this.addr,sf),copyArray(nf,sf));for(var af=0;af!==rf;++af)tf.setTextureCube(ef[af]||emptyCubeTexture,sf[af])}function getPureArraySetter(Qc){switch(Qc){case 5126:return setValue1fv;case 35664:return setValueV2a;case 35665:return setValueV3a;case 35666:return setValueV4a;case 35674:return setValueM2a;case 35675:return setValueM3a;case 35676:return setValueM4a;case 35678:return setValueT1a;case 35680:return setValueT6a;case 5124:case 35670:return setValue1iv;case 35667:case 35671:return setValue2iv;case 35668:case 35672:return setValue3iv;case 35669:case 35673:return setValue4iv}}function SingleUniform(Qc,ef,tf){this.id=Qc,this.addr=tf,this.cache=[],this.setValue=getSingularSetter(ef.type)}function PureArrayUniform(Qc,ef,tf){this.id=Qc,this.addr=tf,this.cache=[],this.size=ef.size,this.setValue=getPureArraySetter(ef.type)}PureArrayUniform.prototype.updateCache=function(Qc){var ef=this.cache;Qc instanceof Float32Array&&ef.length!==Qc.length&&(this.cache=new Float32Array(Qc.length)),copyArray(ef,Qc)};function StructuredUniform(Qc){this.id=Qc,UniformContainer.call(this)}StructuredUniform.prototype.setValue=function(Qc,ef,tf){for(var nf=this.seq,rf=0,sf=nf.length;rf!==sf;++rf){var af=nf[rf];af.setValue(Qc,ef[af.id],tf)}};var RePathPart=/([\w\d_]+)(\])?(\[|\.)?/g;function addUniform(Qc,ef){Qc.seq.push(ef),Qc.map[ef.id]=ef}function parseUniform(Qc,ef,tf){var nf=Qc.name,rf=nf.length;for(RePathPart.lastIndex=0;;){var sf=RePathPart.exec(nf),af=RePathPart.lastIndex,lf=sf[1],cf=sf[2]==="]",uf=sf[3];if(cf&&(lf=lf|0),uf===void 0||uf==="["&&af+2===rf){addUniform(tf,uf===void 0?new SingleUniform(lf,Qc,ef):new PureArrayUniform(lf,Qc,ef));break}else{var ff=tf.map,df=ff[lf];df===void 0&&(df=new StructuredUniform(lf),addUniform(tf,df)),tf=df}}}function WebGLUniforms(Qc,ef,tf){UniformContainer.call(this),this.renderer=tf;for(var nf=Qc.getProgramParameter(ef,Qc.ACTIVE_UNIFORMS),rf=0;rf<nf;++rf){var sf=Qc.getActiveUniform(ef,rf),af=Qc.getUniformLocation(ef,sf.name);parseUniform(sf,af,this)}}WebGLUniforms.prototype.setValue=function(Qc,ef,tf){var nf=this.map[ef];nf!==void 0&&nf.setValue(Qc,tf,this.renderer)};WebGLUniforms.prototype.setOptional=function(Qc,ef,tf){var nf=ef[tf];nf!==void 0&&this.setValue(Qc,tf,nf)};WebGLUniforms.upload=function(Qc,ef,tf,nf){for(var rf=0,sf=ef.length;rf!==sf;++rf){var af=ef[rf],lf=tf[af.id];lf.needsUpdate!==!1&&af.setValue(Qc,lf.value,nf)}};WebGLUniforms.seqWithValue=function(Qc,ef){for(var tf=[],nf=0,rf=Qc.length;nf!==rf;++nf){var sf=Qc[nf];sf.id in ef&&tf.push(sf)}return tf};function addLineNumbers(Qc){for(var ef=Qc.split(`
`),tf=0;tf<ef.length;tf++)ef[tf]=tf+1+": "+ef[tf];return ef.join(`
`)}function WebGLShader(Qc,ef,tf){var nf=Qc.createShader(ef);return Qc.shaderSource(nf,tf),Qc.compileShader(nf),Qc.getShaderParameter(nf,Qc.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),Qc.getShaderInfoLog(nf)!==""&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",ef===Qc.VERTEX_SHADER?"vertex":"fragment",Qc.getShaderInfoLog(nf),addLineNumbers(tf)),nf}var programIdCount=0;function getEncodingComponents(Qc){switch(Qc){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];case RGBEEncoding:return["RGBE","( value )"];case RGBM7Encoding:return["RGBM","( value, 7.0 )"];case RGBM16Encoding:return["RGBM","( value, 16.0 )"];case RGBDEncoding:return["RGBD","( value, 256.0 )"];case GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+Qc)}}function getTexelDecodingFunction(Qc,ef){var tf=getEncodingComponents(ef);return"vec4 "+Qc+"( vec4 value ) { return "+tf[0]+"ToLinear"+tf[1]+"; }"}function getTexelEncodingFunction(Qc,ef){var tf=getEncodingComponents(ef);return"vec4 "+Qc+"( vec4 value ) { return LinearTo"+tf[0]+tf[1]+"; }"}function getToneMappingFunction(Qc,ef){var tf;switch(ef){case LinearToneMapping:tf="Linear";break;case ReinhardToneMapping:tf="Reinhard";break;case Uncharted2ToneMapping:tf="Uncharted2";break;case CineonToneMapping:tf="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+ef)}return"vec3 "+Qc+"( vec3 color ) { return "+tf+"ToneMapping( color ); }"}function generateExtensions(Qc,ef,tf){Qc=Qc||{};var nf=[Qc.derivatives||ef.envMapCubeUV||ef.bumpMap||ef.normalMap&&!ef.objectSpaceNormalMap||ef.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(Qc.fragDepth||ef.logarithmicDepthBuffer)&&tf.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",Qc.drawBuffers&&tf.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(Qc.shaderTextureLOD||ef.envMap)&&tf.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return nf.filter(filterEmptyLine).join(`
`)}function generateDefines(Qc){var ef=[];for(var tf in Qc){var nf=Qc[tf];nf!==!1&&ef.push("#define "+tf+" "+nf)}return ef.join(`
`)}function fetchAttributeLocations(Qc,ef){for(var tf={},nf=Qc.getProgramParameter(ef,Qc.ACTIVE_ATTRIBUTES),rf=0;rf<nf;rf++){var sf=Qc.getActiveAttrib(ef,rf),af=sf.name;tf[af]=Qc.getAttribLocation(ef,af)}return tf}function filterEmptyLine(Qc){return Qc!==""}function replaceLightNums(Qc,ef){return Qc.replace(/NUM_DIR_LIGHTS/g,ef.numDirLights).replace(/NUM_SPOT_LIGHTS/g,ef.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,ef.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,ef.numPointLights).replace(/NUM_HEMI_LIGHTS/g,ef.numHemiLights)}function replaceClippingPlaneNums(Qc,ef){return Qc.replace(/NUM_CLIPPING_PLANES/g,ef.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,ef.numClippingPlanes-ef.numClipIntersection)}function parseIncludes(Qc){var ef=/^[ \t]*#include +<([\w\d./]+)>/gm;function tf(nf,rf){var sf=ShaderChunk[rf];if(sf===void 0)throw new Error("Can not resolve #include <"+rf+">");return parseIncludes(sf)}return Qc.replace(ef,tf)}function unrollLoops(Qc){var ef=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function tf(nf,rf,sf,af){for(var lf="",cf=parseInt(rf);cf<parseInt(sf);cf++)lf+=af.replace(/\[ i \]/g,"[ "+cf+" ]");return lf}return Qc.replace(ef,tf)}function WebGLProgram(Qc,ef,tf,nf,rf,sf,af){var lf=Qc.context,cf=nf.defines,uf=rf.vertexShader,ff=rf.fragmentShader,df="SHADOWMAP_TYPE_BASIC";sf.shadowMapType===PCFShadowMap?df="SHADOWMAP_TYPE_PCF":sf.shadowMapType===PCFSoftShadowMap&&(df="SHADOWMAP_TYPE_PCF_SOFT");var gf="ENVMAP_TYPE_CUBE",_f="ENVMAP_MODE_REFLECTION",xf="ENVMAP_BLENDING_MULTIPLY";if(sf.envMap){switch(nf.envMap.mapping){case CubeReflectionMapping:case CubeRefractionMapping:gf="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:gf="ENVMAP_TYPE_CUBE_UV";break;case EquirectangularReflectionMapping:case EquirectangularRefractionMapping:gf="ENVMAP_TYPE_EQUIREC";break;case SphericalReflectionMapping:gf="ENVMAP_TYPE_SPHERE";break}switch(nf.envMap.mapping){case CubeRefractionMapping:case EquirectangularRefractionMapping:_f="ENVMAP_MODE_REFRACTION";break}switch(nf.combine){case MultiplyOperation:xf="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:xf="ENVMAP_BLENDING_MIX";break;case AddOperation:xf="ENVMAP_BLENDING_ADD";break}}var Af=Qc.gammaFactor>0?Qc.gammaFactor:1,Df=af.isWebGL2?"":generateExtensions(nf.extensions,sf,ef),Of=generateDefines(cf),Gf=lf.createProgram(),Bf,Vf;if(nf.isRawShaderMaterial?(Bf=[Of].filter(filterEmptyLine).join(`
`),Bf.length>0&&(Bf+=`
`),Vf=[Df,Of].filter(filterEmptyLine).join(`
`),Vf.length>0&&(Vf+=`
`)):(Bf=["precision "+sf.precision+" float;","precision "+sf.precision+" int;","#define SHADER_NAME "+rf.name,Of,sf.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+Af,"#define MAX_BONES "+sf.maxBones,sf.useFog&&sf.fog?"#define USE_FOG":"",sf.useFog&&sf.fogExp?"#define FOG_EXP2":"",sf.map?"#define USE_MAP":"",sf.envMap?"#define USE_ENVMAP":"",sf.envMap?"#define "+_f:"",sf.lightMap?"#define USE_LIGHTMAP":"",sf.aoMap?"#define USE_AOMAP":"",sf.emissiveMap?"#define USE_EMISSIVEMAP":"",sf.bumpMap?"#define USE_BUMPMAP":"",sf.normalMap?"#define USE_NORMALMAP":"",sf.normalMap&&sf.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",sf.displacementMap&&sf.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",sf.specularMap?"#define USE_SPECULARMAP":"",sf.roughnessMap?"#define USE_ROUGHNESSMAP":"",sf.metalnessMap?"#define USE_METALNESSMAP":"",sf.alphaMap?"#define USE_ALPHAMAP":"",sf.vertexColors?"#define USE_COLOR":"",sf.flatShading?"#define FLAT_SHADED":"",sf.skinning?"#define USE_SKINNING":"",sf.useVertexTexture?"#define BONE_TEXTURE":"",sf.morphTargets?"#define USE_MORPHTARGETS":"",sf.morphNormals&&sf.flatShading===!1?"#define USE_MORPHNORMALS":"",sf.doubleSided?"#define DOUBLE_SIDED":"",sf.flipSided?"#define FLIP_SIDED":"",sf.shadowMapEnabled?"#define USE_SHADOWMAP":"",sf.shadowMapEnabled?"#define "+df:"",sf.sizeAttenuation?"#define USE_SIZEATTENUATION":"",sf.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",sf.logarithmicDepthBuffer&&(af.isWebGL2||ef.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Vf=[Df,"precision "+sf.precision+" float;","precision "+sf.precision+" int;","#define SHADER_NAME "+rf.name,Of,sf.alphaTest?"#define ALPHATEST "+sf.alphaTest+(sf.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+Af,sf.useFog&&sf.fog?"#define USE_FOG":"",sf.useFog&&sf.fogExp?"#define FOG_EXP2":"",sf.map?"#define USE_MAP":"",sf.envMap?"#define USE_ENVMAP":"",sf.envMap?"#define "+gf:"",sf.envMap?"#define "+_f:"",sf.envMap?"#define "+xf:"",sf.lightMap?"#define USE_LIGHTMAP":"",sf.aoMap?"#define USE_AOMAP":"",sf.emissiveMap?"#define USE_EMISSIVEMAP":"",sf.bumpMap?"#define USE_BUMPMAP":"",sf.normalMap?"#define USE_NORMALMAP":"",sf.normalMap&&sf.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",sf.specularMap?"#define USE_SPECULARMAP":"",sf.roughnessMap?"#define USE_ROUGHNESSMAP":"",sf.metalnessMap?"#define USE_METALNESSMAP":"",sf.alphaMap?"#define USE_ALPHAMAP":"",sf.vertexColors?"#define USE_COLOR":"",sf.gradientMap?"#define USE_GRADIENTMAP":"",sf.flatShading?"#define FLAT_SHADED":"",sf.doubleSided?"#define DOUBLE_SIDED":"",sf.flipSided?"#define FLIP_SIDED":"",sf.shadowMapEnabled?"#define USE_SHADOWMAP":"",sf.shadowMapEnabled?"#define "+df:"",sf.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",sf.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",sf.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",sf.logarithmicDepthBuffer&&(af.isWebGL2||ef.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",sf.envMap&&(af.isWebGL2||ef.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",sf.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",sf.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",sf.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",sf.toneMapping):"",sf.dithering?"#define DITHERING":"",sf.outputEncoding||sf.mapEncoding||sf.matcapEncoding||sf.envMapEncoding||sf.emissiveMapEncoding?ShaderChunk.encodings_pars_fragment:"",sf.mapEncoding?getTexelDecodingFunction("mapTexelToLinear",sf.mapEncoding):"",sf.matcapEncoding?getTexelDecodingFunction("matcapTexelToLinear",sf.matcapEncoding):"",sf.envMapEncoding?getTexelDecodingFunction("envMapTexelToLinear",sf.envMapEncoding):"",sf.emissiveMapEncoding?getTexelDecodingFunction("emissiveMapTexelToLinear",sf.emissiveMapEncoding):"",sf.outputEncoding?getTexelEncodingFunction("linearToOutputTexel",sf.outputEncoding):"",sf.depthPacking?"#define DEPTH_PACKING "+nf.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),uf=parseIncludes(uf),uf=replaceLightNums(uf,sf),uf=replaceClippingPlaneNums(uf,sf),ff=parseIncludes(ff),ff=replaceLightNums(ff,sf),ff=replaceClippingPlaneNums(ff,sf),uf=unrollLoops(uf),ff=unrollLoops(ff),af.isWebGL2&&!nf.isRawShaderMaterial){var Lf=!1,Cf=/^\s*#version\s+300\s+es\s*\n/;nf.isShaderMaterial&&uf.match(Cf)!==null&&ff.match(Cf)!==null&&(Lf=!0,uf=uf.replace(Cf,""),ff=ff.replace(Cf,"")),Bf=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Bf,Vf=[`#version 300 es
`,"#define varying in",Lf?"":"out highp vec4 pc_fragColor;",Lf?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Vf}var Tf=Bf+uf,Yf=Vf+ff,rh=WebGLShader(lf,lf.VERTEX_SHADER,Tf),dh=WebGLShader(lf,lf.FRAGMENT_SHADER,Yf);lf.attachShader(Gf,rh),lf.attachShader(Gf,dh),nf.index0AttributeName!==void 0?lf.bindAttribLocation(Gf,0,nf.index0AttributeName):sf.morphTargets===!0&&lf.bindAttribLocation(Gf,0,"position"),lf.linkProgram(Gf);var hh=lf.getProgramInfoLog(Gf).trim(),sh=lf.getShaderInfoLog(rh).trim(),Hf=lf.getShaderInfoLog(dh).trim(),Qf=!0,ah=!0;lf.getProgramParameter(Gf,lf.LINK_STATUS)===!1?(Qf=!1,console.error("THREE.WebGLProgram: shader error: ",lf.getError(),"gl.VALIDATE_STATUS",lf.getProgramParameter(Gf,lf.VALIDATE_STATUS),"gl.getProgramInfoLog",hh,sh,Hf)):hh!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",hh):(sh===""||Hf==="")&&(ah=!1),ah&&(this.diagnostics={runnable:Qf,material:nf,programLog:hh,vertexShader:{log:sh,prefix:Bf},fragmentShader:{log:Hf,prefix:Vf}}),lf.deleteShader(rh),lf.deleteShader(dh);var mh;this.getUniforms=function(){return mh===void 0&&(mh=new WebGLUniforms(lf,Gf,Qc)),mh};var uh;return this.getAttributes=function(){return uh===void 0&&(uh=fetchAttributeLocations(lf,Gf)),uh},this.destroy=function(){lf.deleteProgram(Gf),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=rf.name,this.id=programIdCount++,this.code=tf,this.usedTimes=1,this.program=Gf,this.vertexShader=rh,this.fragmentShader=dh,this}function WebGLPrograms(Qc,ef,tf){var nf=[],rf={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},sf=["precision","supportsVertexTextures","map","mapEncoding","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function af(cf){var uf=cf.skeleton,ff=uf.bones;if(tf.floatVertexTextures)return 1024;var df=tf.maxVertexUniforms,gf=Math.floor((df-20)/4),_f=Math.min(gf,ff.length);return _f<ff.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+ff.length+" bones. This GPU supports "+_f+"."),0):_f}function lf(cf,uf){var ff;return cf?cf.isTexture?ff=cf.encoding:cf.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),ff=cf.texture.encoding):ff=LinearEncoding,ff===LinearEncoding&&uf&&(ff=GammaEncoding),ff}this.getParameters=function(cf,uf,ff,df,gf,_f,xf){var Af=rf[cf.type],Df=xf.isSkinnedMesh?af(xf):0,Of=tf.precision;cf.precision!==null&&(Of=tf.getMaxPrecision(cf.precision),Of!==cf.precision&&console.warn("THREE.WebGLProgram.getParameters:",cf.precision,"not supported, using",Of,"instead."));var Gf=Qc.getRenderTarget(),Bf={shaderID:Af,precision:Of,supportsVertexTextures:tf.vertexTextures,outputEncoding:lf(Gf?Gf.texture:null,Qc.gammaOutput),map:!!cf.map,mapEncoding:lf(cf.map,Qc.gammaInput),matcap:!!cf.matcap,matcapEncoding:lf(cf.matcap,Qc.gammaInput),envMap:!!cf.envMap,envMapMode:cf.envMap&&cf.envMap.mapping,envMapEncoding:lf(cf.envMap,Qc.gammaInput),envMapCubeUV:!!cf.envMap&&(cf.envMap.mapping===CubeUVReflectionMapping||cf.envMap.mapping===CubeUVRefractionMapping),lightMap:!!cf.lightMap,aoMap:!!cf.aoMap,emissiveMap:!!cf.emissiveMap,emissiveMapEncoding:lf(cf.emissiveMap,Qc.gammaInput),bumpMap:!!cf.bumpMap,normalMap:!!cf.normalMap,objectSpaceNormalMap:cf.normalMapType===ObjectSpaceNormalMap,displacementMap:!!cf.displacementMap,roughnessMap:!!cf.roughnessMap,metalnessMap:!!cf.metalnessMap,specularMap:!!cf.specularMap,alphaMap:!!cf.alphaMap,gradientMap:!!cf.gradientMap,combine:cf.combine,vertexColors:cf.vertexColors,fog:!!df,useFog:cf.fog,fogExp:df&&df.isFogExp2,flatShading:cf.flatShading,sizeAttenuation:cf.sizeAttenuation,logarithmicDepthBuffer:tf.logarithmicDepthBuffer,skinning:cf.skinning&&Df>0,maxBones:Df,useVertexTexture:tf.floatVertexTextures,morphTargets:cf.morphTargets,morphNormals:cf.morphNormals,maxMorphTargets:Qc.maxMorphTargets,maxMorphNormals:Qc.maxMorphNormals,numDirLights:uf.directional.length,numPointLights:uf.point.length,numSpotLights:uf.spot.length,numRectAreaLights:uf.rectArea.length,numHemiLights:uf.hemi.length,numClippingPlanes:gf,numClipIntersection:_f,dithering:cf.dithering,shadowMapEnabled:Qc.shadowMap.enabled&&xf.receiveShadow&&ff.length>0,shadowMapType:Qc.shadowMap.type,toneMapping:Qc.toneMapping,physicallyCorrectLights:Qc.physicallyCorrectLights,premultipliedAlpha:cf.premultipliedAlpha,alphaTest:cf.alphaTest,doubleSided:cf.side===DoubleSide,flipSided:cf.side===BackSide,depthPacking:cf.depthPacking!==void 0?cf.depthPacking:!1};return Bf},this.getProgramCode=function(cf,uf){var ff=[];if(uf.shaderID?ff.push(uf.shaderID):(ff.push(cf.fragmentShader),ff.push(cf.vertexShader)),cf.defines!==void 0)for(var df in cf.defines)ff.push(df),ff.push(cf.defines[df]);for(var gf=0;gf<sf.length;gf++)ff.push(uf[sf[gf]]);return ff.push(cf.onBeforeCompile.toString()),ff.push(Qc.gammaOutput),ff.join()},this.acquireProgram=function(cf,uf,ff,df){for(var gf,_f=0,xf=nf.length;_f<xf;_f++){var Af=nf[_f];if(Af.code===df){gf=Af,++gf.usedTimes;break}}return gf===void 0&&(gf=new WebGLProgram(Qc,ef,df,cf,uf,ff,tf),nf.push(gf)),gf},this.releaseProgram=function(cf){if(--cf.usedTimes===0){var uf=nf.indexOf(cf);nf[uf]=nf[nf.length-1],nf.pop(),cf.destroy()}},this.programs=nf}function WebGLProperties(){var Qc=new WeakMap;function ef(sf){var af=Qc.get(sf);return af===void 0&&(af={},Qc.set(sf,af)),af}function tf(sf){Qc.delete(sf)}function nf(sf,af,lf){Qc.get(sf)[af]=lf}function rf(){Qc=new WeakMap}return{get:ef,remove:tf,update:nf,dispose:rf}}function painterSortStable(Qc,ef){return Qc.renderOrder!==ef.renderOrder?Qc.renderOrder-ef.renderOrder:Qc.program&&ef.program&&Qc.program!==ef.program?Qc.program.id-ef.program.id:Qc.material.id!==ef.material.id?Qc.material.id-ef.material.id:Qc.z!==ef.z?Qc.z-ef.z:Qc.id-ef.id}function reversePainterSortStable(Qc,ef){return Qc.renderOrder!==ef.renderOrder?Qc.renderOrder-ef.renderOrder:Qc.z!==ef.z?ef.z-Qc.z:Qc.id-ef.id}function WebGLRenderList(){var Qc=[],ef=0,tf=[],nf=[];function rf(){ef=0,tf.length=0,nf.length=0}function sf(lf,cf,uf,ff,df){var gf=Qc[ef];gf===void 0?(gf={id:lf.id,object:lf,geometry:cf,material:uf,program:uf.program,renderOrder:lf.renderOrder,z:ff,group:df},Qc[ef]=gf):(gf.id=lf.id,gf.object=lf,gf.geometry=cf,gf.material=uf,gf.program=uf.program,gf.renderOrder=lf.renderOrder,gf.z=ff,gf.group=df),(uf.transparent===!0?nf:tf).push(gf),ef++}function af(){tf.length>1&&tf.sort(painterSortStable),nf.length>1&&nf.sort(reversePainterSortStable)}return{opaque:tf,transparent:nf,init:rf,push:sf,sort:af}}function WebGLRenderLists(){var Qc={};function ef(nf,rf){var sf=nf.id+","+rf.id,af=Qc[sf];return af===void 0&&(af=new WebGLRenderList,Qc[sf]=af),af}function tf(){Qc={}}return{get:ef,dispose:tf}}function UniformsCache(){var Qc={};return{get:function(ef){if(Qc[ef.id]!==void 0)return Qc[ef.id];var tf;switch(ef.type){case"DirectionalLight":tf={direction:new Vector3,color:new Color$1,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":tf={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":tf={position:new Vector3,color:new Color$1,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":tf={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":tf={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return Qc[ef.id]=tf,tf}}}var count=0;function WebGLLights(){var Qc=new UniformsCache,ef={id:count++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},tf=new Vector3,nf=new Matrix4,rf=new Matrix4;function sf(af,lf,cf){for(var uf=0,ff=0,df=0,gf=0,_f=0,xf=0,Af=0,Df=0,Of=cf.matrixWorldInverse,Gf=0,Bf=af.length;Gf<Bf;Gf++){var Vf=af[Gf],Lf=Vf.color,Cf=Vf.intensity,Tf=Vf.distance,Yf=Vf.shadow&&Vf.shadow.map?Vf.shadow.map.texture:null;if(Vf.isAmbientLight)uf+=Lf.r*Cf,ff+=Lf.g*Cf,df+=Lf.b*Cf;else if(Vf.isDirectionalLight){var rh=Qc.get(Vf);if(rh.color.copy(Vf.color).multiplyScalar(Vf.intensity),rh.direction.setFromMatrixPosition(Vf.matrixWorld),tf.setFromMatrixPosition(Vf.target.matrixWorld),rh.direction.sub(tf),rh.direction.transformDirection(Of),rh.shadow=Vf.castShadow,Vf.castShadow){var dh=Vf.shadow;rh.shadowBias=dh.bias,rh.shadowRadius=dh.radius,rh.shadowMapSize=dh.mapSize}ef.directionalShadowMap[gf]=Yf,ef.directionalShadowMatrix[gf]=Vf.shadow.matrix,ef.directional[gf]=rh,gf++}else if(Vf.isSpotLight){var rh=Qc.get(Vf);if(rh.position.setFromMatrixPosition(Vf.matrixWorld),rh.position.applyMatrix4(Of),rh.color.copy(Lf).multiplyScalar(Cf),rh.distance=Tf,rh.direction.setFromMatrixPosition(Vf.matrixWorld),tf.setFromMatrixPosition(Vf.target.matrixWorld),rh.direction.sub(tf),rh.direction.transformDirection(Of),rh.coneCos=Math.cos(Vf.angle),rh.penumbraCos=Math.cos(Vf.angle*(1-Vf.penumbra)),rh.decay=Vf.decay,rh.shadow=Vf.castShadow,Vf.castShadow){var dh=Vf.shadow;rh.shadowBias=dh.bias,rh.shadowRadius=dh.radius,rh.shadowMapSize=dh.mapSize}ef.spotShadowMap[xf]=Yf,ef.spotShadowMatrix[xf]=Vf.shadow.matrix,ef.spot[xf]=rh,xf++}else if(Vf.isRectAreaLight){var rh=Qc.get(Vf);rh.color.copy(Lf).multiplyScalar(Cf),rh.position.setFromMatrixPosition(Vf.matrixWorld),rh.position.applyMatrix4(Of),rf.identity(),nf.copy(Vf.matrixWorld),nf.premultiply(Of),rf.extractRotation(nf),rh.halfWidth.set(Vf.width*.5,0,0),rh.halfHeight.set(0,Vf.height*.5,0),rh.halfWidth.applyMatrix4(rf),rh.halfHeight.applyMatrix4(rf),ef.rectArea[Af]=rh,Af++}else if(Vf.isPointLight){var rh=Qc.get(Vf);if(rh.position.setFromMatrixPosition(Vf.matrixWorld),rh.position.applyMatrix4(Of),rh.color.copy(Vf.color).multiplyScalar(Vf.intensity),rh.distance=Vf.distance,rh.decay=Vf.decay,rh.shadow=Vf.castShadow,Vf.castShadow){var dh=Vf.shadow;rh.shadowBias=dh.bias,rh.shadowRadius=dh.radius,rh.shadowMapSize=dh.mapSize,rh.shadowCameraNear=dh.camera.near,rh.shadowCameraFar=dh.camera.far}ef.pointShadowMap[_f]=Yf,ef.pointShadowMatrix[_f]=Vf.shadow.matrix,ef.point[_f]=rh,_f++}else if(Vf.isHemisphereLight){var rh=Qc.get(Vf);rh.direction.setFromMatrixPosition(Vf.matrixWorld),rh.direction.transformDirection(Of),rh.direction.normalize(),rh.skyColor.copy(Vf.color).multiplyScalar(Cf),rh.groundColor.copy(Vf.groundColor).multiplyScalar(Cf),ef.hemi[Df]=rh,Df++}}ef.ambient[0]=uf,ef.ambient[1]=ff,ef.ambient[2]=df,ef.directional.length=gf,ef.spot.length=xf,ef.rectArea.length=Af,ef.point.length=_f,ef.hemi.length=Df,ef.hash.stateID=ef.id,ef.hash.directionalLength=gf,ef.hash.pointLength=_f,ef.hash.spotLength=xf,ef.hash.rectAreaLength=Af,ef.hash.hemiLength=Df,ef.hash.shadowsLength=lf.length}return{setup:sf,state:ef}}function WebGLRenderState(){var Qc=new WebGLLights,ef=[],tf=[];function nf(){ef.length=0,tf.length=0}function rf(cf){ef.push(cf)}function sf(cf){tf.push(cf)}function af(cf){Qc.setup(ef,tf,cf)}var lf={lightsArray:ef,shadowsArray:tf,lights:Qc};return{init:nf,state:lf,setupLights:af,pushLight:rf,pushShadow:sf}}function WebGLRenderStates(){var Qc={};function ef(nf,rf){var sf;return Qc[nf.id]===void 0?(sf=new WebGLRenderState,Qc[nf.id]={},Qc[nf.id][rf.id]=sf):Qc[nf.id][rf.id]===void 0?(sf=new WebGLRenderState,Qc[nf.id][rf.id]=sf):sf=Qc[nf.id][rf.id],sf}function tf(){Qc={}}return{get:ef,dispose:tf}}function MeshDepthMaterial(Qc){Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(Qc)}MeshDepthMaterial.prototype=Object.create(Material.prototype);MeshDepthMaterial.prototype.constructor=MeshDepthMaterial;MeshDepthMaterial.prototype.isMeshDepthMaterial=!0;MeshDepthMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.depthPacking=Qc.depthPacking,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this.map=Qc.map,this.alphaMap=Qc.alphaMap,this.displacementMap=Qc.displacementMap,this.displacementScale=Qc.displacementScale,this.displacementBias=Qc.displacementBias,this.wireframe=Qc.wireframe,this.wireframeLinewidth=Qc.wireframeLinewidth,this};function MeshDistanceMaterial(Qc){Material.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(Qc)}MeshDistanceMaterial.prototype=Object.create(Material.prototype);MeshDistanceMaterial.prototype.constructor=MeshDistanceMaterial;MeshDistanceMaterial.prototype.isMeshDistanceMaterial=!0;MeshDistanceMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.referencePosition.copy(Qc.referencePosition),this.nearDistance=Qc.nearDistance,this.farDistance=Qc.farDistance,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this.map=Qc.map,this.alphaMap=Qc.alphaMap,this.displacementMap=Qc.displacementMap,this.displacementScale=Qc.displacementScale,this.displacementBias=Qc.displacementBias,this};function WebGLShadowMap(Qc,ef,tf){for(var nf=new Frustum,rf=new Matrix4,sf=new Vector2,af=new Vector2(tf,tf),lf=new Vector3,cf=new Vector3,uf=1,ff=2,df=(uf|ff)+1,gf=new Array(df),_f=new Array(df),xf={},Af={0:BackSide,1:FrontSide,2:DoubleSide},Df=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],Of=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)],Gf=[new Vector4,new Vector4,new Vector4,new Vector4,new Vector4,new Vector4],Bf=0;Bf!==df;++Bf){var Vf=(Bf&uf)!==0,Lf=(Bf&ff)!==0,Cf=new MeshDepthMaterial({depthPacking:RGBADepthPacking,morphTargets:Vf,skinning:Lf});gf[Bf]=Cf;var Tf=new MeshDistanceMaterial({morphTargets:Vf,skinning:Lf});_f[Bf]=Tf}var Yf=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(hh,sh,Hf){if(Yf.enabled!==!1&&!(Yf.autoUpdate===!1&&Yf.needsUpdate===!1)&&hh.length!==0){var Qf=Qc.context,ah=Qc.state;ah.disable(Qf.BLEND),ah.buffers.color.setClear(1,1,1,1),ah.buffers.depth.setTest(!0),ah.setScissorTest(!1);for(var mh,uh=0,jf=hh.length;uh<jf;uh++){var Kf=hh[uh],of=Kf.shadow,hf=Kf&&Kf.isPointLight;if(of===void 0){console.warn("THREE.WebGLShadowMap:",Kf,"has no shadow.");continue}var pf=of.camera;if(sf.copy(of.mapSize),sf.min(af),hf){var vf=sf.x,Ef=sf.y;Gf[0].set(vf*2,Ef,vf,Ef),Gf[1].set(0,Ef,vf,Ef),Gf[2].set(vf*3,Ef,vf,Ef),Gf[3].set(vf,Ef,vf,Ef),Gf[4].set(vf*3,0,vf,Ef),Gf[5].set(vf,0,vf,Ef),sf.x*=4,sf.y*=2}if(of.map===null){var Sf={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};of.map=new WebGLRenderTarget(sf.x,sf.y,Sf),of.map.texture.name=Kf.name+".shadowMap",pf.updateProjectionMatrix()}of.isSpotLightShadow&&of.update(Kf);var Ff=of.map,Uf=of.matrix;cf.setFromMatrixPosition(Kf.matrixWorld),pf.position.copy(cf),hf?(mh=6,Uf.makeTranslation(-cf.x,-cf.y,-cf.z)):(mh=1,lf.setFromMatrixPosition(Kf.target.matrixWorld),pf.lookAt(lf),pf.updateMatrixWorld(),Uf.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),Uf.multiply(pf.projectionMatrix),Uf.multiply(pf.matrixWorldInverse)),Qc.setRenderTarget(Ff),Qc.clear();for(var Wf=0;Wf<mh;Wf++){if(hf){lf.copy(pf.position),lf.add(Df[Wf]),pf.up.copy(Of[Wf]),pf.lookAt(lf),pf.updateMatrixWorld();var eh=Gf[Wf];ah.viewport(eh)}rf.multiplyMatrices(pf.projectionMatrix,pf.matrixWorldInverse),nf.setFromMatrix(rf),dh(sh,Hf,pf,hf)}}Yf.needsUpdate=!1}};function rh(hh,sh,Hf,Qf,ah,mh){var uh=hh.geometry,jf=null,Kf=gf,of=hh.customDepthMaterial;if(Hf&&(Kf=_f,of=hh.customDistanceMaterial),of)jf=of;else{var hf=!1;sh.morphTargets&&(uh&&uh.isBufferGeometry?hf=uh.morphAttributes&&uh.morphAttributes.position&&uh.morphAttributes.position.length>0:uh&&uh.isGeometry&&(hf=uh.morphTargets&&uh.morphTargets.length>0)),hh.isSkinnedMesh&&sh.skinning===!1&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",hh);var pf=hh.isSkinnedMesh&&sh.skinning,vf=0;hf&&(vf|=uf),pf&&(vf|=ff),jf=Kf[vf]}if(Qc.localClippingEnabled&&sh.clipShadows===!0&&sh.clippingPlanes.length!==0){var Ef=jf.uuid,Sf=sh.uuid,Ff=xf[Ef];Ff===void 0&&(Ff={},xf[Ef]=Ff);var Uf=Ff[Sf];Uf===void 0&&(Uf=jf.clone(),Ff[Sf]=Uf),jf=Uf}return jf.visible=sh.visible,jf.wireframe=sh.wireframe,jf.side=sh.shadowSide!=null?sh.shadowSide:Af[sh.side],jf.clipShadows=sh.clipShadows,jf.clippingPlanes=sh.clippingPlanes,jf.clipIntersection=sh.clipIntersection,jf.wireframeLinewidth=sh.wireframeLinewidth,jf.linewidth=sh.linewidth,Hf&&jf.isMeshDistanceMaterial&&(jf.referencePosition.copy(Qf),jf.nearDistance=ah,jf.farDistance=mh),jf}function dh(hh,sh,Hf,Qf){if(hh.visible!==!1){var ah=hh.layers.test(sh.layers);if(ah&&(hh.isMesh||hh.isLine||hh.isPoints)&&hh.castShadow&&(!hh.frustumCulled||nf.intersectsObject(hh))){hh.modelViewMatrix.multiplyMatrices(Hf.matrixWorldInverse,hh.matrixWorld);var mh=ef.update(hh),uh=hh.material;if(Array.isArray(uh))for(var jf=mh.groups,Kf=0,of=jf.length;Kf<of;Kf++){var hf=jf[Kf],pf=uh[hf.materialIndex];if(pf&&pf.visible){var vf=rh(hh,pf,Qf,cf,Hf.near,Hf.far);Qc.renderBufferDirect(Hf,null,mh,vf,hh,hf)}}else if(uh.visible){var vf=rh(hh,uh,Qf,cf,Hf.near,Hf.far);Qc.renderBufferDirect(Hf,null,mh,vf,hh,null)}}for(var Ef=hh.children,Sf=0,Ff=Ef.length;Sf<Ff;Sf++)dh(Ef[Sf],sh,Hf,Qf)}}}function WebGLState(Qc,ef,tf,nf){function rf(){var xh=!1,Wh=new Vector4,nd=null,Ad=new Vector4(0,0,0,0);return{setMask:function(ad){nd!==ad&&!xh&&(Qc.colorMask(ad,ad,ad,ad),nd=ad)},setLocked:function(ad){xh=ad},setClear:function(ad,vd,ld,Id,$d){$d===!0&&(ad*=Id,vd*=Id,ld*=Id),Wh.set(ad,vd,ld,Id),Ad.equals(Wh)===!1&&(Qc.clearColor(ad,vd,ld,Id),Ad.copy(Wh))},reset:function(){xh=!1,nd=null,Ad.set(-1,0,0,0)}}}function sf(){var xh=!1,Wh=null,nd=null,Ad=null;return{setTest:function(ad){ad?eh(Qc.DEPTH_TEST):th(Qc.DEPTH_TEST)},setMask:function(ad){Wh!==ad&&!xh&&(Qc.depthMask(ad),Wh=ad)},setFunc:function(ad){if(nd!==ad){if(ad)switch(ad){case NeverDepth:Qc.depthFunc(Qc.NEVER);break;case AlwaysDepth:Qc.depthFunc(Qc.ALWAYS);break;case LessDepth:Qc.depthFunc(Qc.LESS);break;case LessEqualDepth:Qc.depthFunc(Qc.LEQUAL);break;case EqualDepth:Qc.depthFunc(Qc.EQUAL);break;case GreaterEqualDepth:Qc.depthFunc(Qc.GEQUAL);break;case GreaterDepth:Qc.depthFunc(Qc.GREATER);break;case NotEqualDepth:Qc.depthFunc(Qc.NOTEQUAL);break;default:Qc.depthFunc(Qc.LEQUAL)}else Qc.depthFunc(Qc.LEQUAL);nd=ad}},setLocked:function(ad){xh=ad},setClear:function(ad){Ad!==ad&&(Qc.clearDepth(ad),Ad=ad)},reset:function(){xh=!1,Wh=null,nd=null,Ad=null}}}function af(){var xh=!1,Wh=null,nd=null,Ad=null,ad=null,vd=null,ld=null,Id=null,$d=null;return{setTest:function(yd){yd?eh(Qc.STENCIL_TEST):th(Qc.STENCIL_TEST)},setMask:function(yd){Wh!==yd&&!xh&&(Qc.stencilMask(yd),Wh=yd)},setFunc:function(yd,Zd,jd){(nd!==yd||Ad!==Zd||ad!==jd)&&(Qc.stencilFunc(yd,Zd,jd),nd=yd,Ad=Zd,ad=jd)},setOp:function(yd,Zd,jd){(vd!==yd||ld!==Zd||Id!==jd)&&(Qc.stencilOp(yd,Zd,jd),vd=yd,ld=Zd,Id=jd)},setLocked:function(yd){xh=yd},setClear:function(yd){$d!==yd&&(Qc.clearStencil(yd),$d=yd)},reset:function(){xh=!1,Wh=null,nd=null,Ad=null,ad=null,vd=null,ld=null,Id=null,$d=null}}}var lf=new rf,cf=new sf,uf=new af,ff=Qc.getParameter(Qc.MAX_VERTEX_ATTRIBS),df=new Uint8Array(ff),gf=new Uint8Array(ff),_f=new Uint8Array(ff),xf={},Af=null,Df=null,Of=null,Gf=null,Bf=null,Vf=null,Lf=null,Cf=null,Tf=null,Yf=null,rh=!1,dh=null,hh=null,sh=null,Hf=null,Qf=null,ah=Qc.getParameter(Qc.MAX_COMBINED_TEXTURE_IMAGE_UNITS),mh=!1,uh=0,jf=Qc.getParameter(Qc.VERSION);jf.indexOf("WebGL")!==-1?(uh=parseFloat(/^WebGL\ ([0-9])/.exec(jf)[1]),mh=uh>=1):jf.indexOf("OpenGL ES")!==-1&&(uh=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(jf)[1]),mh=uh>=2);var Kf=null,of={},hf=new Vector4,pf=new Vector4;function vf(xh,Wh,nd){var Ad=new Uint8Array(4),ad=Qc.createTexture();Qc.bindTexture(xh,ad),Qc.texParameteri(xh,Qc.TEXTURE_MIN_FILTER,Qc.NEAREST),Qc.texParameteri(xh,Qc.TEXTURE_MAG_FILTER,Qc.NEAREST);for(var vd=0;vd<nd;vd++)Qc.texImage2D(Wh+vd,0,Qc.RGBA,1,1,0,Qc.RGBA,Qc.UNSIGNED_BYTE,Ad);return ad}var Ef={};Ef[Qc.TEXTURE_2D]=vf(Qc.TEXTURE_2D,Qc.TEXTURE_2D,1),Ef[Qc.TEXTURE_CUBE_MAP]=vf(Qc.TEXTURE_CUBE_MAP,Qc.TEXTURE_CUBE_MAP_POSITIVE_X,6),lf.setClear(0,0,0,1),cf.setClear(1),uf.setClear(0),eh(Qc.DEPTH_TEST),cf.setFunc(LessEqualDepth),qf(!1),zf(CullFaceBack),eh(Qc.CULL_FACE),oh(NoBlending);function Sf(){for(var xh=0,Wh=df.length;xh<Wh;xh++)df[xh]=0}function Ff(xh){Uf(xh,0)}function Uf(xh,Wh){if(df[xh]=1,gf[xh]===0&&(Qc.enableVertexAttribArray(xh),gf[xh]=1),_f[xh]!==Wh){var nd=nf.isWebGL2?Qc:ef.get("ANGLE_instanced_arrays");nd[nf.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](xh,Wh),_f[xh]=Wh}}function Wf(){for(var xh=0,Wh=gf.length;xh!==Wh;++xh)gf[xh]!==df[xh]&&(Qc.disableVertexAttribArray(xh),gf[xh]=0)}function eh(xh){xf[xh]!==!0&&(Qc.enable(xh),xf[xh]=!0)}function th(xh){xf[xh]!==!1&&(Qc.disable(xh),xf[xh]=!1)}function _h(){if(Af===null&&(Af=[],ef.get("WEBGL_compressed_texture_pvrtc")||ef.get("WEBGL_compressed_texture_s3tc")||ef.get("WEBGL_compressed_texture_etc1")||ef.get("WEBGL_compressed_texture_astc")))for(var xh=Qc.getParameter(Qc.COMPRESSED_TEXTURE_FORMATS),Wh=0;Wh<xh.length;Wh++)Af.push(xh[Wh]);return Af}function wh(xh){return Df!==xh?(Qc.useProgram(xh),Df=xh,!0):!1}function oh(xh,Wh,nd,Ad,ad,vd,ld,Id){if(xh===NoBlending){Of&&(th(Qc.BLEND),Of=!1);return}if(Of||(eh(Qc.BLEND),Of=!0),xh!==CustomBlending){if(xh!==Gf||Id!==rh){if((Bf!==AddEquation||Cf!==AddEquation)&&(Qc.blendEquation(Qc.FUNC_ADD),Bf=AddEquation,Cf=AddEquation),Id)switch(xh){case NormalBlending:Qc.blendFuncSeparate(Qc.ONE,Qc.ONE_MINUS_SRC_ALPHA,Qc.ONE,Qc.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:Qc.blendFunc(Qc.ONE,Qc.ONE);break;case SubtractiveBlending:Qc.blendFuncSeparate(Qc.ZERO,Qc.ZERO,Qc.ONE_MINUS_SRC_COLOR,Qc.ONE_MINUS_SRC_ALPHA);break;case MultiplyBlending:Qc.blendFuncSeparate(Qc.ZERO,Qc.SRC_COLOR,Qc.ZERO,Qc.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",xh);break}else switch(xh){case NormalBlending:Qc.blendFuncSeparate(Qc.SRC_ALPHA,Qc.ONE_MINUS_SRC_ALPHA,Qc.ONE,Qc.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:Qc.blendFunc(Qc.SRC_ALPHA,Qc.ONE);break;case SubtractiveBlending:Qc.blendFunc(Qc.ZERO,Qc.ONE_MINUS_SRC_COLOR);break;case MultiplyBlending:Qc.blendFunc(Qc.ZERO,Qc.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",xh);break}Vf=null,Lf=null,Tf=null,Yf=null,Gf=xh,rh=Id}return}ad=ad||Wh,vd=vd||nd,ld=ld||Ad,(Wh!==Bf||ad!==Cf)&&(Qc.blendEquationSeparate(tf.convert(Wh),tf.convert(ad)),Bf=Wh,Cf=ad),(nd!==Vf||Ad!==Lf||vd!==Tf||ld!==Yf)&&(Qc.blendFuncSeparate(tf.convert(nd),tf.convert(Ad),tf.convert(vd),tf.convert(ld)),Vf=nd,Lf=Ad,Tf=vd,Yf=ld),Gf=xh,rh=null}function gh(xh,Wh){xh.side===DoubleSide?th(Qc.CULL_FACE):eh(Qc.CULL_FACE);var nd=xh.side===BackSide;Wh&&(nd=!nd),qf(nd),xh.blending===NormalBlending&&xh.transparent===!1?oh(NoBlending):oh(xh.blending,xh.blendEquation,xh.blendSrc,xh.blendDst,xh.blendEquationAlpha,xh.blendSrcAlpha,xh.blendDstAlpha,xh.premultipliedAlpha),cf.setFunc(xh.depthFunc),cf.setTest(xh.depthTest),cf.setMask(xh.depthWrite),lf.setMask(xh.colorWrite),Fh(xh.polygonOffset,xh.polygonOffsetFactor,xh.polygonOffsetUnits)}function qf(xh){dh!==xh&&(xh?Qc.frontFace(Qc.CW):Qc.frontFace(Qc.CCW),dh=xh)}function zf(xh){xh!==CullFaceNone?(eh(Qc.CULL_FACE),xh!==hh&&(xh===CullFaceBack?Qc.cullFace(Qc.BACK):xh===CullFaceFront?Qc.cullFace(Qc.FRONT):Qc.cullFace(Qc.FRONT_AND_BACK))):th(Qc.CULL_FACE),hh=xh}function Th(xh){xh!==sh&&(mh&&Qc.lineWidth(xh),sh=xh)}function Fh(xh,Wh,nd){xh?(eh(Qc.POLYGON_OFFSET_FILL),(Hf!==Wh||Qf!==nd)&&(Qc.polygonOffset(Wh,nd),Hf=Wh,Qf=nd)):th(Qc.POLYGON_OFFSET_FILL)}function Uh(xh){xh?eh(Qc.SCISSOR_TEST):th(Qc.SCISSOR_TEST)}function jh(xh){xh===void 0&&(xh=Qc.TEXTURE0+ah-1),Kf!==xh&&(Qc.activeTexture(xh),Kf=xh)}function qh(xh,Wh){Kf===null&&jh();var nd=of[Kf];nd===void 0&&(nd={type:void 0,texture:void 0},of[Kf]=nd),(nd.type!==xh||nd.texture!==Wh)&&(Qc.bindTexture(xh,Wh||Ef[xh]),nd.type=xh,nd.texture=Wh)}function cd(){try{Qc.compressedTexImage2D.apply(Qc,arguments)}catch(xh){console.error("THREE.WebGLState:",xh)}}function pd(){try{Qc.texImage2D.apply(Qc,arguments)}catch(xh){console.error("THREE.WebGLState:",xh)}}function Zh(){try{Qc.texImage3D.apply(Qc,arguments)}catch(xh){console.error("THREE.WebGLState:",xh)}}function kh(xh){hf.equals(xh)===!1&&(Qc.scissor(xh.x,xh.y,xh.z,xh.w),hf.copy(xh))}function Kh(xh){pf.equals(xh)===!1&&(Qc.viewport(xh.x,xh.y,xh.z,xh.w),pf.copy(xh))}function Jh(){for(var xh=0;xh<gf.length;xh++)gf[xh]===1&&(Qc.disableVertexAttribArray(xh),gf[xh]=0);xf={},Af=null,Kf=null,of={},Df=null,Gf=null,dh=null,hh=null,lf.reset(),cf.reset(),uf.reset()}return{buffers:{color:lf,depth:cf,stencil:uf},initAttributes:Sf,enableAttribute:Ff,enableAttributeAndDivisor:Uf,disableUnusedAttributes:Wf,enable:eh,disable:th,getCompressedTextureFormats:_h,useProgram:wh,setBlending:oh,setMaterial:gh,setFlipSided:qf,setCullFace:zf,setLineWidth:Th,setPolygonOffset:Fh,setScissorTest:Uh,activeTexture:jh,bindTexture:qh,compressedTexImage2D:cd,texImage2D:pd,texImage3D:Zh,scissor:kh,viewport:Kh,reset:Jh}}function WebGLTextures(Qc,ef,tf,nf,rf,sf,af){var lf={},cf;function uf(jf,Kf){if(jf.width>Kf||jf.height>Kf){if("data"in jf){console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+jf.width+"x"+jf.height+").");return}var of=Kf/Math.max(jf.width,jf.height),hf=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");hf.width=Math.floor(jf.width*of),hf.height=Math.floor(jf.height*of);var pf=hf.getContext("2d");return pf.drawImage(jf,0,0,jf.width,jf.height,0,0,hf.width,hf.height),console.warn("THREE.WebGLRenderer: image is too big ("+jf.width+"x"+jf.height+"). Resized to "+hf.width+"x"+hf.height),hf}return jf}function ff(jf){return _Math.isPowerOfTwo(jf.width)&&_Math.isPowerOfTwo(jf.height)}function df(jf){if(jf instanceof HTMLImageElement||jf instanceof HTMLCanvasElement||jf instanceof ImageBitmap){cf===void 0&&(cf=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),cf.width=_Math.floorPowerOfTwo(jf.width),cf.height=_Math.floorPowerOfTwo(jf.height);var Kf=cf.getContext("2d");return Kf.drawImage(jf,0,0,cf.width,cf.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+jf.width+"x"+jf.height+"). Resized to "+cf.width+"x"+cf.height),cf}return jf}function gf(jf){return rf.isWebGL2?!1:jf.wrapS!==ClampToEdgeWrapping||jf.wrapT!==ClampToEdgeWrapping||jf.minFilter!==NearestFilter&&jf.minFilter!==LinearFilter}function _f(jf,Kf){return jf.generateMipmaps&&Kf&&jf.minFilter!==NearestFilter&&jf.minFilter!==LinearFilter}function xf(jf,Kf,of,hf){Qc.generateMipmap(jf);var pf=nf.get(Kf);pf.__maxMipLevel=Math.log(Math.max(of,hf))*Math.LOG2E}function Af(jf,Kf){if(!rf.isWebGL2)return jf;if(jf===Qc.RED){if(Kf===Qc.FLOAT)return Qc.R32F;if(Kf===Qc.HALF_FLOAT)return Qc.R16F;if(Kf===Qc.UNSIGNED_BYTE)return Qc.R8}if(jf===Qc.RGB){if(Kf===Qc.FLOAT)return Qc.RGB32F;if(Kf===Qc.HALF_FLOAT)return Qc.RGB16F;if(Kf===Qc.UNSIGNED_BYTE)return Qc.RGB8}if(jf===Qc.RGBA){if(Kf===Qc.FLOAT)return Qc.RGBA32F;if(Kf===Qc.HALF_FLOAT)return Qc.RGBA16F;if(Kf===Qc.UNSIGNED_BYTE)return Qc.RGBA8}return jf}function Df(jf){return jf===NearestFilter||jf===NearestMipMapNearestFilter||jf===NearestMipMapLinearFilter?Qc.NEAREST:Qc.LINEAR}function Of(jf){var Kf=jf.target;Kf.removeEventListener("dispose",Of),Bf(Kf),Kf.isVideoTexture&&delete lf[Kf.id],af.memory.textures--}function Gf(jf){var Kf=jf.target;Kf.removeEventListener("dispose",Gf),Vf(Kf),af.memory.textures--}function Bf(jf){var Kf=nf.get(jf);if(jf.image&&Kf.__image__webglTextureCube)Qc.deleteTexture(Kf.__image__webglTextureCube);else{if(Kf.__webglInit===void 0)return;Qc.deleteTexture(Kf.__webglTexture)}nf.remove(jf)}function Vf(jf){var Kf=nf.get(jf),of=nf.get(jf.texture);if(jf){if(of.__webglTexture!==void 0&&Qc.deleteTexture(of.__webglTexture),jf.depthTexture&&jf.depthTexture.dispose(),jf.isWebGLRenderTargetCube)for(var hf=0;hf<6;hf++)Qc.deleteFramebuffer(Kf.__webglFramebuffer[hf]),Kf.__webglDepthbuffer&&Qc.deleteRenderbuffer(Kf.__webglDepthbuffer[hf]);else Qc.deleteFramebuffer(Kf.__webglFramebuffer),Kf.__webglDepthbuffer&&Qc.deleteRenderbuffer(Kf.__webglDepthbuffer);nf.remove(jf.texture),nf.remove(jf)}}function Lf(jf,Kf){var of=nf.get(jf);if(jf.isVideoTexture&&uh(jf),jf.version>0&&of.__version!==jf.version){var hf=jf.image;if(hf===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(hf.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{dh(of,jf,Kf);return}}tf.activeTexture(Qc.TEXTURE0+Kf),tf.bindTexture(Qc.TEXTURE_2D,of.__webglTexture)}function Cf(jf,Kf){var of=nf.get(jf);if(jf.version>0&&of.__version!==jf.version){dh(of,jf,Kf);return}tf.activeTexture(Qc.TEXTURE0+Kf),tf.bindTexture(Qc.TEXTURE_3D,of.__webglTexture)}function Tf(jf,Kf){var of=nf.get(jf);if(jf.image.length===6)if(jf.version>0&&of.__version!==jf.version){of.__image__webglTextureCube||(jf.addEventListener("dispose",Of),of.__image__webglTextureCube=Qc.createTexture(),af.memory.textures++),tf.activeTexture(Qc.TEXTURE0+Kf),tf.bindTexture(Qc.TEXTURE_CUBE_MAP,of.__image__webglTextureCube),Qc.pixelStorei(Qc.UNPACK_FLIP_Y_WEBGL,jf.flipY);for(var hf=jf&&jf.isCompressedTexture,pf=jf.image[0]&&jf.image[0].isDataTexture,vf=[],Ef=0;Ef<6;Ef++)!hf&&!pf?vf[Ef]=uf(jf.image[Ef],rf.maxCubemapSize):vf[Ef]=pf?jf.image[Ef].image:jf.image[Ef];var Sf=vf[0],Ff=ff(Sf),Uf=sf.convert(jf.format),Wf=sf.convert(jf.type),eh=Af(Uf,Wf);rh(Qc.TEXTURE_CUBE_MAP,jf,Ff);for(var Ef=0;Ef<6;Ef++)if(!hf)pf?tf.texImage2D(Qc.TEXTURE_CUBE_MAP_POSITIVE_X+Ef,0,eh,vf[Ef].width,vf[Ef].height,0,Uf,Wf,vf[Ef].data):tf.texImage2D(Qc.TEXTURE_CUBE_MAP_POSITIVE_X+Ef,0,eh,Uf,Wf,vf[Ef]);else for(var th,_h=vf[Ef].mipmaps,wh=0,oh=_h.length;wh<oh;wh++)th=_h[wh],jf.format!==RGBAFormat&&jf.format!==RGBFormat?tf.getCompressedTextureFormats().indexOf(Uf)>-1?tf.compressedTexImage2D(Qc.TEXTURE_CUBE_MAP_POSITIVE_X+Ef,wh,eh,th.width,th.height,0,th.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):tf.texImage2D(Qc.TEXTURE_CUBE_MAP_POSITIVE_X+Ef,wh,eh,th.width,th.height,0,Uf,Wf,th.data);hf?of.__maxMipLevel=_h.length-1:of.__maxMipLevel=0,_f(jf,Ff)&&xf(Qc.TEXTURE_CUBE_MAP,jf,Sf.width,Sf.height),of.__version=jf.version,jf.onUpdate&&jf.onUpdate(jf)}else tf.activeTexture(Qc.TEXTURE0+Kf),tf.bindTexture(Qc.TEXTURE_CUBE_MAP,of.__image__webglTextureCube)}function Yf(jf,Kf){tf.activeTexture(Qc.TEXTURE0+Kf),tf.bindTexture(Qc.TEXTURE_CUBE_MAP,nf.get(jf).__webglTexture)}function rh(jf,Kf,of){var hf;if(of?(Qc.texParameteri(jf,Qc.TEXTURE_WRAP_S,sf.convert(Kf.wrapS)),Qc.texParameteri(jf,Qc.TEXTURE_WRAP_T,sf.convert(Kf.wrapT)),Qc.texParameteri(jf,Qc.TEXTURE_MAG_FILTER,sf.convert(Kf.magFilter)),Qc.texParameteri(jf,Qc.TEXTURE_MIN_FILTER,sf.convert(Kf.minFilter))):(Qc.texParameteri(jf,Qc.TEXTURE_WRAP_S,Qc.CLAMP_TO_EDGE),Qc.texParameteri(jf,Qc.TEXTURE_WRAP_T,Qc.CLAMP_TO_EDGE),(Kf.wrapS!==ClampToEdgeWrapping||Kf.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),Qc.texParameteri(jf,Qc.TEXTURE_MAG_FILTER,Df(Kf.magFilter)),Qc.texParameteri(jf,Qc.TEXTURE_MIN_FILTER,Df(Kf.minFilter)),Kf.minFilter!==NearestFilter&&Kf.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),hf=ef.get("EXT_texture_filter_anisotropic"),hf){if(Kf.type===FloatType&&ef.get("OES_texture_float_linear")===null||Kf.type===HalfFloatType&&(rf.isWebGL2||ef.get("OES_texture_half_float_linear"))===null)return;(Kf.anisotropy>1||nf.get(Kf).__currentAnisotropy)&&(Qc.texParameterf(jf,hf.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Kf.anisotropy,rf.getMaxAnisotropy())),nf.get(Kf).__currentAnisotropy=Kf.anisotropy)}}function dh(jf,Kf,of){var hf;Kf.isDataTexture3D?hf=Qc.TEXTURE_3D:hf=Qc.TEXTURE_2D,jf.__webglInit===void 0&&(jf.__webglInit=!0,Kf.addEventListener("dispose",Of),jf.__webglTexture=Qc.createTexture(),af.memory.textures++),tf.activeTexture(Qc.TEXTURE0+of),tf.bindTexture(hf,jf.__webglTexture),Qc.pixelStorei(Qc.UNPACK_FLIP_Y_WEBGL,Kf.flipY),Qc.pixelStorei(Qc.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Kf.premultiplyAlpha),Qc.pixelStorei(Qc.UNPACK_ALIGNMENT,Kf.unpackAlignment);var pf=uf(Kf.image,rf.maxTextureSize);gf(Kf)&&ff(pf)===!1&&(pf=df(pf));var vf=ff(pf),Ef=sf.convert(Kf.format),Sf=sf.convert(Kf.type),Ff=Af(Ef,Sf);rh(hf,Kf,vf);var Uf,Wf=Kf.mipmaps;if(Kf.isDepthTexture){if(Ff=Qc.DEPTH_COMPONENT,Kf.type===FloatType){if(!rf.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");Ff=Qc.DEPTH_COMPONENT32F}else rf.isWebGL2&&(Ff=Qc.DEPTH_COMPONENT16);Kf.format===DepthFormat&&Ff===Qc.DEPTH_COMPONENT&&Kf.type!==UnsignedShortType&&Kf.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Kf.type=UnsignedShortType,Sf=sf.convert(Kf.type)),Kf.format===DepthStencilFormat&&(Ff=Qc.DEPTH_STENCIL,Kf.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Kf.type=UnsignedInt248Type,Sf=sf.convert(Kf.type))),tf.texImage2D(Qc.TEXTURE_2D,0,Ff,pf.width,pf.height,0,Ef,Sf,null)}else if(Kf.isDataTexture)if(Wf.length>0&&vf){for(var eh=0,th=Wf.length;eh<th;eh++)Uf=Wf[eh],tf.texImage2D(Qc.TEXTURE_2D,eh,Ff,Uf.width,Uf.height,0,Ef,Sf,Uf.data);Kf.generateMipmaps=!1,jf.__maxMipLevel=Wf.length-1}else tf.texImage2D(Qc.TEXTURE_2D,0,Ff,pf.width,pf.height,0,Ef,Sf,pf.data),jf.__maxMipLevel=0;else if(Kf.isCompressedTexture){for(var eh=0,th=Wf.length;eh<th;eh++)Uf=Wf[eh],Kf.format!==RGBAFormat&&Kf.format!==RGBFormat?tf.getCompressedTextureFormats().indexOf(Ef)>-1?tf.compressedTexImage2D(Qc.TEXTURE_2D,eh,Ff,Uf.width,Uf.height,0,Uf.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tf.texImage2D(Qc.TEXTURE_2D,eh,Ff,Uf.width,Uf.height,0,Ef,Sf,Uf.data);jf.__maxMipLevel=Wf.length-1}else if(Kf.isDataTexture3D)tf.texImage3D(Qc.TEXTURE_3D,0,Ff,pf.width,pf.height,pf.depth,0,Ef,Sf,pf.data),jf.__maxMipLevel=0;else if(Wf.length>0&&vf){for(var eh=0,th=Wf.length;eh<th;eh++)Uf=Wf[eh],tf.texImage2D(Qc.TEXTURE_2D,eh,Ff,Ef,Sf,Uf);Kf.generateMipmaps=!1,jf.__maxMipLevel=Wf.length-1}else tf.texImage2D(Qc.TEXTURE_2D,0,Ff,Ef,Sf,pf),jf.__maxMipLevel=0;_f(Kf,vf)&&xf(Qc.TEXTURE_2D,Kf,pf.width,pf.height),jf.__version=Kf.version,Kf.onUpdate&&Kf.onUpdate(Kf)}function hh(jf,Kf,of,hf){var pf=sf.convert(Kf.texture.format),vf=sf.convert(Kf.texture.type),Ef=Af(pf,vf);tf.texImage2D(hf,0,Ef,Kf.width,Kf.height,0,pf,vf,null),Qc.bindFramebuffer(Qc.FRAMEBUFFER,jf),Qc.framebufferTexture2D(Qc.FRAMEBUFFER,of,hf,nf.get(Kf.texture).__webglTexture,0),Qc.bindFramebuffer(Qc.FRAMEBUFFER,null)}function sh(jf,Kf){Qc.bindRenderbuffer(Qc.RENDERBUFFER,jf),Kf.depthBuffer&&!Kf.stencilBuffer?(Qc.renderbufferStorage(Qc.RENDERBUFFER,Qc.DEPTH_COMPONENT16,Kf.width,Kf.height),Qc.framebufferRenderbuffer(Qc.FRAMEBUFFER,Qc.DEPTH_ATTACHMENT,Qc.RENDERBUFFER,jf)):Kf.depthBuffer&&Kf.stencilBuffer?(Qc.renderbufferStorage(Qc.RENDERBUFFER,Qc.DEPTH_STENCIL,Kf.width,Kf.height),Qc.framebufferRenderbuffer(Qc.FRAMEBUFFER,Qc.DEPTH_STENCIL_ATTACHMENT,Qc.RENDERBUFFER,jf)):Qc.renderbufferStorage(Qc.RENDERBUFFER,Qc.RGBA4,Kf.width,Kf.height),Qc.bindRenderbuffer(Qc.RENDERBUFFER,null)}function Hf(jf,Kf){var of=Kf&&Kf.isWebGLRenderTargetCube;if(of)throw new Error("Depth Texture with cube render targets is not supported");if(Qc.bindFramebuffer(Qc.FRAMEBUFFER,jf),!(Kf.depthTexture&&Kf.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!nf.get(Kf.depthTexture).__webglTexture||Kf.depthTexture.image.width!==Kf.width||Kf.depthTexture.image.height!==Kf.height)&&(Kf.depthTexture.image.width=Kf.width,Kf.depthTexture.image.height=Kf.height,Kf.depthTexture.needsUpdate=!0),Lf(Kf.depthTexture,0);var hf=nf.get(Kf.depthTexture).__webglTexture;if(Kf.depthTexture.format===DepthFormat)Qc.framebufferTexture2D(Qc.FRAMEBUFFER,Qc.DEPTH_ATTACHMENT,Qc.TEXTURE_2D,hf,0);else if(Kf.depthTexture.format===DepthStencilFormat)Qc.framebufferTexture2D(Qc.FRAMEBUFFER,Qc.DEPTH_STENCIL_ATTACHMENT,Qc.TEXTURE_2D,hf,0);else throw new Error("Unknown depthTexture format")}function Qf(jf){var Kf=nf.get(jf),of=jf.isWebGLRenderTargetCube===!0;if(jf.depthTexture){if(of)throw new Error("target.depthTexture not supported in Cube render targets");Hf(Kf.__webglFramebuffer,jf)}else if(of){Kf.__webglDepthbuffer=[];for(var hf=0;hf<6;hf++)Qc.bindFramebuffer(Qc.FRAMEBUFFER,Kf.__webglFramebuffer[hf]),Kf.__webglDepthbuffer[hf]=Qc.createRenderbuffer(),sh(Kf.__webglDepthbuffer[hf],jf)}else Qc.bindFramebuffer(Qc.FRAMEBUFFER,Kf.__webglFramebuffer),Kf.__webglDepthbuffer=Qc.createRenderbuffer(),sh(Kf.__webglDepthbuffer,jf);Qc.bindFramebuffer(Qc.FRAMEBUFFER,null)}function ah(jf){var Kf=nf.get(jf),of=nf.get(jf.texture);jf.addEventListener("dispose",Gf),of.__webglTexture=Qc.createTexture(),af.memory.textures++;var hf=jf.isWebGLRenderTargetCube===!0,pf=ff(jf);if(hf){Kf.__webglFramebuffer=[];for(var vf=0;vf<6;vf++)Kf.__webglFramebuffer[vf]=Qc.createFramebuffer()}else Kf.__webglFramebuffer=Qc.createFramebuffer();if(hf){tf.bindTexture(Qc.TEXTURE_CUBE_MAP,of.__webglTexture),rh(Qc.TEXTURE_CUBE_MAP,jf.texture,pf);for(var vf=0;vf<6;vf++)hh(Kf.__webglFramebuffer[vf],jf,Qc.COLOR_ATTACHMENT0,Qc.TEXTURE_CUBE_MAP_POSITIVE_X+vf);_f(jf.texture,pf)&&xf(Qc.TEXTURE_CUBE_MAP,jf.texture,jf.width,jf.height),tf.bindTexture(Qc.TEXTURE_CUBE_MAP,null)}else tf.bindTexture(Qc.TEXTURE_2D,of.__webglTexture),rh(Qc.TEXTURE_2D,jf.texture,pf),hh(Kf.__webglFramebuffer,jf,Qc.COLOR_ATTACHMENT0,Qc.TEXTURE_2D),_f(jf.texture,pf)&&xf(Qc.TEXTURE_2D,jf.texture,jf.width,jf.height),tf.bindTexture(Qc.TEXTURE_2D,null);jf.depthBuffer&&Qf(jf)}function mh(jf){var Kf=jf.texture,of=ff(jf);if(_f(Kf,of)){var hf=jf.isWebGLRenderTargetCube?Qc.TEXTURE_CUBE_MAP:Qc.TEXTURE_2D,pf=nf.get(Kf).__webglTexture;tf.bindTexture(hf,pf),xf(hf,Kf,jf.width,jf.height),tf.bindTexture(hf,null)}}function uh(jf){var Kf=jf.id,of=af.render.frame;lf[Kf]!==of&&(lf[Kf]=of,jf.update())}this.setTexture2D=Lf,this.setTexture3D=Cf,this.setTextureCube=Tf,this.setTextureCubeDynamic=Yf,this.setupRenderTarget=ah,this.updateRenderTargetMipmap=mh}function WebGLUtils(Qc,ef,tf){function nf(rf){var sf;if(rf===RepeatWrapping)return Qc.REPEAT;if(rf===ClampToEdgeWrapping)return Qc.CLAMP_TO_EDGE;if(rf===MirroredRepeatWrapping)return Qc.MIRRORED_REPEAT;if(rf===NearestFilter)return Qc.NEAREST;if(rf===NearestMipMapNearestFilter)return Qc.NEAREST_MIPMAP_NEAREST;if(rf===NearestMipMapLinearFilter)return Qc.NEAREST_MIPMAP_LINEAR;if(rf===LinearFilter)return Qc.LINEAR;if(rf===LinearMipMapNearestFilter)return Qc.LINEAR_MIPMAP_NEAREST;if(rf===LinearMipMapLinearFilter)return Qc.LINEAR_MIPMAP_LINEAR;if(rf===UnsignedByteType)return Qc.UNSIGNED_BYTE;if(rf===UnsignedShort4444Type)return Qc.UNSIGNED_SHORT_4_4_4_4;if(rf===UnsignedShort5551Type)return Qc.UNSIGNED_SHORT_5_5_5_1;if(rf===UnsignedShort565Type)return Qc.UNSIGNED_SHORT_5_6_5;if(rf===ByteType)return Qc.BYTE;if(rf===ShortType)return Qc.SHORT;if(rf===UnsignedShortType)return Qc.UNSIGNED_SHORT;if(rf===IntType)return Qc.INT;if(rf===UnsignedIntType)return Qc.UNSIGNED_INT;if(rf===FloatType)return Qc.FLOAT;if(rf===HalfFloatType){if(tf.isWebGL2)return Qc.HALF_FLOAT;if(sf=ef.get("OES_texture_half_float"),sf!==null)return sf.HALF_FLOAT_OES}if(rf===AlphaFormat)return Qc.ALPHA;if(rf===RGBFormat)return Qc.RGB;if(rf===RGBAFormat)return Qc.RGBA;if(rf===LuminanceFormat)return Qc.LUMINANCE;if(rf===LuminanceAlphaFormat)return Qc.LUMINANCE_ALPHA;if(rf===DepthFormat)return Qc.DEPTH_COMPONENT;if(rf===DepthStencilFormat)return Qc.DEPTH_STENCIL;if(rf===RedFormat)return Qc.RED;if(rf===AddEquation)return Qc.FUNC_ADD;if(rf===SubtractEquation)return Qc.FUNC_SUBTRACT;if(rf===ReverseSubtractEquation)return Qc.FUNC_REVERSE_SUBTRACT;if(rf===ZeroFactor)return Qc.ZERO;if(rf===OneFactor)return Qc.ONE;if(rf===SrcColorFactor)return Qc.SRC_COLOR;if(rf===OneMinusSrcColorFactor)return Qc.ONE_MINUS_SRC_COLOR;if(rf===SrcAlphaFactor)return Qc.SRC_ALPHA;if(rf===OneMinusSrcAlphaFactor)return Qc.ONE_MINUS_SRC_ALPHA;if(rf===DstAlphaFactor)return Qc.DST_ALPHA;if(rf===OneMinusDstAlphaFactor)return Qc.ONE_MINUS_DST_ALPHA;if(rf===DstColorFactor)return Qc.DST_COLOR;if(rf===OneMinusDstColorFactor)return Qc.ONE_MINUS_DST_COLOR;if(rf===SrcAlphaSaturateFactor)return Qc.SRC_ALPHA_SATURATE;if((rf===RGB_S3TC_DXT1_Format||rf===RGBA_S3TC_DXT1_Format||rf===RGBA_S3TC_DXT3_Format||rf===RGBA_S3TC_DXT5_Format)&&(sf=ef.get("WEBGL_compressed_texture_s3tc"),sf!==null)){if(rf===RGB_S3TC_DXT1_Format)return sf.COMPRESSED_RGB_S3TC_DXT1_EXT;if(rf===RGBA_S3TC_DXT1_Format)return sf.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(rf===RGBA_S3TC_DXT3_Format)return sf.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(rf===RGBA_S3TC_DXT5_Format)return sf.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((rf===RGB_PVRTC_4BPPV1_Format||rf===RGB_PVRTC_2BPPV1_Format||rf===RGBA_PVRTC_4BPPV1_Format||rf===RGBA_PVRTC_2BPPV1_Format)&&(sf=ef.get("WEBGL_compressed_texture_pvrtc"),sf!==null)){if(rf===RGB_PVRTC_4BPPV1_Format)return sf.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(rf===RGB_PVRTC_2BPPV1_Format)return sf.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(rf===RGBA_PVRTC_4BPPV1_Format)return sf.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(rf===RGBA_PVRTC_2BPPV1_Format)return sf.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(rf===RGB_ETC1_Format&&(sf=ef.get("WEBGL_compressed_texture_etc1"),sf!==null))return sf.COMPRESSED_RGB_ETC1_WEBGL;if((rf===RGBA_ASTC_4x4_Format||rf===RGBA_ASTC_5x4_Format||rf===RGBA_ASTC_5x5_Format||rf===RGBA_ASTC_6x5_Format||rf===RGBA_ASTC_6x6_Format||rf===RGBA_ASTC_8x5_Format||rf===RGBA_ASTC_8x6_Format||rf===RGBA_ASTC_8x8_Format||rf===RGBA_ASTC_10x5_Format||rf===RGBA_ASTC_10x6_Format||rf===RGBA_ASTC_10x8_Format||rf===RGBA_ASTC_10x10_Format||rf===RGBA_ASTC_12x10_Format||rf===RGBA_ASTC_12x12_Format)&&(sf=ef.get("WEBGL_compressed_texture_astc"),sf!==null))return rf;if(rf===MinEquation||rf===MaxEquation){if(tf.isWebGL2){if(rf===MinEquation)return Qc.MIN;if(rf===MaxEquation)return Qc.MAX}if(sf=ef.get("EXT_blend_minmax"),sf!==null){if(rf===MinEquation)return sf.MIN_EXT;if(rf===MaxEquation)return sf.MAX_EXT}}if(rf===UnsignedInt248Type){if(tf.isWebGL2)return Qc.UNSIGNED_INT_24_8;if(sf=ef.get("WEBGL_depth_texture"),sf!==null)return sf.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:nf}}function Group(){Object3D.call(this),this.type="Group"}Group.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Group,isGroup:!0});function Camera(){Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}Camera.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Camera,isCamera:!0,copy:function(Qc,ef){return Object3D.prototype.copy.call(this,Qc,ef),this.matrixWorldInverse.copy(Qc.matrixWorldInverse),this.projectionMatrix.copy(Qc.projectionMatrix),this.projectionMatrixInverse.copy(Qc.projectionMatrixInverse),this},getWorldDirection:function(Qc){Qc===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),Qc=new Vector3),this.updateMatrixWorld(!0);var ef=this.matrixWorld.elements;return Qc.set(-ef[8],-ef[9],-ef[10]).normalize()},updateMatrixWorld:function(Qc){Object3D.prototype.updateMatrixWorld.call(this,Qc),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function PerspectiveCamera(Qc,ef,tf,nf){Camera.call(this),this.type="PerspectiveCamera",this.fov=Qc!==void 0?Qc:50,this.zoom=1,this.near=tf!==void 0?tf:.1,this.far=nf!==void 0?nf:2e3,this.focus=10,this.aspect=ef!==void 0?ef:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}PerspectiveCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:PerspectiveCamera,isPerspectiveCamera:!0,copy:function(Qc,ef){return Camera.prototype.copy.call(this,Qc,ef),this.fov=Qc.fov,this.zoom=Qc.zoom,this.near=Qc.near,this.far=Qc.far,this.focus=Qc.focus,this.aspect=Qc.aspect,this.view=Qc.view===null?null:Object.assign({},Qc.view),this.filmGauge=Qc.filmGauge,this.filmOffset=Qc.filmOffset,this},setFocalLength:function(Qc){var ef=.5*this.getFilmHeight()/Qc;this.fov=_Math.RAD2DEG*2*Math.atan(ef),this.updateProjectionMatrix()},getFocalLength:function(){var Qc=Math.tan(_Math.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/Qc},getEffectiveFOV:function(){return _Math.RAD2DEG*2*Math.atan(Math.tan(_Math.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(Qc,ef,tf,nf,rf,sf){this.aspect=Qc/ef,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=Qc,this.view.fullHeight=ef,this.view.offsetX=tf,this.view.offsetY=nf,this.view.width=rf,this.view.height=sf,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var Qc=this.near,ef=Qc*Math.tan(_Math.DEG2RAD*.5*this.fov)/this.zoom,tf=2*ef,nf=this.aspect*tf,rf=-.5*nf,sf=this.view;if(this.view!==null&&this.view.enabled){var af=sf.fullWidth,lf=sf.fullHeight;rf+=sf.offsetX*nf/af,ef-=sf.offsetY*tf/lf,nf*=sf.width/af,tf*=sf.height/lf}var cf=this.filmOffset;cf!==0&&(rf+=Qc*cf/this.getFilmWidth()),this.projectionMatrix.makePerspective(rf,rf+nf,ef,ef-tf,Qc,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(Qc){var ef=Object3D.prototype.toJSON.call(this,Qc);return ef.object.fov=this.fov,ef.object.zoom=this.zoom,ef.object.near=this.near,ef.object.far=this.far,ef.object.focus=this.focus,ef.object.aspect=this.aspect,this.view!==null&&(ef.object.view=Object.assign({},this.view)),ef.object.filmGauge=this.filmGauge,ef.object.filmOffset=this.filmOffset,ef}});function ArrayCamera(Qc){PerspectiveCamera.call(this),this.cameras=Qc||[]}ArrayCamera.prototype=Object.assign(Object.create(PerspectiveCamera.prototype),{constructor:ArrayCamera,isArrayCamera:!0});function WebVRManager(Qc){var ef=this,tf=null,nf=null,rf=null,sf=[],af=new Matrix4,lf=new Matrix4,cf="stage";typeof window<"u"&&"VRFrameData"in window&&(nf=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",Gf,!1));var uf=new Matrix4,ff=new Quaternion,df=new Vector3,gf=new PerspectiveCamera;gf.bounds=new Vector4(0,0,.5,1),gf.layers.enable(1);var _f=new PerspectiveCamera;_f.bounds=new Vector4(.5,0,.5,1),_f.layers.enable(2);var xf=new ArrayCamera([gf,_f]);xf.layers.enable(1),xf.layers.enable(2);function Af(){return tf!==null&&tf.isPresenting===!0}var Df,Of;function Gf(){if(Af()){var Tf=tf.getEyeParameters("left"),Yf=Tf.renderWidth,rh=Tf.renderHeight;Of=Qc.getPixelRatio(),Df=Qc.getSize(),Qc.setDrawingBufferSize(Yf*2,rh,1),Cf.start()}else ef.enabled&&Qc.setDrawingBufferSize(Df.width,Df.height,Of),Cf.stop()}var Bf=[];function Vf(Tf){for(var Yf=navigator.getGamepads&&navigator.getGamepads(),rh=0,dh=0,hh=Yf.length;rh<hh;rh++){var sh=Yf[rh];if(sh&&(sh.id==="Daydream Controller"||sh.id==="Gear VR Controller"||sh.id==="Oculus Go Controller"||sh.id==="OpenVR Gamepad"||sh.id.startsWith("Oculus Touch")||sh.id.startsWith("Spatial Controller"))){if(dh===Tf)return sh;dh++}}}function Lf(){for(var Tf=0;Tf<sf.length;Tf++){var Yf=sf[Tf],rh=Vf(Tf);if(rh!==void 0&&rh.pose!==void 0){if(rh.pose===null)return;var dh=rh.pose;dh.hasPosition===!1&&Yf.position.set(.2,-.6,-.05),dh.position!==null&&Yf.position.fromArray(dh.position),dh.orientation!==null&&Yf.quaternion.fromArray(dh.orientation),Yf.matrix.compose(Yf.position,Yf.quaternion,Yf.scale),Yf.matrix.premultiply(af),Yf.matrix.decompose(Yf.position,Yf.quaternion,Yf.scale),Yf.matrixWorldNeedsUpdate=!0,Yf.visible=!0;var hh=rh.id==="Daydream Controller"?0:1;Bf[Tf]!==rh.buttons[hh].pressed&&(Bf[Tf]=rh.buttons[hh].pressed,Bf[Tf]===!0?Yf.dispatchEvent({type:"selectstart"}):(Yf.dispatchEvent({type:"selectend"}),Yf.dispatchEvent({type:"select"})))}else Yf.visible=!1}}this.enabled=!1,this.getController=function(Tf){var Yf=sf[Tf];return Yf===void 0&&(Yf=new Group,Yf.matrixAutoUpdate=!1,Yf.visible=!1,sf[Tf]=Yf),Yf},this.getDevice=function(){return tf},this.setDevice=function(Tf){Tf!==void 0&&(tf=Tf),Cf.setContext(Tf)},this.setFrameOfReferenceType=function(Tf){cf=Tf},this.setPoseTarget=function(Tf){Tf!==void 0&&(rf=Tf)},this.getCamera=function(Tf){var Yf=cf==="stage"?1.6:0;if(tf===null)return Tf.position.set(0,Yf,0),Tf;if(tf.depthNear=Tf.near,tf.depthFar=Tf.far,tf.getFrameData(nf),cf==="stage"){var rh=tf.stageParameters;rh?af.fromArray(rh.sittingToStandingTransform):af.makeTranslation(0,Yf,0)}var dh=nf.pose,hh=rf!==null?rf:Tf;if(hh.matrix.copy(af),hh.matrix.decompose(hh.position,hh.quaternion,hh.scale),dh.orientation!==null&&(ff.fromArray(dh.orientation),hh.quaternion.multiply(ff)),dh.position!==null&&(ff.setFromRotationMatrix(af),df.fromArray(dh.position),df.applyQuaternion(ff),hh.position.add(df)),hh.updateMatrixWorld(),tf.isPresenting===!1)return Tf;gf.near=Tf.near,_f.near=Tf.near,gf.far=Tf.far,_f.far=Tf.far,xf.matrixWorld.copy(Tf.matrixWorld),xf.matrixWorldInverse.copy(Tf.matrixWorldInverse),gf.matrixWorldInverse.fromArray(nf.leftViewMatrix),_f.matrixWorldInverse.fromArray(nf.rightViewMatrix),lf.getInverse(af),cf==="stage"&&(gf.matrixWorldInverse.multiply(lf),_f.matrixWorldInverse.multiply(lf));var sh=hh.parent;sh!==null&&(uf.getInverse(sh.matrixWorld),gf.matrixWorldInverse.multiply(uf),_f.matrixWorldInverse.multiply(uf)),gf.matrixWorld.getInverse(gf.matrixWorldInverse),_f.matrixWorld.getInverse(_f.matrixWorldInverse),gf.projectionMatrix.fromArray(nf.leftProjectionMatrix),_f.projectionMatrix.fromArray(nf.rightProjectionMatrix),xf.projectionMatrix.copy(gf.projectionMatrix);var Hf=tf.getLayers();if(Hf.length){var Qf=Hf[0];Qf.leftBounds!==null&&Qf.leftBounds.length===4&&gf.bounds.fromArray(Qf.leftBounds),Qf.rightBounds!==null&&Qf.rightBounds.length===4&&_f.bounds.fromArray(Qf.rightBounds)}return Lf(),xf},this.getStandingMatrix=function(){return af},this.isPresenting=Af;var Cf=new WebGLAnimation;this.setAnimationLoop=function(Tf){Cf.setAnimationLoop(Tf)},this.submitFrame=function(){Af()&&tf.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",Gf)}}function WebXRManager(Qc){var ef=Qc.context,tf=null,nf=null,rf=null,sf="stage",af=null,lf=[],cf=[];function uf(){return nf!==null&&rf!==null}var ff=new PerspectiveCamera;ff.layers.enable(1),ff.viewport=new Vector4;var df=new PerspectiveCamera;df.layers.enable(2),df.viewport=new Vector4;var gf=new ArrayCamera([ff,df]);gf.layers.enable(1),gf.layers.enable(2),this.enabled=!1,this.getController=function(Bf){var Vf=lf[Bf];return Vf===void 0&&(Vf=new Group,Vf.matrixAutoUpdate=!1,Vf.visible=!1,lf[Bf]=Vf),Vf},this.getDevice=function(){return tf},this.setDevice=function(Bf){Bf!==void 0&&(tf=Bf),Bf instanceof XRDevice&&ef.setCompatibleXRDevice(Bf)};function _f(Bf){var Vf=lf[cf.indexOf(Bf.inputSource)];Vf&&Vf.dispatchEvent({type:Bf.type})}function xf(){Qc.setFramebuffer(null),Gf.stop()}this.setFrameOfReferenceType=function(Bf){sf=Bf},this.setSession=function(Bf){nf=Bf,nf!==null&&(nf.addEventListener("select",_f),nf.addEventListener("selectstart",_f),nf.addEventListener("selectend",_f),nf.addEventListener("end",xf),nf.baseLayer=new XRWebGLLayer(nf,ef),nf.requestFrameOfReference(sf).then(function(Vf){rf=Vf,Qc.setFramebuffer(nf.baseLayer.framebuffer),Gf.setContext(nf),Gf.start()}),cf=nf.getInputSources(),nf.addEventListener("inputsourceschange",function(){cf=nf.getInputSources(),console.log(cf)}))};function Af(Bf,Vf){Vf===null?Bf.matrixWorld.copy(Bf.matrix):Bf.matrixWorld.multiplyMatrices(Vf.matrixWorld,Bf.matrix),Bf.matrixWorldInverse.getInverse(Bf.matrixWorld)}this.getCamera=function(Bf){if(uf()){var Vf=Bf.parent,Lf=gf.cameras;Af(gf,Vf);for(var Cf=0;Cf<Lf.length;Cf++)Af(Lf[Cf],Vf);Bf.matrixWorld.copy(gf.matrixWorld);for(var Tf=Bf.children,Cf=0,Yf=Tf.length;Cf<Yf;Cf++)Tf[Cf].updateMatrixWorld(!0);return gf}return Bf},this.isPresenting=uf;var Df=null;function Of(Bf,Vf){if(af=Vf.getDevicePose(rf),af!==null)for(var Lf=nf.baseLayer,Cf=Vf.views,Tf=0;Tf<Cf.length;Tf++){var Yf=Cf[Tf],rh=Lf.getViewport(Yf),dh=af.getViewMatrix(Yf),hh=gf.cameras[Tf];hh.matrix.fromArray(dh).getInverse(hh.matrix),hh.projectionMatrix.fromArray(Yf.projectionMatrix),hh.viewport.set(rh.x,rh.y,rh.width,rh.height),Tf===0&&(gf.matrix.copy(hh.matrix),gf.projectionMatrix.copy(hh.projectionMatrix))}for(var Tf=0;Tf<lf.length;Tf++){var sh=lf[Tf],Hf=cf[Tf];if(Hf){var Qf=Vf.getInputPose(Hf,rf);if(Qf!==null){"targetRay"in Qf?sh.matrix.elements=Qf.targetRay.transformMatrix:"pointerMatrix"in Qf&&(sh.matrix.elements=Qf.pointerMatrix),sh.matrix.decompose(sh.position,sh.rotation,sh.scale),sh.visible=!0;continue}}sh.visible=!1}Df&&Df(Bf)}var Gf=new WebGLAnimation;Gf.setAnimationLoop(Of),this.setAnimationLoop=function(Bf){Df=Bf},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function WebGLRenderer(Qc){console.log("THREE.WebGLRenderer",REVISION),Qc=Qc||{};var ef=Qc.canvas!==void 0?Qc.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),tf=Qc.context!==void 0?Qc.context:null,nf=Qc.alpha!==void 0?Qc.alpha:!1,rf=Qc.depth!==void 0?Qc.depth:!0,sf=Qc.stencil!==void 0?Qc.stencil:!0,af=Qc.antialias!==void 0?Qc.antialias:!1,lf=Qc.premultipliedAlpha!==void 0?Qc.premultipliedAlpha:!0,cf=Qc.preserveDrawingBuffer!==void 0?Qc.preserveDrawingBuffer:!1,uf=Qc.powerPreference!==void 0?Qc.powerPreference:"default",ff=null,df=null;this.domElement=ef,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var gf=this,_f=!1,xf=null,Af=null,Df=null,Of=-1,Gf={geometry:null,program:null,wireframe:!1},Bf=null,Vf=null,Lf=new Vector4,Cf=new Vector4,Tf=null,Yf=0,rh=ef.width,dh=ef.height,hh=1,sh=new Vector4(0,0,rh,dh),Hf=new Vector4(0,0,rh,dh),Qf=!1,ah=new Frustum,mh=new WebGLClipping,uh=!1,jf=!1,Kf=new Matrix4,of=new Vector3;function hf(){return Af===null?hh:1}var pf;try{var vf={alpha:nf,depth:rf,stencil:sf,antialias:af,premultipliedAlpha:lf,preserveDrawingBuffer:cf,powerPreference:uf};if(ef.addEventListener("webglcontextlost",Zh,!1),ef.addEventListener("webglcontextrestored",kh,!1),pf=tf||ef.getContext("webgl",vf)||ef.getContext("experimental-webgl",vf),pf===null)throw ef.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");pf.getShaderPrecisionFormat===void 0&&(pf.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ih){console.error("THREE.WebGLRenderer: "+ih.message)}var Ef,Sf,Ff,Uf,Wf,eh,th,_h,wh,oh,gh,qf,zf,Th,Fh,Uh,jh;function qh(){Ef=new WebGLExtensions(pf),Sf=new WebGLCapabilities(pf,Ef,Qc),Sf.isWebGL2||(Ef.get("WEBGL_depth_texture"),Ef.get("OES_texture_float"),Ef.get("OES_texture_half_float"),Ef.get("OES_texture_half_float_linear"),Ef.get("OES_standard_derivatives"),Ef.get("OES_element_index_uint"),Ef.get("ANGLE_instanced_arrays")),Ef.get("OES_texture_float_linear"),jh=new WebGLUtils(pf,Ef,Sf),Ff=new WebGLState(pf,Ef,jh,Sf),Ff.scissor(Cf.copy(Hf).multiplyScalar(hh)),Ff.viewport(Lf.copy(sh).multiplyScalar(hh)),Uf=new WebGLInfo(pf),Wf=new WebGLProperties,eh=new WebGLTextures(pf,Ef,Ff,Wf,Sf,jh,Uf),th=new WebGLAttributes(pf),_h=new WebGLGeometries(pf,th,Uf),wh=new WebGLObjects(_h,Uf),Th=new WebGLMorphtargets(pf),oh=new WebGLPrograms(gf,Ef,Sf),gh=new WebGLRenderLists,qf=new WebGLRenderStates,zf=new WebGLBackground(gf,Ff,wh,lf),Fh=new WebGLBufferRenderer(pf,Ef,Uf,Sf),Uh=new WebGLIndexedBufferRenderer(pf,Ef,Uf,Sf),Uf.programs=oh.programs,gf.context=pf,gf.capabilities=Sf,gf.extensions=Ef,gf.properties=Wf,gf.renderLists=gh,gf.state=Ff,gf.info=Uf}qh();var cd=null;typeof navigator<"u"&&(cd="xr"in navigator?new WebXRManager(gf):new WebVRManager(gf)),this.vr=cd;var pd=new WebGLShadowMap(gf,wh,Sf.maxTextureSize);this.shadowMap=pd,this.getContext=function(){return pf},this.getContextAttributes=function(){return pf.getContextAttributes()},this.forceContextLoss=function(){var ih=Ef.get("WEBGL_lose_context");ih&&ih.loseContext()},this.forceContextRestore=function(){var ih=Ef.get("WEBGL_lose_context");ih&&ih.restoreContext()},this.getPixelRatio=function(){return hh},this.setPixelRatio=function(ih){ih!==void 0&&(hh=ih,this.setSize(rh,dh,!1))},this.getSize=function(){return{width:rh,height:dh}},this.setSize=function(ih,lh,vh){if(cd.isPresenting()){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}rh=ih,dh=lh,ef.width=ih*hh,ef.height=lh*hh,vh!==!1&&(ef.style.width=ih+"px",ef.style.height=lh+"px"),this.setViewport(0,0,ih,lh)},this.getDrawingBufferSize=function(){return{width:rh*hh,height:dh*hh}},this.setDrawingBufferSize=function(ih,lh,vh){rh=ih,dh=lh,hh=vh,ef.width=ih*vh,ef.height=lh*vh,this.setViewport(0,0,ih,lh)},this.getCurrentViewport=function(){return Lf},this.setViewport=function(ih,lh,vh,$h){sh.set(ih,dh-lh-$h,vh,$h),Ff.viewport(Lf.copy(sh).multiplyScalar(hh))},this.setScissor=function(ih,lh,vh,$h){Hf.set(ih,dh-lh-$h,vh,$h),Ff.scissor(Cf.copy(Hf).multiplyScalar(hh))},this.setScissorTest=function(ih){Ff.setScissorTest(Qf=ih)},this.getClearColor=function(){return zf.getClearColor()},this.setClearColor=function(){zf.setClearColor.apply(zf,arguments)},this.getClearAlpha=function(){return zf.getClearAlpha()},this.setClearAlpha=function(){zf.setClearAlpha.apply(zf,arguments)},this.clear=function(ih,lh,vh){var $h=0;(ih===void 0||ih)&&($h|=pf.COLOR_BUFFER_BIT),(lh===void 0||lh)&&($h|=pf.DEPTH_BUFFER_BIT),(vh===void 0||vh)&&($h|=pf.STENCIL_BUFFER_BIT),pf.clear($h)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){ef.removeEventListener("webglcontextlost",Zh,!1),ef.removeEventListener("webglcontextrestored",kh,!1),gh.dispose(),qf.dispose(),Wf.dispose(),wh.dispose(),cd.dispose(),vd.stop()};function Zh(ih){ih.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_f=!0}function kh(){console.log("THREE.WebGLRenderer: Context Restored."),_f=!1,qh()}function Kh(ih){var lh=ih.target;lh.removeEventListener("dispose",Kh),Jh(lh)}function Jh(ih){xh(ih),Wf.remove(ih)}function xh(ih){var lh=Wf.get(ih).program;ih.program=void 0,lh!==void 0&&oh.releaseProgram(lh)}function Wh(ih,lh){ih.render(function(vh){gf.renderBufferImmediate(vh,lh)})}this.renderBufferImmediate=function(ih,lh){Ff.initAttributes();var vh=Wf.get(ih);ih.hasPositions&&!vh.position&&(vh.position=pf.createBuffer()),ih.hasNormals&&!vh.normal&&(vh.normal=pf.createBuffer()),ih.hasUvs&&!vh.uv&&(vh.uv=pf.createBuffer()),ih.hasColors&&!vh.color&&(vh.color=pf.createBuffer());var $h=lh.getAttributes();ih.hasPositions&&(pf.bindBuffer(pf.ARRAY_BUFFER,vh.position),pf.bufferData(pf.ARRAY_BUFFER,ih.positionArray,pf.DYNAMIC_DRAW),Ff.enableAttribute($h.position),pf.vertexAttribPointer($h.position,3,pf.FLOAT,!1,0,0)),ih.hasNormals&&(pf.bindBuffer(pf.ARRAY_BUFFER,vh.normal),pf.bufferData(pf.ARRAY_BUFFER,ih.normalArray,pf.DYNAMIC_DRAW),Ff.enableAttribute($h.normal),pf.vertexAttribPointer($h.normal,3,pf.FLOAT,!1,0,0)),ih.hasUvs&&(pf.bindBuffer(pf.ARRAY_BUFFER,vh.uv),pf.bufferData(pf.ARRAY_BUFFER,ih.uvArray,pf.DYNAMIC_DRAW),Ff.enableAttribute($h.uv),pf.vertexAttribPointer($h.uv,2,pf.FLOAT,!1,0,0)),ih.hasColors&&(pf.bindBuffer(pf.ARRAY_BUFFER,vh.color),pf.bufferData(pf.ARRAY_BUFFER,ih.colorArray,pf.DYNAMIC_DRAW),Ff.enableAttribute($h.color),pf.vertexAttribPointer($h.color,3,pf.FLOAT,!1,0,0)),Ff.disableUnusedAttributes(),pf.drawArrays(pf.TRIANGLES,0,ih.count),ih.count=0},this.renderBufferDirect=function(ih,lh,vh,$h,ed,gd){var od=ed.isMesh&&ed.normalMatrix.determinant()<0;Ff.setMaterial($h,od);var ud=Zd(ih,lh,$h,ed),Bd=!1;(Gf.geometry!==vh.id||Gf.program!==ud.id||Gf.wireframe!==($h.wireframe===!0))&&(Gf.geometry=vh.id,Gf.program=ud.id,Gf.wireframe=$h.wireframe===!0,Bd=!0),ed.morphTargetInfluences&&(Th.update(ed,vh,$h,ud),Bd=!0);var kd=vh.index,Nd=vh.attributes.position,Gd=1;$h.wireframe===!0&&(kd=_h.getWireframeAttribute(vh),Gd=2);var ap,rd=Fh;kd!==null&&(ap=th.get(kd),rd=Uh,rd.setIndex(ap)),Bd&&(nd($h,ud,vh),kd!==null&&pf.bindBuffer(pf.ELEMENT_ARRAY_BUFFER,ap.buffer));var sd=1/0;kd!==null?sd=kd.count:Nd!==void 0&&(sd=Nd.count);var Ed=vh.drawRange.start*Gd,Dd=vh.drawRange.count*Gd,vp=gd!==null?gd.start*Gd:0,yh=gd!==null?gd.count*Gd:1/0,Ch=Math.max(Ed,vp),Ph=Math.min(sd,Ed+Dd,vp+yh)-1,zh=Math.max(0,Ph-Ch+1);if(zh!==0){if(ed.isMesh)if($h.wireframe===!0)Ff.setLineWidth($h.wireframeLinewidth*hf()),rd.setMode(pf.LINES);else switch(ed.drawMode){case TrianglesDrawMode:rd.setMode(pf.TRIANGLES);break;case TriangleStripDrawMode:rd.setMode(pf.TRIANGLE_STRIP);break;case TriangleFanDrawMode:rd.setMode(pf.TRIANGLE_FAN);break}else if(ed.isLine){var td=$h.linewidth;td===void 0&&(td=1),Ff.setLineWidth(td*hf()),ed.isLineSegments?rd.setMode(pf.LINES):ed.isLineLoop?rd.setMode(pf.LINE_LOOP):rd.setMode(pf.LINE_STRIP)}else ed.isPoints?rd.setMode(pf.POINTS):ed.isSprite&&rd.setMode(pf.TRIANGLES);vh&&vh.isInstancedBufferGeometry?vh.maxInstancedCount>0&&rd.renderInstances(vh,Ch,zh):rd.render(Ch,zh)}};function nd(ih,lh,vh){if(vh&&vh.isInstancedBufferGeometry&!Sf.isWebGL2&&Ef.get("ANGLE_instanced_arrays")===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Ff.initAttributes();var $h=vh.attributes,ed=lh.getAttributes(),gd=ih.defaultAttributeValues;for(var od in ed){var ud=ed[od];if(ud>=0){var Bd=$h[od];if(Bd!==void 0){var kd=Bd.normalized,Nd=Bd.itemSize,Gd=th.get(Bd);if(Gd===void 0)continue;var ap=Gd.buffer,rd=Gd.type,sd=Gd.bytesPerElement;if(Bd.isInterleavedBufferAttribute){var Ed=Bd.data,Dd=Ed.stride,vp=Bd.offset;Ed&&Ed.isInstancedInterleavedBuffer?(Ff.enableAttributeAndDivisor(ud,Ed.meshPerAttribute),vh.maxInstancedCount===void 0&&(vh.maxInstancedCount=Ed.meshPerAttribute*Ed.count)):Ff.enableAttribute(ud),pf.bindBuffer(pf.ARRAY_BUFFER,ap),pf.vertexAttribPointer(ud,Nd,rd,kd,Dd*sd,vp*sd)}else Bd.isInstancedBufferAttribute?(Ff.enableAttributeAndDivisor(ud,Bd.meshPerAttribute),vh.maxInstancedCount===void 0&&(vh.maxInstancedCount=Bd.meshPerAttribute*Bd.count)):Ff.enableAttribute(ud),pf.bindBuffer(pf.ARRAY_BUFFER,ap),pf.vertexAttribPointer(ud,Nd,rd,kd,0,0)}else if(gd!==void 0){var yh=gd[od];if(yh!==void 0)switch(yh.length){case 2:pf.vertexAttrib2fv(ud,yh);break;case 3:pf.vertexAttrib3fv(ud,yh);break;case 4:pf.vertexAttrib4fv(ud,yh);break;default:pf.vertexAttrib1fv(ud,yh)}}}}Ff.disableUnusedAttributes()}this.compile=function(ih,lh){df=qf.get(ih,lh),df.init(),ih.traverse(function(vh){vh.isLight&&(df.pushLight(vh),vh.castShadow&&df.pushShadow(vh))}),df.setupLights(lh),ih.traverse(function(vh){if(vh.material)if(Array.isArray(vh.material))for(var $h=0;$h<vh.material.length;$h++)yd(vh.material[$h],ih.fog,vh);else yd(vh.material,ih.fog,vh)})};var Ad=null;function ad(ih){cd.isPresenting()||Ad&&Ad(ih)}var vd=new WebGLAnimation;vd.setAnimationLoop(ad),typeof window<"u"&&vd.setContext(window),this.setAnimationLoop=function(ih){Ad=ih,cd.setAnimationLoop(ih),vd.start()},this.render=function(ih,lh,vh,$h){if(!(lh&&lh.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!_f){Gf.geometry=null,Gf.program=null,Gf.wireframe=!1,Of=-1,Bf=null,ih.autoUpdate===!0&&ih.updateMatrixWorld(),lh.parent===null&&lh.updateMatrixWorld(),cd.enabled&&(lh=cd.getCamera(lh)),df=qf.get(ih,lh),df.init(),ih.onBeforeRender(gf,ih,lh,vh),Kf.multiplyMatrices(lh.projectionMatrix,lh.matrixWorldInverse),ah.setFromMatrix(Kf),jf=this.localClippingEnabled,uh=mh.init(this.clippingPlanes,jf,lh),ff=gh.get(ih,lh),ff.init(),ld(ih,lh,gf.sortObjects),gf.sortObjects===!0&&ff.sort(),uh&&mh.beginShadows();var ed=df.state.shadowsArray;pd.render(ed,ih,lh),df.setupLights(lh),uh&&mh.endShadows(),this.info.autoReset&&this.info.reset(),vh===void 0&&(vh=null),this.setRenderTarget(vh),zf.render(ff,ih,lh,$h);var gd=ff.opaque,od=ff.transparent;if(ih.overrideMaterial){var ud=ih.overrideMaterial;gd.length&&Id(gd,ih,lh,ud),od.length&&Id(od,ih,lh,ud)}else gd.length&&Id(gd,ih,lh),od.length&&Id(od,ih,lh);vh&&eh.updateRenderTargetMipmap(vh),Ff.buffers.depth.setTest(!0),Ff.buffers.depth.setMask(!0),Ff.buffers.color.setMask(!0),Ff.setPolygonOffset(!1),ih.onAfterRender(gf,ih,lh),cd.enabled&&cd.submitFrame(),ff=null,df=null}};function ld(ih,lh,vh){if(ih.visible!==!1){var $h=ih.layers.test(lh.layers);if($h){if(ih.isLight)df.pushLight(ih),ih.castShadow&&df.pushShadow(ih);else if(ih.isSprite){if(!ih.frustumCulled||ah.intersectsSprite(ih)){vh&&of.setFromMatrixPosition(ih.matrixWorld).applyMatrix4(Kf);var ed=wh.update(ih),gd=ih.material;ff.push(ih,ed,gd,of.z,null)}}else if(ih.isImmediateRenderObject)vh&&of.setFromMatrixPosition(ih.matrixWorld).applyMatrix4(Kf),ff.push(ih,null,ih.material,of.z,null);else if((ih.isMesh||ih.isLine||ih.isPoints)&&(ih.isSkinnedMesh&&ih.skeleton.update(),!ih.frustumCulled||ah.intersectsObject(ih))){vh&&of.setFromMatrixPosition(ih.matrixWorld).applyMatrix4(Kf);var ed=wh.update(ih),gd=ih.material;if(Array.isArray(gd))for(var od=ed.groups,ud=0,Bd=od.length;ud<Bd;ud++){var kd=od[ud],Nd=gd[kd.materialIndex];Nd&&Nd.visible&&ff.push(ih,ed,Nd,of.z,kd)}else gd.visible&&ff.push(ih,ed,gd,of.z,null)}}for(var Gd=ih.children,ud=0,Bd=Gd.length;ud<Bd;ud++)ld(Gd[ud],lh,vh)}}function Id(ih,lh,vh,$h){for(var ed=0,gd=ih.length;ed<gd;ed++){var od=ih[ed],ud=od.object,Bd=od.geometry,kd=$h===void 0?od.material:$h,Nd=od.group;if(vh.isArrayCamera){Vf=vh;for(var Gd=vh.cameras,ap=0,rd=Gd.length;ap<rd;ap++){var sd=Gd[ap];if(ud.layers.test(sd.layers)){if("viewport"in sd)Ff.viewport(Lf.copy(sd.viewport));else{var Ed=sd.bounds,Dd=Ed.x*rh,vp=Ed.y*dh,yh=Ed.z*rh,Ch=Ed.w*dh;Ff.viewport(Lf.set(Dd,vp,yh,Ch).multiplyScalar(hh))}df.setupLights(sd),$d(ud,lh,sd,Bd,kd,Nd)}}}else Vf=null,$d(ud,lh,vh,Bd,kd,Nd)}}function $d(ih,lh,vh,$h,ed,gd){if(ih.onBeforeRender(gf,lh,vh,$h,ed,gd),df=qf.get(lh,Vf||vh),ih.modelViewMatrix.multiplyMatrices(vh.matrixWorldInverse,ih.matrixWorld),ih.normalMatrix.getNormalMatrix(ih.modelViewMatrix),ih.isImmediateRenderObject){Ff.setMaterial(ed);var od=Zd(vh,lh.fog,ed,ih);Gf.geometry=null,Gf.program=null,Gf.wireframe=!1,Wh(ih,od)}else gf.renderBufferDirect(vh,lh.fog,$h,ed,ih,gd);ih.onAfterRender(gf,lh,vh,$h,ed,gd),df=qf.get(lh,Vf||vh)}function yd(ih,lh,vh){var $h=Wf.get(ih),ed=df.state.lights,gd=df.state.shadowsArray,od=$h.lightsHash,ud=ed.state.hash,Bd=oh.getParameters(ih,ed.state,gd,lh,mh.numPlanes,mh.numIntersection,vh),kd=oh.getProgramCode(ih,Bd),Nd=$h.program,Gd=!0;if(Nd===void 0)ih.addEventListener("dispose",Kh);else if(Nd.code!==kd)xh(ih);else if(od.stateID!==ud.stateID||od.directionalLength!==ud.directionalLength||od.pointLength!==ud.pointLength||od.spotLength!==ud.spotLength||od.rectAreaLength!==ud.rectAreaLength||od.hemiLength!==ud.hemiLength||od.shadowsLength!==ud.shadowsLength)od.stateID=ud.stateID,od.directionalLength=ud.directionalLength,od.pointLength=ud.pointLength,od.spotLength=ud.spotLength,od.rectAreaLength=ud.rectAreaLength,od.hemiLength=ud.hemiLength,od.shadowsLength=ud.shadowsLength,Gd=!1;else{if(Bd.shaderID!==void 0)return;Gd=!1}if(Gd){if(Bd.shaderID){var ap=ShaderLib[Bd.shaderID];$h.shader={name:ih.type,uniforms:UniformsUtils.clone(ap.uniforms),vertexShader:ap.vertexShader,fragmentShader:ap.fragmentShader}}else $h.shader={name:ih.type,uniforms:ih.uniforms,vertexShader:ih.vertexShader,fragmentShader:ih.fragmentShader};ih.onBeforeCompile($h.shader,gf),kd=oh.getProgramCode(ih,Bd),Nd=oh.acquireProgram(ih,$h.shader,Bd,kd),$h.program=Nd,ih.program=Nd}var rd=Nd.getAttributes();if(ih.morphTargets){ih.numSupportedMorphTargets=0;for(var sd=0;sd<gf.maxMorphTargets;sd++)rd["morphTarget"+sd]>=0&&ih.numSupportedMorphTargets++}if(ih.morphNormals){ih.numSupportedMorphNormals=0;for(var sd=0;sd<gf.maxMorphNormals;sd++)rd["morphNormal"+sd]>=0&&ih.numSupportedMorphNormals++}var Ed=$h.shader.uniforms;(!ih.isShaderMaterial&&!ih.isRawShaderMaterial||ih.clipping===!0)&&($h.numClippingPlanes=mh.numPlanes,$h.numIntersection=mh.numIntersection,Ed.clippingPlanes=mh.uniform),$h.fog=lh,od===void 0&&($h.lightsHash=od={}),od.stateID=ud.stateID,od.directionalLength=ud.directionalLength,od.pointLength=ud.pointLength,od.spotLength=ud.spotLength,od.rectAreaLength=ud.rectAreaLength,od.hemiLength=ud.hemiLength,od.shadowsLength=ud.shadowsLength,ih.lights&&(Ed.ambientLightColor.value=ed.state.ambient,Ed.directionalLights.value=ed.state.directional,Ed.spotLights.value=ed.state.spot,Ed.rectAreaLights.value=ed.state.rectArea,Ed.pointLights.value=ed.state.point,Ed.hemisphereLights.value=ed.state.hemi,Ed.directionalShadowMap.value=ed.state.directionalShadowMap,Ed.directionalShadowMatrix.value=ed.state.directionalShadowMatrix,Ed.spotShadowMap.value=ed.state.spotShadowMap,Ed.spotShadowMatrix.value=ed.state.spotShadowMatrix,Ed.pointShadowMap.value=ed.state.pointShadowMap,Ed.pointShadowMatrix.value=ed.state.pointShadowMatrix);var Dd=$h.program.getUniforms(),vp=WebGLUniforms.seqWithValue(Dd.seq,Ed);$h.uniformsList=vp}function Zd(ih,lh,vh,$h){Yf=0;var ed=Wf.get(vh),gd=df.state.lights,od=ed.lightsHash,ud=gd.state.hash;if(uh&&(jf||ih!==Bf)){var Bd=ih===Bf&&vh.id===Of;mh.setState(vh.clippingPlanes,vh.clipIntersection,vh.clipShadows,ih,ed,Bd)}vh.needsUpdate===!1&&(ed.program===void 0||vh.fog&&ed.fog!==lh||vh.lights&&(od.stateID!==ud.stateID||od.directionalLength!==ud.directionalLength||od.pointLength!==ud.pointLength||od.spotLength!==ud.spotLength||od.rectAreaLength!==ud.rectAreaLength||od.hemiLength!==ud.hemiLength||od.shadowsLength!==ud.shadowsLength)||ed.numClippingPlanes!==void 0&&(ed.numClippingPlanes!==mh.numPlanes||ed.numIntersection!==mh.numIntersection))&&(vh.needsUpdate=!0),vh.needsUpdate&&(yd(vh,lh,$h),vh.needsUpdate=!1);var kd=!1,Nd=!1,Gd=!1,ap=ed.program,rd=ap.getUniforms(),sd=ed.shader.uniforms;if(Ff.useProgram(ap.program)&&(kd=!0,Nd=!0,Gd=!0),vh.id!==Of&&(Of=vh.id,Nd=!0),kd||Bf!==ih){if(rd.setValue(pf,"projectionMatrix",ih.projectionMatrix),Sf.logarithmicDepthBuffer&&rd.setValue(pf,"logDepthBufFC",2/(Math.log(ih.far+1)/Math.LN2)),Bf!==ih&&(Bf=ih,Nd=!0,Gd=!0),vh.isShaderMaterial||vh.isMeshPhongMaterial||vh.isMeshStandardMaterial||vh.envMap){var Ed=rd.map.cameraPosition;Ed!==void 0&&Ed.setValue(pf,of.setFromMatrixPosition(ih.matrixWorld))}(vh.isMeshPhongMaterial||vh.isMeshLambertMaterial||vh.isMeshBasicMaterial||vh.isMeshStandardMaterial||vh.isShaderMaterial||vh.skinning)&&rd.setValue(pf,"viewMatrix",ih.matrixWorldInverse)}if(vh.skinning){rd.setOptional(pf,$h,"bindMatrix"),rd.setOptional(pf,$h,"bindMatrixInverse");var Dd=$h.skeleton;if(Dd){var vp=Dd.bones;if(Sf.floatVertexTextures){if(Dd.boneTexture===void 0){var yh=Math.sqrt(vp.length*4);yh=_Math.ceilPowerOfTwo(yh),yh=Math.max(yh,4);var Ch=new Float32Array(yh*yh*4);Ch.set(Dd.boneMatrices);var Ph=new DataTexture(Ch,yh,yh,RGBAFormat,FloatType);Ph.needsUpdate=!0,Dd.boneMatrices=Ch,Dd.boneTexture=Ph,Dd.boneTextureSize=yh}rd.setValue(pf,"boneTexture",Dd.boneTexture),rd.setValue(pf,"boneTextureSize",Dd.boneTextureSize)}else rd.setOptional(pf,Dd,"boneMatrices")}}return Nd&&(rd.setValue(pf,"toneMappingExposure",gf.toneMappingExposure),rd.setValue(pf,"toneMappingWhitePoint",gf.toneMappingWhitePoint),vh.lights&&sp(sd,Gd),lh&&vh.fog&&Mp(sd,lh),vh.isMeshBasicMaterial?jd(sd,vh):vh.isMeshLambertMaterial?(jd(sd,vh),fp(sd,vh)):vh.isMeshPhongMaterial?(jd(sd,vh),vh.isMeshToonMaterial?Ip(sd,vh):Xd(sd,vh)):vh.isMeshStandardMaterial?(jd(sd,vh),vh.isMeshPhysicalMaterial?Dp(sd,vh):Ep(sd,vh)):vh.isMeshMatcapMaterial?(jd(sd,vh),Op(sd,vh)):vh.isMeshDepthMaterial?(jd(sd,vh),hp(sd,vh)):vh.isMeshDistanceMaterial?(jd(sd,vh),Hh(sd,vh)):vh.isMeshNormalMaterial?(jd(sd,vh),ip(sd,vh)):vh.isLineBasicMaterial?(pp(sd,vh),vh.isLineDashedMaterial&&rp(sd,vh)):vh.isPointsMaterial?ep(sd,vh):vh.isSpriteMaterial?bp(sd,vh):vh.isShadowMaterial&&(sd.color.value=vh.color,sd.opacity.value=vh.opacity),sd.ltc_1!==void 0&&(sd.ltc_1.value=UniformsLib.LTC_1),sd.ltc_2!==void 0&&(sd.ltc_2.value=UniformsLib.LTC_2),WebGLUniforms.upload(pf,ed.uniformsList,sd,gf)),vh.isShaderMaterial&&vh.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(pf,ed.uniformsList,sd,gf),vh.uniformsNeedUpdate=!1),vh.isSpriteMaterial&&rd.setValue(pf,"center",$h.center),rd.setValue(pf,"modelViewMatrix",$h.modelViewMatrix),rd.setValue(pf,"normalMatrix",$h.normalMatrix),rd.setValue(pf,"modelMatrix",$h.matrixWorld),ap}function jd(ih,lh){ih.opacity.value=lh.opacity,lh.color&&(ih.diffuse.value=lh.color),lh.emissive&&ih.emissive.value.copy(lh.emissive).multiplyScalar(lh.emissiveIntensity),lh.map&&(ih.map.value=lh.map),lh.alphaMap&&(ih.alphaMap.value=lh.alphaMap),lh.specularMap&&(ih.specularMap.value=lh.specularMap),lh.envMap&&(ih.envMap.value=lh.envMap,ih.flipEnvMap.value=lh.envMap&&lh.envMap.isCubeTexture?-1:1,ih.reflectivity.value=lh.reflectivity,ih.refractionRatio.value=lh.refractionRatio,ih.maxMipLevel.value=Wf.get(lh.envMap).__maxMipLevel),lh.lightMap&&(ih.lightMap.value=lh.lightMap,ih.lightMapIntensity.value=lh.lightMapIntensity),lh.aoMap&&(ih.aoMap.value=lh.aoMap,ih.aoMapIntensity.value=lh.aoMapIntensity);var vh;lh.map?vh=lh.map:lh.specularMap?vh=lh.specularMap:lh.displacementMap?vh=lh.displacementMap:lh.normalMap?vh=lh.normalMap:lh.bumpMap?vh=lh.bumpMap:lh.roughnessMap?vh=lh.roughnessMap:lh.metalnessMap?vh=lh.metalnessMap:lh.alphaMap?vh=lh.alphaMap:lh.emissiveMap&&(vh=lh.emissiveMap),vh!==void 0&&(vh.isWebGLRenderTarget&&(vh=vh.texture),vh.matrixAutoUpdate===!0&&vh.updateMatrix(),ih.uvTransform.value.copy(vh.matrix))}function pp(ih,lh){ih.diffuse.value=lh.color,ih.opacity.value=lh.opacity}function rp(ih,lh){ih.dashSize.value=lh.dashSize,ih.totalSize.value=lh.dashSize+lh.gapSize,ih.scale.value=lh.scale}function ep(ih,lh){ih.diffuse.value=lh.color,ih.opacity.value=lh.opacity,ih.size.value=lh.size*hh,ih.scale.value=dh*.5,ih.map.value=lh.map,lh.map!==null&&(lh.map.matrixAutoUpdate===!0&&lh.map.updateMatrix(),ih.uvTransform.value.copy(lh.map.matrix))}function bp(ih,lh){ih.diffuse.value=lh.color,ih.opacity.value=lh.opacity,ih.rotation.value=lh.rotation,ih.map.value=lh.map,lh.map!==null&&(lh.map.matrixAutoUpdate===!0&&lh.map.updateMatrix(),ih.uvTransform.value.copy(lh.map.matrix))}function Mp(ih,lh){ih.fogColor.value=lh.color,lh.isFog?(ih.fogNear.value=lh.near,ih.fogFar.value=lh.far):lh.isFogExp2&&(ih.fogDensity.value=lh.density)}function fp(ih,lh){lh.emissiveMap&&(ih.emissiveMap.value=lh.emissiveMap)}function Xd(ih,lh){ih.specular.value=lh.specular,ih.shininess.value=Math.max(lh.shininess,1e-4),lh.emissiveMap&&(ih.emissiveMap.value=lh.emissiveMap),lh.bumpMap&&(ih.bumpMap.value=lh.bumpMap,ih.bumpScale.value=lh.bumpScale,lh.side===BackSide&&(ih.bumpScale.value*=-1)),lh.normalMap&&(ih.normalMap.value=lh.normalMap,ih.normalScale.value.copy(lh.normalScale),lh.side===BackSide&&ih.normalScale.value.negate()),lh.displacementMap&&(ih.displacementMap.value=lh.displacementMap,ih.displacementScale.value=lh.displacementScale,ih.displacementBias.value=lh.displacementBias)}function Ip(ih,lh){Xd(ih,lh),lh.gradientMap&&(ih.gradientMap.value=lh.gradientMap)}function Ep(ih,lh){ih.roughness.value=lh.roughness,ih.metalness.value=lh.metalness,lh.roughnessMap&&(ih.roughnessMap.value=lh.roughnessMap),lh.metalnessMap&&(ih.metalnessMap.value=lh.metalnessMap),lh.emissiveMap&&(ih.emissiveMap.value=lh.emissiveMap),lh.bumpMap&&(ih.bumpMap.value=lh.bumpMap,ih.bumpScale.value=lh.bumpScale,lh.side===BackSide&&(ih.bumpScale.value*=-1)),lh.normalMap&&(ih.normalMap.value=lh.normalMap,ih.normalScale.value.copy(lh.normalScale),lh.side===BackSide&&ih.normalScale.value.negate()),lh.displacementMap&&(ih.displacementMap.value=lh.displacementMap,ih.displacementScale.value=lh.displacementScale,ih.displacementBias.value=lh.displacementBias),lh.envMap&&(ih.envMapIntensity.value=lh.envMapIntensity)}function Dp(ih,lh){Ep(ih,lh),ih.reflectivity.value=lh.reflectivity,ih.clearCoat.value=lh.clearCoat,ih.clearCoatRoughness.value=lh.clearCoatRoughness}function Op(ih,lh){lh.matcap&&(ih.matcap.value=lh.matcap),lh.bumpMap&&(ih.bumpMap.value=lh.bumpMap,ih.bumpScale.value=lh.bumpScale,lh.side===BackSide&&(ih.bumpScale.value*=-1)),lh.normalMap&&(ih.normalMap.value=lh.normalMap,ih.normalScale.value.copy(lh.normalScale),lh.side===BackSide&&ih.normalScale.value.negate()),lh.displacementMap&&(ih.displacementMap.value=lh.displacementMap,ih.displacementScale.value=lh.displacementScale,ih.displacementBias.value=lh.displacementBias)}function hp(ih,lh){lh.displacementMap&&(ih.displacementMap.value=lh.displacementMap,ih.displacementScale.value=lh.displacementScale,ih.displacementBias.value=lh.displacementBias)}function Hh(ih,lh){lh.displacementMap&&(ih.displacementMap.value=lh.displacementMap,ih.displacementScale.value=lh.displacementScale,ih.displacementBias.value=lh.displacementBias),ih.referencePosition.value.copy(lh.referencePosition),ih.nearDistance.value=lh.nearDistance,ih.farDistance.value=lh.farDistance}function ip(ih,lh){lh.bumpMap&&(ih.bumpMap.value=lh.bumpMap,ih.bumpScale.value=lh.bumpScale,lh.side===BackSide&&(ih.bumpScale.value*=-1)),lh.normalMap&&(ih.normalMap.value=lh.normalMap,ih.normalScale.value.copy(lh.normalScale),lh.side===BackSide&&ih.normalScale.value.negate()),lh.displacementMap&&(ih.displacementMap.value=lh.displacementMap,ih.displacementScale.value=lh.displacementScale,ih.displacementBias.value=lh.displacementBias)}function sp(ih,lh){ih.ambientLightColor.needsUpdate=lh,ih.directionalLights.needsUpdate=lh,ih.pointLights.needsUpdate=lh,ih.spotLights.needsUpdate=lh,ih.rectAreaLights.needsUpdate=lh,ih.hemisphereLights.needsUpdate=lh}function Hp(){var ih=Yf;return ih>=Sf.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+ih+" texture units while this GPU supports only "+Sf.maxTextures),Yf+=1,ih}this.allocTextureUnit=Hp,this.setTexture2D=function(){var ih=!1;return function(vh,$h){vh&&vh.isWebGLRenderTarget&&(ih||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ih=!0),vh=vh.texture),eh.setTexture2D(vh,$h)}}(),this.setTexture3D=function(){return function(lh,vh){eh.setTexture3D(lh,vh)}}(),this.setTexture=function(){var ih=!1;return function(vh,$h){ih||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),ih=!0),eh.setTexture2D(vh,$h)}}(),this.setTextureCube=function(){var ih=!1;return function(vh,$h){vh&&vh.isWebGLRenderTargetCube&&(ih||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ih=!0),vh=vh.texture),vh&&vh.isCubeTexture||Array.isArray(vh.image)&&vh.image.length===6?eh.setTextureCube(vh,$h):eh.setTextureCubeDynamic(vh,$h)}}(),this.setFramebuffer=function(ih){xf=ih},this.getRenderTarget=function(){return Af},this.setRenderTarget=function(ih){Af=ih,ih&&Wf.get(ih).__webglFramebuffer===void 0&&eh.setupRenderTarget(ih);var lh=xf,vh=!1;if(ih){var $h=Wf.get(ih).__webglFramebuffer;ih.isWebGLRenderTargetCube?(lh=$h[ih.activeCubeFace],vh=!0):lh=$h,Lf.copy(ih.viewport),Cf.copy(ih.scissor),Tf=ih.scissorTest}else Lf.copy(sh).multiplyScalar(hh),Cf.copy(Hf).multiplyScalar(hh),Tf=Qf;if(Df!==lh&&(pf.bindFramebuffer(pf.FRAMEBUFFER,lh),Df=lh),Ff.viewport(Lf),Ff.scissor(Cf),Ff.setScissorTest(Tf),vh){var ed=Wf.get(ih.texture);pf.framebufferTexture2D(pf.FRAMEBUFFER,pf.COLOR_ATTACHMENT0,pf.TEXTURE_CUBE_MAP_POSITIVE_X+ih.activeCubeFace,ed.__webglTexture,ih.activeMipMapLevel)}},this.readRenderTargetPixels=function(ih,lh,vh,$h,ed,gd){if(!(ih&&ih.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var od=Wf.get(ih).__webglFramebuffer;if(od){var ud=!1;od!==Df&&(pf.bindFramebuffer(pf.FRAMEBUFFER,od),ud=!0);try{var Bd=ih.texture,kd=Bd.format,Nd=Bd.type;if(kd!==RGBAFormat&&jh.convert(kd)!==pf.getParameter(pf.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Nd!==UnsignedByteType&&jh.convert(Nd)!==pf.getParameter(pf.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Nd===FloatType&&(Sf.isWebGL2||Ef.get("OES_texture_float")||Ef.get("WEBGL_color_buffer_float")))&&!(Nd===HalfFloatType&&(Sf.isWebGL2?Ef.get("EXT_color_buffer_float"):Ef.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pf.checkFramebufferStatus(pf.FRAMEBUFFER)===pf.FRAMEBUFFER_COMPLETE?lh>=0&&lh<=ih.width-$h&&vh>=0&&vh<=ih.height-ed&&pf.readPixels(lh,vh,$h,ed,jh.convert(kd),jh.convert(Nd),gd):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{ud&&pf.bindFramebuffer(pf.FRAMEBUFFER,Df)}}},this.copyFramebufferToTexture=function(ih,lh,vh){var $h=lh.image.width,ed=lh.image.height,gd=jh.convert(lh.format);this.setTexture2D(lh,0),pf.copyTexImage2D(pf.TEXTURE_2D,vh||0,gd,ih.x,ih.y,$h,ed,0)},this.copyTextureToTexture=function(ih,lh,vh,$h){var ed=lh.image.width,gd=lh.image.height,od=jh.convert(vh.format),ud=jh.convert(vh.type);this.setTexture2D(vh,0),lh.isDataTexture?pf.texSubImage2D(pf.TEXTURE_2D,$h||0,ih.x,ih.y,ed,gd,od,ud,lh.image.data):pf.texSubImage2D(pf.TEXTURE_2D,$h||0,ih.x,ih.y,od,ud,lh.image)}}function FogExp2(Qc,ef){this.name="",this.color=new Color$1(Qc),this.density=ef!==void 0?ef:25e-5}FogExp2.prototype.isFogExp2=!0;FogExp2.prototype.clone=function(){return new FogExp2(this.color,this.density)};FogExp2.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};function Fog(Qc,ef,tf){this.name="",this.color=new Color$1(Qc),this.near=ef!==void 0?ef:1,this.far=tf!==void 0?tf:1e3}Fog.prototype.isFog=!0;Fog.prototype.clone=function(){return new Fog(this.color,this.near,this.far)};Fog.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};function Scene(){Object3D.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}Scene.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Scene,copy:function(Qc,ef){return Object3D.prototype.copy.call(this,Qc,ef),Qc.background!==null&&(this.background=Qc.background.clone()),Qc.fog!==null&&(this.fog=Qc.fog.clone()),Qc.overrideMaterial!==null&&(this.overrideMaterial=Qc.overrideMaterial.clone()),this.autoUpdate=Qc.autoUpdate,this.matrixAutoUpdate=Qc.matrixAutoUpdate,this},toJSON:function(Qc){var ef=Object3D.prototype.toJSON.call(this,Qc);return this.background!==null&&(ef.object.background=this.background.toJSON(Qc)),this.fog!==null&&(ef.object.fog=this.fog.toJSON()),ef}});function InterleavedBuffer(Qc,ef){this.array=Qc,this.stride=ef,this.count=Qc!==void 0?Qc.length/ef:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(InterleavedBuffer.prototype,"needsUpdate",{set:function(Qc){Qc===!0&&this.version++}});Object.assign(InterleavedBuffer.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(Qc){if(Array.isArray(Qc))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=Qc!==void 0?Qc.length/this.stride:0,this.array=Qc,this},setDynamic:function(Qc){return this.dynamic=Qc,this},copy:function(Qc){return this.array=new Qc.array.constructor(Qc.array),this.count=Qc.count,this.stride=Qc.stride,this.dynamic=Qc.dynamic,this},copyAt:function(Qc,ef,tf){Qc*=this.stride,tf*=ef.stride;for(var nf=0,rf=this.stride;nf<rf;nf++)this.array[Qc+nf]=ef.array[tf+nf];return this},set:function(Qc,ef){return ef===void 0&&(ef=0),this.array.set(Qc,ef),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(Qc){return this.onUploadCallback=Qc,this}});function InterleavedBufferAttribute(Qc,ef,tf,nf){this.data=Qc,this.itemSize=ef,this.offset=tf,this.normalized=nf===!0}Object.defineProperties(InterleavedBufferAttribute.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(InterleavedBufferAttribute.prototype,{isInterleavedBufferAttribute:!0,setX:function(Qc,ef){return this.data.array[Qc*this.data.stride+this.offset]=ef,this},setY:function(Qc,ef){return this.data.array[Qc*this.data.stride+this.offset+1]=ef,this},setZ:function(Qc,ef){return this.data.array[Qc*this.data.stride+this.offset+2]=ef,this},setW:function(Qc,ef){return this.data.array[Qc*this.data.stride+this.offset+3]=ef,this},getX:function(Qc){return this.data.array[Qc*this.data.stride+this.offset]},getY:function(Qc){return this.data.array[Qc*this.data.stride+this.offset+1]},getZ:function(Qc){return this.data.array[Qc*this.data.stride+this.offset+2]},getW:function(Qc){return this.data.array[Qc*this.data.stride+this.offset+3]},setXY:function(Qc,ef,tf){return Qc=Qc*this.data.stride+this.offset,this.data.array[Qc+0]=ef,this.data.array[Qc+1]=tf,this},setXYZ:function(Qc,ef,tf,nf){return Qc=Qc*this.data.stride+this.offset,this.data.array[Qc+0]=ef,this.data.array[Qc+1]=tf,this.data.array[Qc+2]=nf,this},setXYZW:function(Qc,ef,tf,nf,rf){return Qc=Qc*this.data.stride+this.offset,this.data.array[Qc+0]=ef,this.data.array[Qc+1]=tf,this.data.array[Qc+2]=nf,this.data.array[Qc+3]=rf,this}});function SpriteMaterial(Qc){Material.call(this),this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(Qc)}SpriteMaterial.prototype=Object.create(Material.prototype);SpriteMaterial.prototype.constructor=SpriteMaterial;SpriteMaterial.prototype.isSpriteMaterial=!0;SpriteMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.color.copy(Qc.color),this.map=Qc.map,this.rotation=Qc.rotation,this.sizeAttenuation=Qc.sizeAttenuation,this};var geometry;function Sprite(Qc){if(Object3D.call(this),this.type="Sprite",geometry===void 0){geometry=new BufferGeometry;var ef=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),tf=new InterleavedBuffer(ef,5);geometry.setIndex([0,1,2,0,2,3]),geometry.addAttribute("position",new InterleavedBufferAttribute(tf,3,0,!1)),geometry.addAttribute("uv",new InterleavedBufferAttribute(tf,2,3,!1))}this.geometry=geometry,this.material=Qc!==void 0?Qc:new SpriteMaterial,this.center=new Vector2(.5,.5)}Sprite.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Sprite,isSprite:!0,raycast:function(){var Qc=new Vector3,ef=new Vector3,tf=new Vector3,nf=new Vector2,rf=new Vector2,sf=new Matrix4,af=new Vector3,lf=new Vector3,cf=new Vector3,uf=new Vector2,ff=new Vector2,df=new Vector2;function gf(_f,xf,Af,Df,Of,Gf){nf.subVectors(_f,Af).addScalar(.5).multiply(Df),Of!==void 0?(rf.x=Gf*nf.x-Of*nf.y,rf.y=Of*nf.x+Gf*nf.y):rf.copy(nf),_f.copy(xf),_f.x+=rf.x,_f.y+=rf.y,_f.applyMatrix4(sf)}return function(xf,Af){ef.setFromMatrixScale(this.matrixWorld),sf.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),tf.setFromMatrixPosition(this.modelViewMatrix);var Df=this.material.rotation,Of,Gf;Df!==0&&(Gf=Math.cos(Df),Of=Math.sin(Df));var Bf=this.center;gf(af.set(-.5,-.5,0),tf,Bf,ef,Of,Gf),gf(lf.set(.5,-.5,0),tf,Bf,ef,Of,Gf),gf(cf.set(.5,.5,0),tf,Bf,ef,Of,Gf),uf.set(0,0),ff.set(1,0),df.set(1,1);var Vf=xf.ray.intersectTriangle(af,lf,cf,!1,Qc);if(!(Vf===null&&(gf(lf.set(-.5,.5,0),tf,Bf,ef,Of,Gf),ff.set(0,1),Vf=xf.ray.intersectTriangle(af,cf,lf,!1,Qc),Vf===null))){var Lf=xf.ray.origin.distanceTo(Qc);Lf<xf.near||Lf>xf.far||Af.push({distance:Lf,point:Qc.clone(),uv:Triangle.getUV(Qc,af,lf,cf,uf,ff,df,new Vector2),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(Qc){return Object3D.prototype.copy.call(this,Qc),Qc.center!==void 0&&this.center.copy(Qc.center),this}});function LOD(){Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}LOD.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LOD,copy:function(Qc){Object3D.prototype.copy.call(this,Qc,!1);for(var ef=Qc.levels,tf=0,nf=ef.length;tf<nf;tf++){var rf=ef[tf];this.addLevel(rf.object.clone(),rf.distance)}return this},addLevel:function(Qc,ef){ef===void 0&&(ef=0),ef=Math.abs(ef);for(var tf=this.levels,nf=0;nf<tf.length&&!(ef<tf[nf].distance);nf++);tf.splice(nf,0,{distance:ef,object:Qc}),this.add(Qc)},getObjectForDistance:function(Qc){for(var ef=this.levels,tf=1,nf=ef.length;tf<nf&&!(Qc<ef[tf].distance);tf++);return ef[tf-1].object},raycast:function(){var Qc=new Vector3;return function(tf,nf){Qc.setFromMatrixPosition(this.matrixWorld);var rf=tf.ray.origin.distanceTo(Qc);this.getObjectForDistance(rf).raycast(tf,nf)}}(),update:function(){var Qc=new Vector3,ef=new Vector3;return function(nf){var rf=this.levels;if(rf.length>1){Qc.setFromMatrixPosition(nf.matrixWorld),ef.setFromMatrixPosition(this.matrixWorld);var sf=Qc.distanceTo(ef);rf[0].object.visible=!0;for(var af=1,lf=rf.length;af<lf&&sf>=rf[af].distance;af++)rf[af-1].object.visible=!1,rf[af].object.visible=!0;for(;af<lf;af++)rf[af].object.visible=!1}}}(),toJSON:function(Qc){var ef=Object3D.prototype.toJSON.call(this,Qc);ef.object.levels=[];for(var tf=this.levels,nf=0,rf=tf.length;nf<rf;nf++){var sf=tf[nf];ef.object.levels.push({object:sf.object.uuid,distance:sf.distance})}return ef}});function Skeleton(Qc,ef){if(Qc=Qc||[],this.bones=Qc.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),ef===void 0)this.calculateInverses();else if(this.bones.length===ef.length)this.boneInverses=ef.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var tf=0,nf=this.bones.length;tf<nf;tf++)this.boneInverses.push(new Matrix4)}}Object.assign(Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var Qc=0,ef=this.bones.length;Qc<ef;Qc++){var tf=new Matrix4;this.bones[Qc]&&tf.getInverse(this.bones[Qc].matrixWorld),this.boneInverses.push(tf)}},pose:function(){var Qc,ef,tf;for(ef=0,tf=this.bones.length;ef<tf;ef++)Qc=this.bones[ef],Qc&&Qc.matrixWorld.getInverse(this.boneInverses[ef]);for(ef=0,tf=this.bones.length;ef<tf;ef++)Qc=this.bones[ef],Qc&&(Qc.parent&&Qc.parent.isBone?(Qc.matrix.getInverse(Qc.parent.matrixWorld),Qc.matrix.multiply(Qc.matrixWorld)):Qc.matrix.copy(Qc.matrixWorld),Qc.matrix.decompose(Qc.position,Qc.quaternion,Qc.scale))},update:function(){var Qc=new Matrix4,ef=new Matrix4;return function(){for(var nf=this.bones,rf=this.boneInverses,sf=this.boneMatrices,af=this.boneTexture,lf=0,cf=nf.length;lf<cf;lf++){var uf=nf[lf]?nf[lf].matrixWorld:ef;Qc.multiplyMatrices(uf,rf[lf]),Qc.toArray(sf,lf*16)}af!==void 0&&(af.needsUpdate=!0)}}(),clone:function(){return new Skeleton(this.bones,this.boneInverses)},getBoneByName:function(Qc){for(var ef=0,tf=this.bones.length;ef<tf;ef++){var nf=this.bones[ef];if(nf.name===Qc)return nf}}});function Bone(){Object3D.call(this),this.type="Bone"}Bone.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Bone,isBone:!0});function SkinnedMesh(Qc,ef){Mesh.call(this,Qc,ef),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4;var tf=this.initBones(),nf=new Skeleton(tf);this.bind(nf,this.matrixWorld),this.normalizeSkinWeights()}SkinnedMesh.prototype=Object.assign(Object.create(Mesh.prototype),{constructor:SkinnedMesh,isSkinnedMesh:!0,initBones:function(){var Qc=[],ef,tf,nf,rf;if(this.geometry&&this.geometry.bones!==void 0){for(nf=0,rf=this.geometry.bones.length;nf<rf;nf++)tf=this.geometry.bones[nf],ef=new Bone,Qc.push(ef),ef.name=tf.name,ef.position.fromArray(tf.pos),ef.quaternion.fromArray(tf.rotq),tf.scl!==void 0&&ef.scale.fromArray(tf.scl);for(nf=0,rf=this.geometry.bones.length;nf<rf;nf++)tf=this.geometry.bones[nf],tf.parent!==-1&&tf.parent!==null&&Qc[tf.parent]!==void 0?Qc[tf.parent].add(Qc[nf]):this.add(Qc[nf])}return this.updateMatrixWorld(!0),Qc},bind:function(Qc,ef){this.skeleton=Qc,ef===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),ef=this.matrixWorld),this.bindMatrix.copy(ef),this.bindMatrixInverse.getInverse(ef)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var Qc,ef;if(this.geometry&&this.geometry.isGeometry)for(ef=0;ef<this.geometry.skinWeights.length;ef++){var tf=this.geometry.skinWeights[ef];Qc=1/tf.manhattanLength(),Qc!==1/0?tf.multiplyScalar(Qc):tf.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var nf=new Vector4,rf=this.geometry.attributes.skinWeight;for(ef=0;ef<rf.count;ef++)nf.x=rf.getX(ef),nf.y=rf.getY(ef),nf.z=rf.getZ(ef),nf.w=rf.getW(ef),Qc=1/nf.manhattanLength(),Qc!==1/0?nf.multiplyScalar(Qc):nf.set(1,0,0,0),rf.setXYZW(ef,nf.x,nf.y,nf.z,nf.w)}},updateMatrixWorld:function(Qc){Mesh.prototype.updateMatrixWorld.call(this,Qc),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function LineBasicMaterial(Qc){Material.call(this),this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(Qc)}LineBasicMaterial.prototype=Object.create(Material.prototype);LineBasicMaterial.prototype.constructor=LineBasicMaterial;LineBasicMaterial.prototype.isLineBasicMaterial=!0;LineBasicMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.color.copy(Qc.color),this.linewidth=Qc.linewidth,this.linecap=Qc.linecap,this.linejoin=Qc.linejoin,this};function Line(Qc,ef,tf){tf===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Object3D.call(this),this.type="Line",this.geometry=Qc!==void 0?Qc:new BufferGeometry,this.material=ef!==void 0?ef:new LineBasicMaterial({color:Math.random()*16777215})}Line.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Line,isLine:!0,computeLineDistances:function(){var Qc=new Vector3,ef=new Vector3;return function(){var nf=this.geometry;if(nf.isBufferGeometry)if(nf.index===null){for(var rf=nf.attributes.position,sf=[0],af=1,lf=rf.count;af<lf;af++)Qc.fromBufferAttribute(rf,af-1),ef.fromBufferAttribute(rf,af),sf[af]=sf[af-1],sf[af]+=Qc.distanceTo(ef);nf.addAttribute("lineDistance",new Float32BufferAttribute(sf,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(nf.isGeometry){var cf=nf.vertices,sf=nf.lineDistances;sf[0]=0;for(var af=1,lf=cf.length;af<lf;af++)sf[af]=sf[af-1],sf[af]+=cf[af-1].distanceTo(cf[af])}return this}}(),raycast:function(){var Qc=new Matrix4,ef=new Ray,tf=new Sphere;return function(rf,sf){var af=rf.linePrecision,lf=this.geometry,cf=this.matrixWorld;if(lf.boundingSphere===null&&lf.computeBoundingSphere(),tf.copy(lf.boundingSphere),tf.applyMatrix4(cf),tf.radius+=af,rf.ray.intersectsSphere(tf)!==!1){Qc.getInverse(cf),ef.copy(rf.ray).applyMatrix4(Qc);var uf=af/((this.scale.x+this.scale.y+this.scale.z)/3),ff=uf*uf,df=new Vector3,gf=new Vector3,_f=new Vector3,xf=new Vector3,Af=this&&this.isLineSegments?2:1;if(lf.isBufferGeometry){var Df=lf.index,Of=lf.attributes,Gf=Of.position.array;if(Df!==null)for(var Bf=Df.array,Vf=0,Lf=Bf.length-1;Vf<Lf;Vf+=Af){var Cf=Bf[Vf],Tf=Bf[Vf+1];df.fromArray(Gf,Cf*3),gf.fromArray(Gf,Tf*3);var Yf=ef.distanceSqToSegment(df,gf,xf,_f);if(!(Yf>ff)){xf.applyMatrix4(this.matrixWorld);var rh=rf.ray.origin.distanceTo(xf);rh<rf.near||rh>rf.far||sf.push({distance:rh,point:_f.clone().applyMatrix4(this.matrixWorld),index:Vf,face:null,faceIndex:null,object:this})}}else for(var Vf=0,Lf=Gf.length/3-1;Vf<Lf;Vf+=Af){df.fromArray(Gf,3*Vf),gf.fromArray(Gf,3*Vf+3);var Yf=ef.distanceSqToSegment(df,gf,xf,_f);if(!(Yf>ff)){xf.applyMatrix4(this.matrixWorld);var rh=rf.ray.origin.distanceTo(xf);rh<rf.near||rh>rf.far||sf.push({distance:rh,point:_f.clone().applyMatrix4(this.matrixWorld),index:Vf,face:null,faceIndex:null,object:this})}}}else if(lf.isGeometry)for(var dh=lf.vertices,hh=dh.length,Vf=0;Vf<hh-1;Vf+=Af){var Yf=ef.distanceSqToSegment(dh[Vf],dh[Vf+1],xf,_f);if(!(Yf>ff)){xf.applyMatrix4(this.matrixWorld);var rh=rf.ray.origin.distanceTo(xf);rh<rf.near||rh>rf.far||sf.push({distance:rh,point:_f.clone().applyMatrix4(this.matrixWorld),index:Vf,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function LineSegments(Qc,ef){Line.call(this,Qc,ef),this.type="LineSegments"}LineSegments.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineSegments,isLineSegments:!0,computeLineDistances:function(){var Qc=new Vector3,ef=new Vector3;return function(){var nf=this.geometry;if(nf.isBufferGeometry)if(nf.index===null){for(var rf=nf.attributes.position,sf=[],af=0,lf=rf.count;af<lf;af+=2)Qc.fromBufferAttribute(rf,af),ef.fromBufferAttribute(rf,af+1),sf[af]=af===0?0:sf[af-1],sf[af+1]=sf[af]+Qc.distanceTo(ef);nf.addAttribute("lineDistance",new Float32BufferAttribute(sf,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(nf.isGeometry)for(var cf=nf.vertices,sf=nf.lineDistances,af=0,lf=cf.length;af<lf;af+=2)Qc.copy(cf[af]),ef.copy(cf[af+1]),sf[af]=af===0?0:sf[af-1],sf[af+1]=sf[af]+Qc.distanceTo(ef);return this}}()});function LineLoop(Qc,ef){Line.call(this,Qc,ef),this.type="LineLoop"}LineLoop.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineLoop,isLineLoop:!0});function PointsMaterial(Qc){Material.call(this),this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(Qc)}PointsMaterial.prototype=Object.create(Material.prototype);PointsMaterial.prototype.constructor=PointsMaterial;PointsMaterial.prototype.isPointsMaterial=!0;PointsMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.color.copy(Qc.color),this.map=Qc.map,this.size=Qc.size,this.sizeAttenuation=Qc.sizeAttenuation,this.morphTargets=Qc.morphTargets,this};function Points(Qc,ef){Object3D.call(this),this.type="Points",this.geometry=Qc!==void 0?Qc:new BufferGeometry,this.material=ef!==void 0?ef:new PointsMaterial({color:Math.random()*16777215})}Points.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Points,isPoints:!0,raycast:function(){var Qc=new Matrix4,ef=new Ray,tf=new Sphere;return function(rf,sf){var af=this,lf=this.geometry,cf=this.matrixWorld,uf=rf.params.Points.threshold;if(lf.boundingSphere===null&&lf.computeBoundingSphere(),tf.copy(lf.boundingSphere),tf.applyMatrix4(cf),tf.radius+=uf,rf.ray.intersectsSphere(tf)===!1)return;Qc.getInverse(cf),ef.copy(rf.ray).applyMatrix4(Qc);var ff=uf/((this.scale.x+this.scale.y+this.scale.z)/3),df=ff*ff,gf=new Vector3,_f=new Vector3;function xf(Yf,rh){var dh=ef.distanceSqToPoint(Yf);if(dh<df){ef.closestPointToPoint(Yf,_f),_f.applyMatrix4(cf);var hh=rf.ray.origin.distanceTo(_f);if(hh<rf.near||hh>rf.far)return;sf.push({distance:hh,distanceToRay:Math.sqrt(dh),point:_f.clone(),index:rh,face:null,object:af})}}if(lf.isBufferGeometry){var Af=lf.index,Df=lf.attributes,Of=Df.position.array;if(Af!==null)for(var Gf=Af.array,Bf=0,Vf=Gf.length;Bf<Vf;Bf++){var Lf=Gf[Bf];gf.fromArray(Of,Lf*3),xf(gf,Lf)}else for(var Bf=0,Cf=Of.length/3;Bf<Cf;Bf++)gf.fromArray(Of,Bf*3),xf(gf,Bf)}else for(var Tf=lf.vertices,Bf=0,Cf=Tf.length;Bf<Cf;Bf++)xf(Tf[Bf],Bf)}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function VideoTexture(Qc,ef,tf,nf,rf,sf,af,lf,cf){Texture.call(this,Qc,ef,tf,nf,rf,sf,af,lf,cf),this.generateMipmaps=!1}VideoTexture.prototype=Object.assign(Object.create(Texture.prototype),{constructor:VideoTexture,isVideoTexture:!0,update:function(){var Qc=this.image;Qc.readyState>=Qc.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function CompressedTexture(Qc,ef,tf,nf,rf,sf,af,lf,cf,uf,ff,df){Texture.call(this,null,sf,af,lf,cf,uf,nf,rf,ff,df),this.image={width:ef,height:tf},this.mipmaps=Qc,this.flipY=!1,this.generateMipmaps=!1}CompressedTexture.prototype=Object.create(Texture.prototype);CompressedTexture.prototype.constructor=CompressedTexture;CompressedTexture.prototype.isCompressedTexture=!0;function CanvasTexture(Qc,ef,tf,nf,rf,sf,af,lf,cf){Texture.call(this,Qc,ef,tf,nf,rf,sf,af,lf,cf),this.needsUpdate=!0}CanvasTexture.prototype=Object.create(Texture.prototype);CanvasTexture.prototype.constructor=CanvasTexture;CanvasTexture.prototype.isCanvasTexture=!0;function DepthTexture(Qc,ef,tf,nf,rf,sf,af,lf,cf,uf){if(uf=uf!==void 0?uf:DepthFormat,uf!==DepthFormat&&uf!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");tf===void 0&&uf===DepthFormat&&(tf=UnsignedShortType),tf===void 0&&uf===DepthStencilFormat&&(tf=UnsignedInt248Type),Texture.call(this,null,nf,rf,sf,af,lf,uf,tf,cf),this.image={width:Qc,height:ef},this.magFilter=af!==void 0?af:NearestFilter,this.minFilter=lf!==void 0?lf:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}DepthTexture.prototype=Object.create(Texture.prototype);DepthTexture.prototype.constructor=DepthTexture;DepthTexture.prototype.isDepthTexture=!0;function WireframeGeometry(Qc){BufferGeometry.call(this),this.type="WireframeGeometry";var ef=[],tf,nf,rf,sf,af,lf=[0,0],cf={},uf,ff,df,gf,_f=["a","b","c"],xf;if(Qc&&Qc.isGeometry){var Af=Qc.faces;for(tf=0,rf=Af.length;tf<rf;tf++){var Df=Af[tf];for(nf=0;nf<3;nf++)ff=Df[_f[nf]],df=Df[_f[(nf+1)%3]],lf[0]=Math.min(ff,df),lf[1]=Math.max(ff,df),gf=lf[0]+","+lf[1],cf[gf]===void 0&&(cf[gf]={index1:lf[0],index2:lf[1]})}for(gf in cf)uf=cf[gf],xf=Qc.vertices[uf.index1],ef.push(xf.x,xf.y,xf.z),xf=Qc.vertices[uf.index2],ef.push(xf.x,xf.y,xf.z)}else if(Qc&&Qc.isBufferGeometry){var Of,Gf,Bf,Vf,Lf,Cf,Tf,Yf;if(xf=new Vector3,Qc.index!==null){for(Of=Qc.attributes.position,Gf=Qc.index,Bf=Qc.groups,Bf.length===0&&(Bf=[{start:0,count:Gf.count,materialIndex:0}]),sf=0,af=Bf.length;sf<af;++sf)for(Vf=Bf[sf],Lf=Vf.start,Cf=Vf.count,tf=Lf,rf=Lf+Cf;tf<rf;tf+=3)for(nf=0;nf<3;nf++)ff=Gf.getX(tf+nf),df=Gf.getX(tf+(nf+1)%3),lf[0]=Math.min(ff,df),lf[1]=Math.max(ff,df),gf=lf[0]+","+lf[1],cf[gf]===void 0&&(cf[gf]={index1:lf[0],index2:lf[1]});for(gf in cf)uf=cf[gf],xf.fromBufferAttribute(Of,uf.index1),ef.push(xf.x,xf.y,xf.z),xf.fromBufferAttribute(Of,uf.index2),ef.push(xf.x,xf.y,xf.z)}else for(Of=Qc.attributes.position,tf=0,rf=Of.count/3;tf<rf;tf++)for(nf=0;nf<3;nf++)Tf=3*tf+nf,xf.fromBufferAttribute(Of,Tf),ef.push(xf.x,xf.y,xf.z),Yf=3*tf+(nf+1)%3,xf.fromBufferAttribute(Of,Yf),ef.push(xf.x,xf.y,xf.z)}this.addAttribute("position",new Float32BufferAttribute(ef,3))}WireframeGeometry.prototype=Object.create(BufferGeometry.prototype);WireframeGeometry.prototype.constructor=WireframeGeometry;function ParametricGeometry(Qc,ef,tf){Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:Qc,slices:ef,stacks:tf},this.fromBufferGeometry(new ParametricBufferGeometry(Qc,ef,tf)),this.mergeVertices()}ParametricGeometry.prototype=Object.create(Geometry.prototype);ParametricGeometry.prototype.constructor=ParametricGeometry;function ParametricBufferGeometry(Qc,ef,tf){BufferGeometry.call(this),this.type="ParametricBufferGeometry",this.parameters={func:Qc,slices:ef,stacks:tf};var nf=[],rf=[],sf=[],af=[],lf=1e-5,cf=new Vector3,uf=new Vector3,ff=new Vector3,df=new Vector3,gf=new Vector3,_f,xf;Qc.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var Af=ef+1;for(_f=0;_f<=tf;_f++){var Df=_f/tf;for(xf=0;xf<=ef;xf++){var Of=xf/ef;Qc(Of,Df,uf),rf.push(uf.x,uf.y,uf.z),Of-lf>=0?(Qc(Of-lf,Df,ff),df.subVectors(uf,ff)):(Qc(Of+lf,Df,ff),df.subVectors(ff,uf)),Df-lf>=0?(Qc(Of,Df-lf,ff),gf.subVectors(uf,ff)):(Qc(Of,Df+lf,ff),gf.subVectors(ff,uf)),cf.crossVectors(df,gf).normalize(),sf.push(cf.x,cf.y,cf.z),af.push(Of,Df)}}for(_f=0;_f<tf;_f++)for(xf=0;xf<ef;xf++){var Gf=_f*Af+xf,Bf=_f*Af+xf+1,Vf=(_f+1)*Af+xf+1,Lf=(_f+1)*Af+xf;nf.push(Gf,Bf,Lf),nf.push(Bf,Vf,Lf)}this.setIndex(nf),this.addAttribute("position",new Float32BufferAttribute(rf,3)),this.addAttribute("normal",new Float32BufferAttribute(sf,3)),this.addAttribute("uv",new Float32BufferAttribute(af,2))}ParametricBufferGeometry.prototype=Object.create(BufferGeometry.prototype);ParametricBufferGeometry.prototype.constructor=ParametricBufferGeometry;function PolyhedronGeometry(Qc,ef,tf,nf){Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:Qc,indices:ef,radius:tf,detail:nf},this.fromBufferGeometry(new PolyhedronBufferGeometry(Qc,ef,tf,nf)),this.mergeVertices()}PolyhedronGeometry.prototype=Object.create(Geometry.prototype);PolyhedronGeometry.prototype.constructor=PolyhedronGeometry;function PolyhedronBufferGeometry(Qc,ef,tf,nf){BufferGeometry.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:Qc,indices:ef,radius:tf,detail:nf},tf=tf||1,nf=nf||0;var rf=[],sf=[];af(nf),cf(tf),uf(),this.addAttribute("position",new Float32BufferAttribute(rf,3)),this.addAttribute("normal",new Float32BufferAttribute(rf.slice(),3)),this.addAttribute("uv",new Float32BufferAttribute(sf,2)),nf===0?this.computeVertexNormals():this.normalizeNormals();function af(Of){for(var Gf=new Vector3,Bf=new Vector3,Vf=new Vector3,Lf=0;Lf<ef.length;Lf+=3)gf(ef[Lf+0],Gf),gf(ef[Lf+1],Bf),gf(ef[Lf+2],Vf),lf(Gf,Bf,Vf,Of)}function lf(Of,Gf,Bf,Vf){var Lf=Math.pow(2,Vf),Cf=[],Tf,Yf;for(Tf=0;Tf<=Lf;Tf++){Cf[Tf]=[];var rh=Of.clone().lerp(Bf,Tf/Lf),dh=Gf.clone().lerp(Bf,Tf/Lf),hh=Lf-Tf;for(Yf=0;Yf<=hh;Yf++)Yf===0&&Tf===Lf?Cf[Tf][Yf]=rh:Cf[Tf][Yf]=rh.clone().lerp(dh,Yf/hh)}for(Tf=0;Tf<Lf;Tf++)for(Yf=0;Yf<2*(Lf-Tf)-1;Yf++){var sh=Math.floor(Yf/2);Yf%2===0?(df(Cf[Tf][sh+1]),df(Cf[Tf+1][sh]),df(Cf[Tf][sh])):(df(Cf[Tf][sh+1]),df(Cf[Tf+1][sh+1]),df(Cf[Tf+1][sh]))}}function cf(Of){for(var Gf=new Vector3,Bf=0;Bf<rf.length;Bf+=3)Gf.x=rf[Bf+0],Gf.y=rf[Bf+1],Gf.z=rf[Bf+2],Gf.normalize().multiplyScalar(Of),rf[Bf+0]=Gf.x,rf[Bf+1]=Gf.y,rf[Bf+2]=Gf.z}function uf(){for(var Of=new Vector3,Gf=0;Gf<rf.length;Gf+=3){Of.x=rf[Gf+0],Of.y=rf[Gf+1],Of.z=rf[Gf+2];var Bf=Af(Of)/2/Math.PI+.5,Vf=Df(Of)/Math.PI+.5;sf.push(Bf,1-Vf)}_f(),ff()}function ff(){for(var Of=0;Of<sf.length;Of+=6){var Gf=sf[Of+0],Bf=sf[Of+2],Vf=sf[Of+4],Lf=Math.max(Gf,Bf,Vf),Cf=Math.min(Gf,Bf,Vf);Lf>.9&&Cf<.1&&(Gf<.2&&(sf[Of+0]+=1),Bf<.2&&(sf[Of+2]+=1),Vf<.2&&(sf[Of+4]+=1))}}function df(Of){rf.push(Of.x,Of.y,Of.z)}function gf(Of,Gf){var Bf=Of*3;Gf.x=Qc[Bf+0],Gf.y=Qc[Bf+1],Gf.z=Qc[Bf+2]}function _f(){for(var Of=new Vector3,Gf=new Vector3,Bf=new Vector3,Vf=new Vector3,Lf=new Vector2,Cf=new Vector2,Tf=new Vector2,Yf=0,rh=0;Yf<rf.length;Yf+=9,rh+=6){Of.set(rf[Yf+0],rf[Yf+1],rf[Yf+2]),Gf.set(rf[Yf+3],rf[Yf+4],rf[Yf+5]),Bf.set(rf[Yf+6],rf[Yf+7],rf[Yf+8]),Lf.set(sf[rh+0],sf[rh+1]),Cf.set(sf[rh+2],sf[rh+3]),Tf.set(sf[rh+4],sf[rh+5]),Vf.copy(Of).add(Gf).add(Bf).divideScalar(3);var dh=Af(Vf);xf(Lf,rh+0,Of,dh),xf(Cf,rh+2,Gf,dh),xf(Tf,rh+4,Bf,dh)}}function xf(Of,Gf,Bf,Vf){Vf<0&&Of.x===1&&(sf[Gf]=Of.x-1),Bf.x===0&&Bf.z===0&&(sf[Gf]=Vf/2/Math.PI+.5)}function Af(Of){return Math.atan2(Of.z,-Of.x)}function Df(Of){return Math.atan2(-Of.y,Math.sqrt(Of.x*Of.x+Of.z*Of.z))}}PolyhedronBufferGeometry.prototype=Object.create(BufferGeometry.prototype);PolyhedronBufferGeometry.prototype.constructor=PolyhedronBufferGeometry;function TetrahedronGeometry(Qc,ef){Geometry.call(this),this.type="TetrahedronGeometry",this.parameters={radius:Qc,detail:ef},this.fromBufferGeometry(new TetrahedronBufferGeometry(Qc,ef)),this.mergeVertices()}TetrahedronGeometry.prototype=Object.create(Geometry.prototype);TetrahedronGeometry.prototype.constructor=TetrahedronGeometry;function TetrahedronBufferGeometry(Qc,ef){var tf=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],nf=[2,1,0,0,3,2,1,3,0,2,3,1];PolyhedronBufferGeometry.call(this,tf,nf,Qc,ef),this.type="TetrahedronBufferGeometry",this.parameters={radius:Qc,detail:ef}}TetrahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype);TetrahedronBufferGeometry.prototype.constructor=TetrahedronBufferGeometry;function OctahedronGeometry(Qc,ef){Geometry.call(this),this.type="OctahedronGeometry",this.parameters={radius:Qc,detail:ef},this.fromBufferGeometry(new OctahedronBufferGeometry(Qc,ef)),this.mergeVertices()}OctahedronGeometry.prototype=Object.create(Geometry.prototype);OctahedronGeometry.prototype.constructor=OctahedronGeometry;function OctahedronBufferGeometry(Qc,ef){var tf=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],nf=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];PolyhedronBufferGeometry.call(this,tf,nf,Qc,ef),this.type="OctahedronBufferGeometry",this.parameters={radius:Qc,detail:ef}}OctahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype);OctahedronBufferGeometry.prototype.constructor=OctahedronBufferGeometry;function IcosahedronGeometry(Qc,ef){Geometry.call(this),this.type="IcosahedronGeometry",this.parameters={radius:Qc,detail:ef},this.fromBufferGeometry(new IcosahedronBufferGeometry(Qc,ef)),this.mergeVertices()}IcosahedronGeometry.prototype=Object.create(Geometry.prototype);IcosahedronGeometry.prototype.constructor=IcosahedronGeometry;function IcosahedronBufferGeometry(Qc,ef){var tf=(1+Math.sqrt(5))/2,nf=[-1,tf,0,1,tf,0,-1,-tf,0,1,-tf,0,0,-1,tf,0,1,tf,0,-1,-tf,0,1,-tf,tf,0,-1,tf,0,1,-tf,0,-1,-tf,0,1],rf=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];PolyhedronBufferGeometry.call(this,nf,rf,Qc,ef),this.type="IcosahedronBufferGeometry",this.parameters={radius:Qc,detail:ef}}IcosahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype);IcosahedronBufferGeometry.prototype.constructor=IcosahedronBufferGeometry;function DodecahedronGeometry(Qc,ef){Geometry.call(this),this.type="DodecahedronGeometry",this.parameters={radius:Qc,detail:ef},this.fromBufferGeometry(new DodecahedronBufferGeometry(Qc,ef)),this.mergeVertices()}DodecahedronGeometry.prototype=Object.create(Geometry.prototype);DodecahedronGeometry.prototype.constructor=DodecahedronGeometry;function DodecahedronBufferGeometry(Qc,ef){var tf=(1+Math.sqrt(5))/2,nf=1/tf,rf=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-nf,-tf,0,-nf,tf,0,nf,-tf,0,nf,tf,-nf,-tf,0,-nf,tf,0,nf,-tf,0,nf,tf,0,-tf,0,-nf,tf,0,-nf,-tf,0,nf,tf,0,nf],sf=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];PolyhedronBufferGeometry.call(this,rf,sf,Qc,ef),this.type="DodecahedronBufferGeometry",this.parameters={radius:Qc,detail:ef}}DodecahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype);DodecahedronBufferGeometry.prototype.constructor=DodecahedronBufferGeometry;function TubeGeometry(Qc,ef,tf,nf,rf,sf){Geometry.call(this),this.type="TubeGeometry",this.parameters={path:Qc,tubularSegments:ef,radius:tf,radialSegments:nf,closed:rf},sf!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var af=new TubeBufferGeometry(Qc,ef,tf,nf,rf);this.tangents=af.tangents,this.normals=af.normals,this.binormals=af.binormals,this.fromBufferGeometry(af),this.mergeVertices()}TubeGeometry.prototype=Object.create(Geometry.prototype);TubeGeometry.prototype.constructor=TubeGeometry;function TubeBufferGeometry(Qc,ef,tf,nf,rf){BufferGeometry.call(this),this.type="TubeBufferGeometry",this.parameters={path:Qc,tubularSegments:ef,radius:tf,radialSegments:nf,closed:rf},ef=ef||64,tf=tf||1,nf=nf||8,rf=rf||!1;var sf=Qc.computeFrenetFrames(ef,rf);this.tangents=sf.tangents,this.normals=sf.normals,this.binormals=sf.binormals;var af=new Vector3,lf=new Vector3,cf=new Vector2,uf=new Vector3,ff,df,gf=[],_f=[],xf=[],Af=[];Df(),this.setIndex(Af),this.addAttribute("position",new Float32BufferAttribute(gf,3)),this.addAttribute("normal",new Float32BufferAttribute(_f,3)),this.addAttribute("uv",new Float32BufferAttribute(xf,2));function Df(){for(ff=0;ff<ef;ff++)Of(ff);Of(rf===!1?ef:0),Bf(),Gf()}function Of(Vf){uf=Qc.getPointAt(Vf/ef,uf);var Lf=sf.normals[Vf],Cf=sf.binormals[Vf];for(df=0;df<=nf;df++){var Tf=df/nf*Math.PI*2,Yf=Math.sin(Tf),rh=-Math.cos(Tf);lf.x=rh*Lf.x+Yf*Cf.x,lf.y=rh*Lf.y+Yf*Cf.y,lf.z=rh*Lf.z+Yf*Cf.z,lf.normalize(),_f.push(lf.x,lf.y,lf.z),af.x=uf.x+tf*lf.x,af.y=uf.y+tf*lf.y,af.z=uf.z+tf*lf.z,gf.push(af.x,af.y,af.z)}}function Gf(){for(df=1;df<=ef;df++)for(ff=1;ff<=nf;ff++){var Vf=(nf+1)*(df-1)+(ff-1),Lf=(nf+1)*df+(ff-1),Cf=(nf+1)*df+ff,Tf=(nf+1)*(df-1)+ff;Af.push(Vf,Lf,Tf),Af.push(Lf,Cf,Tf)}}function Bf(){for(ff=0;ff<=ef;ff++)for(df=0;df<=nf;df++)cf.x=ff/ef,cf.y=df/nf,xf.push(cf.x,cf.y)}}TubeBufferGeometry.prototype=Object.create(BufferGeometry.prototype);TubeBufferGeometry.prototype.constructor=TubeBufferGeometry;function TorusKnotGeometry(Qc,ef,tf,nf,rf,sf,af){Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:Qc,tube:ef,tubularSegments:tf,radialSegments:nf,p:rf,q:sf},af!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new TorusKnotBufferGeometry(Qc,ef,tf,nf,rf,sf)),this.mergeVertices()}TorusKnotGeometry.prototype=Object.create(Geometry.prototype);TorusKnotGeometry.prototype.constructor=TorusKnotGeometry;function TorusKnotBufferGeometry(Qc,ef,tf,nf,rf,sf){BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:Qc,tube:ef,tubularSegments:tf,radialSegments:nf,p:rf,q:sf},Qc=Qc||1,ef=ef||.4,tf=Math.floor(tf)||64,nf=Math.floor(nf)||8,rf=rf||2,sf=sf||3;var af=[],lf=[],cf=[],uf=[],ff,df,gf=new Vector3,_f=new Vector3,xf=new Vector3,Af=new Vector3,Df=new Vector3,Of=new Vector3,Gf=new Vector3;for(ff=0;ff<=tf;++ff){var Bf=ff/tf*rf*Math.PI*2;for(hh(Bf,rf,sf,Qc,xf),hh(Bf+.01,rf,sf,Qc,Af),Of.subVectors(Af,xf),Gf.addVectors(Af,xf),Df.crossVectors(Of,Gf),Gf.crossVectors(Df,Of),Df.normalize(),Gf.normalize(),df=0;df<=nf;++df){var Vf=df/nf*Math.PI*2,Lf=-ef*Math.cos(Vf),Cf=ef*Math.sin(Vf);gf.x=xf.x+(Lf*Gf.x+Cf*Df.x),gf.y=xf.y+(Lf*Gf.y+Cf*Df.y),gf.z=xf.z+(Lf*Gf.z+Cf*Df.z),lf.push(gf.x,gf.y,gf.z),_f.subVectors(gf,xf).normalize(),cf.push(_f.x,_f.y,_f.z),uf.push(ff/tf),uf.push(df/nf)}}for(df=1;df<=tf;df++)for(ff=1;ff<=nf;ff++){var Tf=(nf+1)*(df-1)+(ff-1),Yf=(nf+1)*df+(ff-1),rh=(nf+1)*df+ff,dh=(nf+1)*(df-1)+ff;af.push(Tf,Yf,dh),af.push(Yf,rh,dh)}this.setIndex(af),this.addAttribute("position",new Float32BufferAttribute(lf,3)),this.addAttribute("normal",new Float32BufferAttribute(cf,3)),this.addAttribute("uv",new Float32BufferAttribute(uf,2));function hh(sh,Hf,Qf,ah,mh){var uh=Math.cos(sh),jf=Math.sin(sh),Kf=Qf/Hf*sh,of=Math.cos(Kf);mh.x=ah*(2+of)*.5*uh,mh.y=ah*(2+of)*jf*.5,mh.z=ah*Math.sin(Kf)*.5}}TorusKnotBufferGeometry.prototype=Object.create(BufferGeometry.prototype);TorusKnotBufferGeometry.prototype.constructor=TorusKnotBufferGeometry;function TorusGeometry(Qc,ef,tf,nf,rf){Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:Qc,tube:ef,radialSegments:tf,tubularSegments:nf,arc:rf},this.fromBufferGeometry(new TorusBufferGeometry(Qc,ef,tf,nf,rf)),this.mergeVertices()}TorusGeometry.prototype=Object.create(Geometry.prototype);TorusGeometry.prototype.constructor=TorusGeometry;function TorusBufferGeometry(Qc,ef,tf,nf,rf){BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:Qc,tube:ef,radialSegments:tf,tubularSegments:nf,arc:rf},Qc=Qc||1,ef=ef||.4,tf=Math.floor(tf)||8,nf=Math.floor(nf)||6,rf=rf||Math.PI*2;var sf=[],af=[],lf=[],cf=[],uf=new Vector3,ff=new Vector3,df=new Vector3,gf,_f;for(gf=0;gf<=tf;gf++)for(_f=0;_f<=nf;_f++){var xf=_f/nf*rf,Af=gf/tf*Math.PI*2;ff.x=(Qc+ef*Math.cos(Af))*Math.cos(xf),ff.y=(Qc+ef*Math.cos(Af))*Math.sin(xf),ff.z=ef*Math.sin(Af),af.push(ff.x,ff.y,ff.z),uf.x=Qc*Math.cos(xf),uf.y=Qc*Math.sin(xf),df.subVectors(ff,uf).normalize(),lf.push(df.x,df.y,df.z),cf.push(_f/nf),cf.push(gf/tf)}for(gf=1;gf<=tf;gf++)for(_f=1;_f<=nf;_f++){var Df=(nf+1)*gf+_f-1,Of=(nf+1)*(gf-1)+_f-1,Gf=(nf+1)*(gf-1)+_f,Bf=(nf+1)*gf+_f;sf.push(Df,Of,Bf),sf.push(Of,Gf,Bf)}this.setIndex(sf),this.addAttribute("position",new Float32BufferAttribute(af,3)),this.addAttribute("normal",new Float32BufferAttribute(lf,3)),this.addAttribute("uv",new Float32BufferAttribute(cf,2))}TorusBufferGeometry.prototype=Object.create(BufferGeometry.prototype);TorusBufferGeometry.prototype.constructor=TorusBufferGeometry;var Earcut={triangulate:function(Qc,ef,tf){tf=tf||2;var nf=ef&&ef.length,rf=nf?ef[0]*tf:Qc.length,sf=linkedList(Qc,0,rf,tf,!0),af=[];if(!sf)return af;var lf,cf,uf,ff,df,gf,_f;if(nf&&(sf=eliminateHoles(Qc,ef,sf,tf)),Qc.length>80*tf){lf=uf=Qc[0],cf=ff=Qc[1];for(var xf=tf;xf<rf;xf+=tf)df=Qc[xf],gf=Qc[xf+1],df<lf&&(lf=df),gf<cf&&(cf=gf),df>uf&&(uf=df),gf>ff&&(ff=gf);_f=Math.max(uf-lf,ff-cf),_f=_f!==0?1/_f:0}return earcutLinked(sf,af,tf,lf,cf,_f),af}};function linkedList(Qc,ef,tf,nf,rf){var sf,af;if(rf===signedArea(Qc,ef,tf,nf)>0)for(sf=ef;sf<tf;sf+=nf)af=insertNode(sf,Qc[sf],Qc[sf+1],af);else for(sf=tf-nf;sf>=ef;sf-=nf)af=insertNode(sf,Qc[sf],Qc[sf+1],af);return af&&equals(af,af.next)&&(removeNode(af),af=af.next),af}function filterPoints(Qc,ef){if(!Qc)return Qc;ef||(ef=Qc);var tf=Qc,nf;do if(nf=!1,!tf.steiner&&(equals(tf,tf.next)||area(tf.prev,tf,tf.next)===0)){if(removeNode(tf),tf=ef=tf.prev,tf===tf.next)break;nf=!0}else tf=tf.next;while(nf||tf!==ef);return ef}function earcutLinked(Qc,ef,tf,nf,rf,sf,af){if(Qc){!af&&sf&&indexCurve(Qc,nf,rf,sf);for(var lf=Qc,cf,uf;Qc.prev!==Qc.next;){if(cf=Qc.prev,uf=Qc.next,sf?isEarHashed(Qc,nf,rf,sf):isEar(Qc)){ef.push(cf.i/tf),ef.push(Qc.i/tf),ef.push(uf.i/tf),removeNode(Qc),Qc=uf.next,lf=uf.next;continue}if(Qc=uf,Qc===lf){af?af===1?(Qc=cureLocalIntersections(Qc,ef,tf),earcutLinked(Qc,ef,tf,nf,rf,sf,2)):af===2&&splitEarcut(Qc,ef,tf,nf,rf,sf):earcutLinked(filterPoints(Qc),ef,tf,nf,rf,sf,1);break}}}}function isEar(Qc){var ef=Qc.prev,tf=Qc,nf=Qc.next;if(area(ef,tf,nf)>=0)return!1;for(var rf=Qc.next.next;rf!==Qc.prev;){if(pointInTriangle(ef.x,ef.y,tf.x,tf.y,nf.x,nf.y,rf.x,rf.y)&&area(rf.prev,rf,rf.next)>=0)return!1;rf=rf.next}return!0}function isEarHashed(Qc,ef,tf,nf){var rf=Qc.prev,sf=Qc,af=Qc.next;if(area(rf,sf,af)>=0)return!1;for(var lf=rf.x<sf.x?rf.x<af.x?rf.x:af.x:sf.x<af.x?sf.x:af.x,cf=rf.y<sf.y?rf.y<af.y?rf.y:af.y:sf.y<af.y?sf.y:af.y,uf=rf.x>sf.x?rf.x>af.x?rf.x:af.x:sf.x>af.x?sf.x:af.x,ff=rf.y>sf.y?rf.y>af.y?rf.y:af.y:sf.y>af.y?sf.y:af.y,df=zOrder(lf,cf,ef,tf,nf),gf=zOrder(uf,ff,ef,tf,nf),_f=Qc.nextZ;_f&&_f.z<=gf;){if(_f!==Qc.prev&&_f!==Qc.next&&pointInTriangle(rf.x,rf.y,sf.x,sf.y,af.x,af.y,_f.x,_f.y)&&area(_f.prev,_f,_f.next)>=0)return!1;_f=_f.nextZ}for(_f=Qc.prevZ;_f&&_f.z>=df;){if(_f!==Qc.prev&&_f!==Qc.next&&pointInTriangle(rf.x,rf.y,sf.x,sf.y,af.x,af.y,_f.x,_f.y)&&area(_f.prev,_f,_f.next)>=0)return!1;_f=_f.prevZ}return!0}function cureLocalIntersections(Qc,ef,tf){var nf=Qc;do{var rf=nf.prev,sf=nf.next.next;!equals(rf,sf)&&intersects(rf,nf,nf.next,sf)&&locallyInside(rf,sf)&&locallyInside(sf,rf)&&(ef.push(rf.i/tf),ef.push(nf.i/tf),ef.push(sf.i/tf),removeNode(nf),removeNode(nf.next),nf=Qc=sf),nf=nf.next}while(nf!==Qc);return nf}function splitEarcut(Qc,ef,tf,nf,rf,sf){var af=Qc;do{for(var lf=af.next.next;lf!==af.prev;){if(af.i!==lf.i&&isValidDiagonal(af,lf)){var cf=splitPolygon(af,lf);af=filterPoints(af,af.next),cf=filterPoints(cf,cf.next),earcutLinked(af,ef,tf,nf,rf,sf),earcutLinked(cf,ef,tf,nf,rf,sf);return}lf=lf.next}af=af.next}while(af!==Qc)}function eliminateHoles(Qc,ef,tf,nf){var rf=[],sf,af,lf,cf,uf;for(sf=0,af=ef.length;sf<af;sf++)lf=ef[sf]*nf,cf=sf<af-1?ef[sf+1]*nf:Qc.length,uf=linkedList(Qc,lf,cf,nf,!1),uf===uf.next&&(uf.steiner=!0),rf.push(getLeftmost(uf));for(rf.sort(compareX),sf=0;sf<rf.length;sf++)eliminateHole(rf[sf],tf),tf=filterPoints(tf,tf.next);return tf}function compareX(Qc,ef){return Qc.x-ef.x}function eliminateHole(Qc,ef){if(ef=findHoleBridge(Qc,ef),ef){var tf=splitPolygon(ef,Qc);filterPoints(tf,tf.next)}}function findHoleBridge(Qc,ef){var tf=ef,nf=Qc.x,rf=Qc.y,sf=-1/0,af;do{if(rf<=tf.y&&rf>=tf.next.y&&tf.next.y!==tf.y){var lf=tf.x+(rf-tf.y)*(tf.next.x-tf.x)/(tf.next.y-tf.y);if(lf<=nf&&lf>sf){if(sf=lf,lf===nf){if(rf===tf.y)return tf;if(rf===tf.next.y)return tf.next}af=tf.x<tf.next.x?tf:tf.next}}tf=tf.next}while(tf!==ef);if(!af)return null;if(nf===sf)return af.prev;var cf=af,uf=af.x,ff=af.y,df=1/0,gf;for(tf=af.next;tf!==cf;)nf>=tf.x&&tf.x>=uf&&nf!==tf.x&&pointInTriangle(rf<ff?nf:sf,rf,uf,ff,rf<ff?sf:nf,rf,tf.x,tf.y)&&(gf=Math.abs(rf-tf.y)/(nf-tf.x),(gf<df||gf===df&&tf.x>af.x)&&locallyInside(tf,Qc)&&(af=tf,df=gf)),tf=tf.next;return af}function indexCurve(Qc,ef,tf,nf){var rf=Qc;do rf.z===null&&(rf.z=zOrder(rf.x,rf.y,ef,tf,nf)),rf.prevZ=rf.prev,rf.nextZ=rf.next,rf=rf.next;while(rf!==Qc);rf.prevZ.nextZ=null,rf.prevZ=null,sortLinked(rf)}function sortLinked(Qc){var ef,tf,nf,rf,sf,af,lf,cf,uf=1;do{for(tf=Qc,Qc=null,sf=null,af=0;tf;){for(af++,nf=tf,lf=0,ef=0;ef<uf&&(lf++,nf=nf.nextZ,!!nf);ef++);for(cf=uf;lf>0||cf>0&&nf;)lf!==0&&(cf===0||!nf||tf.z<=nf.z)?(rf=tf,tf=tf.nextZ,lf--):(rf=nf,nf=nf.nextZ,cf--),sf?sf.nextZ=rf:Qc=rf,rf.prevZ=sf,sf=rf;tf=nf}sf.nextZ=null,uf*=2}while(af>1);return Qc}function zOrder(Qc,ef,tf,nf,rf){return Qc=32767*(Qc-tf)*rf,ef=32767*(ef-nf)*rf,Qc=(Qc|Qc<<8)&16711935,Qc=(Qc|Qc<<4)&252645135,Qc=(Qc|Qc<<2)&858993459,Qc=(Qc|Qc<<1)&1431655765,ef=(ef|ef<<8)&16711935,ef=(ef|ef<<4)&252645135,ef=(ef|ef<<2)&858993459,ef=(ef|ef<<1)&1431655765,Qc|ef<<1}function getLeftmost(Qc){var ef=Qc,tf=Qc;do ef.x<tf.x&&(tf=ef),ef=ef.next;while(ef!==Qc);return tf}function pointInTriangle(Qc,ef,tf,nf,rf,sf,af,lf){return(rf-af)*(ef-lf)-(Qc-af)*(sf-lf)>=0&&(Qc-af)*(nf-lf)-(tf-af)*(ef-lf)>=0&&(tf-af)*(sf-lf)-(rf-af)*(nf-lf)>=0}function isValidDiagonal(Qc,ef){return Qc.next.i!==ef.i&&Qc.prev.i!==ef.i&&!intersectsPolygon(Qc,ef)&&locallyInside(Qc,ef)&&locallyInside(ef,Qc)&&middleInside(Qc,ef)}function area(Qc,ef,tf){return(ef.y-Qc.y)*(tf.x-ef.x)-(ef.x-Qc.x)*(tf.y-ef.y)}function equals(Qc,ef){return Qc.x===ef.x&&Qc.y===ef.y}function intersects(Qc,ef,tf,nf){return equals(Qc,ef)&&equals(tf,nf)||equals(Qc,nf)&&equals(tf,ef)?!0:area(Qc,ef,tf)>0!=area(Qc,ef,nf)>0&&area(tf,nf,Qc)>0!=area(tf,nf,ef)>0}function intersectsPolygon(Qc,ef){var tf=Qc;do{if(tf.i!==Qc.i&&tf.next.i!==Qc.i&&tf.i!==ef.i&&tf.next.i!==ef.i&&intersects(tf,tf.next,Qc,ef))return!0;tf=tf.next}while(tf!==Qc);return!1}function locallyInside(Qc,ef){return area(Qc.prev,Qc,Qc.next)<0?area(Qc,ef,Qc.next)>=0&&area(Qc,Qc.prev,ef)>=0:area(Qc,ef,Qc.prev)<0||area(Qc,Qc.next,ef)<0}function middleInside(Qc,ef){var tf=Qc,nf=!1,rf=(Qc.x+ef.x)/2,sf=(Qc.y+ef.y)/2;do tf.y>sf!=tf.next.y>sf&&tf.next.y!==tf.y&&rf<(tf.next.x-tf.x)*(sf-tf.y)/(tf.next.y-tf.y)+tf.x&&(nf=!nf),tf=tf.next;while(tf!==Qc);return nf}function splitPolygon(Qc,ef){var tf=new Node$1(Qc.i,Qc.x,Qc.y),nf=new Node$1(ef.i,ef.x,ef.y),rf=Qc.next,sf=ef.prev;return Qc.next=ef,ef.prev=Qc,tf.next=rf,rf.prev=tf,nf.next=tf,tf.prev=nf,sf.next=nf,nf.prev=sf,nf}function insertNode(Qc,ef,tf,nf){var rf=new Node$1(Qc,ef,tf);return nf?(rf.next=nf.next,rf.prev=nf,nf.next.prev=rf,nf.next=rf):(rf.prev=rf,rf.next=rf),rf}function removeNode(Qc){Qc.next.prev=Qc.prev,Qc.prev.next=Qc.next,Qc.prevZ&&(Qc.prevZ.nextZ=Qc.nextZ),Qc.nextZ&&(Qc.nextZ.prevZ=Qc.prevZ)}function Node$1(Qc,ef,tf){this.i=Qc,this.x=ef,this.y=tf,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(Qc,ef,tf,nf){for(var rf=0,sf=ef,af=tf-nf;sf<tf;sf+=nf)rf+=(Qc[af]-Qc[sf])*(Qc[sf+1]+Qc[af+1]),af=sf;return rf}var ShapeUtils={area:function(Qc){for(var ef=Qc.length,tf=0,nf=ef-1,rf=0;rf<ef;nf=rf++)tf+=Qc[nf].x*Qc[rf].y-Qc[rf].x*Qc[nf].y;return tf*.5},isClockWise:function(Qc){return ShapeUtils.area(Qc)<0},triangulateShape:function(Qc,ef){var tf=[],nf=[],rf=[];removeDupEndPts(Qc),addContour(tf,Qc);var sf=Qc.length;ef.forEach(removeDupEndPts);for(var af=0;af<ef.length;af++)nf.push(sf),sf+=ef[af].length,addContour(tf,ef[af]);for(var lf=Earcut.triangulate(tf,nf),af=0;af<lf.length;af+=3)rf.push(lf.slice(af,af+3));return rf}};function removeDupEndPts(Qc){var ef=Qc.length;ef>2&&Qc[ef-1].equals(Qc[0])&&Qc.pop()}function addContour(Qc,ef){for(var tf=0;tf<ef.length;tf++)Qc.push(ef[tf].x),Qc.push(ef[tf].y)}function ExtrudeGeometry(Qc,ef){Geometry.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:Qc,options:ef},this.fromBufferGeometry(new ExtrudeBufferGeometry(Qc,ef)),this.mergeVertices()}ExtrudeGeometry.prototype=Object.create(Geometry.prototype);ExtrudeGeometry.prototype.constructor=ExtrudeGeometry;ExtrudeGeometry.prototype.toJSON=function(){var Qc=Geometry.prototype.toJSON.call(this),ef=this.parameters.shapes,tf=this.parameters.options;return toJSON(ef,tf,Qc)};function ExtrudeBufferGeometry(Qc,ef){BufferGeometry.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:Qc,options:ef},Qc=Array.isArray(Qc)?Qc:[Qc];for(var tf=this,nf=[],rf=[],sf=0,af=Qc.length;sf<af;sf++){var lf=Qc[sf];cf(lf)}this.addAttribute("position",new Float32BufferAttribute(nf,3)),this.addAttribute("uv",new Float32BufferAttribute(rf,2)),this.computeVertexNormals();function cf(uf){var ff=[],df=ef.curveSegments!==void 0?ef.curveSegments:12,gf=ef.steps!==void 0?ef.steps:1,_f=ef.depth!==void 0?ef.depth:100,xf=ef.bevelEnabled!==void 0?ef.bevelEnabled:!0,Af=ef.bevelThickness!==void 0?ef.bevelThickness:6,Df=ef.bevelSize!==void 0?ef.bevelSize:Af-2,Of=ef.bevelSegments!==void 0?ef.bevelSegments:3,Gf=ef.extrudePath,Bf=ef.UVGenerator!==void 0?ef.UVGenerator:WorldUVGenerator;ef.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),_f=ef.amount);var Vf,Lf=!1,Cf,Tf,Yf,rh;Gf&&(Vf=Gf.getSpacedPoints(gf),Lf=!0,xf=!1,Cf=Gf.computeFrenetFrames(gf,!1),Tf=new Vector3,Yf=new Vector3,rh=new Vector3),xf||(Of=0,Af=0,Df=0);var dh,hh,sh,Hf=uf.extractPoints(df),Qf=Hf.shape,ah=Hf.holes,mh=!ShapeUtils.isClockWise(Qf);if(mh)for(Qf=Qf.reverse(),hh=0,sh=ah.length;hh<sh;hh++)dh=ah[hh],ShapeUtils.isClockWise(dh)&&(ah[hh]=dh.reverse());var uh=ShapeUtils.triangulateShape(Qf,ah),jf=Qf;for(hh=0,sh=ah.length;hh<sh;hh++)dh=ah[hh],Qf=Qf.concat(dh);function Kf(Kh,Jh,xh){return Jh||console.error("THREE.ExtrudeGeometry: vec does not exist"),Jh.clone().multiplyScalar(xh).add(Kh)}var of,hf,pf,vf,Ef,Sf=Qf.length,Ff,Uf=uh.length;function Wf(Kh,Jh,xh){var Wh,nd,Ad,ad=Kh.x-Jh.x,vd=Kh.y-Jh.y,ld=xh.x-Kh.x,Id=xh.y-Kh.y,$d=ad*ad+vd*vd,yd=ad*Id-vd*ld;if(Math.abs(yd)>Number.EPSILON){var Zd=Math.sqrt($d),jd=Math.sqrt(ld*ld+Id*Id),pp=Jh.x-vd/Zd,rp=Jh.y+ad/Zd,ep=xh.x-Id/jd,bp=xh.y+ld/jd,Mp=((ep-pp)*Id-(bp-rp)*ld)/(ad*Id-vd*ld);Wh=pp+ad*Mp-Kh.x,nd=rp+vd*Mp-Kh.y;var fp=Wh*Wh+nd*nd;if(fp<=2)return new Vector2(Wh,nd);Ad=Math.sqrt(fp/2)}else{var Xd=!1;ad>Number.EPSILON?ld>Number.EPSILON&&(Xd=!0):ad<-Number.EPSILON?ld<-Number.EPSILON&&(Xd=!0):Math.sign(vd)===Math.sign(Id)&&(Xd=!0),Xd?(Wh=-vd,nd=ad,Ad=Math.sqrt($d)):(Wh=ad,nd=vd,Ad=Math.sqrt($d/2))}return new Vector2(Wh/Ad,nd/Ad)}for(var eh=[],th=0,_h=jf.length,wh=_h-1,oh=th+1;th<_h;th++,wh++,oh++)wh===_h&&(wh=0),oh===_h&&(oh=0),eh[th]=Wf(jf[th],jf[wh],jf[oh]);var gh=[],qf,zf=eh.concat();for(hh=0,sh=ah.length;hh<sh;hh++){for(dh=ah[hh],qf=[],th=0,_h=dh.length,wh=_h-1,oh=th+1;th<_h;th++,wh++,oh++)wh===_h&&(wh=0),oh===_h&&(oh=0),qf[th]=Wf(dh[th],dh[wh],dh[oh]);gh.push(qf),zf=zf.concat(qf)}for(of=0;of<Of;of++){for(pf=of/Of,vf=Af*Math.cos(pf*Math.PI/2),hf=Df*Math.sin(pf*Math.PI/2),th=0,_h=jf.length;th<_h;th++)Ef=Kf(jf[th],eh[th],hf),qh(Ef.x,Ef.y,-vf);for(hh=0,sh=ah.length;hh<sh;hh++)for(dh=ah[hh],qf=gh[hh],th=0,_h=dh.length;th<_h;th++)Ef=Kf(dh[th],qf[th],hf),qh(Ef.x,Ef.y,-vf)}for(hf=Df,th=0;th<Sf;th++)Ef=xf?Kf(Qf[th],zf[th],hf):Qf[th],Lf?(Yf.copy(Cf.normals[0]).multiplyScalar(Ef.x),Tf.copy(Cf.binormals[0]).multiplyScalar(Ef.y),rh.copy(Vf[0]).add(Yf).add(Tf),qh(rh.x,rh.y,rh.z)):qh(Ef.x,Ef.y,0);var Th;for(Th=1;Th<=gf;Th++)for(th=0;th<Sf;th++)Ef=xf?Kf(Qf[th],zf[th],hf):Qf[th],Lf?(Yf.copy(Cf.normals[Th]).multiplyScalar(Ef.x),Tf.copy(Cf.binormals[Th]).multiplyScalar(Ef.y),rh.copy(Vf[Th]).add(Yf).add(Tf),qh(rh.x,rh.y,rh.z)):qh(Ef.x,Ef.y,_f/gf*Th);for(of=Of-1;of>=0;of--){for(pf=of/Of,vf=Af*Math.cos(pf*Math.PI/2),hf=Df*Math.sin(pf*Math.PI/2),th=0,_h=jf.length;th<_h;th++)Ef=Kf(jf[th],eh[th],hf),qh(Ef.x,Ef.y,_f+vf);for(hh=0,sh=ah.length;hh<sh;hh++)for(dh=ah[hh],qf=gh[hh],th=0,_h=dh.length;th<_h;th++)Ef=Kf(dh[th],qf[th],hf),Lf?qh(Ef.x,Ef.y+Vf[gf-1].y,Vf[gf-1].x+vf):qh(Ef.x,Ef.y,_f+vf)}Fh(),Uh();function Fh(){var Kh=nf.length/3;if(xf){var Jh=0,xh=Sf*Jh;for(th=0;th<Uf;th++)Ff=uh[th],cd(Ff[2]+xh,Ff[1]+xh,Ff[0]+xh);for(Jh=gf+Of*2,xh=Sf*Jh,th=0;th<Uf;th++)Ff=uh[th],cd(Ff[0]+xh,Ff[1]+xh,Ff[2]+xh)}else{for(th=0;th<Uf;th++)Ff=uh[th],cd(Ff[2],Ff[1],Ff[0]);for(th=0;th<Uf;th++)Ff=uh[th],cd(Ff[0]+Sf*gf,Ff[1]+Sf*gf,Ff[2]+Sf*gf)}tf.addGroup(Kh,nf.length/3-Kh,0)}function Uh(){var Kh=nf.length/3,Jh=0;for(jh(jf,Jh),Jh+=jf.length,hh=0,sh=ah.length;hh<sh;hh++)dh=ah[hh],jh(dh,Jh),Jh+=dh.length;tf.addGroup(Kh,nf.length/3-Kh,1)}function jh(Kh,Jh){var xh,Wh;for(th=Kh.length;--th>=0;){xh=th,Wh=th-1,Wh<0&&(Wh=Kh.length-1);var nd=0,Ad=gf+Of*2;for(nd=0;nd<Ad;nd++){var ad=Sf*nd,vd=Sf*(nd+1),ld=Jh+xh+ad,Id=Jh+Wh+ad,$d=Jh+Wh+vd,yd=Jh+xh+vd;pd(ld,Id,$d,yd)}}}function qh(Kh,Jh,xh){ff.push(Kh),ff.push(Jh),ff.push(xh)}function cd(Kh,Jh,xh){Zh(Kh),Zh(Jh),Zh(xh);var Wh=nf.length/3,nd=Bf.generateTopUV(tf,nf,Wh-3,Wh-2,Wh-1);kh(nd[0]),kh(nd[1]),kh(nd[2])}function pd(Kh,Jh,xh,Wh){Zh(Kh),Zh(Jh),Zh(Wh),Zh(Jh),Zh(xh),Zh(Wh);var nd=nf.length/3,Ad=Bf.generateSideWallUV(tf,nf,nd-6,nd-3,nd-2,nd-1);kh(Ad[0]),kh(Ad[1]),kh(Ad[3]),kh(Ad[1]),kh(Ad[2]),kh(Ad[3])}function Zh(Kh){nf.push(ff[Kh*3+0]),nf.push(ff[Kh*3+1]),nf.push(ff[Kh*3+2])}function kh(Kh){rf.push(Kh.x),rf.push(Kh.y)}}}ExtrudeBufferGeometry.prototype=Object.create(BufferGeometry.prototype);ExtrudeBufferGeometry.prototype.constructor=ExtrudeBufferGeometry;ExtrudeBufferGeometry.prototype.toJSON=function(){var Qc=BufferGeometry.prototype.toJSON.call(this),ef=this.parameters.shapes,tf=this.parameters.options;return toJSON(ef,tf,Qc)};var WorldUVGenerator={generateTopUV:function(Qc,ef,tf,nf,rf){var sf=ef[tf*3],af=ef[tf*3+1],lf=ef[nf*3],cf=ef[nf*3+1],uf=ef[rf*3],ff=ef[rf*3+1];return[new Vector2(sf,af),new Vector2(lf,cf),new Vector2(uf,ff)]},generateSideWallUV:function(Qc,ef,tf,nf,rf,sf){var af=ef[tf*3],lf=ef[tf*3+1],cf=ef[tf*3+2],uf=ef[nf*3],ff=ef[nf*3+1],df=ef[nf*3+2],gf=ef[rf*3],_f=ef[rf*3+1],xf=ef[rf*3+2],Af=ef[sf*3],Df=ef[sf*3+1],Of=ef[sf*3+2];return Math.abs(lf-ff)<.01?[new Vector2(af,1-cf),new Vector2(uf,1-df),new Vector2(gf,1-xf),new Vector2(Af,1-Of)]:[new Vector2(lf,1-cf),new Vector2(ff,1-df),new Vector2(_f,1-xf),new Vector2(Df,1-Of)]}};function toJSON(Qc,ef,tf){if(tf.shapes=[],Array.isArray(Qc))for(var nf=0,rf=Qc.length;nf<rf;nf++){var sf=Qc[nf];tf.shapes.push(sf.uuid)}else tf.shapes.push(Qc.uuid);return ef.extrudePath!==void 0&&(tf.options.extrudePath=ef.extrudePath.toJSON()),tf}function TextGeometry(Qc,ef){Geometry.call(this),this.type="TextGeometry",this.parameters={text:Qc,parameters:ef},this.fromBufferGeometry(new TextBufferGeometry(Qc,ef)),this.mergeVertices()}TextGeometry.prototype=Object.create(Geometry.prototype);TextGeometry.prototype.constructor=TextGeometry;function TextBufferGeometry(Qc,ef){ef=ef||{};var tf=ef.font;if(!(tf&&tf.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Geometry;var nf=tf.generateShapes(Qc,ef.size);ef.depth=ef.height!==void 0?ef.height:50,ef.bevelThickness===void 0&&(ef.bevelThickness=10),ef.bevelSize===void 0&&(ef.bevelSize=8),ef.bevelEnabled===void 0&&(ef.bevelEnabled=!1),ExtrudeBufferGeometry.call(this,nf,ef),this.type="TextBufferGeometry"}TextBufferGeometry.prototype=Object.create(ExtrudeBufferGeometry.prototype);TextBufferGeometry.prototype.constructor=TextBufferGeometry;function SphereGeometry(Qc,ef,tf,nf,rf,sf,af){Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:Qc,widthSegments:ef,heightSegments:tf,phiStart:nf,phiLength:rf,thetaStart:sf,thetaLength:af},this.fromBufferGeometry(new SphereBufferGeometry(Qc,ef,tf,nf,rf,sf,af)),this.mergeVertices()}SphereGeometry.prototype=Object.create(Geometry.prototype);SphereGeometry.prototype.constructor=SphereGeometry;function SphereBufferGeometry(Qc,ef,tf,nf,rf,sf,af){BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:Qc,widthSegments:ef,heightSegments:tf,phiStart:nf,phiLength:rf,thetaStart:sf,thetaLength:af},Qc=Qc||1,ef=Math.max(3,Math.floor(ef)||8),tf=Math.max(2,Math.floor(tf)||6),nf=nf!==void 0?nf:0,rf=rf!==void 0?rf:Math.PI*2,sf=sf!==void 0?sf:0,af=af!==void 0?af:Math.PI;var lf=sf+af,cf,uf,ff=0,df=[],gf=new Vector3,_f=new Vector3,xf=[],Af=[],Df=[],Of=[];for(uf=0;uf<=tf;uf++){var Gf=[],Bf=uf/tf;for(cf=0;cf<=ef;cf++){var Vf=cf/ef;gf.x=-Qc*Math.cos(nf+Vf*rf)*Math.sin(sf+Bf*af),gf.y=Qc*Math.cos(sf+Bf*af),gf.z=Qc*Math.sin(nf+Vf*rf)*Math.sin(sf+Bf*af),Af.push(gf.x,gf.y,gf.z),_f.set(gf.x,gf.y,gf.z).normalize(),Df.push(_f.x,_f.y,_f.z),Of.push(Vf,1-Bf),Gf.push(ff++)}df.push(Gf)}for(uf=0;uf<tf;uf++)for(cf=0;cf<ef;cf++){var Lf=df[uf][cf+1],Cf=df[uf][cf],Tf=df[uf+1][cf],Yf=df[uf+1][cf+1];(uf!==0||sf>0)&&xf.push(Lf,Cf,Yf),(uf!==tf-1||lf<Math.PI)&&xf.push(Cf,Tf,Yf)}this.setIndex(xf),this.addAttribute("position",new Float32BufferAttribute(Af,3)),this.addAttribute("normal",new Float32BufferAttribute(Df,3)),this.addAttribute("uv",new Float32BufferAttribute(Of,2))}SphereBufferGeometry.prototype=Object.create(BufferGeometry.prototype);SphereBufferGeometry.prototype.constructor=SphereBufferGeometry;function RingGeometry(Qc,ef,tf,nf,rf,sf){Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:Qc,outerRadius:ef,thetaSegments:tf,phiSegments:nf,thetaStart:rf,thetaLength:sf},this.fromBufferGeometry(new RingBufferGeometry(Qc,ef,tf,nf,rf,sf)),this.mergeVertices()}RingGeometry.prototype=Object.create(Geometry.prototype);RingGeometry.prototype.constructor=RingGeometry;function RingBufferGeometry(Qc,ef,tf,nf,rf,sf){BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:Qc,outerRadius:ef,thetaSegments:tf,phiSegments:nf,thetaStart:rf,thetaLength:sf},Qc=Qc||.5,ef=ef||1,rf=rf!==void 0?rf:0,sf=sf!==void 0?sf:Math.PI*2,tf=tf!==void 0?Math.max(3,tf):8,nf=nf!==void 0?Math.max(1,nf):1;var af=[],lf=[],cf=[],uf=[],ff,df=Qc,gf=(ef-Qc)/nf,_f=new Vector3,xf=new Vector2,Af,Df;for(Af=0;Af<=nf;Af++){for(Df=0;Df<=tf;Df++)ff=rf+Df/tf*sf,_f.x=df*Math.cos(ff),_f.y=df*Math.sin(ff),lf.push(_f.x,_f.y,_f.z),cf.push(0,0,1),xf.x=(_f.x/ef+1)/2,xf.y=(_f.y/ef+1)/2,uf.push(xf.x,xf.y);df+=gf}for(Af=0;Af<nf;Af++){var Of=Af*(tf+1);for(Df=0;Df<tf;Df++){ff=Df+Of;var Gf=ff,Bf=ff+tf+1,Vf=ff+tf+2,Lf=ff+1;af.push(Gf,Bf,Lf),af.push(Bf,Vf,Lf)}}this.setIndex(af),this.addAttribute("position",new Float32BufferAttribute(lf,3)),this.addAttribute("normal",new Float32BufferAttribute(cf,3)),this.addAttribute("uv",new Float32BufferAttribute(uf,2))}RingBufferGeometry.prototype=Object.create(BufferGeometry.prototype);RingBufferGeometry.prototype.constructor=RingBufferGeometry;function LatheGeometry(Qc,ef,tf,nf){Geometry.call(this),this.type="LatheGeometry",this.parameters={points:Qc,segments:ef,phiStart:tf,phiLength:nf},this.fromBufferGeometry(new LatheBufferGeometry(Qc,ef,tf,nf)),this.mergeVertices()}LatheGeometry.prototype=Object.create(Geometry.prototype);LatheGeometry.prototype.constructor=LatheGeometry;function LatheBufferGeometry(Qc,ef,tf,nf){BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:Qc,segments:ef,phiStart:tf,phiLength:nf},ef=Math.floor(ef)||12,tf=tf||0,nf=nf||Math.PI*2,nf=_Math.clamp(nf,0,Math.PI*2);var rf=[],sf=[],af=[],lf,cf=1/ef,uf=new Vector3,ff=new Vector2,df,gf;for(df=0;df<=ef;df++){var _f=tf+df*cf*nf,xf=Math.sin(_f),Af=Math.cos(_f);for(gf=0;gf<=Qc.length-1;gf++)uf.x=Qc[gf].x*xf,uf.y=Qc[gf].y,uf.z=Qc[gf].x*Af,sf.push(uf.x,uf.y,uf.z),ff.x=df/ef,ff.y=gf/(Qc.length-1),af.push(ff.x,ff.y)}for(df=0;df<ef;df++)for(gf=0;gf<Qc.length-1;gf++){lf=gf+df*Qc.length;var Df=lf,Of=lf+Qc.length,Gf=lf+Qc.length+1,Bf=lf+1;rf.push(Df,Of,Bf),rf.push(Of,Gf,Bf)}if(this.setIndex(rf),this.addAttribute("position",new Float32BufferAttribute(sf,3)),this.addAttribute("uv",new Float32BufferAttribute(af,2)),this.computeVertexNormals(),nf===Math.PI*2){var Vf=this.attributes.normal.array,Lf=new Vector3,Cf=new Vector3,Tf=new Vector3;for(lf=ef*Qc.length*3,df=0,gf=0;df<Qc.length;df++,gf+=3)Lf.x=Vf[gf+0],Lf.y=Vf[gf+1],Lf.z=Vf[gf+2],Cf.x=Vf[lf+gf+0],Cf.y=Vf[lf+gf+1],Cf.z=Vf[lf+gf+2],Tf.addVectors(Lf,Cf).normalize(),Vf[gf+0]=Vf[lf+gf+0]=Tf.x,Vf[gf+1]=Vf[lf+gf+1]=Tf.y,Vf[gf+2]=Vf[lf+gf+2]=Tf.z}}LatheBufferGeometry.prototype=Object.create(BufferGeometry.prototype);LatheBufferGeometry.prototype.constructor=LatheBufferGeometry;function ShapeGeometry(Qc,ef){Geometry.call(this),this.type="ShapeGeometry",typeof ef=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),ef=ef.curveSegments),this.parameters={shapes:Qc,curveSegments:ef},this.fromBufferGeometry(new ShapeBufferGeometry(Qc,ef)),this.mergeVertices()}ShapeGeometry.prototype=Object.create(Geometry.prototype);ShapeGeometry.prototype.constructor=ShapeGeometry;ShapeGeometry.prototype.toJSON=function(){var Qc=Geometry.prototype.toJSON.call(this),ef=this.parameters.shapes;return toJSON$1(ef,Qc)};function ShapeBufferGeometry(Qc,ef){BufferGeometry.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:Qc,curveSegments:ef},ef=ef||12;var tf=[],nf=[],rf=[],sf=[],af=0,lf=0;if(Array.isArray(Qc)===!1)uf(Qc);else for(var cf=0;cf<Qc.length;cf++)uf(Qc[cf]),this.addGroup(af,lf,cf),af+=lf,lf=0;this.setIndex(tf),this.addAttribute("position",new Float32BufferAttribute(nf,3)),this.addAttribute("normal",new Float32BufferAttribute(rf,3)),this.addAttribute("uv",new Float32BufferAttribute(sf,2));function uf(ff){var df,gf,_f,xf=nf.length/3,Af=ff.extractPoints(ef),Df=Af.shape,Of=Af.holes;if(ShapeUtils.isClockWise(Df)===!1)for(Df=Df.reverse(),df=0,gf=Of.length;df<gf;df++)_f=Of[df],ShapeUtils.isClockWise(_f)===!0&&(Of[df]=_f.reverse());var Gf=ShapeUtils.triangulateShape(Df,Of);for(df=0,gf=Of.length;df<gf;df++)_f=Of[df],Df=Df.concat(_f);for(df=0,gf=Df.length;df<gf;df++){var Bf=Df[df];nf.push(Bf.x,Bf.y,0),rf.push(0,0,1),sf.push(Bf.x,Bf.y)}for(df=0,gf=Gf.length;df<gf;df++){var Vf=Gf[df],Lf=Vf[0]+xf,Cf=Vf[1]+xf,Tf=Vf[2]+xf;tf.push(Lf,Cf,Tf),lf+=3}}}ShapeBufferGeometry.prototype=Object.create(BufferGeometry.prototype);ShapeBufferGeometry.prototype.constructor=ShapeBufferGeometry;ShapeBufferGeometry.prototype.toJSON=function(){var Qc=BufferGeometry.prototype.toJSON.call(this),ef=this.parameters.shapes;return toJSON$1(ef,Qc)};function toJSON$1(Qc,ef){if(ef.shapes=[],Array.isArray(Qc))for(var tf=0,nf=Qc.length;tf<nf;tf++){var rf=Qc[tf];ef.shapes.push(rf.uuid)}else ef.shapes.push(Qc.uuid);return ef}function EdgesGeometry(Qc,ef){BufferGeometry.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:ef},ef=ef!==void 0?ef:1;var tf=[],nf=Math.cos(_Math.DEG2RAD*ef),rf=[0,0],sf={},af,lf,cf,uf=["a","b","c"],ff;Qc.isBufferGeometry?(ff=new Geometry,ff.fromBufferGeometry(Qc)):ff=Qc.clone(),ff.mergeVertices(),ff.computeFaceNormals();for(var df=ff.vertices,gf=ff.faces,_f=0,xf=gf.length;_f<xf;_f++)for(var Af=gf[_f],Df=0;Df<3;Df++)af=Af[uf[Df]],lf=Af[uf[(Df+1)%3]],rf[0]=Math.min(af,lf),rf[1]=Math.max(af,lf),cf=rf[0]+","+rf[1],sf[cf]===void 0?sf[cf]={index1:rf[0],index2:rf[1],face1:_f,face2:void 0}:sf[cf].face2=_f;for(cf in sf){var Of=sf[cf];if(Of.face2===void 0||gf[Of.face1].normal.dot(gf[Of.face2].normal)<=nf){var Gf=df[Of.index1];tf.push(Gf.x,Gf.y,Gf.z),Gf=df[Of.index2],tf.push(Gf.x,Gf.y,Gf.z)}}this.addAttribute("position",new Float32BufferAttribute(tf,3))}EdgesGeometry.prototype=Object.create(BufferGeometry.prototype);EdgesGeometry.prototype.constructor=EdgesGeometry;function CylinderGeometry(Qc,ef,tf,nf,rf,sf,af,lf){Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:Qc,radiusBottom:ef,height:tf,radialSegments:nf,heightSegments:rf,openEnded:sf,thetaStart:af,thetaLength:lf},this.fromBufferGeometry(new CylinderBufferGeometry(Qc,ef,tf,nf,rf,sf,af,lf)),this.mergeVertices()}CylinderGeometry.prototype=Object.create(Geometry.prototype);CylinderGeometry.prototype.constructor=CylinderGeometry;function CylinderBufferGeometry(Qc,ef,tf,nf,rf,sf,af,lf){BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:Qc,radiusBottom:ef,height:tf,radialSegments:nf,heightSegments:rf,openEnded:sf,thetaStart:af,thetaLength:lf};var cf=this;Qc=Qc!==void 0?Qc:1,ef=ef!==void 0?ef:1,tf=tf||1,nf=Math.floor(nf)||8,rf=Math.floor(rf)||1,sf=sf!==void 0?sf:!1,af=af!==void 0?af:0,lf=lf!==void 0?lf:Math.PI*2;var uf=[],ff=[],df=[],gf=[],_f=0,xf=[],Af=tf/2,Df=0;Of(),sf===!1&&(Qc>0&&Gf(!0),ef>0&&Gf(!1)),this.setIndex(uf),this.addAttribute("position",new Float32BufferAttribute(ff,3)),this.addAttribute("normal",new Float32BufferAttribute(df,3)),this.addAttribute("uv",new Float32BufferAttribute(gf,2));function Of(){var Bf,Vf,Lf=new Vector3,Cf=new Vector3,Tf=0,Yf=(ef-Qc)/tf;for(Vf=0;Vf<=rf;Vf++){var rh=[],dh=Vf/rf,hh=dh*(ef-Qc)+Qc;for(Bf=0;Bf<=nf;Bf++){var sh=Bf/nf,Hf=sh*lf+af,Qf=Math.sin(Hf),ah=Math.cos(Hf);Cf.x=hh*Qf,Cf.y=-dh*tf+Af,Cf.z=hh*ah,ff.push(Cf.x,Cf.y,Cf.z),Lf.set(Qf,Yf,ah).normalize(),df.push(Lf.x,Lf.y,Lf.z),gf.push(sh,1-dh),rh.push(_f++)}xf.push(rh)}for(Bf=0;Bf<nf;Bf++)for(Vf=0;Vf<rf;Vf++){var mh=xf[Vf][Bf],uh=xf[Vf+1][Bf],jf=xf[Vf+1][Bf+1],Kf=xf[Vf][Bf+1];uf.push(mh,uh,Kf),uf.push(uh,jf,Kf),Tf+=6}cf.addGroup(Df,Tf,0),Df+=Tf}function Gf(Bf){var Vf,Lf,Cf,Tf=new Vector2,Yf=new Vector3,rh=0,dh=Bf===!0?Qc:ef,hh=Bf===!0?1:-1;for(Lf=_f,Vf=1;Vf<=nf;Vf++)ff.push(0,Af*hh,0),df.push(0,hh,0),gf.push(.5,.5),_f++;for(Cf=_f,Vf=0;Vf<=nf;Vf++){var sh=Vf/nf,Hf=sh*lf+af,Qf=Math.cos(Hf),ah=Math.sin(Hf);Yf.x=dh*ah,Yf.y=Af*hh,Yf.z=dh*Qf,ff.push(Yf.x,Yf.y,Yf.z),df.push(0,hh,0),Tf.x=Qf*.5+.5,Tf.y=ah*.5*hh+.5,gf.push(Tf.x,Tf.y),_f++}for(Vf=0;Vf<nf;Vf++){var mh=Lf+Vf,uh=Cf+Vf;Bf===!0?uf.push(uh,uh+1,mh):uf.push(uh+1,uh,mh),rh+=3}cf.addGroup(Df,rh,Bf===!0?1:2),Df+=rh}}CylinderBufferGeometry.prototype=Object.create(BufferGeometry.prototype);CylinderBufferGeometry.prototype.constructor=CylinderBufferGeometry;function ConeGeometry(Qc,ef,tf,nf,rf,sf,af){CylinderGeometry.call(this,0,Qc,ef,tf,nf,rf,sf,af),this.type="ConeGeometry",this.parameters={radius:Qc,height:ef,radialSegments:tf,heightSegments:nf,openEnded:rf,thetaStart:sf,thetaLength:af}}ConeGeometry.prototype=Object.create(CylinderGeometry.prototype);ConeGeometry.prototype.constructor=ConeGeometry;function ConeBufferGeometry(Qc,ef,tf,nf,rf,sf,af){CylinderBufferGeometry.call(this,0,Qc,ef,tf,nf,rf,sf,af),this.type="ConeBufferGeometry",this.parameters={radius:Qc,height:ef,radialSegments:tf,heightSegments:nf,openEnded:rf,thetaStart:sf,thetaLength:af}}ConeBufferGeometry.prototype=Object.create(CylinderBufferGeometry.prototype);ConeBufferGeometry.prototype.constructor=ConeBufferGeometry;function CircleGeometry(Qc,ef,tf,nf){Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:Qc,segments:ef,thetaStart:tf,thetaLength:nf},this.fromBufferGeometry(new CircleBufferGeometry(Qc,ef,tf,nf)),this.mergeVertices()}CircleGeometry.prototype=Object.create(Geometry.prototype);CircleGeometry.prototype.constructor=CircleGeometry;function CircleBufferGeometry(Qc,ef,tf,nf){BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:Qc,segments:ef,thetaStart:tf,thetaLength:nf},Qc=Qc||1,ef=ef!==void 0?Math.max(3,ef):8,tf=tf!==void 0?tf:0,nf=nf!==void 0?nf:Math.PI*2;var rf=[],sf=[],af=[],lf=[],cf,uf,ff=new Vector3,df=new Vector2;for(sf.push(0,0,0),af.push(0,0,1),lf.push(.5,.5),uf=0,cf=3;uf<=ef;uf++,cf+=3){var gf=tf+uf/ef*nf;ff.x=Qc*Math.cos(gf),ff.y=Qc*Math.sin(gf),sf.push(ff.x,ff.y,ff.z),af.push(0,0,1),df.x=(sf[cf]/Qc+1)/2,df.y=(sf[cf+1]/Qc+1)/2,lf.push(df.x,df.y)}for(cf=1;cf<=ef;cf++)rf.push(cf,cf+1,0);this.setIndex(rf),this.addAttribute("position",new Float32BufferAttribute(sf,3)),this.addAttribute("normal",new Float32BufferAttribute(af,3)),this.addAttribute("uv",new Float32BufferAttribute(lf,2))}CircleBufferGeometry.prototype=Object.create(BufferGeometry.prototype);CircleBufferGeometry.prototype.constructor=CircleBufferGeometry;var Geometries=Object.freeze({WireframeGeometry,ParametricGeometry,ParametricBufferGeometry,TetrahedronGeometry,TetrahedronBufferGeometry,OctahedronGeometry,OctahedronBufferGeometry,IcosahedronGeometry,IcosahedronBufferGeometry,DodecahedronGeometry,DodecahedronBufferGeometry,PolyhedronGeometry,PolyhedronBufferGeometry,TubeGeometry,TubeBufferGeometry,TorusKnotGeometry,TorusKnotBufferGeometry,TorusGeometry,TorusBufferGeometry,TextGeometry,TextBufferGeometry,SphereGeometry,SphereBufferGeometry,RingGeometry,RingBufferGeometry,PlaneGeometry,PlaneBufferGeometry,LatheGeometry,LatheBufferGeometry,ShapeGeometry,ShapeBufferGeometry,ExtrudeGeometry,ExtrudeBufferGeometry,EdgesGeometry,ConeGeometry,ConeBufferGeometry,CylinderGeometry,CylinderBufferGeometry,CircleGeometry,CircleBufferGeometry,BoxGeometry,BoxBufferGeometry});function ShadowMaterial(Qc){Material.call(this),this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.setValues(Qc)}ShadowMaterial.prototype=Object.create(Material.prototype);ShadowMaterial.prototype.constructor=ShadowMaterial;ShadowMaterial.prototype.isShadowMaterial=!0;ShadowMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.color.copy(Qc.color),this};function RawShaderMaterial(Qc){ShaderMaterial.call(this,Qc),this.type="RawShaderMaterial"}RawShaderMaterial.prototype=Object.create(ShaderMaterial.prototype);RawShaderMaterial.prototype.constructor=RawShaderMaterial;RawShaderMaterial.prototype.isRawShaderMaterial=!0;function MeshStandardMaterial(Qc){Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color$1(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(Qc)}MeshStandardMaterial.prototype=Object.create(Material.prototype);MeshStandardMaterial.prototype.constructor=MeshStandardMaterial;MeshStandardMaterial.prototype.isMeshStandardMaterial=!0;MeshStandardMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.defines={STANDARD:""},this.color.copy(Qc.color),this.roughness=Qc.roughness,this.metalness=Qc.metalness,this.map=Qc.map,this.lightMap=Qc.lightMap,this.lightMapIntensity=Qc.lightMapIntensity,this.aoMap=Qc.aoMap,this.aoMapIntensity=Qc.aoMapIntensity,this.emissive.copy(Qc.emissive),this.emissiveMap=Qc.emissiveMap,this.emissiveIntensity=Qc.emissiveIntensity,this.bumpMap=Qc.bumpMap,this.bumpScale=Qc.bumpScale,this.normalMap=Qc.normalMap,this.normalMapType=Qc.normalMapType,this.normalScale.copy(Qc.normalScale),this.displacementMap=Qc.displacementMap,this.displacementScale=Qc.displacementScale,this.displacementBias=Qc.displacementBias,this.roughnessMap=Qc.roughnessMap,this.metalnessMap=Qc.metalnessMap,this.alphaMap=Qc.alphaMap,this.envMap=Qc.envMap,this.envMapIntensity=Qc.envMapIntensity,this.refractionRatio=Qc.refractionRatio,this.wireframe=Qc.wireframe,this.wireframeLinewidth=Qc.wireframeLinewidth,this.wireframeLinecap=Qc.wireframeLinecap,this.wireframeLinejoin=Qc.wireframeLinejoin,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this.morphNormals=Qc.morphNormals,this};function MeshPhysicalMaterial(Qc){MeshStandardMaterial.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(Qc)}MeshPhysicalMaterial.prototype=Object.create(MeshStandardMaterial.prototype);MeshPhysicalMaterial.prototype.constructor=MeshPhysicalMaterial;MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0;MeshPhysicalMaterial.prototype.copy=function(Qc){return MeshStandardMaterial.prototype.copy.call(this,Qc),this.defines={PHYSICAL:""},this.reflectivity=Qc.reflectivity,this.clearCoat=Qc.clearCoat,this.clearCoatRoughness=Qc.clearCoatRoughness,this};function MeshPhongMaterial(Qc){Material.call(this),this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(Qc)}MeshPhongMaterial.prototype=Object.create(Material.prototype);MeshPhongMaterial.prototype.constructor=MeshPhongMaterial;MeshPhongMaterial.prototype.isMeshPhongMaterial=!0;MeshPhongMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.color.copy(Qc.color),this.specular.copy(Qc.specular),this.shininess=Qc.shininess,this.map=Qc.map,this.lightMap=Qc.lightMap,this.lightMapIntensity=Qc.lightMapIntensity,this.aoMap=Qc.aoMap,this.aoMapIntensity=Qc.aoMapIntensity,this.emissive.copy(Qc.emissive),this.emissiveMap=Qc.emissiveMap,this.emissiveIntensity=Qc.emissiveIntensity,this.bumpMap=Qc.bumpMap,this.bumpScale=Qc.bumpScale,this.normalMap=Qc.normalMap,this.normalMapType=Qc.normalMapType,this.normalScale.copy(Qc.normalScale),this.displacementMap=Qc.displacementMap,this.displacementScale=Qc.displacementScale,this.displacementBias=Qc.displacementBias,this.specularMap=Qc.specularMap,this.alphaMap=Qc.alphaMap,this.envMap=Qc.envMap,this.combine=Qc.combine,this.reflectivity=Qc.reflectivity,this.refractionRatio=Qc.refractionRatio,this.wireframe=Qc.wireframe,this.wireframeLinewidth=Qc.wireframeLinewidth,this.wireframeLinecap=Qc.wireframeLinecap,this.wireframeLinejoin=Qc.wireframeLinejoin,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this.morphNormals=Qc.morphNormals,this};function MeshToonMaterial(Qc){MeshPhongMaterial.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(Qc)}MeshToonMaterial.prototype=Object.create(MeshPhongMaterial.prototype);MeshToonMaterial.prototype.constructor=MeshToonMaterial;MeshToonMaterial.prototype.isMeshToonMaterial=!0;MeshToonMaterial.prototype.copy=function(Qc){return MeshPhongMaterial.prototype.copy.call(this,Qc),this.gradientMap=Qc.gradientMap,this};function MeshNormalMaterial(Qc){Material.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(Qc)}MeshNormalMaterial.prototype=Object.create(Material.prototype);MeshNormalMaterial.prototype.constructor=MeshNormalMaterial;MeshNormalMaterial.prototype.isMeshNormalMaterial=!0;MeshNormalMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.bumpMap=Qc.bumpMap,this.bumpScale=Qc.bumpScale,this.normalMap=Qc.normalMap,this.normalMapType=Qc.normalMapType,this.normalScale.copy(Qc.normalScale),this.displacementMap=Qc.displacementMap,this.displacementScale=Qc.displacementScale,this.displacementBias=Qc.displacementBias,this.wireframe=Qc.wireframe,this.wireframeLinewidth=Qc.wireframeLinewidth,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this.morphNormals=Qc.morphNormals,this};function MeshLambertMaterial(Qc){Material.call(this),this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(Qc)}MeshLambertMaterial.prototype=Object.create(Material.prototype);MeshLambertMaterial.prototype.constructor=MeshLambertMaterial;MeshLambertMaterial.prototype.isMeshLambertMaterial=!0;MeshLambertMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.color.copy(Qc.color),this.map=Qc.map,this.lightMap=Qc.lightMap,this.lightMapIntensity=Qc.lightMapIntensity,this.aoMap=Qc.aoMap,this.aoMapIntensity=Qc.aoMapIntensity,this.emissive.copy(Qc.emissive),this.emissiveMap=Qc.emissiveMap,this.emissiveIntensity=Qc.emissiveIntensity,this.specularMap=Qc.specularMap,this.alphaMap=Qc.alphaMap,this.envMap=Qc.envMap,this.combine=Qc.combine,this.reflectivity=Qc.reflectivity,this.refractionRatio=Qc.refractionRatio,this.wireframe=Qc.wireframe,this.wireframeLinewidth=Qc.wireframeLinewidth,this.wireframeLinecap=Qc.wireframeLinecap,this.wireframeLinejoin=Qc.wireframeLinejoin,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this.morphNormals=Qc.morphNormals,this};function MeshMatcapMaterial(Qc){if(Material.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(Qc),this.matcap===null){var ef=document.createElement("canvas");ef.width=1,ef.height=1;var tf=ef.getContext("2d");tf.fillStyle="#fff",tf.fillRect(0,0,1,1),this.matcap=new THREE.CanvasTexture(ef)}}MeshMatcapMaterial.prototype=Object.create(Material.prototype);MeshMatcapMaterial.prototype.constructor=MeshMatcapMaterial;MeshMatcapMaterial.prototype.isMeshMatcapMaterial=!0;MeshMatcapMaterial.prototype.copy=function(Qc){return Material.prototype.copy.call(this,Qc),this.defines={MATCAP:""},this.color.copy(Qc.color),this.matcap=Qc.matcap,this.map=Qc.map,this.bumpMap=Qc.bumpMap,this.bumpScale=Qc.bumpScale,this.normalMap=Qc.normalMap,this.normalMapType=Qc.normalMapType,this.normalScale.copy(Qc.normalScale),this.displacementMap=Qc.displacementMap,this.displacementScale=Qc.displacementScale,this.displacementBias=Qc.displacementBias,this.alphaMap=Qc.alphaMap,this.skinning=Qc.skinning,this.morphTargets=Qc.morphTargets,this.morphNormals=Qc.morphNormals,this};function LineDashedMaterial(Qc){LineBasicMaterial.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(Qc)}LineDashedMaterial.prototype=Object.create(LineBasicMaterial.prototype);LineDashedMaterial.prototype.constructor=LineDashedMaterial;LineDashedMaterial.prototype.isLineDashedMaterial=!0;LineDashedMaterial.prototype.copy=function(Qc){return LineBasicMaterial.prototype.copy.call(this,Qc),this.scale=Qc.scale,this.dashSize=Qc.dashSize,this.gapSize=Qc.gapSize,this};var Materials=Object.freeze({ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material}),Cache={enabled:!1,files:{},add:function(Qc,ef){this.enabled!==!1&&(this.files[Qc]=ef)},get:function(Qc){if(this.enabled!==!1)return this.files[Qc]},remove:function(Qc){delete this.files[Qc]},clear:function(){this.files={}}};function LoadingManager(Qc,ef,tf){var nf=this,rf=!1,sf=0,af=0,lf=void 0;this.onStart=void 0,this.onLoad=Qc,this.onProgress=ef,this.onError=tf,this.itemStart=function(cf){af++,rf===!1&&nf.onStart!==void 0&&nf.onStart(cf,sf,af),rf=!0},this.itemEnd=function(cf){sf++,nf.onProgress!==void 0&&nf.onProgress(cf,sf,af),sf===af&&(rf=!1,nf.onLoad!==void 0&&nf.onLoad())},this.itemError=function(cf){nf.onError!==void 0&&nf.onError(cf)},this.resolveURL=function(cf){return lf?lf(cf):cf},this.setURLModifier=function(cf){return lf=cf,this}}var DefaultLoadingManager=new LoadingManager,loading={};function FileLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager}Object.assign(FileLoader.prototype,{load:function(Qc,ef,tf,nf){Qc===void 0&&(Qc=""),this.path!==void 0&&(Qc=this.path+Qc),Qc=this.manager.resolveURL(Qc);var rf=this,sf=Cache.get(Qc);if(sf!==void 0)return rf.manager.itemStart(Qc),setTimeout(function(){ef&&ef(sf),rf.manager.itemEnd(Qc)},0),sf;if(loading[Qc]!==void 0){loading[Qc].push({onLoad:ef,onProgress:tf,onError:nf});return}var af=/^data:(.*?)(;base64)?,(.*)$/,lf=Qc.match(af);if(lf){var cf=lf[1],uf=!!lf[2],ff=lf[3];ff=window.decodeURIComponent(ff),uf&&(ff=window.atob(ff));try{var df,gf=(this.responseType||"").toLowerCase();switch(gf){case"arraybuffer":case"blob":for(var _f=new Uint8Array(ff.length),xf=0;xf<ff.length;xf++)_f[xf]=ff.charCodeAt(xf);gf==="blob"?df=new Blob([_f.buffer],{type:cf}):df=_f.buffer;break;case"document":var Af=new DOMParser;df=Af.parseFromString(ff,cf);break;case"json":df=JSON.parse(ff);break;default:df=ff;break}window.setTimeout(function(){ef&&ef(df),rf.manager.itemEnd(Qc)},0)}catch(Gf){window.setTimeout(function(){nf&&nf(Gf),rf.manager.itemEnd(Qc),rf.manager.itemError(Qc)},0)}}else{loading[Qc]=[],loading[Qc].push({onLoad:ef,onProgress:tf,onError:nf});var Df=new XMLHttpRequest;Df.open("GET",Qc,!0),Df.addEventListener("load",function(Gf){var Bf=this.response;Cache.add(Qc,Bf);var Vf=loading[Qc];if(delete loading[Qc],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var Lf=0,Cf=Vf.length;Lf<Cf;Lf++){var Tf=Vf[Lf];Tf.onLoad&&Tf.onLoad(Bf)}rf.manager.itemEnd(Qc)}else{for(var Lf=0,Cf=Vf.length;Lf<Cf;Lf++){var Tf=Vf[Lf];Tf.onError&&Tf.onError(Gf)}rf.manager.itemEnd(Qc),rf.manager.itemError(Qc)}},!1),Df.addEventListener("progress",function(Gf){for(var Bf=loading[Qc],Vf=0,Lf=Bf.length;Vf<Lf;Vf++){var Cf=Bf[Vf];Cf.onProgress&&Cf.onProgress(Gf)}},!1),Df.addEventListener("error",function(Gf){var Bf=loading[Qc];delete loading[Qc];for(var Vf=0,Lf=Bf.length;Vf<Lf;Vf++){var Cf=Bf[Vf];Cf.onError&&Cf.onError(Gf)}rf.manager.itemEnd(Qc),rf.manager.itemError(Qc)},!1),Df.addEventListener("abort",function(Gf){var Bf=loading[Qc];delete loading[Qc];for(var Vf=0,Lf=Bf.length;Vf<Lf;Vf++){var Cf=Bf[Vf];Cf.onError&&Cf.onError(Gf)}rf.manager.itemEnd(Qc),rf.manager.itemError(Qc)},!1),this.responseType!==void 0&&(Df.responseType=this.responseType),this.withCredentials!==void 0&&(Df.withCredentials=this.withCredentials),Df.overrideMimeType&&Df.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(var Of in this.requestHeader)Df.setRequestHeader(Of,this.requestHeader[Of]);Df.send(null)}return rf.manager.itemStart(Qc),Df},setPath:function(Qc){return this.path=Qc,this},setResponseType:function(Qc){return this.responseType=Qc,this},setWithCredentials:function(Qc){return this.withCredentials=Qc,this},setMimeType:function(Qc){return this.mimeType=Qc,this},setRequestHeader:function(Qc){return this.requestHeader=Qc,this}});function CompressedTextureLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager,this._parser=null}Object.assign(CompressedTextureLoader.prototype,{load:function(Qc,ef,tf,nf){var rf=this,sf=[],af=new CompressedTexture;af.image=sf;var lf=new FileLoader(this.manager);lf.setPath(this.path),lf.setResponseType("arraybuffer");function cf(gf){lf.load(Qc[gf],function(_f){var xf=rf._parser(_f,!0);sf[gf]={width:xf.width,height:xf.height,format:xf.format,mipmaps:xf.mipmaps},uf+=1,uf===6&&(xf.mipmapCount===1&&(af.minFilter=LinearFilter),af.format=xf.format,af.needsUpdate=!0,ef&&ef(af))},tf,nf)}if(Array.isArray(Qc))for(var uf=0,ff=0,df=Qc.length;ff<df;++ff)cf(ff);else lf.load(Qc,function(gf){var _f=rf._parser(gf,!0);if(_f.isCubemap)for(var xf=_f.mipmaps.length/_f.mipmapCount,Af=0;Af<xf;Af++){sf[Af]={mipmaps:[]};for(var Df=0;Df<_f.mipmapCount;Df++)sf[Af].mipmaps.push(_f.mipmaps[Af*_f.mipmapCount+Df]),sf[Af].format=_f.format,sf[Af].width=_f.width,sf[Af].height=_f.height}else af.image.width=_f.width,af.image.height=_f.height,af.mipmaps=_f.mipmaps;_f.mipmapCount===1&&(af.minFilter=LinearFilter),af.format=_f.format,af.needsUpdate=!0,ef&&ef(af)},tf,nf);return af},setPath:function(Qc){return this.path=Qc,this}});function DataTextureLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager,this._parser=null}Object.assign(DataTextureLoader.prototype,{load:function(Qc,ef,tf,nf){var rf=this,sf=new DataTexture,af=new FileLoader(this.manager);return af.setResponseType("arraybuffer"),af.load(Qc,function(lf){var cf=rf._parser(lf);cf&&(cf.image!==void 0?sf.image=cf.image:cf.data!==void 0&&(sf.image.width=cf.width,sf.image.height=cf.height,sf.image.data=cf.data),sf.wrapS=cf.wrapS!==void 0?cf.wrapS:ClampToEdgeWrapping,sf.wrapT=cf.wrapT!==void 0?cf.wrapT:ClampToEdgeWrapping,sf.magFilter=cf.magFilter!==void 0?cf.magFilter:LinearFilter,sf.minFilter=cf.minFilter!==void 0?cf.minFilter:LinearMipMapLinearFilter,sf.anisotropy=cf.anisotropy!==void 0?cf.anisotropy:1,cf.format!==void 0&&(sf.format=cf.format),cf.type!==void 0&&(sf.type=cf.type),cf.mipmaps!==void 0&&(sf.mipmaps=cf.mipmaps),cf.mipmapCount===1&&(sf.minFilter=LinearFilter),sf.needsUpdate=!0,ef&&ef(sf,cf))},tf,nf),sf}});function ImageLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager}Object.assign(ImageLoader.prototype,{crossOrigin:"anonymous",load:function(Qc,ef,tf,nf){Qc===void 0&&(Qc=""),this.path!==void 0&&(Qc=this.path+Qc),Qc=this.manager.resolveURL(Qc);var rf=this,sf=Cache.get(Qc);if(sf!==void 0)return rf.manager.itemStart(Qc),setTimeout(function(){ef&&ef(sf),rf.manager.itemEnd(Qc)},0),sf;var af=document.createElementNS("http://www.w3.org/1999/xhtml","img");function lf(){af.removeEventListener("load",lf,!1),af.removeEventListener("error",cf,!1),Cache.add(Qc,this),ef&&ef(this),rf.manager.itemEnd(Qc)}function cf(uf){af.removeEventListener("load",lf,!1),af.removeEventListener("error",cf,!1),nf&&nf(uf),rf.manager.itemEnd(Qc),rf.manager.itemError(Qc)}return af.addEventListener("load",lf,!1),af.addEventListener("error",cf,!1),Qc.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(af.crossOrigin=this.crossOrigin),rf.manager.itemStart(Qc),af.src=Qc,af},setCrossOrigin:function(Qc){return this.crossOrigin=Qc,this},setPath:function(Qc){return this.path=Qc,this}});function CubeTextureLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager}Object.assign(CubeTextureLoader.prototype,{crossOrigin:"anonymous",load:function(Qc,ef,tf,nf){var rf=new CubeTexture,sf=new ImageLoader(this.manager);sf.setCrossOrigin(this.crossOrigin),sf.setPath(this.path);var af=0;function lf(uf){sf.load(Qc[uf],function(ff){rf.images[uf]=ff,af++,af===6&&(rf.needsUpdate=!0,ef&&ef(rf))},void 0,nf)}for(var cf=0;cf<Qc.length;++cf)lf(cf);return rf},setCrossOrigin:function(Qc){return this.crossOrigin=Qc,this},setPath:function(Qc){return this.path=Qc,this}});function TextureLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager}Object.assign(TextureLoader.prototype,{crossOrigin:"anonymous",load:function(Qc,ef,tf,nf){var rf=new Texture,sf=new ImageLoader(this.manager);return sf.setCrossOrigin(this.crossOrigin),sf.setPath(this.path),sf.load(Qc,function(af){rf.image=af;var lf=Qc.search(/\.jpe?g$/i)>0||Qc.search(/^data\:image\/jpeg/)===0;rf.format=lf?RGBFormat:RGBAFormat,rf.needsUpdate=!0,ef!==void 0&&ef(rf)},tf,nf),rf},setCrossOrigin:function(Qc){return this.crossOrigin=Qc,this},setPath:function(Qc){return this.path=Qc,this}});function Curve(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Curve.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(Qc,ef){var tf=this.getUtoTmapping(Qc);return this.getPoint(tf,ef)},getPoints:function(Qc){Qc===void 0&&(Qc=5);for(var ef=[],tf=0;tf<=Qc;tf++)ef.push(this.getPoint(tf/Qc));return ef},getSpacedPoints:function(Qc){Qc===void 0&&(Qc=5);for(var ef=[],tf=0;tf<=Qc;tf++)ef.push(this.getPointAt(tf/Qc));return ef},getLength:function(){var Qc=this.getLengths();return Qc[Qc.length-1]},getLengths:function(Qc){if(Qc===void 0&&(Qc=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===Qc+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var ef=[],tf,nf=this.getPoint(0),rf,sf=0;for(ef.push(0),rf=1;rf<=Qc;rf++)tf=this.getPoint(rf/Qc),sf+=tf.distanceTo(nf),ef.push(sf),nf=tf;return this.cacheArcLengths=ef,ef},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(Qc,ef){var tf=this.getLengths(),nf=0,rf=tf.length,sf;ef?sf=ef:sf=Qc*tf[rf-1];for(var af=0,lf=rf-1,cf;af<=lf;)if(nf=Math.floor(af+(lf-af)/2),cf=tf[nf]-sf,cf<0)af=nf+1;else if(cf>0)lf=nf-1;else{lf=nf;break}if(nf=lf,tf[nf]===sf)return nf/(rf-1);var uf=tf[nf],ff=tf[nf+1],df=ff-uf,gf=(sf-uf)/df,_f=(nf+gf)/(rf-1);return _f},getTangent:function(Qc){var ef=1e-4,tf=Qc-ef,nf=Qc+ef;tf<0&&(tf=0),nf>1&&(nf=1);var rf=this.getPoint(tf),sf=this.getPoint(nf),af=sf.clone().sub(rf);return af.normalize()},getTangentAt:function(Qc){var ef=this.getUtoTmapping(Qc);return this.getTangent(ef)},computeFrenetFrames:function(Qc,ef){var tf=new Vector3,nf=[],rf=[],sf=[],af=new Vector3,lf=new Matrix4,cf,uf,ff;for(cf=0;cf<=Qc;cf++)uf=cf/Qc,nf[cf]=this.getTangentAt(uf),nf[cf].normalize();rf[0]=new Vector3,sf[0]=new Vector3;var df=Number.MAX_VALUE,gf=Math.abs(nf[0].x),_f=Math.abs(nf[0].y),xf=Math.abs(nf[0].z);for(gf<=df&&(df=gf,tf.set(1,0,0)),_f<=df&&(df=_f,tf.set(0,1,0)),xf<=df&&tf.set(0,0,1),af.crossVectors(nf[0],tf).normalize(),rf[0].crossVectors(nf[0],af),sf[0].crossVectors(nf[0],rf[0]),cf=1;cf<=Qc;cf++)rf[cf]=rf[cf-1].clone(),sf[cf]=sf[cf-1].clone(),af.crossVectors(nf[cf-1],nf[cf]),af.length()>Number.EPSILON&&(af.normalize(),ff=Math.acos(_Math.clamp(nf[cf-1].dot(nf[cf]),-1,1)),rf[cf].applyMatrix4(lf.makeRotationAxis(af,ff))),sf[cf].crossVectors(nf[cf],rf[cf]);if(ef===!0)for(ff=Math.acos(_Math.clamp(rf[0].dot(rf[Qc]),-1,1)),ff/=Qc,nf[0].dot(af.crossVectors(rf[0],rf[Qc]))>0&&(ff=-ff),cf=1;cf<=Qc;cf++)rf[cf].applyMatrix4(lf.makeRotationAxis(nf[cf],ff*cf)),sf[cf].crossVectors(nf[cf],rf[cf]);return{tangents:nf,normals:rf,binormals:sf}},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.arcLengthDivisions=Qc.arcLengthDivisions,this},toJSON:function(){var Qc={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return Qc.arcLengthDivisions=this.arcLengthDivisions,Qc.type=this.type,Qc},fromJSON:function(Qc){return this.arcLengthDivisions=Qc.arcLengthDivisions,this}});function EllipseCurve(Qc,ef,tf,nf,rf,sf,af,lf){Curve.call(this),this.type="EllipseCurve",this.aX=Qc||0,this.aY=ef||0,this.xRadius=tf||1,this.yRadius=nf||1,this.aStartAngle=rf||0,this.aEndAngle=sf||2*Math.PI,this.aClockwise=af||!1,this.aRotation=lf||0}EllipseCurve.prototype=Object.create(Curve.prototype);EllipseCurve.prototype.constructor=EllipseCurve;EllipseCurve.prototype.isEllipseCurve=!0;EllipseCurve.prototype.getPoint=function(Qc,ef){for(var tf=ef||new Vector2,nf=Math.PI*2,rf=this.aEndAngle-this.aStartAngle,sf=Math.abs(rf)<Number.EPSILON;rf<0;)rf+=nf;for(;rf>nf;)rf-=nf;rf<Number.EPSILON&&(sf?rf=0:rf=nf),this.aClockwise===!0&&!sf&&(rf===nf?rf=-nf:rf=rf-nf);var af=this.aStartAngle+Qc*rf,lf=this.aX+this.xRadius*Math.cos(af),cf=this.aY+this.yRadius*Math.sin(af);if(this.aRotation!==0){var uf=Math.cos(this.aRotation),ff=Math.sin(this.aRotation),df=lf-this.aX,gf=cf-this.aY;lf=df*uf-gf*ff+this.aX,cf=df*ff+gf*uf+this.aY}return tf.set(lf,cf)};EllipseCurve.prototype.copy=function(Qc){return Curve.prototype.copy.call(this,Qc),this.aX=Qc.aX,this.aY=Qc.aY,this.xRadius=Qc.xRadius,this.yRadius=Qc.yRadius,this.aStartAngle=Qc.aStartAngle,this.aEndAngle=Qc.aEndAngle,this.aClockwise=Qc.aClockwise,this.aRotation=Qc.aRotation,this};EllipseCurve.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);return Qc.aX=this.aX,Qc.aY=this.aY,Qc.xRadius=this.xRadius,Qc.yRadius=this.yRadius,Qc.aStartAngle=this.aStartAngle,Qc.aEndAngle=this.aEndAngle,Qc.aClockwise=this.aClockwise,Qc.aRotation=this.aRotation,Qc};EllipseCurve.prototype.fromJSON=function(Qc){return Curve.prototype.fromJSON.call(this,Qc),this.aX=Qc.aX,this.aY=Qc.aY,this.xRadius=Qc.xRadius,this.yRadius=Qc.yRadius,this.aStartAngle=Qc.aStartAngle,this.aEndAngle=Qc.aEndAngle,this.aClockwise=Qc.aClockwise,this.aRotation=Qc.aRotation,this};function ArcCurve(Qc,ef,tf,nf,rf,sf){EllipseCurve.call(this,Qc,ef,tf,tf,nf,rf,sf),this.type="ArcCurve"}ArcCurve.prototype=Object.create(EllipseCurve.prototype);ArcCurve.prototype.constructor=ArcCurve;ArcCurve.prototype.isArcCurve=!0;function CubicPoly(){var Qc=0,ef=0,tf=0,nf=0;function rf(sf,af,lf,cf){Qc=sf,ef=lf,tf=-3*sf+3*af-2*lf-cf,nf=2*sf-2*af+lf+cf}return{initCatmullRom:function(sf,af,lf,cf,uf){rf(af,lf,uf*(lf-sf),uf*(cf-af))},initNonuniformCatmullRom:function(sf,af,lf,cf,uf,ff,df){var gf=(af-sf)/uf-(lf-sf)/(uf+ff)+(lf-af)/ff,_f=(lf-af)/ff-(cf-af)/(ff+df)+(cf-lf)/df;gf*=ff,_f*=ff,rf(af,lf,gf,_f)},calc:function(sf){var af=sf*sf,lf=af*sf;return Qc+ef*sf+tf*af+nf*lf}}}var tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;function CatmullRomCurve3(Qc,ef,tf,nf){Curve.call(this),this.type="CatmullRomCurve3",this.points=Qc||[],this.closed=ef||!1,this.curveType=tf||"centripetal",this.tension=nf||.5}CatmullRomCurve3.prototype=Object.create(Curve.prototype);CatmullRomCurve3.prototype.constructor=CatmullRomCurve3;CatmullRomCurve3.prototype.isCatmullRomCurve3=!0;CatmullRomCurve3.prototype.getPoint=function(Qc,ef){var tf=ef||new Vector3,nf=this.points,rf=nf.length,sf=(rf-(this.closed?0:1))*Qc,af=Math.floor(sf),lf=sf-af;this.closed?af+=af>0?0:(Math.floor(Math.abs(af)/rf)+1)*rf:lf===0&&af===rf-1&&(af=rf-2,lf=1);var cf,uf,ff,df;if(this.closed||af>0?cf=nf[(af-1)%rf]:(tmp.subVectors(nf[0],nf[1]).add(nf[0]),cf=tmp),uf=nf[af%rf],ff=nf[(af+1)%rf],this.closed||af+2<rf?df=nf[(af+2)%rf]:(tmp.subVectors(nf[rf-1],nf[rf-2]).add(nf[rf-1]),df=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){var gf=this.curveType==="chordal"?.5:.25,_f=Math.pow(cf.distanceToSquared(uf),gf),xf=Math.pow(uf.distanceToSquared(ff),gf),Af=Math.pow(ff.distanceToSquared(df),gf);xf<1e-4&&(xf=1),_f<1e-4&&(_f=xf),Af<1e-4&&(Af=xf),px.initNonuniformCatmullRom(cf.x,uf.x,ff.x,df.x,_f,xf,Af),py.initNonuniformCatmullRom(cf.y,uf.y,ff.y,df.y,_f,xf,Af),pz.initNonuniformCatmullRom(cf.z,uf.z,ff.z,df.z,_f,xf,Af)}else this.curveType==="catmullrom"&&(px.initCatmullRom(cf.x,uf.x,ff.x,df.x,this.tension),py.initCatmullRom(cf.y,uf.y,ff.y,df.y,this.tension),pz.initCatmullRom(cf.z,uf.z,ff.z,df.z,this.tension));return tf.set(px.calc(lf),py.calc(lf),pz.calc(lf)),tf};CatmullRomCurve3.prototype.copy=function(Qc){Curve.prototype.copy.call(this,Qc),this.points=[];for(var ef=0,tf=Qc.points.length;ef<tf;ef++){var nf=Qc.points[ef];this.points.push(nf.clone())}return this.closed=Qc.closed,this.curveType=Qc.curveType,this.tension=Qc.tension,this};CatmullRomCurve3.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);Qc.points=[];for(var ef=0,tf=this.points.length;ef<tf;ef++){var nf=this.points[ef];Qc.points.push(nf.toArray())}return Qc.closed=this.closed,Qc.curveType=this.curveType,Qc.tension=this.tension,Qc};CatmullRomCurve3.prototype.fromJSON=function(Qc){Curve.prototype.fromJSON.call(this,Qc),this.points=[];for(var ef=0,tf=Qc.points.length;ef<tf;ef++){var nf=Qc.points[ef];this.points.push(new Vector3().fromArray(nf))}return this.closed=Qc.closed,this.curveType=Qc.curveType,this.tension=Qc.tension,this};function CatmullRom(Qc,ef,tf,nf,rf){var sf=(nf-ef)*.5,af=(rf-tf)*.5,lf=Qc*Qc,cf=Qc*lf;return(2*tf-2*nf+sf+af)*cf+(-3*tf+3*nf-2*sf-af)*lf+sf*Qc+tf}function QuadraticBezierP0(Qc,ef){var tf=1-Qc;return tf*tf*ef}function QuadraticBezierP1(Qc,ef){return 2*(1-Qc)*Qc*ef}function QuadraticBezierP2(Qc,ef){return Qc*Qc*ef}function QuadraticBezier(Qc,ef,tf,nf){return QuadraticBezierP0(Qc,ef)+QuadraticBezierP1(Qc,tf)+QuadraticBezierP2(Qc,nf)}function CubicBezierP0(Qc,ef){var tf=1-Qc;return tf*tf*tf*ef}function CubicBezierP1(Qc,ef){var tf=1-Qc;return 3*tf*tf*Qc*ef}function CubicBezierP2(Qc,ef){return 3*(1-Qc)*Qc*Qc*ef}function CubicBezierP3(Qc,ef){return Qc*Qc*Qc*ef}function CubicBezier(Qc,ef,tf,nf,rf){return CubicBezierP0(Qc,ef)+CubicBezierP1(Qc,tf)+CubicBezierP2(Qc,nf)+CubicBezierP3(Qc,rf)}function CubicBezierCurve(Qc,ef,tf,nf){Curve.call(this),this.type="CubicBezierCurve",this.v0=Qc||new Vector2,this.v1=ef||new Vector2,this.v2=tf||new Vector2,this.v3=nf||new Vector2}CubicBezierCurve.prototype=Object.create(Curve.prototype);CubicBezierCurve.prototype.constructor=CubicBezierCurve;CubicBezierCurve.prototype.isCubicBezierCurve=!0;CubicBezierCurve.prototype.getPoint=function(Qc,ef){var tf=ef||new Vector2,nf=this.v0,rf=this.v1,sf=this.v2,af=this.v3;return tf.set(CubicBezier(Qc,nf.x,rf.x,sf.x,af.x),CubicBezier(Qc,nf.y,rf.y,sf.y,af.y)),tf};CubicBezierCurve.prototype.copy=function(Qc){return Curve.prototype.copy.call(this,Qc),this.v0.copy(Qc.v0),this.v1.copy(Qc.v1),this.v2.copy(Qc.v2),this.v3.copy(Qc.v3),this};CubicBezierCurve.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);return Qc.v0=this.v0.toArray(),Qc.v1=this.v1.toArray(),Qc.v2=this.v2.toArray(),Qc.v3=this.v3.toArray(),Qc};CubicBezierCurve.prototype.fromJSON=function(Qc){return Curve.prototype.fromJSON.call(this,Qc),this.v0.fromArray(Qc.v0),this.v1.fromArray(Qc.v1),this.v2.fromArray(Qc.v2),this.v3.fromArray(Qc.v3),this};function CubicBezierCurve3(Qc,ef,tf,nf){Curve.call(this),this.type="CubicBezierCurve3",this.v0=Qc||new Vector3,this.v1=ef||new Vector3,this.v2=tf||new Vector3,this.v3=nf||new Vector3}CubicBezierCurve3.prototype=Object.create(Curve.prototype);CubicBezierCurve3.prototype.constructor=CubicBezierCurve3;CubicBezierCurve3.prototype.isCubicBezierCurve3=!0;CubicBezierCurve3.prototype.getPoint=function(Qc,ef){var tf=ef||new Vector3,nf=this.v0,rf=this.v1,sf=this.v2,af=this.v3;return tf.set(CubicBezier(Qc,nf.x,rf.x,sf.x,af.x),CubicBezier(Qc,nf.y,rf.y,sf.y,af.y),CubicBezier(Qc,nf.z,rf.z,sf.z,af.z)),tf};CubicBezierCurve3.prototype.copy=function(Qc){return Curve.prototype.copy.call(this,Qc),this.v0.copy(Qc.v0),this.v1.copy(Qc.v1),this.v2.copy(Qc.v2),this.v3.copy(Qc.v3),this};CubicBezierCurve3.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);return Qc.v0=this.v0.toArray(),Qc.v1=this.v1.toArray(),Qc.v2=this.v2.toArray(),Qc.v3=this.v3.toArray(),Qc};CubicBezierCurve3.prototype.fromJSON=function(Qc){return Curve.prototype.fromJSON.call(this,Qc),this.v0.fromArray(Qc.v0),this.v1.fromArray(Qc.v1),this.v2.fromArray(Qc.v2),this.v3.fromArray(Qc.v3),this};function LineCurve(Qc,ef){Curve.call(this),this.type="LineCurve",this.v1=Qc||new Vector2,this.v2=ef||new Vector2}LineCurve.prototype=Object.create(Curve.prototype);LineCurve.prototype.constructor=LineCurve;LineCurve.prototype.isLineCurve=!0;LineCurve.prototype.getPoint=function(Qc,ef){var tf=ef||new Vector2;return Qc===1?tf.copy(this.v2):(tf.copy(this.v2).sub(this.v1),tf.multiplyScalar(Qc).add(this.v1)),tf};LineCurve.prototype.getPointAt=function(Qc,ef){return this.getPoint(Qc,ef)};LineCurve.prototype.getTangent=function(){var Qc=this.v2.clone().sub(this.v1);return Qc.normalize()};LineCurve.prototype.copy=function(Qc){return Curve.prototype.copy.call(this,Qc),this.v1.copy(Qc.v1),this.v2.copy(Qc.v2),this};LineCurve.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);return Qc.v1=this.v1.toArray(),Qc.v2=this.v2.toArray(),Qc};LineCurve.prototype.fromJSON=function(Qc){return Curve.prototype.fromJSON.call(this,Qc),this.v1.fromArray(Qc.v1),this.v2.fromArray(Qc.v2),this};function LineCurve3(Qc,ef){Curve.call(this),this.type="LineCurve3",this.v1=Qc||new Vector3,this.v2=ef||new Vector3}LineCurve3.prototype=Object.create(Curve.prototype);LineCurve3.prototype.constructor=LineCurve3;LineCurve3.prototype.isLineCurve3=!0;LineCurve3.prototype.getPoint=function(Qc,ef){var tf=ef||new Vector3;return Qc===1?tf.copy(this.v2):(tf.copy(this.v2).sub(this.v1),tf.multiplyScalar(Qc).add(this.v1)),tf};LineCurve3.prototype.getPointAt=function(Qc,ef){return this.getPoint(Qc,ef)};LineCurve3.prototype.copy=function(Qc){return Curve.prototype.copy.call(this,Qc),this.v1.copy(Qc.v1),this.v2.copy(Qc.v2),this};LineCurve3.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);return Qc.v1=this.v1.toArray(),Qc.v2=this.v2.toArray(),Qc};LineCurve3.prototype.fromJSON=function(Qc){return Curve.prototype.fromJSON.call(this,Qc),this.v1.fromArray(Qc.v1),this.v2.fromArray(Qc.v2),this};function QuadraticBezierCurve(Qc,ef,tf){Curve.call(this),this.type="QuadraticBezierCurve",this.v0=Qc||new Vector2,this.v1=ef||new Vector2,this.v2=tf||new Vector2}QuadraticBezierCurve.prototype=Object.create(Curve.prototype);QuadraticBezierCurve.prototype.constructor=QuadraticBezierCurve;QuadraticBezierCurve.prototype.isQuadraticBezierCurve=!0;QuadraticBezierCurve.prototype.getPoint=function(Qc,ef){var tf=ef||new Vector2,nf=this.v0,rf=this.v1,sf=this.v2;return tf.set(QuadraticBezier(Qc,nf.x,rf.x,sf.x),QuadraticBezier(Qc,nf.y,rf.y,sf.y)),tf};QuadraticBezierCurve.prototype.copy=function(Qc){return Curve.prototype.copy.call(this,Qc),this.v0.copy(Qc.v0),this.v1.copy(Qc.v1),this.v2.copy(Qc.v2),this};QuadraticBezierCurve.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);return Qc.v0=this.v0.toArray(),Qc.v1=this.v1.toArray(),Qc.v2=this.v2.toArray(),Qc};QuadraticBezierCurve.prototype.fromJSON=function(Qc){return Curve.prototype.fromJSON.call(this,Qc),this.v0.fromArray(Qc.v0),this.v1.fromArray(Qc.v1),this.v2.fromArray(Qc.v2),this};function QuadraticBezierCurve3(Qc,ef,tf){Curve.call(this),this.type="QuadraticBezierCurve3",this.v0=Qc||new Vector3,this.v1=ef||new Vector3,this.v2=tf||new Vector3}QuadraticBezierCurve3.prototype=Object.create(Curve.prototype);QuadraticBezierCurve3.prototype.constructor=QuadraticBezierCurve3;QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3=!0;QuadraticBezierCurve3.prototype.getPoint=function(Qc,ef){var tf=ef||new Vector3,nf=this.v0,rf=this.v1,sf=this.v2;return tf.set(QuadraticBezier(Qc,nf.x,rf.x,sf.x),QuadraticBezier(Qc,nf.y,rf.y,sf.y),QuadraticBezier(Qc,nf.z,rf.z,sf.z)),tf};QuadraticBezierCurve3.prototype.copy=function(Qc){return Curve.prototype.copy.call(this,Qc),this.v0.copy(Qc.v0),this.v1.copy(Qc.v1),this.v2.copy(Qc.v2),this};QuadraticBezierCurve3.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);return Qc.v0=this.v0.toArray(),Qc.v1=this.v1.toArray(),Qc.v2=this.v2.toArray(),Qc};QuadraticBezierCurve3.prototype.fromJSON=function(Qc){return Curve.prototype.fromJSON.call(this,Qc),this.v0.fromArray(Qc.v0),this.v1.fromArray(Qc.v1),this.v2.fromArray(Qc.v2),this};function SplineCurve(Qc){Curve.call(this),this.type="SplineCurve",this.points=Qc||[]}SplineCurve.prototype=Object.create(Curve.prototype);SplineCurve.prototype.constructor=SplineCurve;SplineCurve.prototype.isSplineCurve=!0;SplineCurve.prototype.getPoint=function(Qc,ef){var tf=ef||new Vector2,nf=this.points,rf=(nf.length-1)*Qc,sf=Math.floor(rf),af=rf-sf,lf=nf[sf===0?sf:sf-1],cf=nf[sf],uf=nf[sf>nf.length-2?nf.length-1:sf+1],ff=nf[sf>nf.length-3?nf.length-1:sf+2];return tf.set(CatmullRom(af,lf.x,cf.x,uf.x,ff.x),CatmullRom(af,lf.y,cf.y,uf.y,ff.y)),tf};SplineCurve.prototype.copy=function(Qc){Curve.prototype.copy.call(this,Qc),this.points=[];for(var ef=0,tf=Qc.points.length;ef<tf;ef++){var nf=Qc.points[ef];this.points.push(nf.clone())}return this};SplineCurve.prototype.toJSON=function(){var Qc=Curve.prototype.toJSON.call(this);Qc.points=[];for(var ef=0,tf=this.points.length;ef<tf;ef++){var nf=this.points[ef];Qc.points.push(nf.toArray())}return Qc};SplineCurve.prototype.fromJSON=function(Qc){Curve.prototype.fromJSON.call(this,Qc),this.points=[];for(var ef=0,tf=Qc.points.length;ef<tf;ef++){var nf=Qc.points[ef];this.points.push(new Vector2().fromArray(nf))}return this};var Curves=Object.freeze({ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});function CurvePath(){Curve.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}CurvePath.prototype=Object.assign(Object.create(Curve.prototype),{constructor:CurvePath,add:function(Qc){this.curves.push(Qc)},closePath:function(){var Qc=this.curves[0].getPoint(0),ef=this.curves[this.curves.length-1].getPoint(1);Qc.equals(ef)||this.curves.push(new LineCurve(ef,Qc))},getPoint:function(Qc){for(var ef=Qc*this.getLength(),tf=this.getCurveLengths(),nf=0;nf<tf.length;){if(tf[nf]>=ef){var rf=tf[nf]-ef,sf=this.curves[nf],af=sf.getLength(),lf=af===0?0:1-rf/af;return sf.getPointAt(lf)}nf++}return null},getLength:function(){var Qc=this.getCurveLengths();return Qc[Qc.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var Qc=[],ef=0,tf=0,nf=this.curves.length;tf<nf;tf++)ef+=this.curves[tf].getLength(),Qc.push(ef);return this.cacheLengths=Qc,Qc},getSpacedPoints:function(Qc){Qc===void 0&&(Qc=40);for(var ef=[],tf=0;tf<=Qc;tf++)ef.push(this.getPoint(tf/Qc));return this.autoClose&&ef.push(ef[0]),ef},getPoints:function(Qc){Qc=Qc||12;for(var ef=[],tf,nf=0,rf=this.curves;nf<rf.length;nf++)for(var sf=rf[nf],af=sf&&sf.isEllipseCurve?Qc*2:sf&&(sf.isLineCurve||sf.isLineCurve3)?1:sf&&sf.isSplineCurve?Qc*sf.points.length:Qc,lf=sf.getPoints(af),cf=0;cf<lf.length;cf++){var uf=lf[cf];tf&&tf.equals(uf)||(ef.push(uf),tf=uf)}return this.autoClose&&ef.length>1&&!ef[ef.length-1].equals(ef[0])&&ef.push(ef[0]),ef},copy:function(Qc){Curve.prototype.copy.call(this,Qc),this.curves=[];for(var ef=0,tf=Qc.curves.length;ef<tf;ef++){var nf=Qc.curves[ef];this.curves.push(nf.clone())}return this.autoClose=Qc.autoClose,this},toJSON:function(){var Qc=Curve.prototype.toJSON.call(this);Qc.autoClose=this.autoClose,Qc.curves=[];for(var ef=0,tf=this.curves.length;ef<tf;ef++){var nf=this.curves[ef];Qc.curves.push(nf.toJSON())}return Qc},fromJSON:function(Qc){Curve.prototype.fromJSON.call(this,Qc),this.autoClose=Qc.autoClose,this.curves=[];for(var ef=0,tf=Qc.curves.length;ef<tf;ef++){var nf=Qc.curves[ef];this.curves.push(new Curves[nf.type]().fromJSON(nf))}return this}});function Path(Qc){CurvePath.call(this),this.type="Path",this.currentPoint=new Vector2,Qc&&this.setFromPoints(Qc)}Path.prototype=Object.assign(Object.create(CurvePath.prototype),{constructor:Path,setFromPoints:function(Qc){this.moveTo(Qc[0].x,Qc[0].y);for(var ef=1,tf=Qc.length;ef<tf;ef++)this.lineTo(Qc[ef].x,Qc[ef].y)},moveTo:function(Qc,ef){this.currentPoint.set(Qc,ef)},lineTo:function(Qc,ef){var tf=new LineCurve(this.currentPoint.clone(),new Vector2(Qc,ef));this.curves.push(tf),this.currentPoint.set(Qc,ef)},quadraticCurveTo:function(Qc,ef,tf,nf){var rf=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(Qc,ef),new Vector2(tf,nf));this.curves.push(rf),this.currentPoint.set(tf,nf)},bezierCurveTo:function(Qc,ef,tf,nf,rf,sf){var af=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(Qc,ef),new Vector2(tf,nf),new Vector2(rf,sf));this.curves.push(af),this.currentPoint.set(rf,sf)},splineThru:function(Qc){var ef=[this.currentPoint.clone()].concat(Qc),tf=new SplineCurve(ef);this.curves.push(tf),this.currentPoint.copy(Qc[Qc.length-1])},arc:function(Qc,ef,tf,nf,rf,sf){var af=this.currentPoint.x,lf=this.currentPoint.y;this.absarc(Qc+af,ef+lf,tf,nf,rf,sf)},absarc:function(Qc,ef,tf,nf,rf,sf){this.absellipse(Qc,ef,tf,tf,nf,rf,sf)},ellipse:function(Qc,ef,tf,nf,rf,sf,af,lf){var cf=this.currentPoint.x,uf=this.currentPoint.y;this.absellipse(Qc+cf,ef+uf,tf,nf,rf,sf,af,lf)},absellipse:function(Qc,ef,tf,nf,rf,sf,af,lf){var cf=new EllipseCurve(Qc,ef,tf,nf,rf,sf,af,lf);if(this.curves.length>0){var uf=cf.getPoint(0);uf.equals(this.currentPoint)||this.lineTo(uf.x,uf.y)}this.curves.push(cf);var ff=cf.getPoint(1);this.currentPoint.copy(ff)},copy:function(Qc){return CurvePath.prototype.copy.call(this,Qc),this.currentPoint.copy(Qc.currentPoint),this},toJSON:function(){var Qc=CurvePath.prototype.toJSON.call(this);return Qc.currentPoint=this.currentPoint.toArray(),Qc},fromJSON:function(Qc){return CurvePath.prototype.fromJSON.call(this,Qc),this.currentPoint.fromArray(Qc.currentPoint),this}});function Shape(Qc){Path.call(this,Qc),this.uuid=_Math.generateUUID(),this.type="Shape",this.holes=[]}Shape.prototype=Object.assign(Object.create(Path.prototype),{constructor:Shape,getPointsHoles:function(Qc){for(var ef=[],tf=0,nf=this.holes.length;tf<nf;tf++)ef[tf]=this.holes[tf].getPoints(Qc);return ef},extractPoints:function(Qc){return{shape:this.getPoints(Qc),holes:this.getPointsHoles(Qc)}},copy:function(Qc){Path.prototype.copy.call(this,Qc),this.holes=[];for(var ef=0,tf=Qc.holes.length;ef<tf;ef++){var nf=Qc.holes[ef];this.holes.push(nf.clone())}return this},toJSON:function(){var Qc=Path.prototype.toJSON.call(this);Qc.uuid=this.uuid,Qc.holes=[];for(var ef=0,tf=this.holes.length;ef<tf;ef++){var nf=this.holes[ef];Qc.holes.push(nf.toJSON())}return Qc},fromJSON:function(Qc){Path.prototype.fromJSON.call(this,Qc),this.uuid=Qc.uuid,this.holes=[];for(var ef=0,tf=Qc.holes.length;ef<tf;ef++){var nf=Qc.holes[ef];this.holes.push(new Path().fromJSON(nf))}return this}});function Light(Qc,ef){Object3D.call(this),this.type="Light",this.color=new Color$1(Qc),this.intensity=ef!==void 0?ef:1,this.receiveShadow=void 0}Light.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Light,isLight:!0,copy:function(Qc){return Object3D.prototype.copy.call(this,Qc),this.color.copy(Qc.color),this.intensity=Qc.intensity,this},toJSON:function(Qc){var ef=Object3D.prototype.toJSON.call(this,Qc);return ef.object.color=this.color.getHex(),ef.object.intensity=this.intensity,this.groundColor!==void 0&&(ef.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(ef.object.distance=this.distance),this.angle!==void 0&&(ef.object.angle=this.angle),this.decay!==void 0&&(ef.object.decay=this.decay),this.penumbra!==void 0&&(ef.object.penumbra=this.penumbra),this.shadow!==void 0&&(ef.object.shadow=this.shadow.toJSON()),ef}});function HemisphereLight(Qc,ef,tf){Light.call(this,Qc,tf),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color$1(ef)}HemisphereLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:HemisphereLight,isHemisphereLight:!0,copy:function(Qc){return Light.prototype.copy.call(this,Qc),this.groundColor.copy(Qc.groundColor),this}});function LightShadow(Qc){this.camera=Qc,this.bias=0,this.radius=1,this.mapSize=new Vector2(512,512),this.map=null,this.matrix=new Matrix4}Object.assign(LightShadow.prototype,{copy:function(Qc){return this.camera=Qc.camera.clone(),this.bias=Qc.bias,this.radius=Qc.radius,this.mapSize.copy(Qc.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var Qc={};return this.bias!==0&&(Qc.bias=this.bias),this.radius!==1&&(Qc.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(Qc.mapSize=this.mapSize.toArray()),Qc.camera=this.camera.toJSON(!1).object,delete Qc.camera.matrix,Qc}});function SpotLightShadow(){LightShadow.call(this,new PerspectiveCamera(50,1,.5,500))}SpotLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:SpotLightShadow,isSpotLightShadow:!0,update:function(Qc){var ef=this.camera,tf=_Math.RAD2DEG*2*Qc.angle,nf=this.mapSize.width/this.mapSize.height,rf=Qc.distance||ef.far;(tf!==ef.fov||nf!==ef.aspect||rf!==ef.far)&&(ef.fov=tf,ef.aspect=nf,ef.far=rf,ef.updateProjectionMatrix())}});function SpotLight(Qc,ef,tf,nf,rf,sf){Light.call(this,Qc,ef),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(af){this.intensity=af/Math.PI}}),this.distance=tf!==void 0?tf:0,this.angle=nf!==void 0?nf:Math.PI/3,this.penumbra=rf!==void 0?rf:0,this.decay=sf!==void 0?sf:1,this.shadow=new SpotLightShadow}SpotLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:SpotLight,isSpotLight:!0,copy:function(Qc){return Light.prototype.copy.call(this,Qc),this.distance=Qc.distance,this.angle=Qc.angle,this.penumbra=Qc.penumbra,this.decay=Qc.decay,this.target=Qc.target.clone(),this.shadow=Qc.shadow.clone(),this}});function PointLight(Qc,ef,tf,nf){Light.call(this,Qc,ef),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(rf){this.intensity=rf/(4*Math.PI)}}),this.distance=tf!==void 0?tf:0,this.decay=nf!==void 0?nf:1,this.shadow=new LightShadow(new PerspectiveCamera(90,1,.5,500))}PointLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:PointLight,isPointLight:!0,copy:function(Qc){return Light.prototype.copy.call(this,Qc),this.distance=Qc.distance,this.decay=Qc.decay,this.shadow=Qc.shadow.clone(),this}});function OrthographicCamera(Qc,ef,tf,nf,rf,sf){Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=Qc,this.right=ef,this.top=tf,this.bottom=nf,this.near=rf!==void 0?rf:.1,this.far=sf!==void 0?sf:2e3,this.updateProjectionMatrix()}OrthographicCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:OrthographicCamera,isOrthographicCamera:!0,copy:function(Qc,ef){return Camera.prototype.copy.call(this,Qc,ef),this.left=Qc.left,this.right=Qc.right,this.top=Qc.top,this.bottom=Qc.bottom,this.near=Qc.near,this.far=Qc.far,this.zoom=Qc.zoom,this.view=Qc.view===null?null:Object.assign({},Qc.view),this},setViewOffset:function(Qc,ef,tf,nf,rf,sf){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=Qc,this.view.fullHeight=ef,this.view.offsetX=tf,this.view.offsetY=nf,this.view.width=rf,this.view.height=sf,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var Qc=(this.right-this.left)/(2*this.zoom),ef=(this.top-this.bottom)/(2*this.zoom),tf=(this.right+this.left)/2,nf=(this.top+this.bottom)/2,rf=tf-Qc,sf=tf+Qc,af=nf+ef,lf=nf-ef;if(this.view!==null&&this.view.enabled){var cf=this.zoom/(this.view.width/this.view.fullWidth),uf=this.zoom/(this.view.height/this.view.fullHeight),ff=(this.right-this.left)/this.view.width,df=(this.top-this.bottom)/this.view.height;rf+=ff*(this.view.offsetX/cf),sf=rf+ff*(this.view.width/cf),af-=df*(this.view.offsetY/uf),lf=af-df*(this.view.height/uf)}this.projectionMatrix.makeOrthographic(rf,sf,af,lf,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(Qc){var ef=Object3D.prototype.toJSON.call(this,Qc);return ef.object.zoom=this.zoom,ef.object.left=this.left,ef.object.right=this.right,ef.object.top=this.top,ef.object.bottom=this.bottom,ef.object.near=this.near,ef.object.far=this.far,this.view!==null&&(ef.object.view=Object.assign({},this.view)),ef}});function DirectionalLightShadow(){LightShadow.call(this,new OrthographicCamera(-5,5,5,-5,.5,500))}DirectionalLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:DirectionalLightShadow});function DirectionalLight(Qc,ef){Light.call(this,Qc,ef),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}DirectionalLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:DirectionalLight,isDirectionalLight:!0,copy:function(Qc){return Light.prototype.copy.call(this,Qc),this.target=Qc.target.clone(),this.shadow=Qc.shadow.clone(),this}});function AmbientLight(Qc,ef){Light.call(this,Qc,ef),this.type="AmbientLight",this.castShadow=void 0}AmbientLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:AmbientLight,isAmbientLight:!0});function RectAreaLight(Qc,ef,tf,nf){Light.call(this,Qc,ef),this.type="RectAreaLight",this.width=tf!==void 0?tf:10,this.height=nf!==void 0?nf:10}RectAreaLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:RectAreaLight,isRectAreaLight:!0,copy:function(Qc){return Light.prototype.copy.call(this,Qc),this.width=Qc.width,this.height=Qc.height,this},toJSON:function(Qc){var ef=Light.prototype.toJSON.call(this,Qc);return ef.object.width=this.width,ef.object.height=this.height,ef}});var AnimationUtils={arraySlice:function(Qc,ef,tf){return AnimationUtils.isTypedArray(Qc)?new Qc.constructor(Qc.subarray(ef,tf!==void 0?tf:Qc.length)):Qc.slice(ef,tf)},convertArray:function(Qc,ef,tf){return!Qc||!tf&&Qc.constructor===ef?Qc:typeof ef.BYTES_PER_ELEMENT=="number"?new ef(Qc):Array.prototype.slice.call(Qc)},isTypedArray:function(Qc){return ArrayBuffer.isView(Qc)&&!(Qc instanceof DataView)},getKeyframeOrder:function(Qc){function ef(sf,af){return Qc[sf]-Qc[af]}for(var tf=Qc.length,nf=new Array(tf),rf=0;rf!==tf;++rf)nf[rf]=rf;return nf.sort(ef),nf},sortedArray:function(Qc,ef,tf){for(var nf=Qc.length,rf=new Qc.constructor(nf),sf=0,af=0;af!==nf;++sf)for(var lf=tf[sf]*ef,cf=0;cf!==ef;++cf)rf[af++]=Qc[lf+cf];return rf},flattenJSON:function(Qc,ef,tf,nf){for(var rf=1,sf=Qc[0];sf!==void 0&&sf[nf]===void 0;)sf=Qc[rf++];if(sf!==void 0){var af=sf[nf];if(af!==void 0)if(Array.isArray(af))do af=sf[nf],af!==void 0&&(ef.push(sf.time),tf.push.apply(tf,af)),sf=Qc[rf++];while(sf!==void 0);else if(af.toArray!==void 0)do af=sf[nf],af!==void 0&&(ef.push(sf.time),af.toArray(tf,tf.length)),sf=Qc[rf++];while(sf!==void 0);else do af=sf[nf],af!==void 0&&(ef.push(sf.time),tf.push(af)),sf=Qc[rf++];while(sf!==void 0)}}};function Interpolant(Qc,ef,tf,nf){this.parameterPositions=Qc,this._cachedIndex=0,this.resultBuffer=nf!==void 0?nf:new ef.constructor(tf),this.sampleValues=ef,this.valueSize=tf}Object.assign(Interpolant.prototype,{evaluate:function(Qc){var ef=this.parameterPositions,tf=this._cachedIndex,nf=ef[tf],rf=ef[tf-1];e:{t:{var sf;i:{n:if(!(Qc<nf)){for(var af=tf+2;;){if(nf===void 0){if(Qc<rf)break n;return tf=ef.length,this._cachedIndex=tf,this.afterEnd_(tf-1,Qc,rf)}if(tf===af)break;if(rf=nf,nf=ef[++tf],Qc<nf)break t}sf=ef.length;break i}if(!(Qc>=rf)){var lf=ef[1];Qc<lf&&(tf=2,rf=lf);for(var af=tf-2;;){if(rf===void 0)return this._cachedIndex=0,this.beforeStart_(0,Qc,nf);if(tf===af)break;if(nf=rf,rf=ef[--tf-1],Qc>=rf)break t}sf=tf,tf=0;break i}break e}for(;tf<sf;){var cf=tf+sf>>>1;Qc<ef[cf]?sf=cf:tf=cf+1}if(nf=ef[tf],rf=ef[tf-1],rf===void 0)return this._cachedIndex=0,this.beforeStart_(0,Qc,nf);if(nf===void 0)return tf=ef.length,this._cachedIndex=tf,this.afterEnd_(tf-1,rf,Qc)}this._cachedIndex=tf,this.intervalChanged_(tf,rf,nf)}return this.interpolate_(tf,rf,Qc,nf)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(Qc){for(var ef=this.resultBuffer,tf=this.sampleValues,nf=this.valueSize,rf=Qc*nf,sf=0;sf!==nf;++sf)ef[sf]=tf[rf+sf];return ef},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Interpolant.prototype,{beforeStart_:Interpolant.prototype.copySampleValue_,afterEnd_:Interpolant.prototype.copySampleValue_});function CubicInterpolant(Qc,ef,tf,nf){Interpolant.call(this,Qc,ef,tf,nf),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}CubicInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:CubicInterpolant,DefaultSettings_:{endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},intervalChanged_:function(Qc,ef,tf){var nf=this.parameterPositions,rf=Qc-2,sf=Qc+1,af=nf[rf],lf=nf[sf];if(af===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:rf=Qc,af=2*ef-tf;break;case WrapAroundEnding:rf=nf.length-2,af=ef+nf[rf]-nf[rf+1];break;default:rf=Qc,af=tf}if(lf===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:sf=Qc,lf=2*tf-ef;break;case WrapAroundEnding:sf=1,lf=tf+nf[1]-nf[0];break;default:sf=Qc-1,lf=ef}var cf=(tf-ef)*.5,uf=this.valueSize;this._weightPrev=cf/(ef-af),this._weightNext=cf/(lf-tf),this._offsetPrev=rf*uf,this._offsetNext=sf*uf},interpolate_:function(Qc,ef,tf,nf){for(var rf=this.resultBuffer,sf=this.sampleValues,af=this.valueSize,lf=Qc*af,cf=lf-af,uf=this._offsetPrev,ff=this._offsetNext,df=this._weightPrev,gf=this._weightNext,_f=(tf-ef)/(nf-ef),xf=_f*_f,Af=xf*_f,Df=-df*Af+2*df*xf-df*_f,Of=(1+df)*Af+(-1.5-2*df)*xf+(-.5+df)*_f+1,Gf=(-1-gf)*Af+(1.5+gf)*xf+.5*_f,Bf=gf*Af-gf*xf,Vf=0;Vf!==af;++Vf)rf[Vf]=Df*sf[uf+Vf]+Of*sf[cf+Vf]+Gf*sf[lf+Vf]+Bf*sf[ff+Vf];return rf}});function LinearInterpolant(Qc,ef,tf,nf){Interpolant.call(this,Qc,ef,tf,nf)}LinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:LinearInterpolant,interpolate_:function(Qc,ef,tf,nf){for(var rf=this.resultBuffer,sf=this.sampleValues,af=this.valueSize,lf=Qc*af,cf=lf-af,uf=(tf-ef)/(nf-ef),ff=1-uf,df=0;df!==af;++df)rf[df]=sf[cf+df]*ff+sf[lf+df]*uf;return rf}});function DiscreteInterpolant(Qc,ef,tf,nf){Interpolant.call(this,Qc,ef,tf,nf)}DiscreteInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:DiscreteInterpolant,interpolate_:function(Qc){return this.copySampleValue_(Qc-1)}});function KeyframeTrack(Qc,ef,tf,nf){if(Qc===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(ef===void 0||ef.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+Qc);this.name=Qc,this.times=AnimationUtils.convertArray(ef,this.TimeBufferType),this.values=AnimationUtils.convertArray(tf,this.ValueBufferType),this.setInterpolation(nf||this.DefaultInterpolation)}Object.assign(KeyframeTrack,{toJSON:function(Qc){var ef=Qc.constructor,tf;if(ef.toJSON!==void 0)tf=ef.toJSON(Qc);else{tf={name:Qc.name,times:AnimationUtils.convertArray(Qc.times,Array),values:AnimationUtils.convertArray(Qc.values,Array)};var nf=Qc.getInterpolation();nf!==Qc.DefaultInterpolation&&(tf.interpolation=nf)}return tf.type=Qc.ValueTypeName,tf}});Object.assign(KeyframeTrack.prototype,{constructor:KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:InterpolateLinear,InterpolantFactoryMethodDiscrete:function(Qc){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),Qc)},InterpolantFactoryMethodLinear:function(Qc){return new LinearInterpolant(this.times,this.values,this.getValueSize(),Qc)},InterpolantFactoryMethodSmooth:function(Qc){return new CubicInterpolant(this.times,this.values,this.getValueSize(),Qc)},setInterpolation:function(Qc){var ef;switch(Qc){case InterpolateDiscrete:ef=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:ef=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:ef=this.InterpolantFactoryMethodSmooth;break}if(ef===void 0){var tf="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(Qc!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(tf);return console.warn("THREE.KeyframeTrack:",tf),this}return this.createInterpolant=ef,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(Qc){if(Qc!==0)for(var ef=this.times,tf=0,nf=ef.length;tf!==nf;++tf)ef[tf]+=Qc;return this},scale:function(Qc){if(Qc!==1)for(var ef=this.times,tf=0,nf=ef.length;tf!==nf;++tf)ef[tf]*=Qc;return this},trim:function(Qc,ef){for(var tf=this.times,nf=tf.length,rf=0,sf=nf-1;rf!==nf&&tf[rf]<Qc;)++rf;for(;sf!==-1&&tf[sf]>ef;)--sf;if(++sf,rf!==0||sf!==nf){rf>=sf&&(sf=Math.max(sf,1),rf=sf-1);var af=this.getValueSize();this.times=AnimationUtils.arraySlice(tf,rf,sf),this.values=AnimationUtils.arraySlice(this.values,rf*af,sf*af)}return this},validate:function(){var Qc=!0,ef=this.getValueSize();ef-Math.floor(ef)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),Qc=!1);var tf=this.times,nf=this.values,rf=tf.length;rf===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),Qc=!1);for(var sf=null,af=0;af!==rf;af++){var lf=tf[af];if(typeof lf=="number"&&isNaN(lf)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,af,lf),Qc=!1;break}if(sf!==null&&sf>lf){console.error("THREE.KeyframeTrack: Out of order keys.",this,af,lf,sf),Qc=!1;break}sf=lf}if(nf!==void 0&&AnimationUtils.isTypedArray(nf))for(var af=0,cf=nf.length;af!==cf;++af){var uf=nf[af];if(isNaN(uf)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,af,uf),Qc=!1;break}}return Qc},optimize:function(){for(var Qc=this.times,ef=this.values,tf=this.getValueSize(),nf=this.getInterpolation()===InterpolateSmooth,rf=1,sf=Qc.length-1,af=1;af<sf;++af){var lf=!1,cf=Qc[af],uf=Qc[af+1];if(cf!==uf&&(af!==1||cf!==cf[0]))if(nf)lf=!0;else for(var ff=af*tf,df=ff-tf,gf=ff+tf,_f=0;_f!==tf;++_f){var xf=ef[ff+_f];if(xf!==ef[df+_f]||xf!==ef[gf+_f]){lf=!0;break}}if(lf){if(af!==rf){Qc[rf]=Qc[af];for(var Af=af*tf,Df=rf*tf,_f=0;_f!==tf;++_f)ef[Df+_f]=ef[Af+_f]}++rf}}if(sf>0){Qc[rf]=Qc[sf];for(var Af=sf*tf,Df=rf*tf,_f=0;_f!==tf;++_f)ef[Df+_f]=ef[Af+_f];++rf}return rf!==Qc.length&&(this.times=AnimationUtils.arraySlice(Qc,0,rf),this.values=AnimationUtils.arraySlice(ef,0,rf*tf)),this}});function BooleanKeyframeTrack(Qc,ef,tf){KeyframeTrack.call(this,Qc,ef,tf)}BooleanKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function ColorKeyframeTrack(Qc,ef,tf,nf){KeyframeTrack.call(this,Qc,ef,tf,nf)}ColorKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:ColorKeyframeTrack,ValueTypeName:"color"});function NumberKeyframeTrack(Qc,ef,tf,nf){KeyframeTrack.call(this,Qc,ef,tf,nf)}NumberKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:NumberKeyframeTrack,ValueTypeName:"number"});function QuaternionLinearInterpolant(Qc,ef,tf,nf){Interpolant.call(this,Qc,ef,tf,nf)}QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:QuaternionLinearInterpolant,interpolate_:function(Qc,ef,tf,nf){for(var rf=this.resultBuffer,sf=this.sampleValues,af=this.valueSize,lf=Qc*af,cf=(tf-ef)/(nf-ef),uf=lf+af;lf!==uf;lf+=4)Quaternion.slerpFlat(rf,0,sf,lf-af,sf,lf,cf);return rf}});function QuaternionKeyframeTrack(Qc,ef,tf,nf){KeyframeTrack.call(this,Qc,ef,tf,nf)}QuaternionKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:InterpolateLinear,InterpolantFactoryMethodLinear:function(Qc){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),Qc)},InterpolantFactoryMethodSmooth:void 0});function StringKeyframeTrack(Qc,ef,tf,nf){KeyframeTrack.call(this,Qc,ef,tf,nf)}StringKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function VectorKeyframeTrack(Qc,ef,tf,nf){KeyframeTrack.call(this,Qc,ef,tf,nf)}VectorKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:VectorKeyframeTrack,ValueTypeName:"vector"});function AnimationClip(Qc,ef,tf){this.name=Qc,this.tracks=tf,this.duration=ef!==void 0?ef:-1,this.uuid=_Math.generateUUID(),this.duration<0&&this.resetDuration()}function getTrackTypeForValueTypeName(Qc){switch(Qc.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+Qc)}function parseKeyframeTrack(Qc){if(Qc.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var ef=getTrackTypeForValueTypeName(Qc.type);if(Qc.times===void 0){var tf=[],nf=[];AnimationUtils.flattenJSON(Qc.keys,tf,nf,"value"),Qc.times=tf,Qc.values=nf}return ef.parse!==void 0?ef.parse(Qc):new ef(Qc.name,Qc.times,Qc.values,Qc.interpolation)}Object.assign(AnimationClip,{parse:function(Qc){for(var ef=[],tf=Qc.tracks,nf=1/(Qc.fps||1),rf=0,sf=tf.length;rf!==sf;++rf)ef.push(parseKeyframeTrack(tf[rf]).scale(nf));return new AnimationClip(Qc.name,Qc.duration,ef)},toJSON:function(Qc){for(var ef=[],tf=Qc.tracks,nf={name:Qc.name,duration:Qc.duration,tracks:ef,uuid:Qc.uuid},rf=0,sf=tf.length;rf!==sf;++rf)ef.push(KeyframeTrack.toJSON(tf[rf]));return nf},CreateFromMorphTargetSequence:function(Qc,ef,tf,nf){for(var rf=ef.length,sf=[],af=0;af<rf;af++){var lf=[],cf=[];lf.push((af+rf-1)%rf,af,(af+1)%rf),cf.push(0,1,0);var uf=AnimationUtils.getKeyframeOrder(lf);lf=AnimationUtils.sortedArray(lf,1,uf),cf=AnimationUtils.sortedArray(cf,1,uf),!nf&&lf[0]===0&&(lf.push(rf),cf.push(cf[0])),sf.push(new NumberKeyframeTrack(".morphTargetInfluences["+ef[af].name+"]",lf,cf).scale(1/tf))}return new AnimationClip(Qc,-1,sf)},findByName:function(Qc,ef){var tf=Qc;if(!Array.isArray(Qc)){var nf=Qc;tf=nf.geometry&&nf.geometry.animations||nf.animations}for(var rf=0;rf<tf.length;rf++)if(tf[rf].name===ef)return tf[rf];return null},CreateClipsFromMorphTargetSequences:function(Qc,ef,tf){for(var nf={},rf=/^([\w-]*?)([\d]+)$/,sf=0,af=Qc.length;sf<af;sf++){var lf=Qc[sf],cf=lf.name.match(rf);if(cf&&cf.length>1){var uf=cf[1],ff=nf[uf];ff||(nf[uf]=ff=[]),ff.push(lf)}}var df=[];for(var uf in nf)df.push(AnimationClip.CreateFromMorphTargetSequence(uf,nf[uf],ef,tf));return df},parseAnimation:function(Qc,ef){if(!Qc)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var tf=function(Bf,Vf,Lf,Cf,Tf){if(Lf.length!==0){var Yf=[],rh=[];AnimationUtils.flattenJSON(Lf,Yf,rh,Cf),Yf.length!==0&&Tf.push(new Bf(Vf,Yf,rh))}},nf=[],rf=Qc.name||"default",sf=Qc.length||-1,af=Qc.fps||30,lf=Qc.hierarchy||[],cf=0;cf<lf.length;cf++){var uf=lf[cf].keys;if(!(!uf||uf.length===0))if(uf[0].morphTargets){for(var ff={},df=0;df<uf.length;df++)if(uf[df].morphTargets)for(var gf=0;gf<uf[df].morphTargets.length;gf++)ff[uf[df].morphTargets[gf]]=-1;for(var _f in ff){for(var xf=[],Af=[],gf=0;gf!==uf[df].morphTargets.length;++gf){var Df=uf[df];xf.push(Df.time),Af.push(Df.morphTarget===_f?1:0)}nf.push(new NumberKeyframeTrack(".morphTargetInfluence["+_f+"]",xf,Af))}sf=ff.length*(af||1)}else{var Of=".bones["+ef[cf].name+"]";tf(VectorKeyframeTrack,Of+".position",uf,"pos",nf),tf(QuaternionKeyframeTrack,Of+".quaternion",uf,"rot",nf),tf(VectorKeyframeTrack,Of+".scale",uf,"scl",nf)}}if(nf.length===0)return null;var Gf=new AnimationClip(rf,sf,nf);return Gf}});Object.assign(AnimationClip.prototype,{resetDuration:function(){for(var Qc=this.tracks,ef=0,tf=0,nf=Qc.length;tf!==nf;++tf){var rf=this.tracks[tf];ef=Math.max(ef,rf.times[rf.times.length-1])}return this.duration=ef,this},trim:function(){for(var Qc=0;Qc<this.tracks.length;Qc++)this.tracks[Qc].trim(0,this.duration);return this},validate:function(){for(var Qc=!0,ef=0;ef<this.tracks.length;ef++)Qc=Qc&&this.tracks[ef].validate();return Qc},optimize:function(){for(var Qc=0;Qc<this.tracks.length;Qc++)this.tracks[Qc].optimize();return this}});function MaterialLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager,this.textures={}}Object.assign(MaterialLoader.prototype,{load:function(Qc,ef,tf,nf){var rf=this,sf=new FileLoader(rf.manager);sf.load(Qc,function(af){ef(rf.parse(JSON.parse(af)))},tf,nf)},setTextures:function(Qc){this.textures=Qc},parse:function(Qc){var ef=this.textures;function tf(lf){return ef[lf]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",lf),ef[lf]}var nf=new Materials[Qc.type];if(Qc.uuid!==void 0&&(nf.uuid=Qc.uuid),Qc.name!==void 0&&(nf.name=Qc.name),Qc.color!==void 0&&nf.color.setHex(Qc.color),Qc.roughness!==void 0&&(nf.roughness=Qc.roughness),Qc.metalness!==void 0&&(nf.metalness=Qc.metalness),Qc.emissive!==void 0&&nf.emissive.setHex(Qc.emissive),Qc.specular!==void 0&&nf.specular.setHex(Qc.specular),Qc.shininess!==void 0&&(nf.shininess=Qc.shininess),Qc.clearCoat!==void 0&&(nf.clearCoat=Qc.clearCoat),Qc.clearCoatRoughness!==void 0&&(nf.clearCoatRoughness=Qc.clearCoatRoughness),Qc.vertexColors!==void 0&&(nf.vertexColors=Qc.vertexColors),Qc.fog!==void 0&&(nf.fog=Qc.fog),Qc.flatShading!==void 0&&(nf.flatShading=Qc.flatShading),Qc.blending!==void 0&&(nf.blending=Qc.blending),Qc.combine!==void 0&&(nf.combine=Qc.combine),Qc.side!==void 0&&(nf.side=Qc.side),Qc.opacity!==void 0&&(nf.opacity=Qc.opacity),Qc.transparent!==void 0&&(nf.transparent=Qc.transparent),Qc.alphaTest!==void 0&&(nf.alphaTest=Qc.alphaTest),Qc.depthTest!==void 0&&(nf.depthTest=Qc.depthTest),Qc.depthWrite!==void 0&&(nf.depthWrite=Qc.depthWrite),Qc.colorWrite!==void 0&&(nf.colorWrite=Qc.colorWrite),Qc.wireframe!==void 0&&(nf.wireframe=Qc.wireframe),Qc.wireframeLinewidth!==void 0&&(nf.wireframeLinewidth=Qc.wireframeLinewidth),Qc.wireframeLinecap!==void 0&&(nf.wireframeLinecap=Qc.wireframeLinecap),Qc.wireframeLinejoin!==void 0&&(nf.wireframeLinejoin=Qc.wireframeLinejoin),Qc.rotation!==void 0&&(nf.rotation=Qc.rotation),Qc.linewidth!==1&&(nf.linewidth=Qc.linewidth),Qc.dashSize!==void 0&&(nf.dashSize=Qc.dashSize),Qc.gapSize!==void 0&&(nf.gapSize=Qc.gapSize),Qc.scale!==void 0&&(nf.scale=Qc.scale),Qc.polygonOffset!==void 0&&(nf.polygonOffset=Qc.polygonOffset),Qc.polygonOffsetFactor!==void 0&&(nf.polygonOffsetFactor=Qc.polygonOffsetFactor),Qc.polygonOffsetUnits!==void 0&&(nf.polygonOffsetUnits=Qc.polygonOffsetUnits),Qc.skinning!==void 0&&(nf.skinning=Qc.skinning),Qc.morphTargets!==void 0&&(nf.morphTargets=Qc.morphTargets),Qc.dithering!==void 0&&(nf.dithering=Qc.dithering),Qc.visible!==void 0&&(nf.visible=Qc.visible),Qc.userData!==void 0&&(nf.userData=Qc.userData),Qc.uniforms!==void 0)for(var rf in Qc.uniforms){var sf=Qc.uniforms[rf];switch(nf.uniforms[rf]={},sf.type){case"t":nf.uniforms[rf].value=tf(sf.value);break;case"c":nf.uniforms[rf].value=new Color$1().setHex(sf.value);break;case"v2":nf.uniforms[rf].value=new Vector2().fromArray(sf.value);break;case"v3":nf.uniforms[rf].value=new Vector3().fromArray(sf.value);break;case"v4":nf.uniforms[rf].value=new Vector4().fromArray(sf.value);break;case"m4":nf.uniforms[rf].value=new Matrix4().fromArray(sf.value);break;default:nf.uniforms[rf].value=sf.value}}if(Qc.defines!==void 0&&(nf.defines=Qc.defines),Qc.vertexShader!==void 0&&(nf.vertexShader=Qc.vertexShader),Qc.fragmentShader!==void 0&&(nf.fragmentShader=Qc.fragmentShader),Qc.shading!==void 0&&(nf.flatShading=Qc.shading===1),Qc.size!==void 0&&(nf.size=Qc.size),Qc.sizeAttenuation!==void 0&&(nf.sizeAttenuation=Qc.sizeAttenuation),Qc.map!==void 0&&(nf.map=tf(Qc.map)),Qc.alphaMap!==void 0&&(nf.alphaMap=tf(Qc.alphaMap),nf.transparent=!0),Qc.bumpMap!==void 0&&(nf.bumpMap=tf(Qc.bumpMap)),Qc.bumpScale!==void 0&&(nf.bumpScale=Qc.bumpScale),Qc.normalMap!==void 0&&(nf.normalMap=tf(Qc.normalMap)),Qc.normalMapType!==void 0&&(nf.normalMapType=Qc.normalMapType),Qc.normalScale!==void 0){var af=Qc.normalScale;Array.isArray(af)===!1&&(af=[af,af]),nf.normalScale=new Vector2().fromArray(af)}return Qc.displacementMap!==void 0&&(nf.displacementMap=tf(Qc.displacementMap)),Qc.displacementScale!==void 0&&(nf.displacementScale=Qc.displacementScale),Qc.displacementBias!==void 0&&(nf.displacementBias=Qc.displacementBias),Qc.roughnessMap!==void 0&&(nf.roughnessMap=tf(Qc.roughnessMap)),Qc.metalnessMap!==void 0&&(nf.metalnessMap=tf(Qc.metalnessMap)),Qc.emissiveMap!==void 0&&(nf.emissiveMap=tf(Qc.emissiveMap)),Qc.emissiveIntensity!==void 0&&(nf.emissiveIntensity=Qc.emissiveIntensity),Qc.specularMap!==void 0&&(nf.specularMap=tf(Qc.specularMap)),Qc.envMap!==void 0&&(nf.envMap=tf(Qc.envMap)),Qc.envMapIntensity!==void 0&&(nf.envMapIntensity=Qc.envMapIntensity),Qc.reflectivity!==void 0&&(nf.reflectivity=Qc.reflectivity),Qc.lightMap!==void 0&&(nf.lightMap=tf(Qc.lightMap)),Qc.lightMapIntensity!==void 0&&(nf.lightMapIntensity=Qc.lightMapIntensity),Qc.aoMap!==void 0&&(nf.aoMap=tf(Qc.aoMap)),Qc.aoMapIntensity!==void 0&&(nf.aoMapIntensity=Qc.aoMapIntensity),Qc.gradientMap!==void 0&&(nf.gradientMap=tf(Qc.gradientMap)),nf}});function BufferGeometryLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager}Object.assign(BufferGeometryLoader.prototype,{load:function(Qc,ef,tf,nf){var rf=this,sf=new FileLoader(rf.manager);sf.load(Qc,function(af){ef(rf.parse(JSON.parse(af)))},tf,nf)},parse:function(Qc){var ef=new BufferGeometry,tf=Qc.data.index;if(tf!==void 0){var nf=new TYPED_ARRAYS[tf.type](tf.array);ef.setIndex(new BufferAttribute(nf,1))}var rf=Qc.data.attributes;for(var sf in rf){var af=rf[sf],nf=new TYPED_ARRAYS[af.type](af.array);ef.addAttribute(sf,new BufferAttribute(nf,af.itemSize,af.normalized))}var lf=Qc.data.groups||Qc.data.drawcalls||Qc.data.offsets;if(lf!==void 0)for(var cf=0,uf=lf.length;cf!==uf;++cf){var ff=lf[cf];ef.addGroup(ff.start,ff.count,ff.materialIndex)}var df=Qc.data.boundingSphere;if(df!==void 0){var gf=new Vector3;df.center!==void 0&&gf.fromArray(df.center),ef.boundingSphere=new Sphere(gf,df.radius)}return ef}});var TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Loader(){}Loader.Handlers={handlers:[],add:function(Qc,ef){this.handlers.push(Qc,ef)},get:function(Qc){for(var ef=this.handlers,tf=0,nf=ef.length;tf<nf;tf+=2){var rf=ef[tf],sf=ef[tf+1];if(rf.test(Qc))return sf}return null}};Object.assign(Loader.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(Qc,ef,tf){for(var nf=[],rf=0;rf<Qc.length;++rf)nf[rf]=this.createMaterial(Qc[rf],ef,tf);return nf},createMaterial:function(){var Qc={NoBlending,NormalBlending,AdditiveBlending,SubtractiveBlending,MultiplyBlending,CustomBlending},ef=new Color$1,tf=new TextureLoader,nf=new MaterialLoader;return function(sf,af,lf){var cf={};function uf(_f,xf,Af,Df,Of){var Gf=af+_f,Bf=Loader.Handlers.get(Gf),Vf;Bf!==null?Vf=Bf.load(Gf):(tf.setCrossOrigin(lf),Vf=tf.load(Gf)),xf!==void 0&&(Vf.repeat.fromArray(xf),xf[0]!==1&&(Vf.wrapS=RepeatWrapping),xf[1]!==1&&(Vf.wrapT=RepeatWrapping)),Af!==void 0&&Vf.offset.fromArray(Af),Df!==void 0&&(Df[0]==="repeat"&&(Vf.wrapS=RepeatWrapping),Df[0]==="mirror"&&(Vf.wrapS=MirroredRepeatWrapping),Df[1]==="repeat"&&(Vf.wrapT=RepeatWrapping),Df[1]==="mirror"&&(Vf.wrapT=MirroredRepeatWrapping)),Of!==void 0&&(Vf.anisotropy=Of);var Lf=_Math.generateUUID();return cf[Lf]=Vf,Lf}var ff={uuid:_Math.generateUUID(),type:"MeshLambertMaterial"};for(var df in sf){var gf=sf[df];switch(df){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":ff.name=gf;break;case"blending":ff.blending=Qc[gf];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",df,"is no longer supported.");break;case"colorDiffuse":ff.color=ef.fromArray(gf).getHex();break;case"colorSpecular":ff.specular=ef.fromArray(gf).getHex();break;case"colorEmissive":ff.emissive=ef.fromArray(gf).getHex();break;case"specularCoef":ff.shininess=gf;break;case"shading":gf.toLowerCase()==="basic"&&(ff.type="MeshBasicMaterial"),gf.toLowerCase()==="phong"&&(ff.type="MeshPhongMaterial"),gf.toLowerCase()==="standard"&&(ff.type="MeshStandardMaterial");break;case"mapDiffuse":ff.map=uf(gf,sf.mapDiffuseRepeat,sf.mapDiffuseOffset,sf.mapDiffuseWrap,sf.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":ff.emissiveMap=uf(gf,sf.mapEmissiveRepeat,sf.mapEmissiveOffset,sf.mapEmissiveWrap,sf.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":ff.lightMap=uf(gf,sf.mapLightRepeat,sf.mapLightOffset,sf.mapLightWrap,sf.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":ff.aoMap=uf(gf,sf.mapAORepeat,sf.mapAOOffset,sf.mapAOWrap,sf.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":ff.bumpMap=uf(gf,sf.mapBumpRepeat,sf.mapBumpOffset,sf.mapBumpWrap,sf.mapBumpAnisotropy);break;case"mapBumpScale":ff.bumpScale=gf;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":ff.normalMap=uf(gf,sf.mapNormalRepeat,sf.mapNormalOffset,sf.mapNormalWrap,sf.mapNormalAnisotropy);break;case"mapNormalFactor":ff.normalScale=gf;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":ff.specularMap=uf(gf,sf.mapSpecularRepeat,sf.mapSpecularOffset,sf.mapSpecularWrap,sf.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":ff.metalnessMap=uf(gf,sf.mapMetalnessRepeat,sf.mapMetalnessOffset,sf.mapMetalnessWrap,sf.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":ff.roughnessMap=uf(gf,sf.mapRoughnessRepeat,sf.mapRoughnessOffset,sf.mapRoughnessWrap,sf.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":ff.alphaMap=uf(gf,sf.mapAlphaRepeat,sf.mapAlphaOffset,sf.mapAlphaWrap,sf.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":ff.side=BackSide;break;case"doubleSided":ff.side=DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),ff.opacity=gf;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":ff[df]=gf;break;case"vertexColors":gf===!0&&(ff.vertexColors=VertexColors),gf==="face"&&(ff.vertexColors=FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",df,gf);break}}return ff.type==="MeshBasicMaterial"&&delete ff.emissive,ff.type!=="MeshPhongMaterial"&&delete ff.specular,ff.opacity<1&&(ff.transparent=!0),nf.setTextures(cf),nf.parse(ff)}}()});var LoaderUtils={decodeText:function(Qc){if(typeof TextDecoder<"u")return new TextDecoder().decode(Qc);for(var ef="",tf=0,nf=Qc.length;tf<nf;tf++)ef+=String.fromCharCode(Qc[tf]);return decodeURIComponent(escape(ef))},extractUrlBase:function(Qc){var ef=Qc.lastIndexOf("/");return ef===-1?"./":Qc.substr(0,ef+1)}};function JSONLoader(Qc){typeof Qc=="boolean"&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),Qc=void 0),this.manager=Qc!==void 0?Qc:DefaultLoadingManager,this.withCredentials=!1}Object.assign(JSONLoader.prototype,{crossOrigin:"anonymous",load:function(Qc,ef,tf,nf){var rf=this,sf=this.path===void 0?LoaderUtils.extractUrlBase(Qc):this.path,af=new FileLoader(this.manager);af.setPath(this.path),af.setWithCredentials(this.withCredentials),af.load(Qc,function(lf){var cf=JSON.parse(lf),uf=cf.metadata;if(uf!==void 0){var ff=uf.type;if(ff!==void 0&&ff.toLowerCase()==="object"){console.error("THREE.JSONLoader: "+Qc+" should be loaded with THREE.ObjectLoader instead.");return}}var df=rf.parse(cf,sf);ef(df.geometry,df.materials)},tf,nf)},setPath:function(Qc){return this.path=Qc,this},setResourcePath:function(Qc){return this.resourcePath=Qc,this},setCrossOrigin:function(Qc){return this.crossOrigin=Qc,this},parse:function(){function Qc(rf,sf){function af(Ef,Sf){return Ef&1<<Sf}var lf,cf,uf,ff,df,gf,_f,xf,Af,Df,Of,Gf,Bf,Vf,Lf,Cf,Tf,Yf,rh,dh,hh,sh,Hf,Qf,ah,mh,uh,jf=rf.faces,Kf=rf.vertices,of=rf.normals,hf=rf.colors,pf=rf.scale,vf=0;if(rf.uvs!==void 0){for(lf=0;lf<rf.uvs.length;lf++)rf.uvs[lf].length&&vf++;for(lf=0;lf<vf;lf++)sf.faceVertexUvs[lf]=[]}for(ff=0,df=Kf.length;ff<df;)Yf=new Vector3,Yf.x=Kf[ff++]*pf,Yf.y=Kf[ff++]*pf,Yf.z=Kf[ff++]*pf,sf.vertices.push(Yf);for(ff=0,df=jf.length;ff<df;)if(Df=jf[ff++],Of=af(Df,0),Gf=af(Df,1),Bf=af(Df,3),Vf=af(Df,4),Lf=af(Df,5),Cf=af(Df,6),Tf=af(Df,7),Of){if(dh=new Face3,dh.a=jf[ff],dh.b=jf[ff+1],dh.c=jf[ff+3],hh=new Face3,hh.a=jf[ff+1],hh.b=jf[ff+2],hh.c=jf[ff+3],ff+=4,Gf&&(Af=jf[ff++],dh.materialIndex=Af,hh.materialIndex=Af),uf=sf.faces.length,Bf)for(lf=0;lf<vf;lf++)for(Qf=rf.uvs[lf],sf.faceVertexUvs[lf][uf]=[],sf.faceVertexUvs[lf][uf+1]=[],cf=0;cf<4;cf++)xf=jf[ff++],mh=Qf[xf*2],uh=Qf[xf*2+1],ah=new Vector2(mh,uh),cf!==2&&sf.faceVertexUvs[lf][uf].push(ah),cf!==0&&sf.faceVertexUvs[lf][uf+1].push(ah);if(Vf&&(_f=jf[ff++]*3,dh.normal.set(of[_f++],of[_f++],of[_f]),hh.normal.copy(dh.normal)),Lf)for(lf=0;lf<4;lf++)_f=jf[ff++]*3,Hf=new Vector3(of[_f++],of[_f++],of[_f]),lf!==2&&dh.vertexNormals.push(Hf),lf!==0&&hh.vertexNormals.push(Hf);if(Cf&&(gf=jf[ff++],sh=hf[gf],dh.color.setHex(sh),hh.color.setHex(sh)),Tf)for(lf=0;lf<4;lf++)gf=jf[ff++],sh=hf[gf],lf!==2&&dh.vertexColors.push(new Color$1(sh)),lf!==0&&hh.vertexColors.push(new Color$1(sh));sf.faces.push(dh),sf.faces.push(hh)}else{if(rh=new Face3,rh.a=jf[ff++],rh.b=jf[ff++],rh.c=jf[ff++],Gf&&(Af=jf[ff++],rh.materialIndex=Af),uf=sf.faces.length,Bf)for(lf=0;lf<vf;lf++)for(Qf=rf.uvs[lf],sf.faceVertexUvs[lf][uf]=[],cf=0;cf<3;cf++)xf=jf[ff++],mh=Qf[xf*2],uh=Qf[xf*2+1],ah=new Vector2(mh,uh),sf.faceVertexUvs[lf][uf].push(ah);if(Vf&&(_f=jf[ff++]*3,rh.normal.set(of[_f++],of[_f++],of[_f])),Lf)for(lf=0;lf<3;lf++)_f=jf[ff++]*3,Hf=new Vector3(of[_f++],of[_f++],of[_f]),rh.vertexNormals.push(Hf);if(Cf&&(gf=jf[ff++],rh.color.setHex(hf[gf])),Tf)for(lf=0;lf<3;lf++)gf=jf[ff++],rh.vertexColors.push(new Color$1(hf[gf]));sf.faces.push(rh)}}function ef(rf,sf){var af=rf.influencesPerVertex!==void 0?rf.influencesPerVertex:2;if(rf.skinWeights)for(var lf=0,cf=rf.skinWeights.length;lf<cf;lf+=af){var uf=rf.skinWeights[lf],ff=af>1?rf.skinWeights[lf+1]:0,df=af>2?rf.skinWeights[lf+2]:0,gf=af>3?rf.skinWeights[lf+3]:0;sf.skinWeights.push(new Vector4(uf,ff,df,gf))}if(rf.skinIndices)for(var lf=0,cf=rf.skinIndices.length;lf<cf;lf+=af){var _f=rf.skinIndices[lf],xf=af>1?rf.skinIndices[lf+1]:0,Af=af>2?rf.skinIndices[lf+2]:0,Df=af>3?rf.skinIndices[lf+3]:0;sf.skinIndices.push(new Vector4(_f,xf,Af,Df))}sf.bones=rf.bones,sf.bones&&sf.bones.length>0&&(sf.skinWeights.length!==sf.skinIndices.length||sf.skinIndices.length!==sf.vertices.length)&&console.warn("When skinning, number of vertices ("+sf.vertices.length+"), skinIndices ("+sf.skinIndices.length+"), and skinWeights ("+sf.skinWeights.length+") should match.")}function tf(rf,sf){var af=rf.scale;if(rf.morphTargets!==void 0)for(var lf=0,cf=rf.morphTargets.length;lf<cf;lf++){sf.morphTargets[lf]={},sf.morphTargets[lf].name=rf.morphTargets[lf].name,sf.morphTargets[lf].vertices=[];for(var uf=sf.morphTargets[lf].vertices,ff=rf.morphTargets[lf].vertices,df=0,gf=ff.length;df<gf;df+=3){var _f=new Vector3;_f.x=ff[df]*af,_f.y=ff[df+1]*af,_f.z=ff[df+2]*af,uf.push(_f)}}if(rf.morphColors!==void 0&&rf.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var xf=sf.faces,Af=rf.morphColors[0].colors,lf=0,cf=xf.length;lf<cf;lf++)xf[lf].color.fromArray(Af,lf*3)}}function nf(rf,sf){var af=[],lf=[];rf.animation!==void 0&&lf.push(rf.animation),rf.animations!==void 0&&(rf.animations.length?lf=lf.concat(rf.animations):lf.push(rf.animations));for(var cf=0;cf<lf.length;cf++){var uf=AnimationClip.parseAnimation(lf[cf],sf.bones);uf&&af.push(uf)}if(sf.morphTargets){var ff=AnimationClip.CreateClipsFromMorphTargetSequences(sf.morphTargets,10);af=af.concat(ff)}af.length>0&&(sf.animations=af)}return function(sf,af){sf.data!==void 0&&(sf=sf.data),sf.scale!==void 0?sf.scale=1/sf.scale:sf.scale=1;var lf=new Geometry;if(Qc(sf,lf),ef(sf,lf),tf(sf,lf),nf(sf,lf),lf.computeFaceNormals(),lf.computeBoundingSphere(),sf.materials===void 0||sf.materials.length===0)return{geometry:lf};var cf=Loader.prototype.initMaterials(sf.materials,this.resourcePath||af,this.crossOrigin);return{geometry:lf,materials:cf}}}()});function ObjectLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager,this.texturePath=""}Object.assign(ObjectLoader.prototype,{crossOrigin:"anonymous",load:function(Qc,ef,tf,nf){this.texturePath===""&&(this.texturePath=Qc.substring(0,Qc.lastIndexOf("/")+1));var rf=this,sf=new FileLoader(rf.manager);sf.load(Qc,function(af){var lf=null;try{lf=JSON.parse(af)}catch(uf){nf!==void 0&&nf(uf),console.error("THREE:ObjectLoader: Can't parse "+Qc+".",uf.message);return}var cf=lf.metadata;if(cf===void 0||cf.type===void 0||cf.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+Qc+". Use THREE.JSONLoader instead.");return}rf.parse(lf,ef)},tf,nf)},setTexturePath:function(Qc){return this.texturePath=Qc,this},setCrossOrigin:function(Qc){return this.crossOrigin=Qc,this},parse:function(Qc,ef){var tf=this.parseShape(Qc.shapes),nf=this.parseGeometries(Qc.geometries,tf),rf=this.parseImages(Qc.images,function(){ef!==void 0&&ef(lf)}),sf=this.parseTextures(Qc.textures,rf),af=this.parseMaterials(Qc.materials,sf),lf=this.parseObject(Qc.object,nf,af);return Qc.animations&&(lf.animations=this.parseAnimations(Qc.animations)),(Qc.images===void 0||Qc.images.length===0)&&ef!==void 0&&ef(lf),lf},parseShape:function(Qc){var ef={};if(Qc!==void 0)for(var tf=0,nf=Qc.length;tf<nf;tf++){var rf=new Shape().fromJSON(Qc[tf]);ef[rf.uuid]=rf}return ef},parseGeometries:function(Qc,ef){var tf={};if(Qc!==void 0)for(var nf=new JSONLoader,rf=new BufferGeometryLoader,sf=0,af=Qc.length;sf<af;sf++){var lf,cf=Qc[sf];switch(cf.type){case"PlaneGeometry":case"PlaneBufferGeometry":lf=new Geometries[cf.type](cf.width,cf.height,cf.widthSegments,cf.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":lf=new Geometries[cf.type](cf.width,cf.height,cf.depth,cf.widthSegments,cf.heightSegments,cf.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":lf=new Geometries[cf.type](cf.radius,cf.segments,cf.thetaStart,cf.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":lf=new Geometries[cf.type](cf.radiusTop,cf.radiusBottom,cf.height,cf.radialSegments,cf.heightSegments,cf.openEnded,cf.thetaStart,cf.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":lf=new Geometries[cf.type](cf.radius,cf.height,cf.radialSegments,cf.heightSegments,cf.openEnded,cf.thetaStart,cf.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":lf=new Geometries[cf.type](cf.radius,cf.widthSegments,cf.heightSegments,cf.phiStart,cf.phiLength,cf.thetaStart,cf.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":lf=new Geometries[cf.type](cf.radius,cf.detail);break;case"RingGeometry":case"RingBufferGeometry":lf=new Geometries[cf.type](cf.innerRadius,cf.outerRadius,cf.thetaSegments,cf.phiSegments,cf.thetaStart,cf.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":lf=new Geometries[cf.type](cf.radius,cf.tube,cf.radialSegments,cf.tubularSegments,cf.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":lf=new Geometries[cf.type](cf.radius,cf.tube,cf.tubularSegments,cf.radialSegments,cf.p,cf.q);break;case"LatheGeometry":case"LatheBufferGeometry":lf=new Geometries[cf.type](cf.points,cf.segments,cf.phiStart,cf.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":lf=new Geometries[cf.type](cf.vertices,cf.indices,cf.radius,cf.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var gf=[],uf=0,ff=cf.shapes.length;uf<ff;uf++){var df=ef[cf.shapes[uf]];gf.push(df)}lf=new Geometries[cf.type](gf,cf.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var gf=[],uf=0,ff=cf.shapes.length;uf<ff;uf++){var df=ef[cf.shapes[uf]];gf.push(df)}var _f=cf.options.extrudePath;_f!==void 0&&(cf.options.extrudePath=new Curves[_f.type]().fromJSON(_f)),lf=new Geometries[cf.type](gf,cf.options);break;case"BufferGeometry":lf=rf.parse(cf);break;case"Geometry":lf=nf.parse(cf,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+cf.type+'"');continue}lf.uuid=cf.uuid,cf.name!==void 0&&(lf.name=cf.name),lf.isBufferGeometry===!0&&cf.userData!==void 0&&(lf.userData=cf.userData),tf[cf.uuid]=lf}return tf},parseMaterials:function(Qc,ef){var tf={};if(Qc!==void 0){var nf=new MaterialLoader;nf.setTextures(ef);for(var rf=0,sf=Qc.length;rf<sf;rf++){var af=Qc[rf];if(af.type==="MultiMaterial"){for(var lf=[],cf=0;cf<af.materials.length;cf++)lf.push(nf.parse(af.materials[cf]));tf[af.uuid]=lf}else tf[af.uuid]=nf.parse(af)}}return tf},parseAnimations:function(Qc){for(var ef=[],tf=0;tf<Qc.length;tf++){var nf=Qc[tf],rf=AnimationClip.parse(nf);nf.uuid!==void 0&&(rf.uuid=nf.uuid),ef.push(rf)}return ef},parseImages:function(Qc,ef){var tf=this,nf={};function rf(Af){return tf.manager.itemStart(Af),af.load(Af,function(){tf.manager.itemEnd(Af)},void 0,function(){tf.manager.itemEnd(Af),tf.manager.itemError(Af)})}if(Qc!==void 0&&Qc.length>0){var sf=new LoadingManager(ef),af=new ImageLoader(sf);af.setCrossOrigin(this.crossOrigin);for(var lf=0,cf=Qc.length;lf<cf;lf++){var uf=Qc[lf],ff=uf.url;if(Array.isArray(ff)){nf[uf.uuid]=[];for(var df=0,gf=ff.length;df<gf;df++){var _f=ff[df],xf=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_f)?_f:tf.texturePath+_f;nf[uf.uuid].push(rf(xf))}}else{var xf=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(uf.url)?uf.url:tf.texturePath+uf.url;nf[uf.uuid]=rf(xf)}}}return nf},parseTextures:function(Qc,ef){function tf(cf,uf){return typeof cf=="number"?cf:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",cf),uf[cf])}var nf={};if(Qc!==void 0)for(var rf=0,sf=Qc.length;rf<sf;rf++){var af=Qc[rf];af.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',af.uuid),ef[af.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",af.image);var lf;Array.isArray(ef[af.image])?lf=new CubeTexture(ef[af.image]):lf=new Texture(ef[af.image]),lf.needsUpdate=!0,lf.uuid=af.uuid,af.name!==void 0&&(lf.name=af.name),af.mapping!==void 0&&(lf.mapping=tf(af.mapping,TEXTURE_MAPPING)),af.offset!==void 0&&lf.offset.fromArray(af.offset),af.repeat!==void 0&&lf.repeat.fromArray(af.repeat),af.center!==void 0&&lf.center.fromArray(af.center),af.rotation!==void 0&&(lf.rotation=af.rotation),af.wrap!==void 0&&(lf.wrapS=tf(af.wrap[0],TEXTURE_WRAPPING),lf.wrapT=tf(af.wrap[1],TEXTURE_WRAPPING)),af.format!==void 0&&(lf.format=af.format),af.minFilter!==void 0&&(lf.minFilter=tf(af.minFilter,TEXTURE_FILTER)),af.magFilter!==void 0&&(lf.magFilter=tf(af.magFilter,TEXTURE_FILTER)),af.anisotropy!==void 0&&(lf.anisotropy=af.anisotropy),af.flipY!==void 0&&(lf.flipY=af.flipY),nf[af.uuid]=lf}return nf},parseObject:function(Qc,ef,tf){var nf;function rf(xf){return ef[xf]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",xf),ef[xf]}function sf(xf){if(xf!==void 0){if(Array.isArray(xf)){for(var Af=[],Df=0,Of=xf.length;Df<Of;Df++){var Gf=xf[Df];tf[Gf]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Gf),Af.push(tf[Gf])}return Af}return tf[xf]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",xf),tf[xf]}}switch(Qc.type){case"Scene":nf=new Scene,Qc.background!==void 0&&Number.isInteger(Qc.background)&&(nf.background=new Color$1(Qc.background)),Qc.fog!==void 0&&(Qc.fog.type==="Fog"?nf.fog=new Fog(Qc.fog.color,Qc.fog.near,Qc.fog.far):Qc.fog.type==="FogExp2"&&(nf.fog=new FogExp2(Qc.fog.color,Qc.fog.density)));break;case"PerspectiveCamera":nf=new PerspectiveCamera(Qc.fov,Qc.aspect,Qc.near,Qc.far),Qc.focus!==void 0&&(nf.focus=Qc.focus),Qc.zoom!==void 0&&(nf.zoom=Qc.zoom),Qc.filmGauge!==void 0&&(nf.filmGauge=Qc.filmGauge),Qc.filmOffset!==void 0&&(nf.filmOffset=Qc.filmOffset),Qc.view!==void 0&&(nf.view=Object.assign({},Qc.view));break;case"OrthographicCamera":nf=new OrthographicCamera(Qc.left,Qc.right,Qc.top,Qc.bottom,Qc.near,Qc.far),Qc.zoom!==void 0&&(nf.zoom=Qc.zoom),Qc.view!==void 0&&(nf.view=Object.assign({},Qc.view));break;case"AmbientLight":nf=new AmbientLight(Qc.color,Qc.intensity);break;case"DirectionalLight":nf=new DirectionalLight(Qc.color,Qc.intensity);break;case"PointLight":nf=new PointLight(Qc.color,Qc.intensity,Qc.distance,Qc.decay);break;case"RectAreaLight":nf=new RectAreaLight(Qc.color,Qc.intensity,Qc.width,Qc.height);break;case"SpotLight":nf=new SpotLight(Qc.color,Qc.intensity,Qc.distance,Qc.angle,Qc.penumbra,Qc.decay);break;case"HemisphereLight":nf=new HemisphereLight(Qc.color,Qc.groundColor,Qc.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var af=rf(Qc.geometry),lf=sf(Qc.material);af.bones&&af.bones.length>0?nf=new SkinnedMesh(af,lf):nf=new Mesh(af,lf);break;case"LOD":nf=new LOD;break;case"Line":nf=new Line(rf(Qc.geometry),sf(Qc.material),Qc.mode);break;case"LineLoop":nf=new LineLoop(rf(Qc.geometry),sf(Qc.material));break;case"LineSegments":nf=new LineSegments(rf(Qc.geometry),sf(Qc.material));break;case"PointCloud":case"Points":nf=new Points(rf(Qc.geometry),sf(Qc.material));break;case"Sprite":nf=new Sprite(sf(Qc.material));break;case"Group":nf=new Group;break;default:nf=new Object3D}if(nf.uuid=Qc.uuid,Qc.name!==void 0&&(nf.name=Qc.name),Qc.matrix!==void 0?(nf.matrix.fromArray(Qc.matrix),Qc.matrixAutoUpdate!==void 0&&(nf.matrixAutoUpdate=Qc.matrixAutoUpdate),nf.matrixAutoUpdate&&nf.matrix.decompose(nf.position,nf.quaternion,nf.scale)):(Qc.position!==void 0&&nf.position.fromArray(Qc.position),Qc.rotation!==void 0&&nf.rotation.fromArray(Qc.rotation),Qc.quaternion!==void 0&&nf.quaternion.fromArray(Qc.quaternion),Qc.scale!==void 0&&nf.scale.fromArray(Qc.scale)),Qc.castShadow!==void 0&&(nf.castShadow=Qc.castShadow),Qc.receiveShadow!==void 0&&(nf.receiveShadow=Qc.receiveShadow),Qc.shadow&&(Qc.shadow.bias!==void 0&&(nf.shadow.bias=Qc.shadow.bias),Qc.shadow.radius!==void 0&&(nf.shadow.radius=Qc.shadow.radius),Qc.shadow.mapSize!==void 0&&nf.shadow.mapSize.fromArray(Qc.shadow.mapSize),Qc.shadow.camera!==void 0&&(nf.shadow.camera=this.parseObject(Qc.shadow.camera))),Qc.visible!==void 0&&(nf.visible=Qc.visible),Qc.frustumCulled!==void 0&&(nf.frustumCulled=Qc.frustumCulled),Qc.renderOrder!==void 0&&(nf.renderOrder=Qc.renderOrder),Qc.userData!==void 0&&(nf.userData=Qc.userData),Qc.layers!==void 0&&(nf.layers.mask=Qc.layers),Qc.children!==void 0)for(var cf=Qc.children,uf=0;uf<cf.length;uf++)nf.add(this.parseObject(cf[uf],ef,tf));if(Qc.type==="LOD")for(var ff=Qc.levels,df=0;df<ff.length;df++){var gf=ff[df],_f=nf.getObjectByProperty("uuid",gf.object);_f!==void 0&&nf.addLevel(_f,gf.distance)}return nf}});var TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,SphericalReflectionMapping,CubeUVReflectionMapping,CubeUVRefractionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipMapNearestFilter,NearestMipMapLinearFilter,LinearFilter,LinearMipMapNearestFilter,LinearMipMapLinearFilter};function ImageBitmapLoader(Qc){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=Qc!==void 0?Qc:DefaultLoadingManager,this.options=void 0}ImageBitmapLoader.prototype={constructor:ImageBitmapLoader,setOptions:function(ef){return this.options=ef,this},load:function(Qc,ef,tf,nf){Qc===void 0&&(Qc=""),this.path!==void 0&&(Qc=this.path+Qc),Qc=this.manager.resolveURL(Qc);var rf=this,sf=Cache.get(Qc);if(sf!==void 0)return rf.manager.itemStart(Qc),setTimeout(function(){ef&&ef(sf),rf.manager.itemEnd(Qc)},0),sf;fetch(Qc).then(function(af){return af.blob()}).then(function(af){return createImageBitmap(af,rf.options)}).then(function(af){Cache.add(Qc,af),ef&&ef(af),rf.manager.itemEnd(Qc)}).catch(function(af){nf&&nf(af),rf.manager.itemEnd(Qc),rf.manager.itemError(Qc)})},setCrossOrigin:function(){return this},setPath:function(Qc){return this.path=Qc,this}};function ShapePath(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}Object.assign(ShapePath.prototype,{moveTo:function(Qc,ef){this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(Qc,ef)},lineTo:function(Qc,ef){this.currentPath.lineTo(Qc,ef)},quadraticCurveTo:function(Qc,ef,tf,nf){this.currentPath.quadraticCurveTo(Qc,ef,tf,nf)},bezierCurveTo:function(Qc,ef,tf,nf,rf,sf){this.currentPath.bezierCurveTo(Qc,ef,tf,nf,rf,sf)},splineThru:function(Qc){this.currentPath.splineThru(Qc)},toShapes:function(Qc,ef){function tf(ah){for(var mh=[],uh=0,jf=ah.length;uh<jf;uh++){var Kf=ah[uh],of=new Shape;of.curves=Kf.curves,mh.push(of)}return mh}function nf(ah,mh){for(var uh=mh.length,jf=!1,Kf=uh-1,of=0;of<uh;Kf=of++){var hf=mh[Kf],pf=mh[of],vf=pf.x-hf.x,Ef=pf.y-hf.y;if(Math.abs(Ef)>Number.EPSILON){if(Ef<0&&(hf=mh[of],vf=-vf,pf=mh[Kf],Ef=-Ef),ah.y<hf.y||ah.y>pf.y)continue;if(ah.y===hf.y){if(ah.x===hf.x)return!0}else{var Sf=Ef*(ah.x-hf.x)-vf*(ah.y-hf.y);if(Sf===0)return!0;if(Sf<0)continue;jf=!jf}}else{if(ah.y!==hf.y)continue;if(pf.x<=ah.x&&ah.x<=hf.x||hf.x<=ah.x&&ah.x<=pf.x)return!0}}return jf}var rf=ShapeUtils.isClockWise,sf=this.subPaths;if(sf.length===0)return[];if(ef===!0)return tf(sf);var af,lf,cf,uf=[];if(sf.length===1)return lf=sf[0],cf=new Shape,cf.curves=lf.curves,uf.push(cf),uf;var ff=!rf(sf[0].getPoints());ff=Qc?!ff:ff;var df=[],gf=[],_f=[],xf=0,Af;gf[xf]=void 0,_f[xf]=[];for(var Df=0,Of=sf.length;Df<Of;Df++)lf=sf[Df],Af=lf.getPoints(),af=rf(Af),af=Qc?!af:af,af?(!ff&&gf[xf]&&xf++,gf[xf]={s:new Shape,p:Af},gf[xf].s.curves=lf.curves,ff&&xf++,_f[xf]=[]):_f[xf].push({h:lf,p:Af[0]});if(!gf[0])return tf(sf);if(gf.length>1){for(var Gf=!1,Bf=[],Vf=0,Lf=gf.length;Vf<Lf;Vf++)df[Vf]=[];for(var Vf=0,Lf=gf.length;Vf<Lf;Vf++)for(var Cf=_f[Vf],Tf=0;Tf<Cf.length;Tf++){for(var Yf=Cf[Tf],rh=!0,dh=0;dh<gf.length;dh++)nf(Yf.p,gf[dh].p)&&(Vf!==dh&&Bf.push({froms:Vf,tos:dh,hole:Tf}),rh?(rh=!1,df[dh].push(Yf)):Gf=!0);rh&&df[Vf].push(Yf)}Bf.length>0&&(Gf||(_f=df))}for(var hh,Df=0,sh=gf.length;Df<sh;Df++){cf=gf[Df].s,uf.push(cf),hh=_f[Df];for(var Hf=0,Qf=hh.length;Hf<Qf;Hf++)cf.holes.push(hh[Hf].h)}return uf}});function Font(Qc){this.type="Font",this.data=Qc}Object.assign(Font.prototype,{isFont:!0,generateShapes:function(Qc,ef){ef===void 0&&(ef=100);for(var tf=[],nf=createPaths(Qc,ef,this.data),rf=0,sf=nf.length;rf<sf;rf++)Array.prototype.push.apply(tf,nf[rf].toShapes());return tf}});function createPaths(Qc,ef,tf){for(var nf=Array.from?Array.from(Qc):String(Qc).split(""),rf=ef/tf.resolution,sf=(tf.boundingBox.yMax-tf.boundingBox.yMin+tf.underlineThickness)*rf,af=[],lf=0,cf=0,uf=0;uf<nf.length;uf++){var ff=nf[uf];if(ff===`
`)lf=0,cf-=sf;else{var df=createPath(ff,rf,lf,cf,tf);lf+=df.offsetX,af.push(df.path)}}return af}function createPath(Qc,ef,tf,nf,rf){var sf=rf.glyphs[Qc]||rf.glyphs["?"];if(sf){var af=new ShapePath,lf,cf,uf,ff,df,gf,_f,xf;if(sf.o)for(var Af=sf._cachedOutline||(sf._cachedOutline=sf.o.split(" ")),Df=0,Of=Af.length;Df<Of;){var Gf=Af[Df++];switch(Gf){case"m":lf=Af[Df++]*ef+tf,cf=Af[Df++]*ef+nf,af.moveTo(lf,cf);break;case"l":lf=Af[Df++]*ef+tf,cf=Af[Df++]*ef+nf,af.lineTo(lf,cf);break;case"q":uf=Af[Df++]*ef+tf,ff=Af[Df++]*ef+nf,df=Af[Df++]*ef+tf,gf=Af[Df++]*ef+nf,af.quadraticCurveTo(df,gf,uf,ff);break;case"b":uf=Af[Df++]*ef+tf,ff=Af[Df++]*ef+nf,df=Af[Df++]*ef+tf,gf=Af[Df++]*ef+nf,_f=Af[Df++]*ef+tf,xf=Af[Df++]*ef+nf,af.bezierCurveTo(df,gf,_f,xf,uf,ff);break}}return{offsetX:sf.ha*ef,path:af}}}function FontLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager}Object.assign(FontLoader.prototype,{load:function(Qc,ef,tf,nf){var rf=this,sf=new FileLoader(this.manager);sf.setPath(this.path),sf.load(Qc,function(af){var lf;try{lf=JSON.parse(af)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),lf=JSON.parse(af.substring(65,af.length-2))}var cf=rf.parse(lf);ef&&ef(cf)},tf,nf)},parse:function(Qc){return new Font(Qc)},setPath:function(Qc){return this.path=Qc,this}});var context,AudioContext={getContext:function(){return context===void 0&&(context=new(window.AudioContext||window.webkitAudioContext)),context},setContext:function(Qc){context=Qc}};function AudioLoader(Qc){this.manager=Qc!==void 0?Qc:DefaultLoadingManager}Object.assign(AudioLoader.prototype,{load:function(Qc,ef,tf,nf){var rf=new FileLoader(this.manager);rf.setResponseType("arraybuffer"),rf.load(Qc,function(sf){var af=sf.slice(0),lf=AudioContext.getContext();lf.decodeAudioData(af,function(cf){ef(cf)})},tf,nf)}});function StereoCamera(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}Object.assign(StereoCamera.prototype,{update:function(){var Qc,ef,tf,nf,rf,sf,af,lf,cf=new Matrix4,uf=new Matrix4;return function(df){var gf=Qc!==this||ef!==df.focus||tf!==df.fov||nf!==df.aspect*this.aspect||rf!==df.near||sf!==df.far||af!==df.zoom||lf!==this.eyeSep;if(gf){Qc=this,ef=df.focus,tf=df.fov,nf=df.aspect*this.aspect,rf=df.near,sf=df.far,af=df.zoom;var _f=df.projectionMatrix.clone();lf=this.eyeSep/2;var xf=lf*rf/ef,Af=rf*Math.tan(_Math.DEG2RAD*tf*.5)/af,Df,Of;uf.elements[12]=-lf,cf.elements[12]=lf,Df=-Af*nf+xf,Of=Af*nf+xf,_f.elements[0]=2*rf/(Of-Df),_f.elements[8]=(Of+Df)/(Of-Df),this.cameraL.projectionMatrix.copy(_f),Df=-Af*nf-xf,Of=Af*nf-xf,_f.elements[0]=2*rf/(Of-Df),_f.elements[8]=(Of+Df)/(Of-Df),this.cameraR.projectionMatrix.copy(_f)}this.cameraL.matrixWorld.copy(df.matrixWorld).multiply(uf),this.cameraR.matrixWorld.copy(df.matrixWorld).multiply(cf)}}()});function CubeCamera(Qc,ef,tf){Object3D.call(this),this.type="CubeCamera";var nf=90,rf=1,sf=new PerspectiveCamera(nf,rf,Qc,ef);sf.up.set(0,-1,0),sf.lookAt(new Vector3(1,0,0)),this.add(sf);var af=new PerspectiveCamera(nf,rf,Qc,ef);af.up.set(0,-1,0),af.lookAt(new Vector3(-1,0,0)),this.add(af);var lf=new PerspectiveCamera(nf,rf,Qc,ef);lf.up.set(0,0,1),lf.lookAt(new Vector3(0,1,0)),this.add(lf);var cf=new PerspectiveCamera(nf,rf,Qc,ef);cf.up.set(0,0,-1),cf.lookAt(new Vector3(0,-1,0)),this.add(cf);var uf=new PerspectiveCamera(nf,rf,Qc,ef);uf.up.set(0,-1,0),uf.lookAt(new Vector3(0,0,1)),this.add(uf);var ff=new PerspectiveCamera(nf,rf,Qc,ef);ff.up.set(0,-1,0),ff.lookAt(new Vector3(0,0,-1)),this.add(ff);var df={format:RGBFormat,magFilter:LinearFilter,minFilter:LinearFilter};this.renderTarget=new WebGLRenderTargetCube(tf,tf,df),this.renderTarget.texture.name="CubeCamera",this.update=function(gf,_f){this.parent===null&&this.updateMatrixWorld();var xf=this.renderTarget,Af=xf.texture.generateMipmaps;xf.texture.generateMipmaps=!1,xf.activeCubeFace=0,gf.render(_f,sf,xf),xf.activeCubeFace=1,gf.render(_f,af,xf),xf.activeCubeFace=2,gf.render(_f,lf,xf),xf.activeCubeFace=3,gf.render(_f,cf,xf),xf.activeCubeFace=4,gf.render(_f,uf,xf),xf.texture.generateMipmaps=Af,xf.activeCubeFace=5,gf.render(_f,ff,xf),gf.setRenderTarget(null)},this.clear=function(gf,_f,xf,Af){for(var Df=this.renderTarget,Of=0;Of<6;Of++)Df.activeCubeFace=Of,gf.setRenderTarget(Df),gf.clear(_f,xf,Af);gf.setRenderTarget(null)}}CubeCamera.prototype=Object.create(Object3D.prototype);CubeCamera.prototype.constructor=CubeCamera;function AudioListener(){Object3D.call(this),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}AudioListener.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:AudioListener,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(Qc){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=Qc,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(Qc){return this.gain.gain.setTargetAtTime(Qc,this.context.currentTime,.01),this},updateMatrixWorld:function(){var Qc=new Vector3,ef=new Quaternion,tf=new Vector3,nf=new Vector3;return function(sf){Object3D.prototype.updateMatrixWorld.call(this,sf);var af=this.context.listener,lf=this.up;this.matrixWorld.decompose(Qc,ef,tf),nf.set(0,0,-1).applyQuaternion(ef),af.positionX?(af.positionX.setValueAtTime(Qc.x,this.context.currentTime),af.positionY.setValueAtTime(Qc.y,this.context.currentTime),af.positionZ.setValueAtTime(Qc.z,this.context.currentTime),af.forwardX.setValueAtTime(nf.x,this.context.currentTime),af.forwardY.setValueAtTime(nf.y,this.context.currentTime),af.forwardZ.setValueAtTime(nf.z,this.context.currentTime),af.upX.setValueAtTime(lf.x,this.context.currentTime),af.upY.setValueAtTime(lf.y,this.context.currentTime),af.upZ.setValueAtTime(lf.z,this.context.currentTime)):(af.setPosition(Qc.x,Qc.y,Qc.z),af.setOrientation(nf.x,nf.y,nf.z,lf.x,lf.y,lf.z))}}()});function Audio$1(Qc){Object3D.call(this),this.type="Audio",this.context=Qc.context,this.gain=this.context.createGain(),this.gain.connect(Qc.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}Audio$1.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Audio$1,getOutput:function(){return this.gain},setNodeSource:function(Qc){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=Qc,this.connect(),this},setMediaElementSource:function(Qc){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(Qc),this.connect(),this},setBuffer:function(Qc){return this.buffer=Qc,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}var Qc=this.context.createBufferSource();return Qc.buffer=this.buffer,Qc.loop=this.loop,Qc.onended=this.onEnded.bind(this),Qc.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,Qc.start(this.startTime,this.offset),this.isPlaying=!0,this.source=Qc,this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var Qc=1,ef=this.filters.length;Qc<ef;Qc++)this.filters[Qc-1].connect(this.filters[Qc]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var Qc=1,ef=this.filters.length;Qc<ef;Qc++)this.filters[Qc-1].disconnect(this.filters[Qc]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(Qc){return Qc||(Qc=[]),this.isPlaying===!0?(this.disconnect(),this.filters=Qc,this.connect()):this.filters=Qc,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(Qc){return this.setFilters(Qc?[Qc]:[])},setPlaybackRate:function(Qc){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=Qc,this.isPlaying===!0&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(Qc){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=Qc,this.isPlaying===!0&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(Qc){return this.gain.gain.setTargetAtTime(Qc,this.context.currentTime,.01),this}});function PositionalAudio(Qc){Audio$1.call(this,Qc),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}PositionalAudio.prototype=Object.assign(Object.create(Audio$1.prototype),{constructor:PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(Qc){return this.panner.refDistance=Qc,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(Qc){return this.panner.rolloffFactor=Qc,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(Qc){return this.panner.distanceModel=Qc,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(Qc){return this.panner.maxDistance=Qc,this},setDirectionalCone:function(Qc,ef,tf){return this.panner.coneInnerAngle=Qc,this.panner.coneOuterAngle=ef,this.panner.coneOuterGain=tf,this},updateMatrixWorld:function(){var Qc=new Vector3,ef=new Quaternion,tf=new Vector3,nf=new Vector3;return function(sf){Object3D.prototype.updateMatrixWorld.call(this,sf);var af=this.panner;this.matrixWorld.decompose(Qc,ef,tf),nf.set(0,0,1).applyQuaternion(ef),af.setPosition(Qc.x,Qc.y,Qc.z),af.setOrientation(nf.x,nf.y,nf.z)}}()});function AudioAnalyser(Qc,ef){this.analyser=Qc.context.createAnalyser(),this.analyser.fftSize=ef!==void 0?ef:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),Qc.getOutput().connect(this.analyser)}Object.assign(AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var Qc=0,ef=this.getFrequencyData(),tf=0;tf<ef.length;tf++)Qc+=ef[tf];return Qc/ef.length}});function PropertyMixer(Qc,ef,tf){this.binding=Qc,this.valueSize=tf;var nf=Float64Array,rf;switch(ef){case"quaternion":rf=this._slerp;break;case"string":case"bool":nf=Array,rf=this._select;break;default:rf=this._lerp}this.buffer=new nf(tf*4),this._mixBufferRegion=rf,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(PropertyMixer.prototype,{accumulate:function(Qc,ef){var tf=this.buffer,nf=this.valueSize,rf=Qc*nf+nf,sf=this.cumulativeWeight;if(sf===0){for(var af=0;af!==nf;++af)tf[rf+af]=tf[af];sf=ef}else{sf+=ef;var lf=ef/sf;this._mixBufferRegion(tf,rf,0,lf,nf)}this.cumulativeWeight=sf},apply:function(Qc){var ef=this.valueSize,tf=this.buffer,nf=Qc*ef+ef,rf=this.cumulativeWeight,sf=this.binding;if(this.cumulativeWeight=0,rf<1){var af=ef*3;this._mixBufferRegion(tf,nf,af,1-rf,ef)}for(var lf=ef,cf=ef+ef;lf!==cf;++lf)if(tf[lf]!==tf[lf+ef]){sf.setValue(tf,nf);break}},saveOriginalState:function(){var Qc=this.binding,ef=this.buffer,tf=this.valueSize,nf=tf*3;Qc.getValue(ef,nf);for(var rf=tf,sf=nf;rf!==sf;++rf)ef[rf]=ef[nf+rf%tf];this.cumulativeWeight=0},restoreOriginalState:function(){var Qc=this.valueSize*3;this.binding.setValue(this.buffer,Qc)},_select:function(Qc,ef,tf,nf,rf){if(nf>=.5)for(var sf=0;sf!==rf;++sf)Qc[ef+sf]=Qc[tf+sf]},_slerp:function(Qc,ef,tf,nf){Quaternion.slerpFlat(Qc,ef,Qc,ef,Qc,tf,nf)},_lerp:function(Qc,ef,tf,nf,rf){for(var sf=1-nf,af=0;af!==rf;++af){var lf=ef+af;Qc[lf]=Qc[lf]*sf+Qc[tf+af]*nf}}});var RESERVED_CHARS_RE="\\[\\]\\.:\\/";function Composite(Qc,ef,tf){var nf=tf||PropertyBinding.parseTrackName(ef);this._targetGroup=Qc,this._bindings=Qc.subscribe_(ef,nf)}Object.assign(Composite.prototype,{getValue:function(Qc,ef){this.bind();var tf=this._targetGroup.nCachedObjects_,nf=this._bindings[tf];nf!==void 0&&nf.getValue(Qc,ef)},setValue:function(Qc,ef){for(var tf=this._bindings,nf=this._targetGroup.nCachedObjects_,rf=tf.length;nf!==rf;++nf)tf[nf].setValue(Qc,ef)},bind:function(){for(var Qc=this._bindings,ef=this._targetGroup.nCachedObjects_,tf=Qc.length;ef!==tf;++ef)Qc[ef].bind()},unbind:function(){for(var Qc=this._bindings,ef=this._targetGroup.nCachedObjects_,tf=Qc.length;ef!==tf;++ef)Qc[ef].unbind()}});function PropertyBinding(Qc,ef,tf){this.path=ef,this.parsedPath=tf||PropertyBinding.parseTrackName(ef),this.node=PropertyBinding.findNode(Qc,this.parsedPath.nodeName)||Qc,this.rootNode=Qc}Object.assign(PropertyBinding,{Composite,create:function(Qc,ef,tf){return Qc&&Qc.isAnimationObjectGroup?new PropertyBinding.Composite(Qc,ef,tf):new PropertyBinding(Qc,ef,tf)},sanitizeNodeName:function(){var Qc=new RegExp("["+RESERVED_CHARS_RE+"]","g");return function(tf){return tf.replace(/\s/g,"_").replace(Qc,"")}}(),parseTrackName:function(){var Qc="[^"+RESERVED_CHARS_RE+"]",ef="[^"+RESERVED_CHARS_RE.replace("\\.","")+"]",tf=/((?:WC+[\/:])*)/.source.replace("WC",Qc),nf=/(WCOD+)?/.source.replace("WCOD",ef),rf=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Qc),sf=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Qc),af=new RegExp("^"+tf+nf+rf+sf+"$"),lf=["material","materials","bones"];return function(uf){var ff=af.exec(uf);if(!ff)throw new Error("PropertyBinding: Cannot parse trackName: "+uf);var df={nodeName:ff[2],objectName:ff[3],objectIndex:ff[4],propertyName:ff[5],propertyIndex:ff[6]},gf=df.nodeName&&df.nodeName.lastIndexOf(".");if(gf!==void 0&&gf!==-1){var _f=df.nodeName.substring(gf+1);lf.indexOf(_f)!==-1&&(df.nodeName=df.nodeName.substring(0,gf),df.objectName=_f)}if(df.propertyName===null||df.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+uf);return df}}(),findNode:function(Qc,ef){if(!ef||ef===""||ef==="root"||ef==="."||ef===-1||ef===Qc.name||ef===Qc.uuid)return Qc;if(Qc.skeleton){var tf=Qc.skeleton.getBoneByName(ef);if(tf!==void 0)return tf}if(Qc.children){var nf=function(sf){for(var af=0;af<sf.length;af++){var lf=sf[af];if(lf.name===ef||lf.uuid===ef)return lf;var cf=nf(lf.children);if(cf)return cf}return null},rf=nf(Qc.children);if(rf)return rf}return null}});Object.assign(PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(ef,tf){ef[tf]=this.node[this.propertyName]},function(ef,tf){for(var nf=this.resolvedProperty,rf=0,sf=nf.length;rf!==sf;++rf)ef[tf++]=nf[rf]},function(ef,tf){ef[tf]=this.resolvedProperty[this.propertyIndex]},function(ef,tf){this.resolvedProperty.toArray(ef,tf)}],SetterByBindingTypeAndVersioning:[[function(ef,tf){this.targetObject[this.propertyName]=ef[tf]},function(ef,tf){this.targetObject[this.propertyName]=ef[tf],this.targetObject.needsUpdate=!0},function(ef,tf){this.targetObject[this.propertyName]=ef[tf],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(ef,tf){for(var nf=this.resolvedProperty,rf=0,sf=nf.length;rf!==sf;++rf)nf[rf]=ef[tf++]},function(ef,tf){for(var nf=this.resolvedProperty,rf=0,sf=nf.length;rf!==sf;++rf)nf[rf]=ef[tf++];this.targetObject.needsUpdate=!0},function(ef,tf){for(var nf=this.resolvedProperty,rf=0,sf=nf.length;rf!==sf;++rf)nf[rf]=ef[tf++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(ef,tf){this.resolvedProperty[this.propertyIndex]=ef[tf]},function(ef,tf){this.resolvedProperty[this.propertyIndex]=ef[tf],this.targetObject.needsUpdate=!0},function(ef,tf){this.resolvedProperty[this.propertyIndex]=ef[tf],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(ef,tf){this.resolvedProperty.fromArray(ef,tf)},function(ef,tf){this.resolvedProperty.fromArray(ef,tf),this.targetObject.needsUpdate=!0},function(ef,tf){this.resolvedProperty.fromArray(ef,tf),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(ef,tf){this.bind(),this.getValue(ef,tf)},setValue:function(ef,tf){this.bind(),this.setValue(ef,tf)},bind:function(){var Qc=this.node,ef=this.parsedPath,tf=ef.objectName,nf=ef.propertyName,rf=ef.propertyIndex;if(Qc||(Qc=PropertyBinding.findNode(this.rootNode,ef.nodeName)||this.rootNode,this.node=Qc),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!Qc){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(tf){var sf=ef.objectIndex;switch(tf){case"materials":if(!Qc.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!Qc.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}Qc=Qc.material.materials;break;case"bones":if(!Qc.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}Qc=Qc.skeleton.bones;for(var af=0;af<Qc.length;af++)if(Qc[af].name===sf){sf=af;break}break;default:if(Qc[tf]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}Qc=Qc[tf]}if(sf!==void 0){if(Qc[sf]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,Qc);return}Qc=Qc[sf]}}var lf=Qc[nf];if(lf===void 0){var cf=ef.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+cf+"."+nf+" but it wasn't found.",Qc);return}var uf=this.Versioning.None;this.targetObject=Qc,Qc.needsUpdate!==void 0?uf=this.Versioning.NeedsUpdate:Qc.matrixWorldNeedsUpdate!==void 0&&(uf=this.Versioning.MatrixWorldNeedsUpdate);var ff=this.BindingType.Direct;if(rf!==void 0){if(nf==="morphTargetInfluences"){if(!Qc.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(Qc.geometry.isBufferGeometry){if(!Qc.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(var af=0;af<this.node.geometry.morphAttributes.position.length;af++)if(Qc.geometry.morphAttributes.position[af].name===rf){rf=af;break}}else{if(!Qc.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(var af=0;af<this.node.geometry.morphTargets.length;af++)if(Qc.geometry.morphTargets[af].name===rf){rf=af;break}}}ff=this.BindingType.ArrayElement,this.resolvedProperty=lf,this.propertyIndex=rf}else lf.fromArray!==void 0&&lf.toArray!==void 0?(ff=this.BindingType.HasFromToArray,this.resolvedProperty=lf):Array.isArray(lf)?(ff=this.BindingType.EntireArray,this.resolvedProperty=lf):this.propertyName=nf;this.getValue=this.GetterByBindingType[ff],this.setValue=this.SetterByBindingTypeAndVersioning[ff][uf]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(PropertyBinding.prototype,{_getValue_unbound:PropertyBinding.prototype.getValue,_setValue_unbound:PropertyBinding.prototype.setValue});function AnimationObjectGroup(){this.uuid=_Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var Qc={};this._indicesByUUID=Qc;for(var ef=0,tf=arguments.length;ef!==tf;++ef)Qc[arguments[ef].uuid]=ef;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var nf=this;this.stats={objects:{get total(){return nf._objects.length},get inUse(){return this.total-nf.nCachedObjects_}},get bindingsPerObject(){return nf._bindings.length}}}Object.assign(AnimationObjectGroup.prototype,{isAnimationObjectGroup:!0,add:function(){for(var Qc=this._objects,ef=Qc.length,tf=this.nCachedObjects_,nf=this._indicesByUUID,rf=this._paths,sf=this._parsedPaths,af=this._bindings,lf=af.length,cf=void 0,uf=0,ff=arguments.length;uf!==ff;++uf){var df=arguments[uf],gf=df.uuid,_f=nf[gf];if(_f===void 0){_f=ef++,nf[gf]=_f,Qc.push(df);for(var xf=0,Af=lf;xf!==Af;++xf)af[xf].push(new PropertyBinding(df,rf[xf],sf[xf]))}else if(_f<tf){cf=Qc[_f];var Df=--tf,Of=Qc[Df];nf[Of.uuid]=_f,Qc[_f]=Of,nf[gf]=Df,Qc[Df]=df;for(var xf=0,Af=lf;xf!==Af;++xf){var Gf=af[xf],Bf=Gf[Df],Vf=Gf[_f];Gf[_f]=Bf,Vf===void 0&&(Vf=new PropertyBinding(df,rf[xf],sf[xf])),Gf[Df]=Vf}}else Qc[_f]!==cf&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=tf},remove:function(){for(var Qc=this._objects,ef=this.nCachedObjects_,tf=this._indicesByUUID,nf=this._bindings,rf=nf.length,sf=0,af=arguments.length;sf!==af;++sf){var lf=arguments[sf],cf=lf.uuid,uf=tf[cf];if(uf!==void 0&&uf>=ef){var ff=ef++,df=Qc[ff];tf[df.uuid]=uf,Qc[uf]=df,tf[cf]=ff,Qc[ff]=lf;for(var gf=0,_f=rf;gf!==_f;++gf){var xf=nf[gf],Af=xf[ff],Df=xf[uf];xf[uf]=Af,xf[ff]=Df}}}this.nCachedObjects_=ef},uncache:function(){for(var Qc=this._objects,ef=Qc.length,tf=this.nCachedObjects_,nf=this._indicesByUUID,rf=this._bindings,sf=rf.length,af=0,lf=arguments.length;af!==lf;++af){var cf=arguments[af],uf=cf.uuid,ff=nf[uf];if(ff!==void 0)if(delete nf[uf],ff<tf){var df=--tf,gf=Qc[df],_f=--ef,xf=Qc[_f];nf[gf.uuid]=ff,Qc[ff]=gf,nf[xf.uuid]=df,Qc[df]=xf,Qc.pop();for(var Af=0,Df=sf;Af!==Df;++Af){var Of=rf[Af],Gf=Of[df],Bf=Of[_f];Of[ff]=Gf,Of[df]=Bf,Of.pop()}}else{var _f=--ef,xf=Qc[_f];nf[xf.uuid]=ff,Qc[ff]=xf,Qc.pop();for(var Af=0,Df=sf;Af!==Df;++Af){var Of=rf[Af];Of[ff]=Of[_f],Of.pop()}}}this.nCachedObjects_=tf},subscribe_:function(Qc,ef){var tf=this._bindingsIndicesByPath,nf=tf[Qc],rf=this._bindings;if(nf!==void 0)return rf[nf];var sf=this._paths,af=this._parsedPaths,lf=this._objects,cf=lf.length,uf=this.nCachedObjects_,ff=new Array(cf);nf=rf.length,tf[Qc]=nf,sf.push(Qc),af.push(ef),rf.push(ff);for(var df=uf,gf=lf.length;df!==gf;++df){var _f=lf[df];ff[df]=new PropertyBinding(_f,Qc,ef)}return ff},unsubscribe_:function(Qc){var ef=this._bindingsIndicesByPath,tf=ef[Qc];if(tf!==void 0){var nf=this._paths,rf=this._parsedPaths,sf=this._bindings,af=sf.length-1,lf=sf[af],cf=Qc[af];ef[cf]=tf,sf[tf]=lf,sf.pop(),rf[tf]=rf[af],rf.pop(),nf[tf]=nf[af],nf.pop()}}});function AnimationAction(Qc,ef,tf){this._mixer=Qc,this._clip=ef,this._localRoot=tf||null;for(var nf=ef.tracks,rf=nf.length,sf=new Array(rf),af={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},lf=0;lf!==rf;++lf){var cf=nf[lf].createInterpolant(null);sf[lf]=cf,cf.settings=af}this._interpolantSettings=af,this._interpolants=sf,this._propertyBindings=new Array(rf),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(AnimationAction.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(Qc){return this._startTime=Qc,this},setLoop:function(Qc,ef){return this.loop=Qc,this.repetitions=ef,this},setEffectiveWeight:function(Qc){return this.weight=Qc,this._effectiveWeight=this.enabled?Qc:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(Qc){return this._scheduleFading(Qc,0,1)},fadeOut:function(Qc){return this._scheduleFading(Qc,1,0)},crossFadeFrom:function(Qc,ef,tf){if(Qc.fadeOut(ef),this.fadeIn(ef),tf){var nf=this._clip.duration,rf=Qc._clip.duration,sf=rf/nf,af=nf/rf;Qc.warp(1,sf,ef),this.warp(af,1,ef)}return this},crossFadeTo:function(Qc,ef,tf){return Qc.crossFadeFrom(this,ef,tf)},stopFading:function(){var Qc=this._weightInterpolant;return Qc!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(Qc)),this},setEffectiveTimeScale:function(Qc){return this.timeScale=Qc,this._effectiveTimeScale=this.paused?0:Qc,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(Qc){return this.timeScale=this._clip.duration/Qc,this.stopWarping()},syncWith:function(Qc){return this.time=Qc.time,this.timeScale=Qc.timeScale,this.stopWarping()},halt:function(Qc){return this.warp(this._effectiveTimeScale,0,Qc)},warp:function(Qc,ef,tf){var nf=this._mixer,rf=nf.time,sf=this._timeScaleInterpolant,af=this.timeScale;sf===null&&(sf=nf._lendControlInterpolant(),this._timeScaleInterpolant=sf);var lf=sf.parameterPositions,cf=sf.sampleValues;return lf[0]=rf,lf[1]=rf+tf,cf[0]=Qc/af,cf[1]=ef/af,this},stopWarping:function(){var Qc=this._timeScaleInterpolant;return Qc!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(Qc)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(Qc,ef,tf,nf){if(!this.enabled){this._updateWeight(Qc);return}var rf=this._startTime;if(rf!==null){var sf=(Qc-rf)*tf;if(sf<0||tf===0)return;this._startTime=null,ef=tf*sf}ef*=this._updateTimeScale(Qc);var af=this._updateTime(ef),lf=this._updateWeight(Qc);if(lf>0)for(var cf=this._interpolants,uf=this._propertyBindings,ff=0,df=cf.length;ff!==df;++ff)cf[ff].evaluate(af),uf[ff].accumulate(nf,lf)},_updateWeight:function(Qc){var ef=0;if(this.enabled){ef=this.weight;var tf=this._weightInterpolant;if(tf!==null){var nf=tf.evaluate(Qc)[0];ef*=nf,Qc>tf.parameterPositions[1]&&(this.stopFading(),nf===0&&(this.enabled=!1))}}return this._effectiveWeight=ef,ef},_updateTimeScale:function(Qc){var ef=0;if(!this.paused){ef=this.timeScale;var tf=this._timeScaleInterpolant;if(tf!==null){var nf=tf.evaluate(Qc)[0];ef*=nf,Qc>tf.parameterPositions[1]&&(this.stopWarping(),ef===0?this.paused=!0:this.timeScale=ef)}}return this._effectiveTimeScale=ef,ef},_updateTime:function(Qc){var ef=this.time+Qc,tf=this._clip.duration,nf=this.loop,rf=this._loopCount,sf=nf===LoopPingPong;if(Qc===0)return rf===-1?ef:sf&&(rf&1)===1?tf-ef:ef;if(nf===LoopOnce){rf===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(ef>=tf)ef=tf;else if(ef<0)ef=0;else break e;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:Qc<0?-1:1})}}else{if(rf===-1&&(Qc>=0?(rf=0,this._setEndings(!0,this.repetitions===0,sf)):this._setEndings(this.repetitions===0,!0,sf)),ef>=tf||ef<0){var af=Math.floor(ef/tf);ef-=tf*af,rf+=Math.abs(af);var lf=this.repetitions-rf;if(lf<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,ef=Qc>0?tf:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:Qc>0?1:-1});else{if(lf===1){var cf=Qc<0;this._setEndings(cf,!cf,sf)}else this._setEndings(!1,!1,sf);this._loopCount=rf,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:af})}}if(sf&&(rf&1)===1)return this.time=ef,tf-ef}return this.time=ef,ef},_setEndings:function(Qc,ef,tf){var nf=this._interpolantSettings;tf?(nf.endingStart=ZeroSlopeEnding,nf.endingEnd=ZeroSlopeEnding):(Qc?nf.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nf.endingStart=WrapAroundEnding,ef?nf.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nf.endingEnd=WrapAroundEnding)},_scheduleFading:function(Qc,ef,tf){var nf=this._mixer,rf=nf.time,sf=this._weightInterpolant;sf===null&&(sf=nf._lendControlInterpolant(),this._weightInterpolant=sf);var af=sf.parameterPositions,lf=sf.sampleValues;return af[0]=rf,lf[0]=ef,af[1]=rf+Qc,lf[1]=tf,this}});function AnimationMixer(Qc){this._root=Qc,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}AnimationMixer.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:AnimationMixer,_bindAction:function(Qc,ef){var tf=Qc._localRoot||this._root,nf=Qc._clip.tracks,rf=nf.length,sf=Qc._propertyBindings,af=Qc._interpolants,lf=tf.uuid,cf=this._bindingsByRootAndName,uf=cf[lf];uf===void 0&&(uf={},cf[lf]=uf);for(var ff=0;ff!==rf;++ff){var df=nf[ff],gf=df.name,_f=uf[gf];if(_f!==void 0)sf[ff]=_f;else{if(_f=sf[ff],_f!==void 0){_f._cacheIndex===null&&(++_f.referenceCount,this._addInactiveBinding(_f,lf,gf));continue}var xf=ef&&ef._propertyBindings[ff].binding.parsedPath;_f=new PropertyMixer(PropertyBinding.create(tf,gf,xf),df.ValueTypeName,df.getValueSize()),++_f.referenceCount,this._addInactiveBinding(_f,lf,gf),sf[ff]=_f}af[ff].resultBuffer=_f.buffer}},_activateAction:function(Qc){if(!this._isActiveAction(Qc)){if(Qc._cacheIndex===null){var ef=(Qc._localRoot||this._root).uuid,tf=Qc._clip.uuid,nf=this._actionsByClip[tf];this._bindAction(Qc,nf&&nf.knownActions[0]),this._addInactiveAction(Qc,tf,ef)}for(var rf=Qc._propertyBindings,sf=0,af=rf.length;sf!==af;++sf){var lf=rf[sf];lf.useCount++===0&&(this._lendBinding(lf),lf.saveOriginalState())}this._lendAction(Qc)}},_deactivateAction:function(Qc){if(this._isActiveAction(Qc)){for(var ef=Qc._propertyBindings,tf=0,nf=ef.length;tf!==nf;++tf){var rf=ef[tf];--rf.useCount===0&&(rf.restoreOriginalState(),this._takeBackBinding(rf))}this._takeBackAction(Qc)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var Qc=this;this.stats={actions:{get total(){return Qc._actions.length},get inUse(){return Qc._nActiveActions}},bindings:{get total(){return Qc._bindings.length},get inUse(){return Qc._nActiveBindings}},controlInterpolants:{get total(){return Qc._controlInterpolants.length},get inUse(){return Qc._nActiveControlInterpolants}}}},_isActiveAction:function(Qc){var ef=Qc._cacheIndex;return ef!==null&&ef<this._nActiveActions},_addInactiveAction:function(Qc,ef,tf){var nf=this._actions,rf=this._actionsByClip,sf=rf[ef];if(sf===void 0)sf={knownActions:[Qc],actionByRoot:{}},Qc._byClipCacheIndex=0,rf[ef]=sf;else{var af=sf.knownActions;Qc._byClipCacheIndex=af.length,af.push(Qc)}Qc._cacheIndex=nf.length,nf.push(Qc),sf.actionByRoot[tf]=Qc},_removeInactiveAction:function(Qc){var ef=this._actions,tf=ef[ef.length-1],nf=Qc._cacheIndex;tf._cacheIndex=nf,ef[nf]=tf,ef.pop(),Qc._cacheIndex=null;var rf=Qc._clip.uuid,sf=this._actionsByClip,af=sf[rf],lf=af.knownActions,cf=lf[lf.length-1],uf=Qc._byClipCacheIndex;cf._byClipCacheIndex=uf,lf[uf]=cf,lf.pop(),Qc._byClipCacheIndex=null;var ff=af.actionByRoot,df=(Qc._localRoot||this._root).uuid;delete ff[df],lf.length===0&&delete sf[rf],this._removeInactiveBindingsForAction(Qc)},_removeInactiveBindingsForAction:function(Qc){for(var ef=Qc._propertyBindings,tf=0,nf=ef.length;tf!==nf;++tf){var rf=ef[tf];--rf.referenceCount===0&&this._removeInactiveBinding(rf)}},_lendAction:function(Qc){var ef=this._actions,tf=Qc._cacheIndex,nf=this._nActiveActions++,rf=ef[nf];Qc._cacheIndex=nf,ef[nf]=Qc,rf._cacheIndex=tf,ef[tf]=rf},_takeBackAction:function(Qc){var ef=this._actions,tf=Qc._cacheIndex,nf=--this._nActiveActions,rf=ef[nf];Qc._cacheIndex=nf,ef[nf]=Qc,rf._cacheIndex=tf,ef[tf]=rf},_addInactiveBinding:function(Qc,ef,tf){var nf=this._bindingsByRootAndName,rf=nf[ef],sf=this._bindings;rf===void 0&&(rf={},nf[ef]=rf),rf[tf]=Qc,Qc._cacheIndex=sf.length,sf.push(Qc)},_removeInactiveBinding:function(Qc){var ef=this._bindings,tf=Qc.binding,nf=tf.rootNode.uuid,rf=tf.path,sf=this._bindingsByRootAndName,af=sf[nf],lf=ef[ef.length-1],cf=Qc._cacheIndex;lf._cacheIndex=cf,ef[cf]=lf,ef.pop(),delete af[rf];e:{for(var uf in af)break e;delete sf[nf]}},_lendBinding:function(Qc){var ef=this._bindings,tf=Qc._cacheIndex,nf=this._nActiveBindings++,rf=ef[nf];Qc._cacheIndex=nf,ef[nf]=Qc,rf._cacheIndex=tf,ef[tf]=rf},_takeBackBinding:function(Qc){var ef=this._bindings,tf=Qc._cacheIndex,nf=--this._nActiveBindings,rf=ef[nf];Qc._cacheIndex=nf,ef[nf]=Qc,rf._cacheIndex=tf,ef[tf]=rf},_lendControlInterpolant:function(){var Qc=this._controlInterpolants,ef=this._nActiveControlInterpolants++,tf=Qc[ef];return tf===void 0&&(tf=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),tf.__cacheIndex=ef,Qc[ef]=tf),tf},_takeBackControlInterpolant:function(Qc){var ef=this._controlInterpolants,tf=Qc.__cacheIndex,nf=--this._nActiveControlInterpolants,rf=ef[nf];Qc.__cacheIndex=nf,ef[nf]=Qc,rf.__cacheIndex=tf,ef[tf]=rf},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(Qc,ef){var tf=ef||this._root,nf=tf.uuid,rf=typeof Qc=="string"?AnimationClip.findByName(tf,Qc):Qc,sf=rf!==null?rf.uuid:Qc,af=this._actionsByClip[sf],lf=null;if(af!==void 0){var cf=af.actionByRoot[nf];if(cf!==void 0)return cf;lf=af.knownActions[0],rf===null&&(rf=lf._clip)}if(rf===null)return null;var uf=new AnimationAction(this,rf,ef);return this._bindAction(uf,lf),this._addInactiveAction(uf,sf,nf),uf},existingAction:function(Qc,ef){var tf=ef||this._root,nf=tf.uuid,rf=typeof Qc=="string"?AnimationClip.findByName(tf,Qc):Qc,sf=rf?rf.uuid:Qc,af=this._actionsByClip[sf];return af!==void 0&&af.actionByRoot[nf]||null},stopAllAction:function(){var Qc=this._actions,ef=this._nActiveActions,tf=this._bindings,nf=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var rf=0;rf!==ef;++rf)Qc[rf].reset();for(var rf=0;rf!==nf;++rf)tf[rf].useCount=0;return this},update:function(Qc){Qc*=this.timeScale;for(var ef=this._actions,tf=this._nActiveActions,nf=this.time+=Qc,rf=Math.sign(Qc),sf=this._accuIndex^=1,af=0;af!==tf;++af){var lf=ef[af];lf._update(nf,Qc,rf,sf)}for(var cf=this._bindings,uf=this._nActiveBindings,af=0;af!==uf;++af)cf[af].apply(sf);return this},getRoot:function(){return this._root},uncacheClip:function(Qc){var ef=this._actions,tf=Qc.uuid,nf=this._actionsByClip,rf=nf[tf];if(rf!==void 0){for(var sf=rf.knownActions,af=0,lf=sf.length;af!==lf;++af){var cf=sf[af];this._deactivateAction(cf);var uf=cf._cacheIndex,ff=ef[ef.length-1];cf._cacheIndex=null,cf._byClipCacheIndex=null,ff._cacheIndex=uf,ef[uf]=ff,ef.pop(),this._removeInactiveBindingsForAction(cf)}delete nf[tf]}},uncacheRoot:function(Qc){var ef=Qc.uuid,tf=this._actionsByClip;for(var nf in tf){var rf=tf[nf].actionByRoot,sf=rf[ef];sf!==void 0&&(this._deactivateAction(sf),this._removeInactiveAction(sf))}var af=this._bindingsByRootAndName,lf=af[ef];if(lf!==void 0)for(var cf in lf){var uf=lf[cf];uf.restoreOriginalState(),this._removeInactiveBinding(uf)}},uncacheAction:function(Qc,ef){var tf=this.existingAction(Qc,ef);tf!==null&&(this._deactivateAction(tf),this._removeInactiveAction(tf))}});function Uniform(Qc){typeof Qc=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),Qc=arguments[1]),this.value=Qc}Uniform.prototype.clone=function(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())};function InstancedBufferGeometry(){BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}InstancedBufferGeometry.prototype=Object.assign(Object.create(BufferGeometry.prototype),{constructor:InstancedBufferGeometry,isInstancedBufferGeometry:!0,copy:function(Qc){return BufferGeometry.prototype.copy.call(this,Qc),this.maxInstancedCount=Qc.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)}});function InstancedInterleavedBuffer(Qc,ef,tf){InterleavedBuffer.call(this,Qc,ef),this.meshPerAttribute=tf||1}InstancedInterleavedBuffer.prototype=Object.assign(Object.create(InterleavedBuffer.prototype),{constructor:InstancedInterleavedBuffer,isInstancedInterleavedBuffer:!0,copy:function(Qc){return InterleavedBuffer.prototype.copy.call(this,Qc),this.meshPerAttribute=Qc.meshPerAttribute,this}});function InstancedBufferAttribute(Qc,ef,tf,nf){typeof tf=="number"&&(nf=tf,tf=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),BufferAttribute.call(this,Qc,ef,tf),this.meshPerAttribute=nf||1}InstancedBufferAttribute.prototype=Object.assign(Object.create(BufferAttribute.prototype),{constructor:InstancedBufferAttribute,isInstancedBufferAttribute:!0,copy:function(Qc){return BufferAttribute.prototype.copy.call(this,Qc),this.meshPerAttribute=Qc.meshPerAttribute,this}});function Raycaster(Qc,ef,tf,nf){this.ray=new Ray(Qc,ef),this.near=tf||0,this.far=nf||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ascSort(Qc,ef){return Qc.distance-ef.distance}function intersectObject(Qc,ef,tf,nf){if(Qc.visible!==!1&&(Qc.raycast(ef,tf),nf===!0))for(var rf=Qc.children,sf=0,af=rf.length;sf<af;sf++)intersectObject(rf[sf],ef,tf,!0)}Object.assign(Raycaster.prototype,{linePrecision:1,set:function(Qc,ef){this.ray.set(Qc,ef)},setFromCamera:function(Qc,ef){ef&&ef.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(ef.matrixWorld),this.ray.direction.set(Qc.x,Qc.y,.5).unproject(ef).sub(this.ray.origin).normalize()):ef&&ef.isOrthographicCamera?(this.ray.origin.set(Qc.x,Qc.y,(ef.near+ef.far)/(ef.near-ef.far)).unproject(ef),this.ray.direction.set(0,0,-1).transformDirection(ef.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(Qc,ef,tf){var nf=tf||[];return intersectObject(Qc,this,nf,ef),nf.sort(ascSort),nf},intersectObjects:function(Qc,ef,tf){var nf=tf||[];if(Array.isArray(Qc)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),nf;for(var rf=0,sf=Qc.length;rf<sf;rf++)intersectObject(Qc[rf],this,nf,ef);return nf.sort(ascSort),nf}});function Clock(Qc){this.autoStart=Qc!==void 0?Qc:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Clock.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var Qc=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var ef=(typeof performance>"u"?Date:performance).now();Qc=(ef-this.oldTime)/1e3,this.oldTime=ef,this.elapsedTime+=Qc}return Qc}});function Spherical(Qc,ef,tf){return this.radius=Qc!==void 0?Qc:1,this.phi=ef!==void 0?ef:0,this.theta=tf!==void 0?tf:0,this}Object.assign(Spherical.prototype,{set:function(Qc,ef,tf){return this.radius=Qc,this.phi=ef,this.theta=tf,this},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.radius=Qc.radius,this.phi=Qc.phi,this.theta=Qc.theta,this},makeSafe:function(){var Qc=1e-6;return this.phi=Math.max(Qc,Math.min(Math.PI-Qc,this.phi)),this},setFromVector3:function(Qc){return this.setFromCartesianCoords(Qc.x,Qc.y,Qc.z)},setFromCartesianCoords:function(Qc,ef,tf){return this.radius=Math.sqrt(Qc*Qc+ef*ef+tf*tf),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(Qc,tf),this.phi=Math.acos(_Math.clamp(ef/this.radius,-1,1))),this}});function Cylindrical(Qc,ef,tf){return this.radius=Qc!==void 0?Qc:1,this.theta=ef!==void 0?ef:0,this.y=tf!==void 0?tf:0,this}Object.assign(Cylindrical.prototype,{set:function(Qc,ef,tf){return this.radius=Qc,this.theta=ef,this.y=tf,this},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.radius=Qc.radius,this.theta=Qc.theta,this.y=Qc.y,this},setFromVector3:function(Qc){return this.setFromCartesianCoords(Qc.x,Qc.y,Qc.z)},setFromCartesianCoords:function(Qc,ef,tf){return this.radius=Math.sqrt(Qc*Qc+tf*tf),this.theta=Math.atan2(Qc,tf),this.y=ef,this}});function Box2(Qc,ef){this.min=Qc!==void 0?Qc:new Vector2(1/0,1/0),this.max=ef!==void 0?ef:new Vector2(-1/0,-1/0)}Object.assign(Box2.prototype,{set:function(Qc,ef){return this.min.copy(Qc),this.max.copy(ef),this},setFromPoints:function(Qc){this.makeEmpty();for(var ef=0,tf=Qc.length;ef<tf;ef++)this.expandByPoint(Qc[ef]);return this},setFromCenterAndSize:function(){var Qc=new Vector2;return function(tf,nf){var rf=Qc.copy(nf).multiplyScalar(.5);return this.min.copy(tf).sub(rf),this.max.copy(tf).add(rf),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.min.copy(Qc.min),this.max.copy(Qc.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(Qc){return Qc===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),Qc=new Vector2),this.isEmpty()?Qc.set(0,0):Qc.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(Qc){return Qc===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),Qc=new Vector2),this.isEmpty()?Qc.set(0,0):Qc.subVectors(this.max,this.min)},expandByPoint:function(Qc){return this.min.min(Qc),this.max.max(Qc),this},expandByVector:function(Qc){return this.min.sub(Qc),this.max.add(Qc),this},expandByScalar:function(Qc){return this.min.addScalar(-Qc),this.max.addScalar(Qc),this},containsPoint:function(Qc){return!(Qc.x<this.min.x||Qc.x>this.max.x||Qc.y<this.min.y||Qc.y>this.max.y)},containsBox:function(Qc){return this.min.x<=Qc.min.x&&Qc.max.x<=this.max.x&&this.min.y<=Qc.min.y&&Qc.max.y<=this.max.y},getParameter:function(Qc,ef){return ef===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),ef=new Vector2),ef.set((Qc.x-this.min.x)/(this.max.x-this.min.x),(Qc.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(Qc){return!(Qc.max.x<this.min.x||Qc.min.x>this.max.x||Qc.max.y<this.min.y||Qc.min.y>this.max.y)},clampPoint:function(Qc,ef){return ef===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),ef=new Vector2),ef.copy(Qc).clamp(this.min,this.max)},distanceToPoint:function(){var Qc=new Vector2;return function(tf){var nf=Qc.copy(tf).clamp(this.min,this.max);return nf.sub(tf).length()}}(),intersect:function(Qc){return this.min.max(Qc.min),this.max.min(Qc.max),this},union:function(Qc){return this.min.min(Qc.min),this.max.max(Qc.max),this},translate:function(Qc){return this.min.add(Qc),this.max.add(Qc),this},equals:function(Qc){return Qc.min.equals(this.min)&&Qc.max.equals(this.max)}});function Line3(Qc,ef){this.start=Qc!==void 0?Qc:new Vector3,this.end=ef!==void 0?ef:new Vector3}Object.assign(Line3.prototype,{set:function(Qc,ef){return this.start.copy(Qc),this.end.copy(ef),this},clone:function(){return new this.constructor().copy(this)},copy:function(Qc){return this.start.copy(Qc.start),this.end.copy(Qc.end),this},getCenter:function(Qc){return Qc===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),Qc=new Vector3),Qc.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(Qc){return Qc===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),Qc=new Vector3),Qc.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(Qc,ef){return ef===void 0&&(console.warn("THREE.Line3: .at() target is now required"),ef=new Vector3),this.delta(ef).multiplyScalar(Qc).add(this.start)},closestPointToPointParameter:function(){var Qc=new Vector3,ef=new Vector3;return function(nf,rf){Qc.subVectors(nf,this.start),ef.subVectors(this.end,this.start);var sf=ef.dot(ef),af=ef.dot(Qc),lf=af/sf;return rf&&(lf=_Math.clamp(lf,0,1)),lf}}(),closestPointToPoint:function(Qc,ef,tf){var nf=this.closestPointToPointParameter(Qc,ef);return tf===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),tf=new Vector3),this.delta(tf).multiplyScalar(nf).add(this.start)},applyMatrix4:function(Qc){return this.start.applyMatrix4(Qc),this.end.applyMatrix4(Qc),this},equals:function(Qc){return Qc.start.equals(this.start)&&Qc.end.equals(this.end)}});function ImmediateRenderObject(Qc){Object3D.call(this),this.material=Qc,this.render=function(){}}ImmediateRenderObject.prototype=Object.create(Object3D.prototype);ImmediateRenderObject.prototype.constructor=ImmediateRenderObject;ImmediateRenderObject.prototype.isImmediateRenderObject=!0;function VertexNormalsHelper(Qc,ef,tf,nf){this.object=Qc,this.size=ef!==void 0?ef:1;var rf=tf!==void 0?tf:16711680,sf=nf!==void 0?nf:1,af=0,lf=this.object.geometry;lf&&lf.isGeometry?af=lf.faces.length*3:lf&&lf.isBufferGeometry&&(af=lf.attributes.normal.count);var cf=new BufferGeometry,uf=new Float32BufferAttribute(af*2*3,3);cf.addAttribute("position",uf),LineSegments.call(this,cf,new LineBasicMaterial({color:rf,linewidth:sf})),this.matrixAutoUpdate=!1,this.update()}VertexNormalsHelper.prototype=Object.create(LineSegments.prototype);VertexNormalsHelper.prototype.constructor=VertexNormalsHelper;VertexNormalsHelper.prototype.update=function(){var Qc=new Vector3,ef=new Vector3,tf=new Matrix3;return function(){var rf=["a","b","c"];this.object.updateMatrixWorld(!0),tf.getNormalMatrix(this.object.matrixWorld);var sf=this.object.matrixWorld,af=this.geometry.attributes.position,lf=this.object.geometry;if(lf&&lf.isGeometry)for(var cf=lf.vertices,uf=lf.faces,ff=0,df=0,gf=uf.length;df<gf;df++)for(var _f=uf[df],xf=0,Af=_f.vertexNormals.length;xf<Af;xf++){var Df=cf[_f[rf[xf]]],Of=_f.vertexNormals[xf];Qc.copy(Df).applyMatrix4(sf),ef.copy(Of).applyMatrix3(tf).normalize().multiplyScalar(this.size).add(Qc),af.setXYZ(ff,Qc.x,Qc.y,Qc.z),ff=ff+1,af.setXYZ(ff,ef.x,ef.y,ef.z),ff=ff+1}else if(lf&&lf.isBufferGeometry)for(var Gf=lf.attributes.position,Bf=lf.attributes.normal,ff=0,xf=0,Af=Gf.count;xf<Af;xf++)Qc.set(Gf.getX(xf),Gf.getY(xf),Gf.getZ(xf)).applyMatrix4(sf),ef.set(Bf.getX(xf),Bf.getY(xf),Bf.getZ(xf)),ef.applyMatrix3(tf).normalize().multiplyScalar(this.size).add(Qc),af.setXYZ(ff,Qc.x,Qc.y,Qc.z),ff=ff+1,af.setXYZ(ff,ef.x,ef.y,ef.z),ff=ff+1;af.needsUpdate=!0}}();function SpotLightHelper(Qc,ef){Object3D.call(this),this.light=Qc,this.light.updateMatrixWorld(),this.matrix=Qc.matrixWorld,this.matrixAutoUpdate=!1,this.color=ef;for(var tf=new BufferGeometry,nf=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],rf=0,sf=1,af=32;rf<af;rf++,sf++){var lf=rf/af*Math.PI*2,cf=sf/af*Math.PI*2;nf.push(Math.cos(lf),Math.sin(lf),1,Math.cos(cf),Math.sin(cf),1)}tf.addAttribute("position",new Float32BufferAttribute(nf,3));var uf=new LineBasicMaterial({fog:!1});this.cone=new LineSegments(tf,uf),this.add(this.cone),this.update()}SpotLightHelper.prototype=Object.create(Object3D.prototype);SpotLightHelper.prototype.constructor=SpotLightHelper;SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};SpotLightHelper.prototype.update=function(){var Qc=new Vector3,ef=new Vector3;return function(){this.light.updateMatrixWorld();var nf=this.light.distance?this.light.distance:1e3,rf=nf*Math.tan(this.light.angle);this.cone.scale.set(rf,rf,nf),Qc.setFromMatrixPosition(this.light.matrixWorld),ef.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ef.sub(Qc)),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();function getBoneList(Qc){var ef=[];Qc&&Qc.isBone&&ef.push(Qc);for(var tf=0;tf<Qc.children.length;tf++)ef.push.apply(ef,getBoneList(Qc.children[tf]));return ef}function SkeletonHelper(Qc){for(var ef=getBoneList(Qc),tf=new BufferGeometry,nf=[],rf=[],sf=new Color$1(0,0,1),af=new Color$1(0,1,0),lf=0;lf<ef.length;lf++){var cf=ef[lf];cf.parent&&cf.parent.isBone&&(nf.push(0,0,0),nf.push(0,0,0),rf.push(sf.r,sf.g,sf.b),rf.push(af.r,af.g,af.b))}tf.addAttribute("position",new Float32BufferAttribute(nf,3)),tf.addAttribute("color",new Float32BufferAttribute(rf,3));var uf=new LineBasicMaterial({vertexColors:VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});LineSegments.call(this,tf,uf),this.root=Qc,this.bones=ef,this.matrix=Qc.matrixWorld,this.matrixAutoUpdate=!1}SkeletonHelper.prototype=Object.create(LineSegments.prototype);SkeletonHelper.prototype.constructor=SkeletonHelper;SkeletonHelper.prototype.updateMatrixWorld=function(){var Qc=new Vector3,ef=new Matrix4,tf=new Matrix4;return function(rf){var sf=this.bones,af=this.geometry,lf=af.getAttribute("position");tf.getInverse(this.root.matrixWorld);for(var cf=0,uf=0;cf<sf.length;cf++){var ff=sf[cf];ff.parent&&ff.parent.isBone&&(ef.multiplyMatrices(tf,ff.matrixWorld),Qc.setFromMatrixPosition(ef),lf.setXYZ(uf,Qc.x,Qc.y,Qc.z),ef.multiplyMatrices(tf,ff.parent.matrixWorld),Qc.setFromMatrixPosition(ef),lf.setXYZ(uf+1,Qc.x,Qc.y,Qc.z),uf+=2)}af.getAttribute("position").needsUpdate=!0,Object3D.prototype.updateMatrixWorld.call(this,rf)}}();function PointLightHelper(Qc,ef,tf){this.light=Qc,this.light.updateMatrixWorld(),this.color=tf;var nf=new SphereBufferGeometry(ef,4,2),rf=new MeshBasicMaterial({wireframe:!0,fog:!1});Mesh.call(this,nf,rf),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}PointLightHelper.prototype=Object.create(Mesh.prototype);PointLightHelper.prototype.constructor=PointLightHelper;PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};PointLightHelper.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};function RectAreaLightHelper(Qc,ef){Object3D.call(this),this.light=Qc,this.light.updateMatrixWorld(),this.matrix=Qc.matrixWorld,this.matrixAutoUpdate=!1,this.color=ef;var tf=new LineBasicMaterial({fog:!1}),nf=new BufferGeometry;nf.addAttribute("position",new BufferAttribute(new Float32Array(5*3),3)),this.line=new Line(nf,tf),this.add(this.line),this.update()}RectAreaLightHelper.prototype=Object.create(Object3D.prototype);RectAreaLightHelper.prototype.constructor=RectAreaLightHelper;RectAreaLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};RectAreaLightHelper.prototype.update=function(){var Qc=this.light.width*.5,ef=this.light.height*.5,tf=this.line.geometry.attributes.position,nf=tf.array;nf[0]=Qc,nf[1]=-ef,nf[2]=0,nf[3]=Qc,nf[4]=ef,nf[5]=0,nf[6]=-Qc,nf[7]=ef,nf[8]=0,nf[9]=-Qc,nf[10]=-ef,nf[11]=0,nf[12]=Qc,nf[13]=-ef,nf[14]=0,tf.needsUpdate=!0,this.color!==void 0?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)};function HemisphereLightHelper(Qc,ef,tf){Object3D.call(this),this.light=Qc,this.light.updateMatrixWorld(),this.matrix=Qc.matrixWorld,this.matrixAutoUpdate=!1,this.color=tf;var nf=new OctahedronBufferGeometry(ef);nf.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=VertexColors);var rf=nf.getAttribute("position"),sf=new Float32Array(rf.count*3);nf.addAttribute("color",new BufferAttribute(sf,3)),this.add(new Mesh(nf,this.material)),this.update()}HemisphereLightHelper.prototype=Object.create(Object3D.prototype);HemisphereLightHelper.prototype.constructor=HemisphereLightHelper;HemisphereLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};HemisphereLightHelper.prototype.update=function(){var Qc=new Vector3,ef=new Color$1,tf=new Color$1;return function(){var rf=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var sf=rf.geometry.getAttribute("color");ef.copy(this.light.color),tf.copy(this.light.groundColor);for(var af=0,lf=sf.count;af<lf;af++){var cf=af<lf/2?ef:tf;sf.setXYZ(af,cf.r,cf.g,cf.b)}sf.needsUpdate=!0}rf.lookAt(Qc.setFromMatrixPosition(this.light.matrixWorld).negate())}}();function GridHelper(Qc,ef,tf,nf){Qc=Qc||10,ef=ef||10,tf=new Color$1(tf!==void 0?tf:4473924),nf=new Color$1(nf!==void 0?nf:8947848);for(var rf=ef/2,sf=Qc/ef,af=Qc/2,lf=[],cf=[],uf=0,ff=0,df=-af;uf<=ef;uf++,df+=sf){lf.push(-af,0,df,af,0,df),lf.push(df,0,-af,df,0,af);var gf=uf===rf?tf:nf;gf.toArray(cf,ff),ff+=3,gf.toArray(cf,ff),ff+=3,gf.toArray(cf,ff),ff+=3,gf.toArray(cf,ff),ff+=3}var _f=new BufferGeometry;_f.addAttribute("position",new Float32BufferAttribute(lf,3)),_f.addAttribute("color",new Float32BufferAttribute(cf,3));var xf=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,_f,xf)}GridHelper.prototype=Object.create(LineSegments.prototype);GridHelper.prototype.constructor=GridHelper;function PolarGridHelper(Qc,ef,tf,nf,rf,sf){Qc=Qc||10,ef=ef||16,tf=tf||8,nf=nf||64,rf=new Color$1(rf!==void 0?rf:4473924),sf=new Color$1(sf!==void 0?sf:8947848);var af=[],lf=[],cf,uf,ff,df,gf,_f,xf;for(df=0;df<=ef;df++)ff=df/ef*(Math.PI*2),cf=Math.sin(ff)*Qc,uf=Math.cos(ff)*Qc,af.push(0,0,0),af.push(cf,0,uf),xf=df&1?rf:sf,lf.push(xf.r,xf.g,xf.b),lf.push(xf.r,xf.g,xf.b);for(df=0;df<=tf;df++)for(xf=df&1?rf:sf,_f=Qc-Qc/tf*df,gf=0;gf<nf;gf++)ff=gf/nf*(Math.PI*2),cf=Math.sin(ff)*_f,uf=Math.cos(ff)*_f,af.push(cf,0,uf),lf.push(xf.r,xf.g,xf.b),ff=(gf+1)/nf*(Math.PI*2),cf=Math.sin(ff)*_f,uf=Math.cos(ff)*_f,af.push(cf,0,uf),lf.push(xf.r,xf.g,xf.b);var Af=new BufferGeometry;Af.addAttribute("position",new Float32BufferAttribute(af,3)),Af.addAttribute("color",new Float32BufferAttribute(lf,3));var Df=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,Af,Df)}PolarGridHelper.prototype=Object.create(LineSegments.prototype);PolarGridHelper.prototype.constructor=PolarGridHelper;function FaceNormalsHelper(Qc,ef,tf,nf){this.object=Qc,this.size=ef!==void 0?ef:1;var rf=tf!==void 0?tf:16776960,sf=nf!==void 0?nf:1,af=0,lf=this.object.geometry;lf&&lf.isGeometry?af=lf.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var cf=new BufferGeometry,uf=new Float32BufferAttribute(af*2*3,3);cf.addAttribute("position",uf),LineSegments.call(this,cf,new LineBasicMaterial({color:rf,linewidth:sf})),this.matrixAutoUpdate=!1,this.update()}FaceNormalsHelper.prototype=Object.create(LineSegments.prototype);FaceNormalsHelper.prototype.constructor=FaceNormalsHelper;FaceNormalsHelper.prototype.update=function(){var Qc=new Vector3,ef=new Vector3,tf=new Matrix3;return function(){this.object.updateMatrixWorld(!0),tf.getNormalMatrix(this.object.matrixWorld);for(var rf=this.object.matrixWorld,sf=this.geometry.attributes.position,af=this.object.geometry,lf=af.vertices,cf=af.faces,uf=0,ff=0,df=cf.length;ff<df;ff++){var gf=cf[ff],_f=gf.normal;Qc.copy(lf[gf.a]).add(lf[gf.b]).add(lf[gf.c]).divideScalar(3).applyMatrix4(rf),ef.copy(_f).applyMatrix3(tf).normalize().multiplyScalar(this.size).add(Qc),sf.setXYZ(uf,Qc.x,Qc.y,Qc.z),uf=uf+1,sf.setXYZ(uf,ef.x,ef.y,ef.z),uf=uf+1}sf.needsUpdate=!0}}();function DirectionalLightHelper(Qc,ef,tf){Object3D.call(this),this.light=Qc,this.light.updateMatrixWorld(),this.matrix=Qc.matrixWorld,this.matrixAutoUpdate=!1,this.color=tf,ef===void 0&&(ef=1);var nf=new BufferGeometry;nf.addAttribute("position",new Float32BufferAttribute([-ef,ef,0,ef,ef,0,ef,-ef,0,-ef,-ef,0,-ef,ef,0],3));var rf=new LineBasicMaterial({fog:!1});this.lightPlane=new Line(nf,rf),this.add(this.lightPlane),nf=new BufferGeometry,nf.addAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(nf,rf),this.add(this.targetLine),this.update()}DirectionalLightHelper.prototype=Object.create(Object3D.prototype);DirectionalLightHelper.prototype.constructor=DirectionalLightHelper;DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};DirectionalLightHelper.prototype.update=function(){var Qc=new Vector3,ef=new Vector3,tf=new Vector3;return function(){Qc.setFromMatrixPosition(this.light.matrixWorld),ef.setFromMatrixPosition(this.light.target.matrixWorld),tf.subVectors(ef,Qc),this.lightPlane.lookAt(tf),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(tf),this.targetLine.scale.z=tf.length()}}();function CameraHelper(Qc){var ef=new BufferGeometry,tf=new LineBasicMaterial({color:16777215,vertexColors:FaceColors}),nf=[],rf=[],sf={},af=new Color$1(16755200),lf=new Color$1(16711680),cf=new Color$1(43775),uf=new Color$1(16777215),ff=new Color$1(3355443);df("n1","n2",af),df("n2","n4",af),df("n4","n3",af),df("n3","n1",af),df("f1","f2",af),df("f2","f4",af),df("f4","f3",af),df("f3","f1",af),df("n1","f1",af),df("n2","f2",af),df("n3","f3",af),df("n4","f4",af),df("p","n1",lf),df("p","n2",lf),df("p","n3",lf),df("p","n4",lf),df("u1","u2",cf),df("u2","u3",cf),df("u3","u1",cf),df("c","t",uf),df("p","c",ff),df("cn1","cn2",ff),df("cn3","cn4",ff),df("cf1","cf2",ff),df("cf3","cf4",ff);function df(_f,xf,Af){gf(_f,Af),gf(xf,Af)}function gf(_f,xf){nf.push(0,0,0),rf.push(xf.r,xf.g,xf.b),sf[_f]===void 0&&(sf[_f]=[]),sf[_f].push(nf.length/3-1)}ef.addAttribute("position",new Float32BufferAttribute(nf,3)),ef.addAttribute("color",new Float32BufferAttribute(rf,3)),LineSegments.call(this,ef,tf),this.camera=Qc,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=Qc.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=sf,this.update()}CameraHelper.prototype=Object.create(LineSegments.prototype);CameraHelper.prototype.constructor=CameraHelper;CameraHelper.prototype.update=function(){var Qc,ef,tf=new Vector3,nf=new Camera;function rf(sf,af,lf,cf){tf.set(af,lf,cf).unproject(nf);var uf=ef[sf];if(uf!==void 0)for(var ff=Qc.getAttribute("position"),df=0,gf=uf.length;df<gf;df++)ff.setXYZ(uf[df],tf.x,tf.y,tf.z)}return function(){Qc=this.geometry,ef=this.pointMap;var af=1,lf=1;nf.projectionMatrix.copy(this.camera.projectionMatrix),rf("c",0,0,-1),rf("t",0,0,1),rf("n1",-af,-lf,-1),rf("n2",af,-lf,-1),rf("n3",-af,lf,-1),rf("n4",af,lf,-1),rf("f1",-af,-lf,1),rf("f2",af,-lf,1),rf("f3",-af,lf,1),rf("f4",af,lf,1),rf("u1",af*.7,lf*1.1,-1),rf("u2",-af*.7,lf*1.1,-1),rf("u3",0,lf*2,-1),rf("cf1",-af,0,1),rf("cf2",af,0,1),rf("cf3",0,-lf,1),rf("cf4",0,lf,1),rf("cn1",-af,0,-1),rf("cn2",af,0,-1),rf("cn3",0,-lf,-1),rf("cn4",0,lf,-1),Qc.getAttribute("position").needsUpdate=!0}}();function BoxHelper(Qc,ef){this.object=Qc,ef===void 0&&(ef=16776960);var tf=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nf=new Float32Array(8*3),rf=new BufferGeometry;rf.setIndex(new BufferAttribute(tf,1)),rf.addAttribute("position",new BufferAttribute(nf,3)),LineSegments.call(this,rf,new LineBasicMaterial({color:ef})),this.matrixAutoUpdate=!1,this.update()}BoxHelper.prototype=Object.create(LineSegments.prototype);BoxHelper.prototype.constructor=BoxHelper;BoxHelper.prototype.update=function(){var Qc=new Box3;return function(tf){if(tf!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Qc.setFromObject(this.object),!Qc.isEmpty()){var nf=Qc.min,rf=Qc.max,sf=this.geometry.attributes.position,af=sf.array;af[0]=rf.x,af[1]=rf.y,af[2]=rf.z,af[3]=nf.x,af[4]=rf.y,af[5]=rf.z,af[6]=nf.x,af[7]=nf.y,af[8]=rf.z,af[9]=rf.x,af[10]=nf.y,af[11]=rf.z,af[12]=rf.x,af[13]=rf.y,af[14]=nf.z,af[15]=nf.x,af[16]=rf.y,af[17]=nf.z,af[18]=nf.x,af[19]=nf.y,af[20]=nf.z,af[21]=rf.x,af[22]=nf.y,af[23]=nf.z,sf.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();BoxHelper.prototype.setFromObject=function(Qc){return this.object=Qc,this.update(),this};function Box3Helper(Qc,ef){this.type="Box3Helper",this.box=Qc;var tf=ef!==void 0?ef:16776960,nf=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),rf=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],sf=new BufferGeometry;sf.setIndex(new BufferAttribute(nf,1)),sf.addAttribute("position",new Float32BufferAttribute(rf,3)),LineSegments.call(this,sf,new LineBasicMaterial({color:tf})),this.geometry.computeBoundingSphere()}Box3Helper.prototype=Object.create(LineSegments.prototype);Box3Helper.prototype.constructor=Box3Helper;Box3Helper.prototype.updateMatrixWorld=function(Qc){var ef=this.box;ef.isEmpty()||(ef.getCenter(this.position),ef.getSize(this.scale),this.scale.multiplyScalar(.5),Object3D.prototype.updateMatrixWorld.call(this,Qc))};function PlaneHelper(Qc,ef,tf){this.type="PlaneHelper",this.plane=Qc,this.size=ef===void 0?1:ef;var nf=tf!==void 0?tf:16776960,rf=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],sf=new BufferGeometry;sf.addAttribute("position",new Float32BufferAttribute(rf,3)),sf.computeBoundingSphere(),Line.call(this,sf,new LineBasicMaterial({color:nf}));var af=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],lf=new BufferGeometry;lf.addAttribute("position",new Float32BufferAttribute(af,3)),lf.computeBoundingSphere(),this.add(new Mesh(lf,new MeshBasicMaterial({color:nf,opacity:.2,transparent:!0,depthWrite:!1})))}PlaneHelper.prototype=Object.create(Line.prototype);PlaneHelper.prototype.constructor=PlaneHelper;PlaneHelper.prototype.updateMatrixWorld=function(Qc){var ef=-this.plane.constant;Math.abs(ef)<1e-8&&(ef=1e-8),this.scale.set(.5*this.size,.5*this.size,ef),this.children[0].material.side=ef<0?BackSide:FrontSide,this.lookAt(this.plane.normal),Object3D.prototype.updateMatrixWorld.call(this,Qc)};var lineGeometry,coneGeometry;function ArrowHelper(Qc,ef,tf,nf,rf,sf){Object3D.call(this),nf===void 0&&(nf=16776960),tf===void 0&&(tf=1),rf===void 0&&(rf=.2*tf),sf===void 0&&(sf=.2*rf),lineGeometry===void 0&&(lineGeometry=new BufferGeometry,lineGeometry.addAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),coneGeometry=new CylinderBufferGeometry(0,.5,1,5,1),coneGeometry.translate(0,-.5,0)),this.position.copy(ef),this.line=new Line(lineGeometry,new LineBasicMaterial({color:nf})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(coneGeometry,new MeshBasicMaterial({color:nf})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(Qc),this.setLength(tf,rf,sf)}ArrowHelper.prototype=Object.create(Object3D.prototype);ArrowHelper.prototype.constructor=ArrowHelper;ArrowHelper.prototype.setDirection=function(){var Qc=new Vector3,ef;return function(nf){nf.y>.99999?this.quaternion.set(0,0,0,1):nf.y<-.99999?this.quaternion.set(1,0,0,0):(Qc.set(nf.z,0,-nf.x).normalize(),ef=Math.acos(nf.y),this.quaternion.setFromAxisAngle(Qc,ef))}}();ArrowHelper.prototype.setLength=function(Qc,ef,tf){ef===void 0&&(ef=.2*Qc),tf===void 0&&(tf=.2*ef),this.line.scale.set(1,Math.max(0,Qc-ef),1),this.line.updateMatrix(),this.cone.scale.set(tf,ef,tf),this.cone.position.y=Qc,this.cone.updateMatrix()};ArrowHelper.prototype.setColor=function(Qc){this.line.material.color.copy(Qc),this.cone.material.color.copy(Qc)};function AxesHelper(Qc){Qc=Qc||1;var ef=[0,0,0,Qc,0,0,0,0,0,0,Qc,0,0,0,0,0,0,Qc],tf=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nf=new BufferGeometry;nf.addAttribute("position",new Float32BufferAttribute(ef,3)),nf.addAttribute("color",new Float32BufferAttribute(tf,3));var rf=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,nf,rf)}AxesHelper.prototype=Object.create(LineSegments.prototype);AxesHelper.prototype.constructor=AxesHelper;Curve.create=function(Qc,ef){return console.log("THREE.Curve.create() has been deprecated"),Qc.prototype=Object.create(Curve.prototype),Qc.prototype.constructor=Qc,Qc.prototype.getPoint=ef,Qc};Object.assign(CurvePath.prototype,{createPointsGeometry:function(Qc){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var ef=this.getPoints(Qc);return this.createGeometry(ef)},createSpacedPointsGeometry:function(Qc){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var ef=this.getSpacedPoints(Qc);return this.createGeometry(ef)},createGeometry:function(Qc){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var ef=new Geometry,tf=0,nf=Qc.length;tf<nf;tf++){var rf=Qc[tf];ef.vertices.push(new Vector3(rf.x,rf.y,rf.z||0))}return ef}});Object.assign(Path.prototype,{fromPoints:function(Qc){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(Qc)}});Object.create(CatmullRomCurve3.prototype);Object.create(CatmullRomCurve3.prototype);function Spline(Qc){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,Qc),this.type="catmullrom"}Spline.prototype=Object.create(CatmullRomCurve3.prototype);Object.assign(Spline.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};SkeletonHelper.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(Loader.prototype,{extractUrlBase:function(Qc){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),LoaderUtils.extractUrlBase(Qc)}});Object.assign(JSONLoader.prototype,{setTexturePath:function(Qc){return console.warn("THREE.JSONLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(Qc)}});Object.assign(Box2.prototype,{center:function(Qc){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(Qc)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(Qc){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(Qc)},size:function(Qc){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(Qc)}});Object.assign(Box3.prototype,{center:function(Qc){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(Qc)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(Qc){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(Qc)},isIntersectionSphere:function(Qc){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(Qc)},size:function(Qc){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(Qc)}});Line3.prototype.center=function(Qc){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(Qc)};Object.assign(_Math,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(Qc){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),_Math.floorPowerOfTwo(Qc)},nextPowerOfTwo:function(Qc){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),_Math.ceilPowerOfTwo(Qc)}});Object.assign(Matrix3.prototype,{flattenToArrayOffset:function(Qc,ef){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(Qc,ef)},multiplyVector3:function(Qc){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),Qc.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(Qc){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(Qc)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(Matrix4.prototype,{extractPosition:function(Qc){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(Qc)},flattenToArrayOffset:function(Qc,ef){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(Qc,ef)},getPosition:function(){var Qc;return function(){return Qc===void 0&&(Qc=new Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),Qc.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(Qc){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(Qc)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(Qc){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),Qc.applyMatrix4(this)},multiplyVector4:function(Qc){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),Qc.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(Qc){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),Qc.transformDirection(this)},crossVector:function(Qc){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),Qc.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(Qc){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(Qc)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(Qc,ef,tf,nf,rf,sf){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(Qc,ef,nf,tf,rf,sf)}});Plane.prototype.isIntersectionLine=function(Qc){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(Qc)};Quaternion.prototype.multiplyVector3=function(Qc){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),Qc.applyQuaternion(this)};Object.assign(Ray.prototype,{isIntersectionBox:function(Qc){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(Qc)},isIntersectionPlane:function(Qc){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(Qc)},isIntersectionSphere:function(Qc){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(Qc)}});Object.assign(Triangle.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(Qc,ef){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(Qc,ef)},midpoint:function(Qc){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(Qc)},normal:function(Qc){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(Qc)},plane:function(Qc){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(Qc)}});Object.assign(Triangle,{barycoordFromPoint:function(Qc,ef,tf,nf,rf){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Triangle.getBarycoord(Qc,ef,tf,nf,rf)},normal:function(Qc,ef,tf,nf){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Triangle.getNormal(Qc,ef,tf,nf)}});Object.assign(Shape.prototype,{extractAllPoints:function(Qc){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(Qc)},extrude:function(Qc){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,Qc)},makeGeometry:function(Qc){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,Qc)}});Object.assign(Vector2.prototype,{fromAttribute:function(Qc,ef,tf){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(Qc,ef,tf)},distanceToManhattan:function(Qc){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(Qc)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(Qc){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(Qc)},getScaleFromMatrix:function(Qc){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(Qc)},getColumnFromMatrix:function(Qc,ef){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(ef,Qc)},applyProjection:function(Qc){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(Qc)},fromAttribute:function(Qc,ef,tf){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(Qc,ef,tf)},distanceToManhattan:function(Qc){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(Qc)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Vector4.prototype,{fromAttribute:function(Qc,ef,tf){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(Qc,ef,tf)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Geometry.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}});Object.assign(Object3D.prototype,{getChildByName:function(Qc){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(Qc)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(Qc,ef){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(ef,Qc)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}});Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(Qc){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=Qc}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(LOD.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Skeleton.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Object.defineProperty(Curve.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(Qc){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=Qc}});PerspectiveCamera.prototype.setLens=function(Qc,ef){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),ef!==void 0&&(this.filmGauge=ef),this.setFocalLength(Qc)};Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(Qc){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=Qc}},shadowCameraLeft:{set:function(Qc){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=Qc}},shadowCameraRight:{set:function(Qc){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=Qc}},shadowCameraTop:{set:function(Qc){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=Qc}},shadowCameraBottom:{set:function(Qc){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=Qc}},shadowCameraNear:{set:function(Qc){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=Qc}},shadowCameraFar:{set:function(Qc){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=Qc}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(Qc){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=Qc}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(Qc){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=Qc}},shadowMapHeight:{set:function(Qc){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=Qc}}});Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}});Object.assign(BufferGeometry.prototype,{addIndex:function(Qc){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(Qc)},addDrawCall:function(Qc,ef,tf){tf!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(Qc,ef)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.assign(ExtrudeBufferGeometry.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Uniform.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color$1}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(Qc){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=Qc===FlatShading}}});Object.defineProperties(MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(Qc){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=Qc}}});Object.assign(WebGLRenderer.prototype,{clearTarget:function(Qc,ef,tf,nf){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(Qc),this.clear(ef,tf,nf)},animate:function(Qc){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(Qc)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(Qc){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(Qc)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}});Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(Qc){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=Qc}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(Qc){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=Qc}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(WebGLShadowMap.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=Qc}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=Qc}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=Qc}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=Qc}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=Qc}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=Qc}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=Qc}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=Qc}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=Qc}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(Qc){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=Qc}}});Object.defineProperties(WebVRManager.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}});Audio$1.prototype.load=function(Qc){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var ef=this,tf=new AudioLoader;return tf.load(Qc,function(nf){ef.setBuffer(nf)}),this};AudioAnalyser.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};CubeCamera.prototype.updateCubeMap=function(Qc,ef){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(Qc,ef)};ImageUtils.crossOrigin=void 0;ImageUtils.loadTexture=function(Qc,ef,tf,nf){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var rf=new TextureLoader;rf.setCrossOrigin(this.crossOrigin);var sf=rf.load(Qc,tf,void 0,nf);return ef&&(sf.mapping=ef),sf};ImageUtils.loadTextureCube=function(Qc,ef,tf,nf){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var rf=new CubeTextureLoader;rf.setCrossOrigin(this.crossOrigin);var sf=rf.load(Qc,tf,void 0,nf);return ef&&(sf.mapping=ef),sf};ImageUtils.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ImageUtils.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function CanvasRenderer(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}const mixerList=[{name:"Tricopter",pos:0,model:"tricopter",image:"tri",motors:3,servos:!0},{name:"Quad +",pos:1,model:"quad_x",image:"quad_p",motors:4,servos:!1},{name:"Quad X",pos:2,model:"quad_x",image:"quad_x",motors:4,servos:!1},{name:"Bicopter",pos:3,model:"custom",image:"bicopter",motors:2,servos:!0},{name:"Gimbal",pos:4,model:"custom",image:"custom",motors:0,servos:!0},{name:"Y6",pos:5,model:"y6",image:"y6",motors:6,servos:!1},{name:"Hex +",pos:6,model:"hex_plus",image:"hex_p",motors:6,servos:!1},{name:"Flying Wing",pos:7,model:"custom",image:"flying_wing",motors:1,servos:!0},{name:"Y4",pos:8,model:"y4",image:"y4",motors:4,servos:!1},{name:"Hex X",pos:9,model:"hex_x",image:"hex_x",motors:6,servos:!1},{name:"Octo X8",pos:10,model:"custom",image:"octo_x8",motors:8,servos:!1},{name:"Octo Flat +",pos:11,model:"custom",image:"octo_flat_p",motors:8,servos:!1},{name:"Octo Flat X",pos:12,model:"custom",image:"octo_flat_x",motors:8,servos:!1},{name:"Airplane",pos:13,model:"custom",image:"airplane",motors:1,servos:!0},{name:"Heli 120",pos:14,model:"custom",image:"custom",motors:1,servos:!0},{name:"Heli 90",pos:15,model:"custom",image:"custom",motors:0,servos:!0},{name:"V-tail Quad",pos:16,model:"quad_vtail",image:"vtail_quad",motors:4,servos:!1},{name:"Hex H",pos:17,model:"custom",image:"custom",motors:6,servos:!1},{name:"PPM to SERVO",pos:18,model:"custom",image:"custom",motors:0,servos:!0},{name:"Dualcopter",pos:19,model:"custom",image:"custom",motors:2,servos:!0},{name:"Singlecopter",pos:20,model:"custom",image:"custom",motors:1,servos:!0},{name:"A-tail Quad",pos:21,model:"quad_atail",image:"atail_quad",motors:4,servos:!1},{name:"Custom",pos:22,model:"custom",image:"custom",motors:0,servos:!1},{name:"Custom Airplane",pos:23,model:"custom",image:"custom",motors:2,servos:!0},{name:"Custom Tricopter",pos:24,model:"custom",image:"custom",motors:3,servos:!0},{name:"Quad X 1234",pos:25,model:"quad_x",image:"quad_x_1234",motors:4,servos:!1},{name:"Octo X8 +",pos:26,model:"custom",image:"custom",motors:8,servos:!1}],Model=function(Qc,ef){const tf=this.canUseWebGLRenderer();this.wrapper=Qc,this.canvas=ef,tf?this.renderer=new WebGLRenderer({canvas:this.canvas[0],alpha:!0,antialias:!0}):this.renderer=new CanvasRenderer({canvas:this.canvas[0],alpha:!0}),this.renderer.setSize(this.wrapper.width()*2,this.wrapper.height()*2);let nf=tf?mixerList[FC.MIXER_CONFIG.mixer-1].model:"fallback";nf=="custom"&&(nf="fallback"),this.scene=new Scene,this.modelWrapper=new Object3D,this.camera=new PerspectiveCamera(60,this.wrapper.width()/this.wrapper.height(),1,1e4),this.camera.position.z=125;const rf=new AmbientLight(4210752),sf=new DirectionalLight(new Color$1(1,1,1),1.5);sf.position.set(0,1,0),this.scene.add(rf),this.scene.add(sf),this.scene.add(this.camera),this.scene.add(this.modelWrapper),this.loadJSON(nf,(function(af){this.model=af,this.modelWrapper.add(af),this.scene.add(this.modelWrapper),this.render()}).bind(this))};Model.prototype.loadJSON=function(Qc,ef){new JSONLoader().load(`./resources/models/${Qc}.json`,function(nf,rf){const sf=new Mesh(nf,rf);sf.scale.set(15,15,15),ef(sf)})};Model.prototype.canUseWebGLRenderer=function(){const Qc=document.createElement("canvas");return window.WebGLRenderingContext&&(Qc.getContext("webgl")||Qc.getContext("experimental-webgl"))};Model.prototype.rotateTo=function(Qc,ef,tf){this.model&&(this.model.rotation.x=Qc,this.modelWrapper.rotation.y=ef,this.model.rotation.z=tf,this.render())};Model.prototype.rotateBy=function(Qc,ef,tf){this.model&&(this.model.rotateX(Qc),this.model.rotateY(ef),this.model.rotateZ(tf),this.render())};Model.prototype.render=function(){this.model&&this.renderer.render(this.scene,this.camera)};Model.prototype.resize=function(){this.renderer.setSize(this.wrapper.width()*2,this.wrapper.height()*2),this.camera.aspect=this.wrapper.width()/this.wrapper.height(),this.camera.updateProjectionMatrix(),this.render()};Model.prototype.dispose=function(){this.canUseWebGLRenderer()&&(this.renderer.forceContextLoss=null,this.renderer.dispose())};var jquery$1={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(Qc){(function(ef,tf){Qc.exports=ef.document?tf(ef,!0):function(nf){if(!nf.document)throw new Error("jQuery requires a window with a document");return tf(nf)}})(typeof window<"u"?window:commonjsGlobal,function(ef,tf){var nf=[],rf=Object.getPrototypeOf,sf=nf.slice,af=nf.flat?function(mf){return nf.flat.call(mf)}:function(mf){return nf.concat.apply([],mf)},lf=nf.push,cf=nf.indexOf,uf={},ff=uf.toString,df=uf.hasOwnProperty,gf=df.toString,_f=gf.call(Object),xf={},Af=function(yf){return typeof yf=="function"&&typeof yf.nodeType!="number"&&typeof yf.item!="function"},Df=function(yf){return yf!=null&&yf===yf.window},Of=ef.document,Gf={type:!0,src:!0,nonce:!0,noModule:!0};function Bf(mf,yf,wf){wf=wf||Of;var If,Nf,kf=wf.createElement("script");if(kf.text=mf,yf)for(If in Gf)Nf=yf[If]||yf.getAttribute&&yf.getAttribute(If),Nf&&kf.setAttribute(If,Nf);wf.head.appendChild(kf).parentNode.removeChild(kf)}function Vf(mf){return mf==null?mf+"":typeof mf=="object"||typeof mf=="function"?uf[ff.call(mf)]||"object":typeof mf}var Lf="3.7.1",Cf=/HTML$/i,Tf=function(mf,yf){return new Tf.fn.init(mf,yf)};Tf.fn=Tf.prototype={jquery:Lf,constructor:Tf,length:0,toArray:function(){return sf.call(this)},get:function(mf){return mf==null?sf.call(this):mf<0?this[mf+this.length]:this[mf]},pushStack:function(mf){var yf=Tf.merge(this.constructor(),mf);return yf.prevObject=this,yf},each:function(mf){return Tf.each(this,mf)},map:function(mf){return this.pushStack(Tf.map(this,function(yf,wf){return mf.call(yf,wf,yf)}))},slice:function(){return this.pushStack(sf.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Tf.grep(this,function(mf,yf){return(yf+1)%2}))},odd:function(){return this.pushStack(Tf.grep(this,function(mf,yf){return yf%2}))},eq:function(mf){var yf=this.length,wf=+mf+(mf<0?yf:0);return this.pushStack(wf>=0&&wf<yf?[this[wf]]:[])},end:function(){return this.prevObject||this.constructor()},push:lf,sort:nf.sort,splice:nf.splice},Tf.extend=Tf.fn.extend=function(){var mf,yf,wf,If,Nf,kf,$f=arguments[0]||{},Jf=1,Zf=arguments.length,ph=!1;for(typeof $f=="boolean"&&(ph=$f,$f=arguments[Jf]||{},Jf++),typeof $f!="object"&&!Af($f)&&($f={}),Jf===Zf&&($f=this,Jf--);Jf<Zf;Jf++)if((mf=arguments[Jf])!=null)for(yf in mf)If=mf[yf],!(yf==="__proto__"||$f===If)&&(ph&&If&&(Tf.isPlainObject(If)||(Nf=Array.isArray(If)))?(wf=$f[yf],Nf&&!Array.isArray(wf)?kf=[]:!Nf&&!Tf.isPlainObject(wf)?kf={}:kf=wf,Nf=!1,$f[yf]=Tf.extend(ph,kf,If)):If!==void 0&&($f[yf]=If));return $f},Tf.extend({expando:"jQuery"+(Lf+Math.random()).replace(/\D/g,""),isReady:!0,error:function(mf){throw new Error(mf)},noop:function(){},isPlainObject:function(mf){var yf,wf;return!mf||ff.call(mf)!=="[object Object]"?!1:(yf=rf(mf),yf?(wf=df.call(yf,"constructor")&&yf.constructor,typeof wf=="function"&&gf.call(wf)===_f):!0)},isEmptyObject:function(mf){var yf;for(yf in mf)return!1;return!0},globalEval:function(mf,yf,wf){Bf(mf,{nonce:yf&&yf.nonce},wf)},each:function(mf,yf){var wf,If=0;if(Yf(mf))for(wf=mf.length;If<wf&&yf.call(mf[If],If,mf[If])!==!1;If++);else for(If in mf)if(yf.call(mf[If],If,mf[If])===!1)break;return mf},text:function(mf){var yf,wf="",If=0,Nf=mf.nodeType;if(!Nf)for(;yf=mf[If++];)wf+=Tf.text(yf);return Nf===1||Nf===11?mf.textContent:Nf===9?mf.documentElement.textContent:Nf===3||Nf===4?mf.nodeValue:wf},makeArray:function(mf,yf){var wf=yf||[];return mf!=null&&(Yf(Object(mf))?Tf.merge(wf,typeof mf=="string"?[mf]:mf):lf.call(wf,mf)),wf},inArray:function(mf,yf,wf){return yf==null?-1:cf.call(yf,mf,wf)},isXMLDoc:function(mf){var yf=mf&&mf.namespaceURI,wf=mf&&(mf.ownerDocument||mf).documentElement;return!Cf.test(yf||wf&&wf.nodeName||"HTML")},merge:function(mf,yf){for(var wf=+yf.length,If=0,Nf=mf.length;If<wf;If++)mf[Nf++]=yf[If];return mf.length=Nf,mf},grep:function(mf,yf,wf){for(var If,Nf=[],kf=0,$f=mf.length,Jf=!wf;kf<$f;kf++)If=!yf(mf[kf],kf),If!==Jf&&Nf.push(mf[kf]);return Nf},map:function(mf,yf,wf){var If,Nf,kf=0,$f=[];if(Yf(mf))for(If=mf.length;kf<If;kf++)Nf=yf(mf[kf],kf,wf),Nf!=null&&$f.push(Nf);else for(kf in mf)Nf=yf(mf[kf],kf,wf),Nf!=null&&$f.push(Nf);return af($f)},guid:1,support:xf}),typeof Symbol=="function"&&(Tf.fn[Symbol.iterator]=nf[Symbol.iterator]),Tf.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(mf,yf){uf["[object "+yf+"]"]=yf.toLowerCase()});function Yf(mf){var yf=!!mf&&"length"in mf&&mf.length,wf=Vf(mf);return Af(mf)||Df(mf)?!1:wf==="array"||yf===0||typeof yf=="number"&&yf>0&&yf-1 in mf}function rh(mf,yf){return mf.nodeName&&mf.nodeName.toLowerCase()===yf.toLowerCase()}var dh=nf.pop,hh=nf.sort,sh=nf.splice,Hf="[\\x20\\t\\r\\n\\f]",Qf=new RegExp("^"+Hf+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Hf+"+$","g");Tf.contains=function(mf,yf){var wf=yf&&yf.parentNode;return mf===wf||!!(wf&&wf.nodeType===1&&(mf.contains?mf.contains(wf):mf.compareDocumentPosition&&mf.compareDocumentPosition(wf)&16))};var ah=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function mh(mf,yf){return yf?mf==="\0"?"":mf.slice(0,-1)+"\\"+mf.charCodeAt(mf.length-1).toString(16)+" ":"\\"+mf}Tf.escapeSelector=function(mf){return(mf+"").replace(ah,mh)};var uh=Of,jf=lf;(function(){var mf,yf,wf,If,Nf,kf=jf,$f,Jf,Zf,ph,Mh,Ih=Tf.expando,Oh=0,Xh=0,wd=_0(),Td=_0(),hd=_0(),op=_0(),Rd=function(ch,Eh){return ch===Eh&&(Nf=!0),0},np="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Rp="(?:\\\\[\\da-fA-F]{1,6}"+Hf+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Yd="\\["+Hf+"*("+Rp+")(?:"+Hf+"*([*^$|!~]?=)"+Hf+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Rp+"))|)"+Hf+"*\\]",Cp=":("+Rp+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Yd+")*)|.*)\\)|)",qd=new RegExp(Hf+"+","g"),up=new RegExp("^"+Hf+"*,"+Hf+"*"),Sp=new RegExp("^"+Hf+"*([>+~]|"+Hf+")"+Hf+"*"),Kp=new RegExp(Hf+"|>"),yp=new RegExp(Cp),Up=new RegExp("^"+Rp+"$"),zp={ID:new RegExp("^#("+Rp+")"),CLASS:new RegExp("^\\.("+Rp+")"),TAG:new RegExp("^("+Rp+"|[*])"),ATTR:new RegExp("^"+Yd),PSEUDO:new RegExp("^"+Cp),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Hf+"*(even|odd|(([+-]|)(\\d*)n|)"+Hf+"*(?:([+-]|)"+Hf+"*(\\d+)|))"+Hf+"*\\)|)","i"),bool:new RegExp("^(?:"+np+")$","i"),needsContext:new RegExp("^"+Hf+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Hf+"*((?:-\\d)?\\d*)"+Hf+"*\\)|)(?=[^-]|$)","i")},Np=/^(?:input|select|textarea|button)$/i,Jp=/^h\d$/i,Wd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Qp=/[+~]/,Zp=new RegExp("\\\\[\\da-fA-F]{1,6}"+Hf+"?|\\\\([^\\r\\n\\f])","g"),Wp=function(ch,Eh){var Rh="0x"+ch.slice(1)-65536;return Eh||(Rh<0?String.fromCharCode(Rh+65536):String.fromCharCode(Rh>>10|55296,Rh&1023|56320))},Q0=function(){i0()},v0=d0(function(ch){return ch.disabled===!0&&rh(ch,"fieldset")},{dir:"parentNode",next:"legend"});function em(){try{return $f.activeElement}catch{}}try{kf.apply(nf=sf.call(uh.childNodes),uh.childNodes),nf[uh.childNodes.length].nodeType}catch{kf={apply:function(Eh,Rh){jf.apply(Eh,sf.call(Rh))},call:function(Eh){jf.apply(Eh,sf.call(arguments,1))}}}function lp(ch,Eh,Rh,Nh){var Vh,fd,xd,Sd,_d,Kd,Ud,Vd=Eh&&Eh.ownerDocument,Jd=Eh?Eh.nodeType:9;if(Rh=Rh||[],typeof ch!="string"||!ch||Jd!==1&&Jd!==9&&Jd!==11)return Rh;if(!Nh&&(i0(Eh),Eh=Eh||$f,Zf)){if(Jd!==11&&(_d=Wd.exec(ch)))if(Vh=_d[1]){if(Jd===9)if(xd=Eh.getElementById(Vh)){if(xd.id===Vh)return kf.call(Rh,xd),Rh}else return Rh;else if(Vd&&(xd=Vd.getElementById(Vh))&&lp.contains(Eh,xd)&&xd.id===Vh)return kf.call(Rh,xd),Rh}else{if(_d[2])return kf.apply(Rh,Eh.getElementsByTagName(ch)),Rh;if((Vh=_d[3])&&Eh.getElementsByClassName)return kf.apply(Rh,Eh.getElementsByClassName(Vh)),Rh}if(!op[ch+" "]&&(!ph||!ph.test(ch))){if(Ud=ch,Vd=Eh,Jd===1&&(Kp.test(ch)||Sp.test(ch))){for(Vd=Qp.test(ch)&&a0(Eh.parentNode)||Eh,(Vd!=Eh||!xf.scope)&&((Sd=Eh.getAttribute("id"))?Sd=Tf.escapeSelector(Sd):Eh.setAttribute("id",Sd=Ih)),Kd=kp(ch),fd=Kd.length;fd--;)Kd[fd]=(Sd?"#"+Sd:":scope")+" "+Vp(Kd[fd]);Ud=Kd.join(",")}try{return kf.apply(Rh,Vd.querySelectorAll(Ud)),Rh}catch{op(ch,!0)}finally{Sd===Ih&&Eh.removeAttribute("id")}}}return C0(ch.replace(Qf,"$1"),Eh,Rh,Nh)}function _0(){var ch=[];function Eh(Rh,Nh){return ch.push(Rh+" ")>yf.cacheLength&&delete Eh[ch.shift()],Eh[Rh+" "]=Nh}return Eh}function jp(ch){return ch[Ih]=!0,ch}function l0(ch){var Eh=$f.createElement("fieldset");try{return!!ch(Eh)}catch{return!1}finally{Eh.parentNode&&Eh.parentNode.removeChild(Eh),Eh=null}}function y0(ch){return function(Eh){return rh(Eh,"input")&&Eh.type===ch}}function tm(ch){return function(Eh){return(rh(Eh,"input")||rh(Eh,"button"))&&Eh.type===ch}}function $0(ch){return function(Eh){return"form"in Eh?Eh.parentNode&&Eh.disabled===!1?"label"in Eh?"label"in Eh.parentNode?Eh.parentNode.disabled===ch:Eh.disabled===ch:Eh.isDisabled===ch||Eh.isDisabled!==!ch&&v0(Eh)===ch:Eh.disabled===ch:"label"in Eh?Eh.disabled===ch:!1}}function s0(ch){return jp(function(Eh){return Eh=+Eh,jp(function(Rh,Nh){for(var Vh,fd=ch([],Rh.length,Eh),xd=fd.length;xd--;)Rh[Vh=fd[xd]]&&(Rh[Vh]=!(Nh[Vh]=Rh[Vh]))})})}function a0(ch){return ch&&typeof ch.getElementsByTagName<"u"&&ch}function i0(ch){var Eh,Rh=ch?ch.ownerDocument||ch:uh;return Rh==$f||Rh.nodeType!==9||!Rh.documentElement||($f=Rh,Jf=$f.documentElement,Zf=!Tf.isXMLDoc($f),Mh=Jf.matches||Jf.webkitMatchesSelector||Jf.msMatchesSelector,Jf.msMatchesSelector&&uh!=$f&&(Eh=$f.defaultView)&&Eh.top!==Eh&&Eh.addEventListener("unload",Q0),xf.getById=l0(function(Nh){return Jf.appendChild(Nh).id=Tf.expando,!$f.getElementsByName||!$f.getElementsByName(Tf.expando).length}),xf.disconnectedMatch=l0(function(Nh){return Mh.call(Nh,"*")}),xf.scope=l0(function(){return $f.querySelectorAll(":scope")}),xf.cssHas=l0(function(){try{return $f.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),xf.getById?(yf.filter.ID=function(Nh){var Vh=Nh.replace(Zp,Wp);return function(fd){return fd.getAttribute("id")===Vh}},yf.find.ID=function(Nh,Vh){if(typeof Vh.getElementById<"u"&&Zf){var fd=Vh.getElementById(Nh);return fd?[fd]:[]}}):(yf.filter.ID=function(Nh){var Vh=Nh.replace(Zp,Wp);return function(fd){var xd=typeof fd.getAttributeNode<"u"&&fd.getAttributeNode("id");return xd&&xd.value===Vh}},yf.find.ID=function(Nh,Vh){if(typeof Vh.getElementById<"u"&&Zf){var fd,xd,Sd,_d=Vh.getElementById(Nh);if(_d){if(fd=_d.getAttributeNode("id"),fd&&fd.value===Nh)return[_d];for(Sd=Vh.getElementsByName(Nh),xd=0;_d=Sd[xd++];)if(fd=_d.getAttributeNode("id"),fd&&fd.value===Nh)return[_d]}return[]}}),yf.find.TAG=function(Nh,Vh){return typeof Vh.getElementsByTagName<"u"?Vh.getElementsByTagName(Nh):Vh.querySelectorAll(Nh)},yf.find.CLASS=function(Nh,Vh){if(typeof Vh.getElementsByClassName<"u"&&Zf)return Vh.getElementsByClassName(Nh)},ph=[],l0(function(Nh){var Vh;Jf.appendChild(Nh).innerHTML="<a id='"+Ih+"' href='' disabled='disabled'></a><select id='"+Ih+"-\r\\' disabled='disabled'><option selected=''></option></select>",Nh.querySelectorAll("[selected]").length||ph.push("\\["+Hf+"*(?:value|"+np+")"),Nh.querySelectorAll("[id~="+Ih+"-]").length||ph.push("~="),Nh.querySelectorAll("a#"+Ih+"+*").length||ph.push(".#.+[+~]"),Nh.querySelectorAll(":checked").length||ph.push(":checked"),Vh=$f.createElement("input"),Vh.setAttribute("type","hidden"),Nh.appendChild(Vh).setAttribute("name","D"),Jf.appendChild(Nh).disabled=!0,Nh.querySelectorAll(":disabled").length!==2&&ph.push(":enabled",":disabled"),Vh=$f.createElement("input"),Vh.setAttribute("name",""),Nh.appendChild(Vh),Nh.querySelectorAll("[name='']").length||ph.push("\\["+Hf+"*name"+Hf+"*="+Hf+`*(?:''|"")`)}),xf.cssHas||ph.push(":has"),ph=ph.length&&new RegExp(ph.join("|")),Rd=function(Nh,Vh){if(Nh===Vh)return Nf=!0,0;var fd=!Nh.compareDocumentPosition-!Vh.compareDocumentPosition;return fd||(fd=(Nh.ownerDocument||Nh)==(Vh.ownerDocument||Vh)?Nh.compareDocumentPosition(Vh):1,fd&1||!xf.sortDetached&&Vh.compareDocumentPosition(Nh)===fd?Nh===$f||Nh.ownerDocument==uh&&lp.contains(uh,Nh)?-1:Vh===$f||Vh.ownerDocument==uh&&lp.contains(uh,Vh)?1:If?cf.call(If,Nh)-cf.call(If,Vh):0:fd&4?-1:1)}),$f}lp.matches=function(ch,Eh){return lp(ch,null,null,Eh)},lp.matchesSelector=function(ch,Eh){if(i0(ch),Zf&&!op[Eh+" "]&&(!ph||!ph.test(Eh)))try{var Rh=Mh.call(ch,Eh);if(Rh||xf.disconnectedMatch||ch.document&&ch.document.nodeType!==11)return Rh}catch{op(Eh,!0)}return lp(Eh,$f,null,[ch]).length>0},lp.contains=function(ch,Eh){return(ch.ownerDocument||ch)!=$f&&i0(ch),Tf.contains(ch,Eh)},lp.attr=function(ch,Eh){(ch.ownerDocument||ch)!=$f&&i0(ch);var Rh=yf.attrHandle[Eh.toLowerCase()],Nh=Rh&&df.call(yf.attrHandle,Eh.toLowerCase())?Rh(ch,Eh,!Zf):void 0;return Nh!==void 0?Nh:ch.getAttribute(Eh)},lp.error=function(ch){throw new Error("Syntax error, unrecognized expression: "+ch)},Tf.uniqueSort=function(ch){var Eh,Rh=[],Nh=0,Vh=0;if(Nf=!xf.sortStable,If=!xf.sortStable&&sf.call(ch,0),hh.call(ch,Rd),Nf){for(;Eh=ch[Vh++];)Eh===ch[Vh]&&(Nh=Rh.push(Vh));for(;Nh--;)sh.call(ch,Rh[Nh],1)}return If=null,ch},Tf.fn.uniqueSort=function(){return this.pushStack(Tf.uniqueSort(sf.apply(this)))},yf=Tf.expr={cacheLength:50,createPseudo:jp,match:zp,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ch){return ch[1]=ch[1].replace(Zp,Wp),ch[3]=(ch[3]||ch[4]||ch[5]||"").replace(Zp,Wp),ch[2]==="~="&&(ch[3]=" "+ch[3]+" "),ch.slice(0,4)},CHILD:function(ch){return ch[1]=ch[1].toLowerCase(),ch[1].slice(0,3)==="nth"?(ch[3]||lp.error(ch[0]),ch[4]=+(ch[4]?ch[5]+(ch[6]||1):2*(ch[3]==="even"||ch[3]==="odd")),ch[5]=+(ch[7]+ch[8]||ch[3]==="odd")):ch[3]&&lp.error(ch[0]),ch},PSEUDO:function(ch){var Eh,Rh=!ch[6]&&ch[2];return zp.CHILD.test(ch[0])?null:(ch[3]?ch[2]=ch[4]||ch[5]||"":Rh&&yp.test(Rh)&&(Eh=kp(Rh,!0))&&(Eh=Rh.indexOf(")",Rh.length-Eh)-Rh.length)&&(ch[0]=ch[0].slice(0,Eh),ch[2]=Rh.slice(0,Eh)),ch.slice(0,3))}},filter:{TAG:function(ch){var Eh=ch.replace(Zp,Wp).toLowerCase();return ch==="*"?function(){return!0}:function(Rh){return rh(Rh,Eh)}},CLASS:function(ch){var Eh=wd[ch+" "];return Eh||(Eh=new RegExp("(^|"+Hf+")"+ch+"("+Hf+"|$)"))&&wd(ch,function(Rh){return Eh.test(typeof Rh.className=="string"&&Rh.className||typeof Rh.getAttribute<"u"&&Rh.getAttribute("class")||"")})},ATTR:function(ch,Eh,Rh){return function(Nh){var Vh=lp.attr(Nh,ch);return Vh==null?Eh==="!=":Eh?(Vh+="",Eh==="="?Vh===Rh:Eh==="!="?Vh!==Rh:Eh==="^="?Rh&&Vh.indexOf(Rh)===0:Eh==="*="?Rh&&Vh.indexOf(Rh)>-1:Eh==="$="?Rh&&Vh.slice(-Rh.length)===Rh:Eh==="~="?(" "+Vh.replace(qd," ")+" ").indexOf(Rh)>-1:Eh==="|="?Vh===Rh||Vh.slice(0,Rh.length+1)===Rh+"-":!1):!0}},CHILD:function(ch,Eh,Rh,Nh,Vh){var fd=ch.slice(0,3)!=="nth",xd=ch.slice(-4)!=="last",Sd=Eh==="of-type";return Nh===1&&Vh===0?function(_d){return!!_d.parentNode}:function(_d,Kd,Ud){var Vd,Jd,Od,dp,nh,fh=fd!==xd?"nextSibling":"previousSibling",bh=_d.parentNode,Bh=Sd&&_d.nodeName.toLowerCase(),Ah=!Ud&&!Sd,Gh=!1;if(bh){if(fd){for(;fh;){for(Od=_d;Od=Od[fh];)if(Sd?rh(Od,Bh):Od.nodeType===1)return!1;nh=fh=ch==="only"&&!nh&&"nextSibling"}return!0}if(nh=[xd?bh.firstChild:bh.lastChild],xd&&Ah){for(Jd=bh[Ih]||(bh[Ih]={}),Vd=Jd[ch]||[],dp=Vd[0]===Oh&&Vd[1],Gh=dp&&Vd[2],Od=dp&&bh.childNodes[dp];Od=++dp&&Od&&Od[fh]||(Gh=dp=0)||nh.pop();)if(Od.nodeType===1&&++Gh&&Od===_d){Jd[ch]=[Oh,dp,Gh];break}}else if(Ah&&(Jd=_d[Ih]||(_d[Ih]={}),Vd=Jd[ch]||[],dp=Vd[0]===Oh&&Vd[1],Gh=dp),Gh===!1)for(;(Od=++dp&&Od&&Od[fh]||(Gh=dp=0)||nh.pop())&&!((Sd?rh(Od,Bh):Od.nodeType===1)&&++Gh&&(Ah&&(Jd=Od[Ih]||(Od[Ih]={}),Jd[ch]=[Oh,Gh]),Od===_d)););return Gh-=Vh,Gh===Nh||Gh%Nh===0&&Gh/Nh>=0}}},PSEUDO:function(ch,Eh){var Rh,Nh=yf.pseudos[ch]||yf.setFilters[ch.toLowerCase()]||lp.error("unsupported pseudo: "+ch);return Nh[Ih]?Nh(Eh):Nh.length>1?(Rh=[ch,ch,"",Eh],yf.setFilters.hasOwnProperty(ch.toLowerCase())?jp(function(Vh,fd){for(var xd,Sd=Nh(Vh,Eh),_d=Sd.length;_d--;)xd=cf.call(Vh,Sd[_d]),Vh[xd]=!(fd[xd]=Sd[_d])}):function(Vh){return Nh(Vh,0,Rh)}):Nh}},pseudos:{not:jp(function(ch){var Eh=[],Rh=[],Nh=Pp(ch.replace(Qf,"$1"));return Nh[Ih]?jp(function(Vh,fd,xd,Sd){for(var _d,Kd=Nh(Vh,null,Sd,[]),Ud=Vh.length;Ud--;)(_d=Kd[Ud])&&(Vh[Ud]=!(fd[Ud]=_d))}):function(Vh,fd,xd){return Eh[0]=Vh,Nh(Eh,null,xd,Rh),Eh[0]=null,!Rh.pop()}}),has:jp(function(ch){return function(Eh){return lp(ch,Eh).length>0}}),contains:jp(function(ch){return ch=ch.replace(Zp,Wp),function(Eh){return(Eh.textContent||Tf.text(Eh)).indexOf(ch)>-1}}),lang:jp(function(ch){return Up.test(ch||"")||lp.error("unsupported lang: "+ch),ch=ch.replace(Zp,Wp).toLowerCase(),function(Eh){var Rh;do if(Rh=Zf?Eh.lang:Eh.getAttribute("xml:lang")||Eh.getAttribute("lang"))return Rh=Rh.toLowerCase(),Rh===ch||Rh.indexOf(ch+"-")===0;while((Eh=Eh.parentNode)&&Eh.nodeType===1);return!1}}),target:function(ch){var Eh=ef.location&&ef.location.hash;return Eh&&Eh.slice(1)===ch.id},root:function(ch){return ch===Jf},focus:function(ch){return ch===em()&&$f.hasFocus()&&!!(ch.type||ch.href||~ch.tabIndex)},enabled:$0(!1),disabled:$0(!0),checked:function(ch){return rh(ch,"input")&&!!ch.checked||rh(ch,"option")&&!!ch.selected},selected:function(ch){return ch.parentNode&&ch.parentNode.selectedIndex,ch.selected===!0},empty:function(ch){for(ch=ch.firstChild;ch;ch=ch.nextSibling)if(ch.nodeType<6)return!1;return!0},parent:function(ch){return!yf.pseudos.empty(ch)},header:function(ch){return Jp.test(ch.nodeName)},input:function(ch){return Np.test(ch.nodeName)},button:function(ch){return rh(ch,"input")&&ch.type==="button"||rh(ch,"button")},text:function(ch){var Eh;return rh(ch,"input")&&ch.type==="text"&&((Eh=ch.getAttribute("type"))==null||Eh.toLowerCase()==="text")},first:s0(function(){return[0]}),last:s0(function(ch,Eh){return[Eh-1]}),eq:s0(function(ch,Eh,Rh){return[Rh<0?Rh+Eh:Rh]}),even:s0(function(ch,Eh){for(var Rh=0;Rh<Eh;Rh+=2)ch.push(Rh);return ch}),odd:s0(function(ch,Eh){for(var Rh=1;Rh<Eh;Rh+=2)ch.push(Rh);return ch}),lt:s0(function(ch,Eh,Rh){var Nh;for(Rh<0?Nh=Rh+Eh:Rh>Eh?Nh=Eh:Nh=Rh;--Nh>=0;)ch.push(Nh);return ch}),gt:s0(function(ch,Eh,Rh){for(var Nh=Rh<0?Rh+Eh:Rh;++Nh<Eh;)ch.push(Nh);return ch})}},yf.pseudos.nth=yf.pseudos.eq;for(mf in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})yf.pseudos[mf]=y0(mf);for(mf in{submit:!0,reset:!0})yf.pseudos[mf]=tm(mf);function x0(){}x0.prototype=yf.filters=yf.pseudos,yf.setFilters=new x0;function kp(ch,Eh){var Rh,Nh,Vh,fd,xd,Sd,_d,Kd=Td[ch+" "];if(Kd)return Eh?0:Kd.slice(0);for(xd=ch,Sd=[],_d=yf.preFilter;xd;){(!Rh||(Nh=up.exec(xd)))&&(Nh&&(xd=xd.slice(Nh[0].length)||xd),Sd.push(Vh=[])),Rh=!1,(Nh=Sp.exec(xd))&&(Rh=Nh.shift(),Vh.push({value:Rh,type:Nh[0].replace(Qf," ")}),xd=xd.slice(Rh.length));for(fd in yf.filter)(Nh=zp[fd].exec(xd))&&(!_d[fd]||(Nh=_d[fd](Nh)))&&(Rh=Nh.shift(),Vh.push({value:Rh,type:fd,matches:Nh}),xd=xd.slice(Rh.length));if(!Rh)break}return Eh?xd.length:xd?lp.error(ch):Td(ch,Sd).slice(0)}function Vp(ch){for(var Eh=0,Rh=ch.length,Nh="";Eh<Rh;Eh++)Nh+=ch[Eh].value;return Nh}function d0(ch,Eh,Rh){var Nh=Eh.dir,Vh=Eh.next,fd=Vh||Nh,xd=Rh&&fd==="parentNode",Sd=Xh++;return Eh.first?function(_d,Kd,Ud){for(;_d=_d[Nh];)if(_d.nodeType===1||xd)return ch(_d,Kd,Ud);return!1}:function(_d,Kd,Ud){var Vd,Jd,Od=[Oh,Sd];if(Ud){for(;_d=_d[Nh];)if((_d.nodeType===1||xd)&&ch(_d,Kd,Ud))return!0}else for(;_d=_d[Nh];)if(_d.nodeType===1||xd)if(Jd=_d[Ih]||(_d[Ih]={}),Vh&&rh(_d,Vh))_d=_d[Nh]||_d;else{if((Vd=Jd[fd])&&Vd[0]===Oh&&Vd[1]===Sd)return Od[2]=Vd[2];if(Jd[fd]=Od,Od[2]=ch(_d,Kd,Ud))return!0}return!1}}function b0(ch){return ch.length>1?function(Eh,Rh,Nh){for(var Vh=ch.length;Vh--;)if(!ch[Vh](Eh,Rh,Nh))return!1;return!0}:ch[0]}function z0(ch,Eh,Rh){for(var Nh=0,Vh=Eh.length;Nh<Vh;Nh++)lp(ch,Eh[Nh],Rh);return Rh}function E0(ch,Eh,Rh,Nh,Vh){for(var fd,xd=[],Sd=0,_d=ch.length,Kd=Eh!=null;Sd<_d;Sd++)(fd=ch[Sd])&&(!Rh||Rh(fd,Nh,Vh))&&(xd.push(fd),Kd&&Eh.push(Sd));return xd}function cp(ch,Eh,Rh,Nh,Vh,fd){return Nh&&!Nh[Ih]&&(Nh=cp(Nh)),Vh&&!Vh[Ih]&&(Vh=cp(Vh,fd)),jp(function(xd,Sd,_d,Kd){var Ud,Vd,Jd,Od,dp=[],nh=[],fh=Sd.length,bh=xd||z0(Eh||"*",_d.nodeType?[_d]:_d,[]),Bh=ch&&(xd||!Eh)?E0(bh,dp,ch,_d,Kd):bh;if(Rh?(Od=Vh||(xd?ch:fh||Nh)?[]:Sd,Rh(Bh,Od,_d,Kd)):Od=Bh,Nh)for(Ud=E0(Od,nh),Nh(Ud,[],_d,Kd),Vd=Ud.length;Vd--;)(Jd=Ud[Vd])&&(Od[nh[Vd]]=!(Bh[nh[Vd]]=Jd));if(xd){if(Vh||ch){if(Vh){for(Ud=[],Vd=Od.length;Vd--;)(Jd=Od[Vd])&&Ud.push(Bh[Vd]=Jd);Vh(null,Od=[],Ud,Kd)}for(Vd=Od.length;Vd--;)(Jd=Od[Vd])&&(Ud=Vh?cf.call(xd,Jd):dp[Vd])>-1&&(xd[Ud]=!(Sd[Ud]=Jd))}}else Od=E0(Od===Sd?Od.splice(fh,Od.length):Od),Vh?Vh(null,Sd,Od,Kd):kf.apply(Sd,Od)})}function c0(ch){for(var Eh,Rh,Nh,Vh=ch.length,fd=yf.relative[ch[0].type],xd=fd||yf.relative[" "],Sd=fd?1:0,_d=d0(function(Vd){return Vd===Eh},xd,!0),Kd=d0(function(Vd){return cf.call(Eh,Vd)>-1},xd,!0),Ud=[function(Vd,Jd,Od){var dp=!fd&&(Od||Jd!=wf)||((Eh=Jd).nodeType?_d(Vd,Jd,Od):Kd(Vd,Jd,Od));return Eh=null,dp}];Sd<Vh;Sd++)if(Rh=yf.relative[ch[Sd].type])Ud=[d0(b0(Ud),Rh)];else{if(Rh=yf.filter[ch[Sd].type].apply(null,ch[Sd].matches),Rh[Ih]){for(Nh=++Sd;Nh<Vh&&!yf.relative[ch[Nh].type];Nh++);return cp(Sd>1&&b0(Ud),Sd>1&&Vp(ch.slice(0,Sd-1).concat({value:ch[Sd-2].type===" "?"*":""})).replace(Qf,"$1"),Rh,Sd<Nh&&c0(ch.slice(Sd,Nh)),Nh<Vh&&c0(ch=ch.slice(Nh)),Nh<Vh&&Vp(ch))}Ud.push(Rh)}return b0(Ud)}function Xp(ch,Eh){var Rh=Eh.length>0,Nh=ch.length>0,Vh=function(fd,xd,Sd,_d,Kd){var Ud,Vd,Jd,Od=0,dp="0",nh=fd&&[],fh=[],bh=wf,Bh=fd||Nh&&yf.find.TAG("*",Kd),Ah=Oh+=bh==null?1:Math.random()||.1,Gh=Bh.length;for(Kd&&(wf=xd==$f||xd||Kd);dp!==Gh&&(Ud=Bh[dp])!=null;dp++){if(Nh&&Ud){for(Vd=0,!xd&&Ud.ownerDocument!=$f&&(i0(Ud),Sd=!Zf);Jd=ch[Vd++];)if(Jd(Ud,xd||$f,Sd)){kf.call(_d,Ud);break}Kd&&(Oh=Ah)}Rh&&((Ud=!Jd&&Ud)&&Od--,fd&&nh.push(Ud))}if(Od+=dp,Rh&&dp!==Od){for(Vd=0;Jd=Eh[Vd++];)Jd(nh,fh,xd,Sd);if(fd){if(Od>0)for(;dp--;)nh[dp]||fh[dp]||(fh[dp]=dh.call(_d));fh=E0(fh)}kf.apply(_d,fh),Kd&&!fd&&fh.length>0&&Od+Eh.length>1&&Tf.uniqueSort(_d)}return Kd&&(Oh=Ah,wf=bh),nh};return Rh?jp(Vh):Vh}function Pp(ch,Eh){var Rh,Nh=[],Vh=[],fd=hd[ch+" "];if(!fd){for(Eh||(Eh=kp(ch)),Rh=Eh.length;Rh--;)fd=c0(Eh[Rh]),fd[Ih]?Nh.push(fd):Vh.push(fd);fd=hd(ch,Xp(Vh,Nh)),fd.selector=ch}return fd}function C0(ch,Eh,Rh,Nh){var Vh,fd,xd,Sd,_d,Kd=typeof ch=="function"&&ch,Ud=!Nh&&kp(ch=Kd.selector||ch);if(Rh=Rh||[],Ud.length===1){if(fd=Ud[0]=Ud[0].slice(0),fd.length>2&&(xd=fd[0]).type==="ID"&&Eh.nodeType===9&&Zf&&yf.relative[fd[1].type]){if(Eh=(yf.find.ID(xd.matches[0].replace(Zp,Wp),Eh)||[])[0],Eh)Kd&&(Eh=Eh.parentNode);else return Rh;ch=ch.slice(fd.shift().value.length)}for(Vh=zp.needsContext.test(ch)?0:fd.length;Vh--&&(xd=fd[Vh],!yf.relative[Sd=xd.type]);)if((_d=yf.find[Sd])&&(Nh=_d(xd.matches[0].replace(Zp,Wp),Qp.test(fd[0].type)&&a0(Eh.parentNode)||Eh))){if(fd.splice(Vh,1),ch=Nh.length&&Vp(fd),!ch)return kf.apply(Rh,Nh),Rh;break}}return(Kd||Pp(ch,Ud))(Nh,Eh,!Zf,Rh,!Eh||Qp.test(ch)&&a0(Eh.parentNode)||Eh),Rh}xf.sortStable=Ih.split("").sort(Rd).join("")===Ih,i0(),xf.sortDetached=l0(function(ch){return ch.compareDocumentPosition($f.createElement("fieldset"))&1}),Tf.find=lp,Tf.expr[":"]=Tf.expr.pseudos,Tf.unique=Tf.uniqueSort,lp.compile=Pp,lp.select=C0,lp.setDocument=i0,lp.tokenize=kp,lp.escape=Tf.escapeSelector,lp.getText=Tf.text,lp.isXML=Tf.isXMLDoc,lp.selectors=Tf.expr,lp.support=Tf.support,lp.uniqueSort=Tf.uniqueSort})();var Kf=function(mf,yf,wf){for(var If=[],Nf=wf!==void 0;(mf=mf[yf])&&mf.nodeType!==9;)if(mf.nodeType===1){if(Nf&&Tf(mf).is(wf))break;If.push(mf)}return If},of=function(mf,yf){for(var wf=[];mf;mf=mf.nextSibling)mf.nodeType===1&&mf!==yf&&wf.push(mf);return wf},hf=Tf.expr.match.needsContext,pf=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function vf(mf,yf,wf){return Af(yf)?Tf.grep(mf,function(If,Nf){return!!yf.call(If,Nf,If)!==wf}):yf.nodeType?Tf.grep(mf,function(If){return If===yf!==wf}):typeof yf!="string"?Tf.grep(mf,function(If){return cf.call(yf,If)>-1!==wf}):Tf.filter(yf,mf,wf)}Tf.filter=function(mf,yf,wf){var If=yf[0];return wf&&(mf=":not("+mf+")"),yf.length===1&&If.nodeType===1?Tf.find.matchesSelector(If,mf)?[If]:[]:Tf.find.matches(mf,Tf.grep(yf,function(Nf){return Nf.nodeType===1}))},Tf.fn.extend({find:function(mf){var yf,wf,If=this.length,Nf=this;if(typeof mf!="string")return this.pushStack(Tf(mf).filter(function(){for(yf=0;yf<If;yf++)if(Tf.contains(Nf[yf],this))return!0}));for(wf=this.pushStack([]),yf=0;yf<If;yf++)Tf.find(mf,Nf[yf],wf);return If>1?Tf.uniqueSort(wf):wf},filter:function(mf){return this.pushStack(vf(this,mf||[],!1))},not:function(mf){return this.pushStack(vf(this,mf||[],!0))},is:function(mf){return!!vf(this,typeof mf=="string"&&hf.test(mf)?Tf(mf):mf||[],!1).length}});var Ef,Sf=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ff=Tf.fn.init=function(mf,yf,wf){var If,Nf;if(!mf)return this;if(wf=wf||Ef,typeof mf=="string")if(mf[0]==="<"&&mf[mf.length-1]===">"&&mf.length>=3?If=[null,mf,null]:If=Sf.exec(mf),If&&(If[1]||!yf))if(If[1]){if(yf=yf instanceof Tf?yf[0]:yf,Tf.merge(this,Tf.parseHTML(If[1],yf&&yf.nodeType?yf.ownerDocument||yf:Of,!0)),pf.test(If[1])&&Tf.isPlainObject(yf))for(If in yf)Af(this[If])?this[If](yf[If]):this.attr(If,yf[If]);return this}else return Nf=Of.getElementById(If[2]),Nf&&(this[0]=Nf,this.length=1),this;else return!yf||yf.jquery?(yf||wf).find(mf):this.constructor(yf).find(mf);else{if(mf.nodeType)return this[0]=mf,this.length=1,this;if(Af(mf))return wf.ready!==void 0?wf.ready(mf):mf(Tf)}return Tf.makeArray(mf,this)};Ff.prototype=Tf.fn,Ef=Tf(Of);var Uf=/^(?:parents|prev(?:Until|All))/,Wf={children:!0,contents:!0,next:!0,prev:!0};Tf.fn.extend({has:function(mf){var yf=Tf(mf,this),wf=yf.length;return this.filter(function(){for(var If=0;If<wf;If++)if(Tf.contains(this,yf[If]))return!0})},closest:function(mf,yf){var wf,If=0,Nf=this.length,kf=[],$f=typeof mf!="string"&&Tf(mf);if(!hf.test(mf)){for(;If<Nf;If++)for(wf=this[If];wf&&wf!==yf;wf=wf.parentNode)if(wf.nodeType<11&&($f?$f.index(wf)>-1:wf.nodeType===1&&Tf.find.matchesSelector(wf,mf))){kf.push(wf);break}}return this.pushStack(kf.length>1?Tf.uniqueSort(kf):kf)},index:function(mf){return mf?typeof mf=="string"?cf.call(Tf(mf),this[0]):cf.call(this,mf.jquery?mf[0]:mf):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(mf,yf){return this.pushStack(Tf.uniqueSort(Tf.merge(this.get(),Tf(mf,yf))))},addBack:function(mf){return this.add(mf==null?this.prevObject:this.prevObject.filter(mf))}});function eh(mf,yf){for(;(mf=mf[yf])&&mf.nodeType!==1;);return mf}Tf.each({parent:function(mf){var yf=mf.parentNode;return yf&&yf.nodeType!==11?yf:null},parents:function(mf){return Kf(mf,"parentNode")},parentsUntil:function(mf,yf,wf){return Kf(mf,"parentNode",wf)},next:function(mf){return eh(mf,"nextSibling")},prev:function(mf){return eh(mf,"previousSibling")},nextAll:function(mf){return Kf(mf,"nextSibling")},prevAll:function(mf){return Kf(mf,"previousSibling")},nextUntil:function(mf,yf,wf){return Kf(mf,"nextSibling",wf)},prevUntil:function(mf,yf,wf){return Kf(mf,"previousSibling",wf)},siblings:function(mf){return of((mf.parentNode||{}).firstChild,mf)},children:function(mf){return of(mf.firstChild)},contents:function(mf){return mf.contentDocument!=null&&rf(mf.contentDocument)?mf.contentDocument:(rh(mf,"template")&&(mf=mf.content||mf),Tf.merge([],mf.childNodes))}},function(mf,yf){Tf.fn[mf]=function(wf,If){var Nf=Tf.map(this,yf,wf);return mf.slice(-5)!=="Until"&&(If=wf),If&&typeof If=="string"&&(Nf=Tf.filter(If,Nf)),this.length>1&&(Wf[mf]||Tf.uniqueSort(Nf),Uf.test(mf)&&Nf.reverse()),this.pushStack(Nf)}});var th=/[^\x20\t\r\n\f]+/g;function _h(mf){var yf={};return Tf.each(mf.match(th)||[],function(wf,If){yf[If]=!0}),yf}Tf.Callbacks=function(mf){mf=typeof mf=="string"?_h(mf):Tf.extend({},mf);var yf,wf,If,Nf,kf=[],$f=[],Jf=-1,Zf=function(){for(Nf=Nf||mf.once,If=yf=!0;$f.length;Jf=-1)for(wf=$f.shift();++Jf<kf.length;)kf[Jf].apply(wf[0],wf[1])===!1&&mf.stopOnFalse&&(Jf=kf.length,wf=!1);mf.memory||(wf=!1),yf=!1,Nf&&(wf?kf=[]:kf="")},ph={add:function(){return kf&&(wf&&!yf&&(Jf=kf.length-1,$f.push(wf)),function Mh(Ih){Tf.each(Ih,function(Oh,Xh){Af(Xh)?(!mf.unique||!ph.has(Xh))&&kf.push(Xh):Xh&&Xh.length&&Vf(Xh)!=="string"&&Mh(Xh)})}(arguments),wf&&!yf&&Zf()),this},remove:function(){return Tf.each(arguments,function(Mh,Ih){for(var Oh;(Oh=Tf.inArray(Ih,kf,Oh))>-1;)kf.splice(Oh,1),Oh<=Jf&&Jf--}),this},has:function(Mh){return Mh?Tf.inArray(Mh,kf)>-1:kf.length>0},empty:function(){return kf&&(kf=[]),this},disable:function(){return Nf=$f=[],kf=wf="",this},disabled:function(){return!kf},lock:function(){return Nf=$f=[],!wf&&!yf&&(kf=wf=""),this},locked:function(){return!!Nf},fireWith:function(Mh,Ih){return Nf||(Ih=Ih||[],Ih=[Mh,Ih.slice?Ih.slice():Ih],$f.push(Ih),yf||Zf()),this},fire:function(){return ph.fireWith(this,arguments),this},fired:function(){return!!If}};return ph};function wh(mf){return mf}function oh(mf){throw mf}function gh(mf,yf,wf,If){var Nf;try{mf&&Af(Nf=mf.promise)?Nf.call(mf).done(yf).fail(wf):mf&&Af(Nf=mf.then)?Nf.call(mf,yf,wf):yf.apply(void 0,[mf].slice(If))}catch(kf){wf.apply(void 0,[kf])}}Tf.extend({Deferred:function(mf){var yf=[["notify","progress",Tf.Callbacks("memory"),Tf.Callbacks("memory"),2],["resolve","done",Tf.Callbacks("once memory"),Tf.Callbacks("once memory"),0,"resolved"],["reject","fail",Tf.Callbacks("once memory"),Tf.Callbacks("once memory"),1,"rejected"]],wf="pending",If={state:function(){return wf},always:function(){return Nf.done(arguments).fail(arguments),this},catch:function(kf){return If.then(null,kf)},pipe:function(){var kf=arguments;return Tf.Deferred(function($f){Tf.each(yf,function(Jf,Zf){var ph=Af(kf[Zf[4]])&&kf[Zf[4]];Nf[Zf[1]](function(){var Mh=ph&&ph.apply(this,arguments);Mh&&Af(Mh.promise)?Mh.promise().progress($f.notify).done($f.resolve).fail($f.reject):$f[Zf[0]+"With"](this,ph?[Mh]:arguments)})}),kf=null}).promise()},then:function(kf,$f,Jf){var Zf=0;function ph(Mh,Ih,Oh,Xh){return function(){var wd=this,Td=arguments,hd=function(){var Rd,np;if(!(Mh<Zf)){if(Rd=Oh.apply(wd,Td),Rd===Ih.promise())throw new TypeError("Thenable self-resolution");np=Rd&&(typeof Rd=="object"||typeof Rd=="function")&&Rd.then,Af(np)?Xh?np.call(Rd,ph(Zf,Ih,wh,Xh),ph(Zf,Ih,oh,Xh)):(Zf++,np.call(Rd,ph(Zf,Ih,wh,Xh),ph(Zf,Ih,oh,Xh),ph(Zf,Ih,wh,Ih.notifyWith))):(Oh!==wh&&(wd=void 0,Td=[Rd]),(Xh||Ih.resolveWith)(wd,Td))}},op=Xh?hd:function(){try{hd()}catch(Rd){Tf.Deferred.exceptionHook&&Tf.Deferred.exceptionHook(Rd,op.error),Mh+1>=Zf&&(Oh!==oh&&(wd=void 0,Td=[Rd]),Ih.rejectWith(wd,Td))}};Mh?op():(Tf.Deferred.getErrorHook?op.error=Tf.Deferred.getErrorHook():Tf.Deferred.getStackHook&&(op.error=Tf.Deferred.getStackHook()),ef.setTimeout(op))}}return Tf.Deferred(function(Mh){yf[0][3].add(ph(0,Mh,Af(Jf)?Jf:wh,Mh.notifyWith)),yf[1][3].add(ph(0,Mh,Af(kf)?kf:wh)),yf[2][3].add(ph(0,Mh,Af($f)?$f:oh))}).promise()},promise:function(kf){return kf!=null?Tf.extend(kf,If):If}},Nf={};return Tf.each(yf,function(kf,$f){var Jf=$f[2],Zf=$f[5];If[$f[1]]=Jf.add,Zf&&Jf.add(function(){wf=Zf},yf[3-kf][2].disable,yf[3-kf][3].disable,yf[0][2].lock,yf[0][3].lock),Jf.add($f[3].fire),Nf[$f[0]]=function(){return Nf[$f[0]+"With"](this===Nf?void 0:this,arguments),this},Nf[$f[0]+"With"]=Jf.fireWith}),If.promise(Nf),mf&&mf.call(Nf,Nf),Nf},when:function(mf){var yf=arguments.length,wf=yf,If=Array(wf),Nf=sf.call(arguments),kf=Tf.Deferred(),$f=function(Jf){return function(Zf){If[Jf]=this,Nf[Jf]=arguments.length>1?sf.call(arguments):Zf,--yf||kf.resolveWith(If,Nf)}};if(yf<=1&&(gh(mf,kf.done($f(wf)).resolve,kf.reject,!yf),kf.state()==="pending"||Af(Nf[wf]&&Nf[wf].then)))return kf.then();for(;wf--;)gh(Nf[wf],$f(wf),kf.reject);return kf.promise()}});var qf=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Tf.Deferred.exceptionHook=function(mf,yf){ef.console&&ef.console.warn&&mf&&qf.test(mf.name)&&ef.console.warn("jQuery.Deferred exception: "+mf.message,mf.stack,yf)},Tf.readyException=function(mf){ef.setTimeout(function(){throw mf})};var zf=Tf.Deferred();Tf.fn.ready=function(mf){return zf.then(mf).catch(function(yf){Tf.readyException(yf)}),this},Tf.extend({isReady:!1,readyWait:1,ready:function(mf){(mf===!0?--Tf.readyWait:Tf.isReady)||(Tf.isReady=!0,!(mf!==!0&&--Tf.readyWait>0)&&zf.resolveWith(Of,[Tf]))}}),Tf.ready.then=zf.then;function Th(){Of.removeEventListener("DOMContentLoaded",Th),ef.removeEventListener("load",Th),Tf.ready()}Of.readyState==="complete"||Of.readyState!=="loading"&&!Of.documentElement.doScroll?ef.setTimeout(Tf.ready):(Of.addEventListener("DOMContentLoaded",Th),ef.addEventListener("load",Th));var Fh=function(mf,yf,wf,If,Nf,kf,$f){var Jf=0,Zf=mf.length,ph=wf==null;if(Vf(wf)==="object"){Nf=!0;for(Jf in wf)Fh(mf,yf,Jf,wf[Jf],!0,kf,$f)}else if(If!==void 0&&(Nf=!0,Af(If)||($f=!0),ph&&($f?(yf.call(mf,If),yf=null):(ph=yf,yf=function(Mh,Ih,Oh){return ph.call(Tf(Mh),Oh)})),yf))for(;Jf<Zf;Jf++)yf(mf[Jf],wf,$f?If:If.call(mf[Jf],Jf,yf(mf[Jf],wf)));return Nf?mf:ph?yf.call(mf):Zf?yf(mf[0],wf):kf},Uh=/^-ms-/,jh=/-([a-z])/g;function qh(mf,yf){return yf.toUpperCase()}function cd(mf){return mf.replace(Uh,"ms-").replace(jh,qh)}var pd=function(mf){return mf.nodeType===1||mf.nodeType===9||!+mf.nodeType};function Zh(){this.expando=Tf.expando+Zh.uid++}Zh.uid=1,Zh.prototype={cache:function(mf){var yf=mf[this.expando];return yf||(yf={},pd(mf)&&(mf.nodeType?mf[this.expando]=yf:Object.defineProperty(mf,this.expando,{value:yf,configurable:!0}))),yf},set:function(mf,yf,wf){var If,Nf=this.cache(mf);if(typeof yf=="string")Nf[cd(yf)]=wf;else for(If in yf)Nf[cd(If)]=yf[If];return Nf},get:function(mf,yf){return yf===void 0?this.cache(mf):mf[this.expando]&&mf[this.expando][cd(yf)]},access:function(mf,yf,wf){return yf===void 0||yf&&typeof yf=="string"&&wf===void 0?this.get(mf,yf):(this.set(mf,yf,wf),wf!==void 0?wf:yf)},remove:function(mf,yf){var wf,If=mf[this.expando];if(If!==void 0){if(yf!==void 0)for(Array.isArray(yf)?yf=yf.map(cd):(yf=cd(yf),yf=yf in If?[yf]:yf.match(th)||[]),wf=yf.length;wf--;)delete If[yf[wf]];(yf===void 0||Tf.isEmptyObject(If))&&(mf.nodeType?mf[this.expando]=void 0:delete mf[this.expando])}},hasData:function(mf){var yf=mf[this.expando];return yf!==void 0&&!Tf.isEmptyObject(yf)}};var kh=new Zh,Kh=new Zh,Jh=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xh=/[A-Z]/g;function Wh(mf){return mf==="true"?!0:mf==="false"?!1:mf==="null"?null:mf===+mf+""?+mf:Jh.test(mf)?JSON.parse(mf):mf}function nd(mf,yf,wf){var If;if(wf===void 0&&mf.nodeType===1)if(If="data-"+yf.replace(xh,"-$&").toLowerCase(),wf=mf.getAttribute(If),typeof wf=="string"){try{wf=Wh(wf)}catch{}Kh.set(mf,yf,wf)}else wf=void 0;return wf}Tf.extend({hasData:function(mf){return Kh.hasData(mf)||kh.hasData(mf)},data:function(mf,yf,wf){return Kh.access(mf,yf,wf)},removeData:function(mf,yf){Kh.remove(mf,yf)},_data:function(mf,yf,wf){return kh.access(mf,yf,wf)},_removeData:function(mf,yf){kh.remove(mf,yf)}}),Tf.fn.extend({data:function(mf,yf){var wf,If,Nf,kf=this[0],$f=kf&&kf.attributes;if(mf===void 0){if(this.length&&(Nf=Kh.get(kf),kf.nodeType===1&&!kh.get(kf,"hasDataAttrs"))){for(wf=$f.length;wf--;)$f[wf]&&(If=$f[wf].name,If.indexOf("data-")===0&&(If=cd(If.slice(5)),nd(kf,If,Nf[If])));kh.set(kf,"hasDataAttrs",!0)}return Nf}return typeof mf=="object"?this.each(function(){Kh.set(this,mf)}):Fh(this,function(Jf){var Zf;if(kf&&Jf===void 0)return Zf=Kh.get(kf,mf),Zf!==void 0||(Zf=nd(kf,mf),Zf!==void 0)?Zf:void 0;this.each(function(){Kh.set(this,mf,Jf)})},null,yf,arguments.length>1,null,!0)},removeData:function(mf){return this.each(function(){Kh.remove(this,mf)})}}),Tf.extend({queue:function(mf,yf,wf){var If;if(mf)return yf=(yf||"fx")+"queue",If=kh.get(mf,yf),wf&&(!If||Array.isArray(wf)?If=kh.access(mf,yf,Tf.makeArray(wf)):If.push(wf)),If||[]},dequeue:function(mf,yf){yf=yf||"fx";var wf=Tf.queue(mf,yf),If=wf.length,Nf=wf.shift(),kf=Tf._queueHooks(mf,yf),$f=function(){Tf.dequeue(mf,yf)};Nf==="inprogress"&&(Nf=wf.shift(),If--),Nf&&(yf==="fx"&&wf.unshift("inprogress"),delete kf.stop,Nf.call(mf,$f,kf)),!If&&kf&&kf.empty.fire()},_queueHooks:function(mf,yf){var wf=yf+"queueHooks";return kh.get(mf,wf)||kh.access(mf,wf,{empty:Tf.Callbacks("once memory").add(function(){kh.remove(mf,[yf+"queue",wf])})})}}),Tf.fn.extend({queue:function(mf,yf){var wf=2;return typeof mf!="string"&&(yf=mf,mf="fx",wf--),arguments.length<wf?Tf.queue(this[0],mf):yf===void 0?this:this.each(function(){var If=Tf.queue(this,mf,yf);Tf._queueHooks(this,mf),mf==="fx"&&If[0]!=="inprogress"&&Tf.dequeue(this,mf)})},dequeue:function(mf){return this.each(function(){Tf.dequeue(this,mf)})},clearQueue:function(mf){return this.queue(mf||"fx",[])},promise:function(mf,yf){var wf,If=1,Nf=Tf.Deferred(),kf=this,$f=this.length,Jf=function(){--If||Nf.resolveWith(kf,[kf])};for(typeof mf!="string"&&(yf=mf,mf=void 0),mf=mf||"fx";$f--;)wf=kh.get(kf[$f],mf+"queueHooks"),wf&&wf.empty&&(If++,wf.empty.add(Jf));return Jf(),Nf.promise(yf)}});var Ad=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ad=new RegExp("^(?:([+-])=|)("+Ad+")([a-z%]*)$","i"),vd=["Top","Right","Bottom","Left"],ld=Of.documentElement,Id=function(mf){return Tf.contains(mf.ownerDocument,mf)},$d={composed:!0};ld.getRootNode&&(Id=function(mf){return Tf.contains(mf.ownerDocument,mf)||mf.getRootNode($d)===mf.ownerDocument});var yd=function(mf,yf){return mf=yf||mf,mf.style.display==="none"||mf.style.display===""&&Id(mf)&&Tf.css(mf,"display")==="none"};function Zd(mf,yf,wf,If){var Nf,kf,$f=20,Jf=If?function(){return If.cur()}:function(){return Tf.css(mf,yf,"")},Zf=Jf(),ph=wf&&wf[3]||(Tf.cssNumber[yf]?"":"px"),Mh=mf.nodeType&&(Tf.cssNumber[yf]||ph!=="px"&&+Zf)&&ad.exec(Tf.css(mf,yf));if(Mh&&Mh[3]!==ph){for(Zf=Zf/2,ph=ph||Mh[3],Mh=+Zf||1;$f--;)Tf.style(mf,yf,Mh+ph),(1-kf)*(1-(kf=Jf()/Zf||.5))<=0&&($f=0),Mh=Mh/kf;Mh=Mh*2,Tf.style(mf,yf,Mh+ph),wf=wf||[]}return wf&&(Mh=+Mh||+Zf||0,Nf=wf[1]?Mh+(wf[1]+1)*wf[2]:+wf[2],If&&(If.unit=ph,If.start=Mh,If.end=Nf)),Nf}var jd={};function pp(mf){var yf,wf=mf.ownerDocument,If=mf.nodeName,Nf=jd[If];return Nf||(yf=wf.body.appendChild(wf.createElement(If)),Nf=Tf.css(yf,"display"),yf.parentNode.removeChild(yf),Nf==="none"&&(Nf="block"),jd[If]=Nf,Nf)}function rp(mf,yf){for(var wf,If,Nf=[],kf=0,$f=mf.length;kf<$f;kf++)If=mf[kf],If.style&&(wf=If.style.display,yf?(wf==="none"&&(Nf[kf]=kh.get(If,"display")||null,Nf[kf]||(If.style.display="")),If.style.display===""&&yd(If)&&(Nf[kf]=pp(If))):wf!=="none"&&(Nf[kf]="none",kh.set(If,"display",wf)));for(kf=0;kf<$f;kf++)Nf[kf]!=null&&(mf[kf].style.display=Nf[kf]);return mf}Tf.fn.extend({show:function(){return rp(this,!0)},hide:function(){return rp(this)},toggle:function(mf){return typeof mf=="boolean"?mf?this.show():this.hide():this.each(function(){yd(this)?Tf(this).show():Tf(this).hide()})}});var ep=/^(?:checkbox|radio)$/i,bp=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Mp=/^$|^module$|\/(?:java|ecma)script/i;(function(){var mf=Of.createDocumentFragment(),yf=mf.appendChild(Of.createElement("div")),wf=Of.createElement("input");wf.setAttribute("type","radio"),wf.setAttribute("checked","checked"),wf.setAttribute("name","t"),yf.appendChild(wf),xf.checkClone=yf.cloneNode(!0).cloneNode(!0).lastChild.checked,yf.innerHTML="<textarea>x</textarea>",xf.noCloneChecked=!!yf.cloneNode(!0).lastChild.defaultValue,yf.innerHTML="<option></option>",xf.option=!!yf.lastChild})();var fp={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fp.tbody=fp.tfoot=fp.colgroup=fp.caption=fp.thead,fp.th=fp.td,xf.option||(fp.optgroup=fp.option=[1,"<select multiple='multiple'>","</select>"]);function Xd(mf,yf){var wf;return typeof mf.getElementsByTagName<"u"?wf=mf.getElementsByTagName(yf||"*"):typeof mf.querySelectorAll<"u"?wf=mf.querySelectorAll(yf||"*"):wf=[],yf===void 0||yf&&rh(mf,yf)?Tf.merge([mf],wf):wf}function Ip(mf,yf){for(var wf=0,If=mf.length;wf<If;wf++)kh.set(mf[wf],"globalEval",!yf||kh.get(yf[wf],"globalEval"))}var Ep=/<|&#?\w+;/;function Dp(mf,yf,wf,If,Nf){for(var kf,$f,Jf,Zf,ph,Mh,Ih=yf.createDocumentFragment(),Oh=[],Xh=0,wd=mf.length;Xh<wd;Xh++)if(kf=mf[Xh],kf||kf===0)if(Vf(kf)==="object")Tf.merge(Oh,kf.nodeType?[kf]:kf);else if(!Ep.test(kf))Oh.push(yf.createTextNode(kf));else{for($f=$f||Ih.appendChild(yf.createElement("div")),Jf=(bp.exec(kf)||["",""])[1].toLowerCase(),Zf=fp[Jf]||fp._default,$f.innerHTML=Zf[1]+Tf.htmlPrefilter(kf)+Zf[2],Mh=Zf[0];Mh--;)$f=$f.lastChild;Tf.merge(Oh,$f.childNodes),$f=Ih.firstChild,$f.textContent=""}for(Ih.textContent="",Xh=0;kf=Oh[Xh++];){if(If&&Tf.inArray(kf,If)>-1){Nf&&Nf.push(kf);continue}if(ph=Id(kf),$f=Xd(Ih.appendChild(kf),"script"),ph&&Ip($f),wf)for(Mh=0;kf=$f[Mh++];)Mp.test(kf.type||"")&&wf.push(kf)}return Ih}var Op=/^([^.]*)(?:\.(.+)|)/;function hp(){return!0}function Hh(){return!1}function ip(mf,yf,wf,If,Nf,kf){var $f,Jf;if(typeof yf=="object"){typeof wf!="string"&&(If=If||wf,wf=void 0);for(Jf in yf)ip(mf,Jf,wf,If,yf[Jf],kf);return mf}if(If==null&&Nf==null?(Nf=wf,If=wf=void 0):Nf==null&&(typeof wf=="string"?(Nf=If,If=void 0):(Nf=If,If=wf,wf=void 0)),Nf===!1)Nf=Hh;else if(!Nf)return mf;return kf===1&&($f=Nf,Nf=function(Zf){return Tf().off(Zf),$f.apply(this,arguments)},Nf.guid=$f.guid||($f.guid=Tf.guid++)),mf.each(function(){Tf.event.add(this,yf,Nf,If,wf)})}Tf.event={global:{},add:function(mf,yf,wf,If,Nf){var kf,$f,Jf,Zf,ph,Mh,Ih,Oh,Xh,wd,Td,hd=kh.get(mf);if(pd(mf))for(wf.handler&&(kf=wf,wf=kf.handler,Nf=kf.selector),Nf&&Tf.find.matchesSelector(ld,Nf),wf.guid||(wf.guid=Tf.guid++),(Zf=hd.events)||(Zf=hd.events=Object.create(null)),($f=hd.handle)||($f=hd.handle=function(op){return typeof Tf<"u"&&Tf.event.triggered!==op.type?Tf.event.dispatch.apply(mf,arguments):void 0}),yf=(yf||"").match(th)||[""],ph=yf.length;ph--;)Jf=Op.exec(yf[ph])||[],Xh=Td=Jf[1],wd=(Jf[2]||"").split(".").sort(),Xh&&(Ih=Tf.event.special[Xh]||{},Xh=(Nf?Ih.delegateType:Ih.bindType)||Xh,Ih=Tf.event.special[Xh]||{},Mh=Tf.extend({type:Xh,origType:Td,data:If,handler:wf,guid:wf.guid,selector:Nf,needsContext:Nf&&Tf.expr.match.needsContext.test(Nf),namespace:wd.join(".")},kf),(Oh=Zf[Xh])||(Oh=Zf[Xh]=[],Oh.delegateCount=0,(!Ih.setup||Ih.setup.call(mf,If,wd,$f)===!1)&&mf.addEventListener&&mf.addEventListener(Xh,$f)),Ih.add&&(Ih.add.call(mf,Mh),Mh.handler.guid||(Mh.handler.guid=wf.guid)),Nf?Oh.splice(Oh.delegateCount++,0,Mh):Oh.push(Mh),Tf.event.global[Xh]=!0)},remove:function(mf,yf,wf,If,Nf){var kf,$f,Jf,Zf,ph,Mh,Ih,Oh,Xh,wd,Td,hd=kh.hasData(mf)&&kh.get(mf);if(!(!hd||!(Zf=hd.events))){for(yf=(yf||"").match(th)||[""],ph=yf.length;ph--;){if(Jf=Op.exec(yf[ph])||[],Xh=Td=Jf[1],wd=(Jf[2]||"").split(".").sort(),!Xh){for(Xh in Zf)Tf.event.remove(mf,Xh+yf[ph],wf,If,!0);continue}for(Ih=Tf.event.special[Xh]||{},Xh=(If?Ih.delegateType:Ih.bindType)||Xh,Oh=Zf[Xh]||[],Jf=Jf[2]&&new RegExp("(^|\\.)"+wd.join("\\.(?:.*\\.|)")+"(\\.|$)"),$f=kf=Oh.length;kf--;)Mh=Oh[kf],(Nf||Td===Mh.origType)&&(!wf||wf.guid===Mh.guid)&&(!Jf||Jf.test(Mh.namespace))&&(!If||If===Mh.selector||If==="**"&&Mh.selector)&&(Oh.splice(kf,1),Mh.selector&&Oh.delegateCount--,Ih.remove&&Ih.remove.call(mf,Mh));$f&&!Oh.length&&((!Ih.teardown||Ih.teardown.call(mf,wd,hd.handle)===!1)&&Tf.removeEvent(mf,Xh,hd.handle),delete Zf[Xh])}Tf.isEmptyObject(Zf)&&kh.remove(mf,"handle events")}},dispatch:function(mf){var yf,wf,If,Nf,kf,$f,Jf=new Array(arguments.length),Zf=Tf.event.fix(mf),ph=(kh.get(this,"events")||Object.create(null))[Zf.type]||[],Mh=Tf.event.special[Zf.type]||{};for(Jf[0]=Zf,yf=1;yf<arguments.length;yf++)Jf[yf]=arguments[yf];if(Zf.delegateTarget=this,!(Mh.preDispatch&&Mh.preDispatch.call(this,Zf)===!1)){for($f=Tf.event.handlers.call(this,Zf,ph),yf=0;(Nf=$f[yf++])&&!Zf.isPropagationStopped();)for(Zf.currentTarget=Nf.elem,wf=0;(kf=Nf.handlers[wf++])&&!Zf.isImmediatePropagationStopped();)(!Zf.rnamespace||kf.namespace===!1||Zf.rnamespace.test(kf.namespace))&&(Zf.handleObj=kf,Zf.data=kf.data,If=((Tf.event.special[kf.origType]||{}).handle||kf.handler).apply(Nf.elem,Jf),If!==void 0&&(Zf.result=If)===!1&&(Zf.preventDefault(),Zf.stopPropagation()));return Mh.postDispatch&&Mh.postDispatch.call(this,Zf),Zf.result}},handlers:function(mf,yf){var wf,If,Nf,kf,$f,Jf=[],Zf=yf.delegateCount,ph=mf.target;if(Zf&&ph.nodeType&&!(mf.type==="click"&&mf.button>=1)){for(;ph!==this;ph=ph.parentNode||this)if(ph.nodeType===1&&!(mf.type==="click"&&ph.disabled===!0)){for(kf=[],$f={},wf=0;wf<Zf;wf++)If=yf[wf],Nf=If.selector+" ",$f[Nf]===void 0&&($f[Nf]=If.needsContext?Tf(Nf,this).index(ph)>-1:Tf.find(Nf,this,null,[ph]).length),$f[Nf]&&kf.push(If);kf.length&&Jf.push({elem:ph,handlers:kf})}}return ph=this,Zf<yf.length&&Jf.push({elem:ph,handlers:yf.slice(Zf)}),Jf},addProp:function(mf,yf){Object.defineProperty(Tf.Event.prototype,mf,{enumerable:!0,configurable:!0,get:Af(yf)?function(){if(this.originalEvent)return yf(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[mf]},set:function(wf){Object.defineProperty(this,mf,{enumerable:!0,configurable:!0,writable:!0,value:wf})}})},fix:function(mf){return mf[Tf.expando]?mf:new Tf.Event(mf)},special:{load:{noBubble:!0},click:{setup:function(mf){var yf=this||mf;return ep.test(yf.type)&&yf.click&&rh(yf,"input")&&sp(yf,"click",!0),!1},trigger:function(mf){var yf=this||mf;return ep.test(yf.type)&&yf.click&&rh(yf,"input")&&sp(yf,"click"),!0},_default:function(mf){var yf=mf.target;return ep.test(yf.type)&&yf.click&&rh(yf,"input")&&kh.get(yf,"click")||rh(yf,"a")}},beforeunload:{postDispatch:function(mf){mf.result!==void 0&&mf.originalEvent&&(mf.originalEvent.returnValue=mf.result)}}}};function sp(mf,yf,wf){if(!wf){kh.get(mf,yf)===void 0&&Tf.event.add(mf,yf,hp);return}kh.set(mf,yf,!1),Tf.event.add(mf,yf,{namespace:!1,handler:function(If){var Nf,kf=kh.get(this,yf);if(If.isTrigger&1&&this[yf]){if(kf)(Tf.event.special[yf]||{}).delegateType&&If.stopPropagation();else if(kf=sf.call(arguments),kh.set(this,yf,kf),this[yf](),Nf=kh.get(this,yf),kh.set(this,yf,!1),kf!==Nf)return If.stopImmediatePropagation(),If.preventDefault(),Nf}else kf&&(kh.set(this,yf,Tf.event.trigger(kf[0],kf.slice(1),this)),If.stopPropagation(),If.isImmediatePropagationStopped=hp)}})}Tf.removeEvent=function(mf,yf,wf){mf.removeEventListener&&mf.removeEventListener(yf,wf)},Tf.Event=function(mf,yf){if(!(this instanceof Tf.Event))return new Tf.Event(mf,yf);mf&&mf.type?(this.originalEvent=mf,this.type=mf.type,this.isDefaultPrevented=mf.defaultPrevented||mf.defaultPrevented===void 0&&mf.returnValue===!1?hp:Hh,this.target=mf.target&&mf.target.nodeType===3?mf.target.parentNode:mf.target,this.currentTarget=mf.currentTarget,this.relatedTarget=mf.relatedTarget):this.type=mf,yf&&Tf.extend(this,yf),this.timeStamp=mf&&mf.timeStamp||Date.now(),this[Tf.expando]=!0},Tf.Event.prototype={constructor:Tf.Event,isDefaultPrevented:Hh,isPropagationStopped:Hh,isImmediatePropagationStopped:Hh,isSimulated:!1,preventDefault:function(){var mf=this.originalEvent;this.isDefaultPrevented=hp,mf&&!this.isSimulated&&mf.preventDefault()},stopPropagation:function(){var mf=this.originalEvent;this.isPropagationStopped=hp,mf&&!this.isSimulated&&mf.stopPropagation()},stopImmediatePropagation:function(){var mf=this.originalEvent;this.isImmediatePropagationStopped=hp,mf&&!this.isSimulated&&mf.stopImmediatePropagation(),this.stopPropagation()}},Tf.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Tf.event.addProp),Tf.each({focus:"focusin",blur:"focusout"},function(mf,yf){function wf(If){if(Of.documentMode){var Nf=kh.get(this,"handle"),kf=Tf.event.fix(If);kf.type=If.type==="focusin"?"focus":"blur",kf.isSimulated=!0,Nf(If),kf.target===kf.currentTarget&&Nf(kf)}else Tf.event.simulate(yf,If.target,Tf.event.fix(If))}Tf.event.special[mf]={setup:function(){var If;if(sp(this,mf,!0),Of.documentMode)If=kh.get(this,yf),If||this.addEventListener(yf,wf),kh.set(this,yf,(If||0)+1);else return!1},trigger:function(){return sp(this,mf),!0},teardown:function(){var If;if(Of.documentMode)If=kh.get(this,yf)-1,If?kh.set(this,yf,If):(this.removeEventListener(yf,wf),kh.remove(this,yf));else return!1},_default:function(If){return kh.get(If.target,mf)},delegateType:yf},Tf.event.special[yf]={setup:function(){var If=this.ownerDocument||this.document||this,Nf=Of.documentMode?this:If,kf=kh.get(Nf,yf);kf||(Of.documentMode?this.addEventListener(yf,wf):If.addEventListener(mf,wf,!0)),kh.set(Nf,yf,(kf||0)+1)},teardown:function(){var If=this.ownerDocument||this.document||this,Nf=Of.documentMode?this:If,kf=kh.get(Nf,yf)-1;kf?kh.set(Nf,yf,kf):(Of.documentMode?this.removeEventListener(yf,wf):If.removeEventListener(mf,wf,!0),kh.remove(Nf,yf))}}}),Tf.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(mf,yf){Tf.event.special[mf]={delegateType:yf,bindType:yf,handle:function(wf){var If,Nf=this,kf=wf.relatedTarget,$f=wf.handleObj;return(!kf||kf!==Nf&&!Tf.contains(Nf,kf))&&(wf.type=$f.origType,If=$f.handler.apply(this,arguments),wf.type=yf),If}}}),Tf.fn.extend({on:function(mf,yf,wf,If){return ip(this,mf,yf,wf,If)},one:function(mf,yf,wf,If){return ip(this,mf,yf,wf,If,1)},off:function(mf,yf,wf){var If,Nf;if(mf&&mf.preventDefault&&mf.handleObj)return If=mf.handleObj,Tf(mf.delegateTarget).off(If.namespace?If.origType+"."+If.namespace:If.origType,If.selector,If.handler),this;if(typeof mf=="object"){for(Nf in mf)this.off(Nf,yf,mf[Nf]);return this}return(yf===!1||typeof yf=="function")&&(wf=yf,yf=void 0),wf===!1&&(wf=Hh),this.each(function(){Tf.event.remove(this,mf,wf,yf)})}});var Hp=/<script|<style|<link/i,ih=/checked\s*(?:[^=]|=\s*.checked.)/i,lh=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function vh(mf,yf){return rh(mf,"table")&&rh(yf.nodeType!==11?yf:yf.firstChild,"tr")&&Tf(mf).children("tbody")[0]||mf}function $h(mf){return mf.type=(mf.getAttribute("type")!==null)+"/"+mf.type,mf}function ed(mf){return(mf.type||"").slice(0,5)==="true/"?mf.type=mf.type.slice(5):mf.removeAttribute("type"),mf}function gd(mf,yf){var wf,If,Nf,kf,$f,Jf,Zf;if(yf.nodeType===1){if(kh.hasData(mf)&&(kf=kh.get(mf),Zf=kf.events,Zf)){kh.remove(yf,"handle events");for(Nf in Zf)for(wf=0,If=Zf[Nf].length;wf<If;wf++)Tf.event.add(yf,Nf,Zf[Nf][wf])}Kh.hasData(mf)&&($f=Kh.access(mf),Jf=Tf.extend({},$f),Kh.set(yf,Jf))}}function od(mf,yf){var wf=yf.nodeName.toLowerCase();wf==="input"&&ep.test(mf.type)?yf.checked=mf.checked:(wf==="input"||wf==="textarea")&&(yf.defaultValue=mf.defaultValue)}function ud(mf,yf,wf,If){yf=af(yf);var Nf,kf,$f,Jf,Zf,ph,Mh=0,Ih=mf.length,Oh=Ih-1,Xh=yf[0],wd=Af(Xh);if(wd||Ih>1&&typeof Xh=="string"&&!xf.checkClone&&ih.test(Xh))return mf.each(function(Td){var hd=mf.eq(Td);wd&&(yf[0]=Xh.call(this,Td,hd.html())),ud(hd,yf,wf,If)});if(Ih&&(Nf=Dp(yf,mf[0].ownerDocument,!1,mf,If),kf=Nf.firstChild,Nf.childNodes.length===1&&(Nf=kf),kf||If)){for($f=Tf.map(Xd(Nf,"script"),$h),Jf=$f.length;Mh<Ih;Mh++)Zf=Nf,Mh!==Oh&&(Zf=Tf.clone(Zf,!0,!0),Jf&&Tf.merge($f,Xd(Zf,"script"))),wf.call(mf[Mh],Zf,Mh);if(Jf)for(ph=$f[$f.length-1].ownerDocument,Tf.map($f,ed),Mh=0;Mh<Jf;Mh++)Zf=$f[Mh],Mp.test(Zf.type||"")&&!kh.access(Zf,"globalEval")&&Tf.contains(ph,Zf)&&(Zf.src&&(Zf.type||"").toLowerCase()!=="module"?Tf._evalUrl&&!Zf.noModule&&Tf._evalUrl(Zf.src,{nonce:Zf.nonce||Zf.getAttribute("nonce")},ph):Bf(Zf.textContent.replace(lh,""),Zf,ph))}return mf}function Bd(mf,yf,wf){for(var If,Nf=yf?Tf.filter(yf,mf):mf,kf=0;(If=Nf[kf])!=null;kf++)!wf&&If.nodeType===1&&Tf.cleanData(Xd(If)),If.parentNode&&(wf&&Id(If)&&Ip(Xd(If,"script")),If.parentNode.removeChild(If));return mf}Tf.extend({htmlPrefilter:function(mf){return mf},clone:function(mf,yf,wf){var If,Nf,kf,$f,Jf=mf.cloneNode(!0),Zf=Id(mf);if(!xf.noCloneChecked&&(mf.nodeType===1||mf.nodeType===11)&&!Tf.isXMLDoc(mf))for($f=Xd(Jf),kf=Xd(mf),If=0,Nf=kf.length;If<Nf;If++)od(kf[If],$f[If]);if(yf)if(wf)for(kf=kf||Xd(mf),$f=$f||Xd(Jf),If=0,Nf=kf.length;If<Nf;If++)gd(kf[If],$f[If]);else gd(mf,Jf);return $f=Xd(Jf,"script"),$f.length>0&&Ip($f,!Zf&&Xd(mf,"script")),Jf},cleanData:function(mf){for(var yf,wf,If,Nf=Tf.event.special,kf=0;(wf=mf[kf])!==void 0;kf++)if(pd(wf)){if(yf=wf[kh.expando]){if(yf.events)for(If in yf.events)Nf[If]?Tf.event.remove(wf,If):Tf.removeEvent(wf,If,yf.handle);wf[kh.expando]=void 0}wf[Kh.expando]&&(wf[Kh.expando]=void 0)}}}),Tf.fn.extend({detach:function(mf){return Bd(this,mf,!0)},remove:function(mf){return Bd(this,mf)},text:function(mf){return Fh(this,function(yf){return yf===void 0?Tf.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=yf)})},null,mf,arguments.length)},append:function(){return ud(this,arguments,function(mf){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var yf=vh(this,mf);yf.appendChild(mf)}})},prepend:function(){return ud(this,arguments,function(mf){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var yf=vh(this,mf);yf.insertBefore(mf,yf.firstChild)}})},before:function(){return ud(this,arguments,function(mf){this.parentNode&&this.parentNode.insertBefore(mf,this)})},after:function(){return ud(this,arguments,function(mf){this.parentNode&&this.parentNode.insertBefore(mf,this.nextSibling)})},empty:function(){for(var mf,yf=0;(mf=this[yf])!=null;yf++)mf.nodeType===1&&(Tf.cleanData(Xd(mf,!1)),mf.textContent="");return this},clone:function(mf,yf){return mf=mf??!1,yf=yf??mf,this.map(function(){return Tf.clone(this,mf,yf)})},html:function(mf){return Fh(this,function(yf){var wf=this[0]||{},If=0,Nf=this.length;if(yf===void 0&&wf.nodeType===1)return wf.innerHTML;if(typeof yf=="string"&&!Hp.test(yf)&&!fp[(bp.exec(yf)||["",""])[1].toLowerCase()]){yf=Tf.htmlPrefilter(yf);try{for(;If<Nf;If++)wf=this[If]||{},wf.nodeType===1&&(Tf.cleanData(Xd(wf,!1)),wf.innerHTML=yf);wf=0}catch{}}wf&&this.empty().append(yf)},null,mf,arguments.length)},replaceWith:function(){var mf=[];return ud(this,arguments,function(yf){var wf=this.parentNode;Tf.inArray(this,mf)<0&&(Tf.cleanData(Xd(this)),wf&&wf.replaceChild(yf,this))},mf)}}),Tf.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(mf,yf){Tf.fn[mf]=function(wf){for(var If,Nf=[],kf=Tf(wf),$f=kf.length-1,Jf=0;Jf<=$f;Jf++)If=Jf===$f?this:this.clone(!0),Tf(kf[Jf])[yf](If),lf.apply(Nf,If.get());return this.pushStack(Nf)}});var kd=new RegExp("^("+Ad+")(?!px)[a-z%]+$","i"),Nd=/^--/,Gd=function(mf){var yf=mf.ownerDocument.defaultView;return(!yf||!yf.opener)&&(yf=ef),yf.getComputedStyle(mf)},ap=function(mf,yf,wf){var If,Nf,kf={};for(Nf in yf)kf[Nf]=mf.style[Nf],mf.style[Nf]=yf[Nf];If=wf.call(mf);for(Nf in yf)mf.style[Nf]=kf[Nf];return If},rd=new RegExp(vd.join("|"),"i");(function(){function mf(){if(ph){Zf.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ph.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ld.appendChild(Zf).appendChild(ph);var Mh=ef.getComputedStyle(ph);wf=Mh.top!=="1%",Jf=yf(Mh.marginLeft)===12,ph.style.right="60%",kf=yf(Mh.right)===36,If=yf(Mh.width)===36,ph.style.position="absolute",Nf=yf(ph.offsetWidth/3)===12,ld.removeChild(Zf),ph=null}}function yf(Mh){return Math.round(parseFloat(Mh))}var wf,If,Nf,kf,$f,Jf,Zf=Of.createElement("div"),ph=Of.createElement("div");ph.style&&(ph.style.backgroundClip="content-box",ph.cloneNode(!0).style.backgroundClip="",xf.clearCloneStyle=ph.style.backgroundClip==="content-box",Tf.extend(xf,{boxSizingReliable:function(){return mf(),If},pixelBoxStyles:function(){return mf(),kf},pixelPosition:function(){return mf(),wf},reliableMarginLeft:function(){return mf(),Jf},scrollboxSize:function(){return mf(),Nf},reliableTrDimensions:function(){var Mh,Ih,Oh,Xh;return $f==null&&(Mh=Of.createElement("table"),Ih=Of.createElement("tr"),Oh=Of.createElement("div"),Mh.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ih.style.cssText="box-sizing:content-box;border:1px solid",Ih.style.height="1px",Oh.style.height="9px",Oh.style.display="block",ld.appendChild(Mh).appendChild(Ih).appendChild(Oh),Xh=ef.getComputedStyle(Ih),$f=parseInt(Xh.height,10)+parseInt(Xh.borderTopWidth,10)+parseInt(Xh.borderBottomWidth,10)===Ih.offsetHeight,ld.removeChild(Mh)),$f}}))})();function sd(mf,yf,wf){var If,Nf,kf,$f,Jf=Nd.test(yf),Zf=mf.style;return wf=wf||Gd(mf),wf&&($f=wf.getPropertyValue(yf)||wf[yf],Jf&&$f&&($f=$f.replace(Qf,"$1")||void 0),$f===""&&!Id(mf)&&($f=Tf.style(mf,yf)),!xf.pixelBoxStyles()&&kd.test($f)&&rd.test(yf)&&(If=Zf.width,Nf=Zf.minWidth,kf=Zf.maxWidth,Zf.minWidth=Zf.maxWidth=Zf.width=$f,$f=wf.width,Zf.width=If,Zf.minWidth=Nf,Zf.maxWidth=kf)),$f!==void 0?$f+"":$f}function Ed(mf,yf){return{get:function(){if(mf()){delete this.get;return}return(this.get=yf).apply(this,arguments)}}}var Dd=["Webkit","Moz","ms"],vp=Of.createElement("div").style,yh={};function Ch(mf){for(var yf=mf[0].toUpperCase()+mf.slice(1),wf=Dd.length;wf--;)if(mf=Dd[wf]+yf,mf in vp)return mf}function Ph(mf){var yf=Tf.cssProps[mf]||yh[mf];return yf||(mf in vp?mf:yh[mf]=Ch(mf)||mf)}var zh=/^(none|table(?!-c[ea]).+)/,td={position:"absolute",visibility:"hidden",display:"block"},dd={letterSpacing:"0",fontWeight:"400"};function Sh(mf,yf,wf){var If=ad.exec(yf);return If?Math.max(0,If[2]-(wf||0))+(If[3]||"px"):yf}function Dh(mf,yf,wf,If,Nf,kf){var $f=yf==="width"?1:0,Jf=0,Zf=0,ph=0;if(wf===(If?"border":"content"))return 0;for(;$f<4;$f+=2)wf==="margin"&&(ph+=Tf.css(mf,wf+vd[$f],!0,Nf)),If?(wf==="content"&&(Zf-=Tf.css(mf,"padding"+vd[$f],!0,Nf)),wf!=="margin"&&(Zf-=Tf.css(mf,"border"+vd[$f]+"Width",!0,Nf))):(Zf+=Tf.css(mf,"padding"+vd[$f],!0,Nf),wf!=="padding"?Zf+=Tf.css(mf,"border"+vd[$f]+"Width",!0,Nf):Jf+=Tf.css(mf,"border"+vd[$f]+"Width",!0,Nf));return!If&&kf>=0&&(Zf+=Math.max(0,Math.ceil(mf["offset"+yf[0].toUpperCase()+yf.slice(1)]-kf-Zf-Jf-.5))||0),Zf+ph}function Lh(mf,yf,wf){var If=Gd(mf),Nf=!xf.boxSizingReliable()||wf,kf=Nf&&Tf.css(mf,"boxSizing",!1,If)==="border-box",$f=kf,Jf=sd(mf,yf,If),Zf="offset"+yf[0].toUpperCase()+yf.slice(1);if(kd.test(Jf)){if(!wf)return Jf;Jf="auto"}return(!xf.boxSizingReliable()&&kf||!xf.reliableTrDimensions()&&rh(mf,"tr")||Jf==="auto"||!parseFloat(Jf)&&Tf.css(mf,"display",!1,If)==="inline")&&mf.getClientRects().length&&(kf=Tf.css(mf,"boxSizing",!1,If)==="border-box",$f=Zf in mf,$f&&(Jf=mf[Zf])),Jf=parseFloat(Jf)||0,Jf+Dh(mf,yf,wf||(kf?"border":"content"),$f,If,Jf)+"px"}Tf.extend({cssHooks:{opacity:{get:function(mf,yf){if(yf){var wf=sd(mf,"opacity");return wf===""?"1":wf}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(mf,yf,wf,If){if(!(!mf||mf.nodeType===3||mf.nodeType===8||!mf.style)){var Nf,kf,$f,Jf=cd(yf),Zf=Nd.test(yf),ph=mf.style;if(Zf||(yf=Ph(Jf)),$f=Tf.cssHooks[yf]||Tf.cssHooks[Jf],wf!==void 0){if(kf=typeof wf,kf==="string"&&(Nf=ad.exec(wf))&&Nf[1]&&(wf=Zd(mf,yf,Nf),kf="number"),wf==null||wf!==wf)return;kf==="number"&&!Zf&&(wf+=Nf&&Nf[3]||(Tf.cssNumber[Jf]?"":"px")),!xf.clearCloneStyle&&wf===""&&yf.indexOf("background")===0&&(ph[yf]="inherit"),(!$f||!("set"in $f)||(wf=$f.set(mf,wf,If))!==void 0)&&(Zf?ph.setProperty(yf,wf):ph[yf]=wf)}else return $f&&"get"in $f&&(Nf=$f.get(mf,!1,If))!==void 0?Nf:ph[yf]}},css:function(mf,yf,wf,If){var Nf,kf,$f,Jf=cd(yf),Zf=Nd.test(yf);return Zf||(yf=Ph(Jf)),$f=Tf.cssHooks[yf]||Tf.cssHooks[Jf],$f&&"get"in $f&&(Nf=$f.get(mf,!0,wf)),Nf===void 0&&(Nf=sd(mf,yf,If)),Nf==="normal"&&yf in dd&&(Nf=dd[yf]),wf===""||wf?(kf=parseFloat(Nf),wf===!0||isFinite(kf)?kf||0:Nf):Nf}}),Tf.each(["height","width"],function(mf,yf){Tf.cssHooks[yf]={get:function(wf,If,Nf){if(If)return zh.test(Tf.css(wf,"display"))&&(!wf.getClientRects().length||!wf.getBoundingClientRect().width)?ap(wf,td,function(){return Lh(wf,yf,Nf)}):Lh(wf,yf,Nf)},set:function(wf,If,Nf){var kf,$f=Gd(wf),Jf=!xf.scrollboxSize()&&$f.position==="absolute",Zf=Jf||Nf,ph=Zf&&Tf.css(wf,"boxSizing",!1,$f)==="border-box",Mh=Nf?Dh(wf,yf,Nf,ph,$f):0;return ph&&Jf&&(Mh-=Math.ceil(wf["offset"+yf[0].toUpperCase()+yf.slice(1)]-parseFloat($f[yf])-Dh(wf,yf,"border",!1,$f)-.5)),Mh&&(kf=ad.exec(If))&&(kf[3]||"px")!=="px"&&(wf.style[yf]=If,If=Tf.css(wf,yf)),Sh(wf,If,Mh)}}}),Tf.cssHooks.marginLeft=Ed(xf.reliableMarginLeft,function(mf,yf){if(yf)return(parseFloat(sd(mf,"marginLeft"))||mf.getBoundingClientRect().left-ap(mf,{marginLeft:0},function(){return mf.getBoundingClientRect().left}))+"px"}),Tf.each({margin:"",padding:"",border:"Width"},function(mf,yf){Tf.cssHooks[mf+yf]={expand:function(wf){for(var If=0,Nf={},kf=typeof wf=="string"?wf.split(" "):[wf];If<4;If++)Nf[mf+vd[If]+yf]=kf[If]||kf[If-2]||kf[0];return Nf}},mf!=="margin"&&(Tf.cssHooks[mf+yf].set=Sh)}),Tf.fn.extend({css:function(mf,yf){return Fh(this,function(wf,If,Nf){var kf,$f,Jf={},Zf=0;if(Array.isArray(If)){for(kf=Gd(wf),$f=If.length;Zf<$f;Zf++)Jf[If[Zf]]=Tf.css(wf,If[Zf],!1,kf);return Jf}return Nf!==void 0?Tf.style(wf,If,Nf):Tf.css(wf,If)},mf,yf,arguments.length>1)}});function Yh(mf,yf,wf,If,Nf){return new Yh.prototype.init(mf,yf,wf,If,Nf)}Tf.Tween=Yh,Yh.prototype={constructor:Yh,init:function(mf,yf,wf,If,Nf,kf){this.elem=mf,this.prop=wf,this.easing=Nf||Tf.easing._default,this.options=yf,this.start=this.now=this.cur(),this.end=If,this.unit=kf||(Tf.cssNumber[wf]?"":"px")},cur:function(){var mf=Yh.propHooks[this.prop];return mf&&mf.get?mf.get(this):Yh.propHooks._default.get(this)},run:function(mf){var yf,wf=Yh.propHooks[this.prop];return this.options.duration?this.pos=yf=Tf.easing[this.easing](mf,this.options.duration*mf,0,1,this.options.duration):this.pos=yf=mf,this.now=(this.end-this.start)*yf+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),wf&&wf.set?wf.set(this):Yh.propHooks._default.set(this),this}},Yh.prototype.init.prototype=Yh.prototype,Yh.propHooks={_default:{get:function(mf){var yf;return mf.elem.nodeType!==1||mf.elem[mf.prop]!=null&&mf.elem.style[mf.prop]==null?mf.elem[mf.prop]:(yf=Tf.css(mf.elem,mf.prop,""),!yf||yf==="auto"?0:yf)},set:function(mf){Tf.fx.step[mf.prop]?Tf.fx.step[mf.prop](mf):mf.elem.nodeType===1&&(Tf.cssHooks[mf.prop]||mf.elem.style[Ph(mf.prop)]!=null)?Tf.style(mf.elem,mf.prop,mf.now+mf.unit):mf.elem[mf.prop]=mf.now}}},Yh.propHooks.scrollTop=Yh.propHooks.scrollLeft={set:function(mf){mf.elem.nodeType&&mf.elem.parentNode&&(mf.elem[mf.prop]=mf.now)}},Tf.easing={linear:function(mf){return mf},swing:function(mf){return .5-Math.cos(mf*Math.PI)/2},_default:"swing"},Tf.fx=Yh.prototype.init,Tf.fx.step={};var Md,Cd,zd=/^(?:toggle|show|hide)$/,gp=/queueHooks$/;function Ap(){Cd&&(Of.hidden===!1&&ef.requestAnimationFrame?ef.requestAnimationFrame(Ap):ef.setTimeout(Ap,Tf.fx.interval),Tf.fx.tick())}function Qd(){return ef.setTimeout(function(){Md=void 0}),Md=Date.now()}function Bp(mf,yf){var wf,If=0,Nf={height:mf};for(yf=yf?1:0;If<4;If+=2-yf)wf=vd[If],Nf["margin"+wf]=Nf["padding"+wf]=mf;return yf&&(Nf.opacity=Nf.width=mf),Nf}function wp(mf,yf,wf){for(var If,Nf=(xp.tweeners[yf]||[]).concat(xp.tweeners["*"]),kf=0,$f=Nf.length;kf<$f;kf++)if(If=Nf[kf].call(wf,yf,mf))return If}function Gp(mf,yf,wf){var If,Nf,kf,$f,Jf,Zf,ph,Mh,Ih="width"in yf||"height"in yf,Oh=this,Xh={},wd=mf.style,Td=mf.nodeType&&yd(mf),hd=kh.get(mf,"fxshow");wf.queue||($f=Tf._queueHooks(mf,"fx"),$f.unqueued==null&&($f.unqueued=0,Jf=$f.empty.fire,$f.empty.fire=function(){$f.unqueued||Jf()}),$f.unqueued++,Oh.always(function(){Oh.always(function(){$f.unqueued--,Tf.queue(mf,"fx").length||$f.empty.fire()})}));for(If in yf)if(Nf=yf[If],zd.test(Nf)){if(delete yf[If],kf=kf||Nf==="toggle",Nf===(Td?"hide":"show"))if(Nf==="show"&&hd&&hd[If]!==void 0)Td=!0;else continue;Xh[If]=hd&&hd[If]||Tf.style(mf,If)}if(Zf=!Tf.isEmptyObject(yf),!(!Zf&&Tf.isEmptyObject(Xh))){Ih&&mf.nodeType===1&&(wf.overflow=[wd.overflow,wd.overflowX,wd.overflowY],ph=hd&&hd.display,ph==null&&(ph=kh.get(mf,"display")),Mh=Tf.css(mf,"display"),Mh==="none"&&(ph?Mh=ph:(rp([mf],!0),ph=mf.style.display||ph,Mh=Tf.css(mf,"display"),rp([mf]))),(Mh==="inline"||Mh==="inline-block"&&ph!=null)&&Tf.css(mf,"float")==="none"&&(Zf||(Oh.done(function(){wd.display=ph}),ph==null&&(Mh=wd.display,ph=Mh==="none"?"":Mh)),wd.display="inline-block")),wf.overflow&&(wd.overflow="hidden",Oh.always(function(){wd.overflow=wf.overflow[0],wd.overflowX=wf.overflow[1],wd.overflowY=wf.overflow[2]})),Zf=!1;for(If in Xh)Zf||(hd?"hidden"in hd&&(Td=hd.hidden):hd=kh.access(mf,"fxshow",{display:ph}),kf&&(hd.hidden=!Td),Td&&rp([mf],!0),Oh.done(function(){Td||rp([mf]),kh.remove(mf,"fxshow");for(If in Xh)Tf.style(mf,If,Xh[If])})),Zf=wp(Td?hd[If]:0,If,Oh),If in hd||(hd[If]=Zf.start,Td&&(Zf.end=Zf.start,Zf.start=0))}}function e0(mf,yf){var wf,If,Nf,kf,$f;for(wf in mf)if(If=cd(wf),Nf=yf[If],kf=mf[wf],Array.isArray(kf)&&(Nf=kf[1],kf=mf[wf]=kf[0]),wf!==If&&(mf[If]=kf,delete mf[wf]),$f=Tf.cssHooks[If],$f&&"expand"in $f){kf=$f.expand(kf),delete mf[If];for(wf in kf)wf in mf||(mf[wf]=kf[wf],yf[wf]=Nf)}else yf[If]=Nf}function xp(mf,yf,wf){var If,Nf,kf=0,$f=xp.prefilters.length,Jf=Tf.Deferred().always(function(){delete Zf.elem}),Zf=function(){if(Nf)return!1;for(var Ih=Md||Qd(),Oh=Math.max(0,ph.startTime+ph.duration-Ih),Xh=Oh/ph.duration||0,wd=1-Xh,Td=0,hd=ph.tweens.length;Td<hd;Td++)ph.tweens[Td].run(wd);return Jf.notifyWith(mf,[ph,wd,Oh]),wd<1&&hd?Oh:(hd||Jf.notifyWith(mf,[ph,1,0]),Jf.resolveWith(mf,[ph]),!1)},ph=Jf.promise({elem:mf,props:Tf.extend({},yf),opts:Tf.extend(!0,{specialEasing:{},easing:Tf.easing._default},wf),originalProperties:yf,originalOptions:wf,startTime:Md||Qd(),duration:wf.duration,tweens:[],createTween:function(Ih,Oh){var Xh=Tf.Tween(mf,ph.opts,Ih,Oh,ph.opts.specialEasing[Ih]||ph.opts.easing);return ph.tweens.push(Xh),Xh},stop:function(Ih){var Oh=0,Xh=Ih?ph.tweens.length:0;if(Nf)return this;for(Nf=!0;Oh<Xh;Oh++)ph.tweens[Oh].run(1);return Ih?(Jf.notifyWith(mf,[ph,1,0]),Jf.resolveWith(mf,[ph,Ih])):Jf.rejectWith(mf,[ph,Ih]),this}}),Mh=ph.props;for(e0(Mh,ph.opts.specialEasing);kf<$f;kf++)if(If=xp.prefilters[kf].call(ph,mf,Mh,ph.opts),If)return Af(If.stop)&&(Tf._queueHooks(ph.elem,ph.opts.queue).stop=If.stop.bind(If)),If;return Tf.map(Mh,wp,ph),Af(ph.opts.start)&&ph.opts.start.call(mf,ph),ph.progress(ph.opts.progress).done(ph.opts.done,ph.opts.complete).fail(ph.opts.fail).always(ph.opts.always),Tf.fx.timer(Tf.extend(Zf,{elem:mf,anim:ph,queue:ph.opts.queue})),ph}Tf.Animation=Tf.extend(xp,{tweeners:{"*":[function(mf,yf){var wf=this.createTween(mf,yf);return Zd(wf.elem,mf,ad.exec(yf),wf),wf}]},tweener:function(mf,yf){Af(mf)?(yf=mf,mf=["*"]):mf=mf.match(th);for(var wf,If=0,Nf=mf.length;If<Nf;If++)wf=mf[If],xp.tweeners[wf]=xp.tweeners[wf]||[],xp.tweeners[wf].unshift(yf)},prefilters:[Gp],prefilter:function(mf,yf){yf?xp.prefilters.unshift(mf):xp.prefilters.push(mf)}}),Tf.speed=function(mf,yf,wf){var If=mf&&typeof mf=="object"?Tf.extend({},mf):{complete:wf||!wf&&yf||Af(mf)&&mf,duration:mf,easing:wf&&yf||yf&&!Af(yf)&&yf};return Tf.fx.off?If.duration=0:typeof If.duration!="number"&&(If.duration in Tf.fx.speeds?If.duration=Tf.fx.speeds[If.duration]:If.duration=Tf.fx.speeds._default),(If.queue==null||If.queue===!0)&&(If.queue="fx"),If.old=If.complete,If.complete=function(){Af(If.old)&&If.old.call(this),If.queue&&Tf.dequeue(this,If.queue)},If},Tf.fn.extend({fadeTo:function(mf,yf,wf,If){return this.filter(yd).css("opacity",0).show().end().animate({opacity:yf},mf,wf,If)},animate:function(mf,yf,wf,If){var Nf=Tf.isEmptyObject(mf),kf=Tf.speed(yf,wf,If),$f=function(){var Jf=xp(this,Tf.extend({},mf),kf);(Nf||kh.get(this,"finish"))&&Jf.stop(!0)};return $f.finish=$f,Nf||kf.queue===!1?this.each($f):this.queue(kf.queue,$f)},stop:function(mf,yf,wf){var If=function(Nf){var kf=Nf.stop;delete Nf.stop,kf(wf)};return typeof mf!="string"&&(wf=yf,yf=mf,mf=void 0),yf&&this.queue(mf||"fx",[]),this.each(function(){var Nf=!0,kf=mf!=null&&mf+"queueHooks",$f=Tf.timers,Jf=kh.get(this);if(kf)Jf[kf]&&Jf[kf].stop&&If(Jf[kf]);else for(kf in Jf)Jf[kf]&&Jf[kf].stop&&gp.test(kf)&&If(Jf[kf]);for(kf=$f.length;kf--;)$f[kf].elem===this&&(mf==null||$f[kf].queue===mf)&&($f[kf].anim.stop(wf),Nf=!1,$f.splice(kf,1));(Nf||!wf)&&Tf.dequeue(this,mf)})},finish:function(mf){return mf!==!1&&(mf=mf||"fx"),this.each(function(){var yf,wf=kh.get(this),If=wf[mf+"queue"],Nf=wf[mf+"queueHooks"],kf=Tf.timers,$f=If?If.length:0;for(wf.finish=!0,Tf.queue(this,mf,[]),Nf&&Nf.stop&&Nf.stop.call(this,!0),yf=kf.length;yf--;)kf[yf].elem===this&&kf[yf].queue===mf&&(kf[yf].anim.stop(!0),kf.splice(yf,1));for(yf=0;yf<$f;yf++)If[yf]&&If[yf].finish&&If[yf].finish.call(this);delete wf.finish})}}),Tf.each(["toggle","show","hide"],function(mf,yf){var wf=Tf.fn[yf];Tf.fn[yf]=function(If,Nf,kf){return If==null||typeof If=="boolean"?wf.apply(this,arguments):this.animate(Bp(yf,!0),If,Nf,kf)}}),Tf.each({slideDown:Bp("show"),slideUp:Bp("hide"),slideToggle:Bp("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(mf,yf){Tf.fn[mf]=function(wf,If,Nf){return this.animate(yf,wf,If,Nf)}}),Tf.timers=[],Tf.fx.tick=function(){var mf,yf=0,wf=Tf.timers;for(Md=Date.now();yf<wf.length;yf++)mf=wf[yf],!mf()&&wf[yf]===mf&&wf.splice(yf--,1);wf.length||Tf.fx.stop(),Md=void 0},Tf.fx.timer=function(mf){Tf.timers.push(mf),Tf.fx.start()},Tf.fx.interval=13,Tf.fx.start=function(){Cd||(Cd=!0,Ap())},Tf.fx.stop=function(){Cd=null},Tf.fx.speeds={slow:600,fast:200,_default:400},Tf.fn.delay=function(mf,yf){return mf=Tf.fx&&Tf.fx.speeds[mf]||mf,yf=yf||"fx",this.queue(yf,function(wf,If){var Nf=ef.setTimeout(wf,mf);If.stop=function(){ef.clearTimeout(Nf)}})},function(){var mf=Of.createElement("input"),yf=Of.createElement("select"),wf=yf.appendChild(Of.createElement("option"));mf.type="checkbox",xf.checkOn=mf.value!=="",xf.optSelected=wf.selected,mf=Of.createElement("input"),mf.value="t",mf.type="radio",xf.radioValue=mf.value==="t"}();var Fp,r0=Tf.expr.attrHandle;Tf.fn.extend({attr:function(mf,yf){return Fh(this,Tf.attr,mf,yf,arguments.length>1)},removeAttr:function(mf){return this.each(function(){Tf.removeAttr(this,mf)})}}),Tf.extend({attr:function(mf,yf,wf){var If,Nf,kf=mf.nodeType;if(!(kf===3||kf===8||kf===2)){if(typeof mf.getAttribute>"u")return Tf.prop(mf,yf,wf);if((kf!==1||!Tf.isXMLDoc(mf))&&(Nf=Tf.attrHooks[yf.toLowerCase()]||(Tf.expr.match.bool.test(yf)?Fp:void 0)),wf!==void 0){if(wf===null){Tf.removeAttr(mf,yf);return}return Nf&&"set"in Nf&&(If=Nf.set(mf,wf,yf))!==void 0?If:(mf.setAttribute(yf,wf+""),wf)}return Nf&&"get"in Nf&&(If=Nf.get(mf,yf))!==null?If:(If=Tf.find.attr(mf,yf),If??void 0)}},attrHooks:{type:{set:function(mf,yf){if(!xf.radioValue&&yf==="radio"&&rh(mf,"input")){var wf=mf.value;return mf.setAttribute("type",yf),wf&&(mf.value=wf),yf}}}},removeAttr:function(mf,yf){var wf,If=0,Nf=yf&&yf.match(th);if(Nf&&mf.nodeType===1)for(;wf=Nf[If++];)mf.removeAttribute(wf)}}),Fp={set:function(mf,yf,wf){return yf===!1?Tf.removeAttr(mf,wf):mf.setAttribute(wf,wf),wf}},Tf.each(Tf.expr.match.bool.source.match(/\w+/g),function(mf,yf){var wf=r0[yf]||Tf.find.attr;r0[yf]=function(If,Nf,kf){var $f,Jf,Zf=Nf.toLowerCase();return kf||(Jf=r0[Zf],r0[Zf]=$f,$f=wf(If,Nf,kf)!=null?Zf:null,r0[Zf]=Jf),$f}});var W0=/^(?:input|select|textarea|button)$/i,P0=/^(?:a|area)$/i;Tf.fn.extend({prop:function(mf,yf){return Fh(this,Tf.prop,mf,yf,arguments.length>1)},removeProp:function(mf){return this.each(function(){delete this[Tf.propFix[mf]||mf]})}}),Tf.extend({prop:function(mf,yf,wf){var If,Nf,kf=mf.nodeType;if(!(kf===3||kf===8||kf===2))return(kf!==1||!Tf.isXMLDoc(mf))&&(yf=Tf.propFix[yf]||yf,Nf=Tf.propHooks[yf]),wf!==void 0?Nf&&"set"in Nf&&(If=Nf.set(mf,wf,yf))!==void 0?If:mf[yf]=wf:Nf&&"get"in Nf&&(If=Nf.get(mf,yf))!==null?If:mf[yf]},propHooks:{tabIndex:{get:function(mf){var yf=Tf.find.attr(mf,"tabindex");return yf?parseInt(yf,10):W0.test(mf.nodeName)||P0.test(mf.nodeName)&&mf.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xf.optSelected||(Tf.propHooks.selected={get:function(mf){var yf=mf.parentNode;return yf&&yf.parentNode&&yf.parentNode.selectedIndex,null},set:function(mf){var yf=mf.parentNode;yf&&(yf.selectedIndex,yf.parentNode&&yf.parentNode.selectedIndex)}}),Tf.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Tf.propFix[this.toLowerCase()]=this});function t0(mf){var yf=mf.match(th)||[];return yf.join(" ")}function $p(mf){return mf.getAttribute&&mf.getAttribute("class")||""}function p0(mf){return Array.isArray(mf)?mf:typeof mf=="string"?mf.match(th)||[]:[]}Tf.fn.extend({addClass:function(mf){var yf,wf,If,Nf,kf,$f;return Af(mf)?this.each(function(Jf){Tf(this).addClass(mf.call(this,Jf,$p(this)))}):(yf=p0(mf),yf.length?this.each(function(){if(If=$p(this),wf=this.nodeType===1&&" "+t0(If)+" ",wf){for(kf=0;kf<yf.length;kf++)Nf=yf[kf],wf.indexOf(" "+Nf+" ")<0&&(wf+=Nf+" ");$f=t0(wf),If!==$f&&this.setAttribute("class",$f)}}):this)},removeClass:function(mf){var yf,wf,If,Nf,kf,$f;return Af(mf)?this.each(function(Jf){Tf(this).removeClass(mf.call(this,Jf,$p(this)))}):arguments.length?(yf=p0(mf),yf.length?this.each(function(){if(If=$p(this),wf=this.nodeType===1&&" "+t0(If)+" ",wf){for(kf=0;kf<yf.length;kf++)for(Nf=yf[kf];wf.indexOf(" "+Nf+" ")>-1;)wf=wf.replace(" "+Nf+" "," ");$f=t0(wf),If!==$f&&this.setAttribute("class",$f)}}):this):this.attr("class","")},toggleClass:function(mf,yf){var wf,If,Nf,kf,$f=typeof mf,Jf=$f==="string"||Array.isArray(mf);return Af(mf)?this.each(function(Zf){Tf(this).toggleClass(mf.call(this,Zf,$p(this),yf),yf)}):typeof yf=="boolean"&&Jf?yf?this.addClass(mf):this.removeClass(mf):(wf=p0(mf),this.each(function(){if(Jf)for(kf=Tf(this),Nf=0;Nf<wf.length;Nf++)If=wf[Nf],kf.hasClass(If)?kf.removeClass(If):kf.addClass(If);else(mf===void 0||$f==="boolean")&&(If=$p(this),If&&kh.set(this,"__className__",If),this.setAttribute&&this.setAttribute("class",If||mf===!1?"":kh.get(this,"__className__")||""))}))},hasClass:function(mf){var yf,wf,If=0;for(yf=" "+mf+" ";wf=this[If++];)if(wf.nodeType===1&&(" "+t0($p(wf))+" ").indexOf(yf)>-1)return!0;return!1}});var S0=/\r/g;Tf.fn.extend({val:function(mf){var yf,wf,If,Nf=this[0];return arguments.length?(If=Af(mf),this.each(function(kf){var $f;this.nodeType===1&&(If?$f=mf.call(this,kf,Tf(this).val()):$f=mf,$f==null?$f="":typeof $f=="number"?$f+="":Array.isArray($f)&&($f=Tf.map($f,function(Jf){return Jf==null?"":Jf+""})),yf=Tf.valHooks[this.type]||Tf.valHooks[this.nodeName.toLowerCase()],(!yf||!("set"in yf)||yf.set(this,$f,"value")===void 0)&&(this.value=$f))})):Nf?(yf=Tf.valHooks[Nf.type]||Tf.valHooks[Nf.nodeName.toLowerCase()],yf&&"get"in yf&&(wf=yf.get(Nf,"value"))!==void 0?wf:(wf=Nf.value,typeof wf=="string"?wf.replace(S0,""):wf??"")):void 0}}),Tf.extend({valHooks:{option:{get:function(mf){var yf=Tf.find.attr(mf,"value");return yf??t0(Tf.text(mf))}},select:{get:function(mf){var yf,wf,If,Nf=mf.options,kf=mf.selectedIndex,$f=mf.type==="select-one",Jf=$f?null:[],Zf=$f?kf+1:Nf.length;for(kf<0?If=Zf:If=$f?kf:0;If<Zf;If++)if(wf=Nf[If],(wf.selected||If===kf)&&!wf.disabled&&(!wf.parentNode.disabled||!rh(wf.parentNode,"optgroup"))){if(yf=Tf(wf).val(),$f)return yf;Jf.push(yf)}return Jf},set:function(mf,yf){for(var wf,If,Nf=mf.options,kf=Tf.makeArray(yf),$f=Nf.length;$f--;)If=Nf[$f],(If.selected=Tf.inArray(Tf.valHooks.option.get(If),kf)>-1)&&(wf=!0);return wf||(mf.selectedIndex=-1),kf}}}}),Tf.each(["radio","checkbox"],function(){Tf.valHooks[this]={set:function(mf,yf){if(Array.isArray(yf))return mf.checked=Tf.inArray(Tf(mf).val(),yf)>-1}},xf.checkOn||(Tf.valHooks[this].get=function(mf){return mf.getAttribute("value")===null?"on":mf.value})});var u0=ef.location,T0={guid:Date.now()},A0=/\?/;Tf.parseXML=function(mf){var yf,wf;if(!mf||typeof mf!="string")return null;try{yf=new ef.DOMParser().parseFromString(mf,"text/xml")}catch{}return wf=yf&&yf.getElementsByTagName("parsererror")[0],(!yf||wf)&&Tf.error("Invalid XML: "+(wf?Tf.map(wf.childNodes,function(If){return If.textContent}).join(`
`):mf)),yf};var L0=/^(?:focusinfocus|focusoutblur)$/,m0=function(mf){mf.stopPropagation()};Tf.extend(Tf.event,{trigger:function(mf,yf,wf,If){var Nf,kf,$f,Jf,Zf,ph,Mh,Ih,Oh=[wf||Of],Xh=df.call(mf,"type")?mf.type:mf,wd=df.call(mf,"namespace")?mf.namespace.split("."):[];if(kf=Ih=$f=wf=wf||Of,!(wf.nodeType===3||wf.nodeType===8)&&!L0.test(Xh+Tf.event.triggered)&&(Xh.indexOf(".")>-1&&(wd=Xh.split("."),Xh=wd.shift(),wd.sort()),Zf=Xh.indexOf(":")<0&&"on"+Xh,mf=mf[Tf.expando]?mf:new Tf.Event(Xh,typeof mf=="object"&&mf),mf.isTrigger=If?2:3,mf.namespace=wd.join("."),mf.rnamespace=mf.namespace?new RegExp("(^|\\.)"+wd.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,mf.result=void 0,mf.target||(mf.target=wf),yf=yf==null?[mf]:Tf.makeArray(yf,[mf]),Mh=Tf.event.special[Xh]||{},!(!If&&Mh.trigger&&Mh.trigger.apply(wf,yf)===!1))){if(!If&&!Mh.noBubble&&!Df(wf)){for(Jf=Mh.delegateType||Xh,L0.test(Jf+Xh)||(kf=kf.parentNode);kf;kf=kf.parentNode)Oh.push(kf),$f=kf;$f===(wf.ownerDocument||Of)&&Oh.push($f.defaultView||$f.parentWindow||ef)}for(Nf=0;(kf=Oh[Nf++])&&!mf.isPropagationStopped();)Ih=kf,mf.type=Nf>1?Jf:Mh.bindType||Xh,ph=(kh.get(kf,"events")||Object.create(null))[mf.type]&&kh.get(kf,"handle"),ph&&ph.apply(kf,yf),ph=Zf&&kf[Zf],ph&&ph.apply&&pd(kf)&&(mf.result=ph.apply(kf,yf),mf.result===!1&&mf.preventDefault());return mf.type=Xh,!If&&!mf.isDefaultPrevented()&&(!Mh._default||Mh._default.apply(Oh.pop(),yf)===!1)&&pd(wf)&&Zf&&Af(wf[Xh])&&!Df(wf)&&($f=wf[Zf],$f&&(wf[Zf]=null),Tf.event.triggered=Xh,mf.isPropagationStopped()&&Ih.addEventListener(Xh,m0),wf[Xh](),mf.isPropagationStopped()&&Ih.removeEventListener(Xh,m0),Tf.event.triggered=void 0,$f&&(wf[Zf]=$f)),mf.result}},simulate:function(mf,yf,wf){var If=Tf.extend(new Tf.Event,wf,{type:mf,isSimulated:!0});Tf.event.trigger(If,null,yf)}}),Tf.fn.extend({trigger:function(mf,yf){return this.each(function(){Tf.event.trigger(mf,yf,this)})},triggerHandler:function(mf,yf){var wf=this[0];if(wf)return Tf.event.trigger(mf,yf,wf,!0)}});var j0=/\[\]$/,B0=/\r?\n/g,X0=/^(?:submit|button|image|reset|file)$/i,Y0=/^(?:input|select|textarea|keygen)/i;function w0(mf,yf,wf,If){var Nf;if(Array.isArray(yf))Tf.each(yf,function(kf,$f){wf||j0.test(mf)?If(mf,$f):w0(mf+"["+(typeof $f=="object"&&$f!=null?kf:"")+"]",$f,wf,If)});else if(!wf&&Vf(yf)==="object")for(Nf in yf)w0(mf+"["+Nf+"]",yf[Nf],wf,If);else If(mf,yf)}Tf.param=function(mf,yf){var wf,If=[],Nf=function(kf,$f){var Jf=Af($f)?$f():$f;If[If.length]=encodeURIComponent(kf)+"="+encodeURIComponent(Jf??"")};if(mf==null)return"";if(Array.isArray(mf)||mf.jquery&&!Tf.isPlainObject(mf))Tf.each(mf,function(){Nf(this.name,this.value)});else for(wf in mf)w0(wf,mf[wf],yf,Nf);return If.join("&")},Tf.fn.extend({serialize:function(){return Tf.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var mf=Tf.prop(this,"elements");return mf?Tf.makeArray(mf):this}).filter(function(){var mf=this.type;return this.name&&!Tf(this).is(":disabled")&&Y0.test(this.nodeName)&&!X0.test(mf)&&(this.checked||!ep.test(mf))}).map(function(mf,yf){var wf=Tf(this).val();return wf==null?null:Array.isArray(wf)?Tf.map(wf,function(If){return{name:yf.name,value:If.replace(B0,`\r
`)}}):{name:yf.name,value:wf.replace(B0,`\r
`)}}).get()}});var q0=/%20/g,K0=/#.*$/,k0=/([?&])_=[^&]*/,M0=/^(.*?):[ \t]*([^\r\n]*)$/mg,G0=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,I0=/^(?:GET|HEAD)$/,U0=/^\/\//,D0={},f0={},V0="*/".concat("*"),O0=Of.createElement("a");O0.href=u0.href;function H0(mf){return function(yf,wf){typeof yf!="string"&&(wf=yf,yf="*");var If,Nf=0,kf=yf.toLowerCase().match(th)||[];if(Af(wf))for(;If=kf[Nf++];)If[0]==="+"?(If=If.slice(1)||"*",(mf[If]=mf[If]||[]).unshift(wf)):(mf[If]=mf[If]||[]).push(wf)}}function o0(mf,yf,wf,If){var Nf={},kf=mf===f0;function $f(Jf){var Zf;return Nf[Jf]=!0,Tf.each(mf[Jf]||[],function(ph,Mh){var Ih=Mh(yf,wf,If);if(typeof Ih=="string"&&!kf&&!Nf[Ih])return yf.dataTypes.unshift(Ih),$f(Ih),!1;if(kf)return!(Zf=Ih)}),Zf}return $f(yf.dataTypes[0])||!Nf["*"]&&$f("*")}function g0(mf,yf){var wf,If,Nf=Tf.ajaxSettings.flatOptions||{};for(wf in yf)yf[wf]!==void 0&&((Nf[wf]?mf:If||(If={}))[wf]=yf[wf]);return If&&Tf.extend(!0,mf,If),mf}function F0(mf,yf,wf){for(var If,Nf,kf,$f,Jf=mf.contents,Zf=mf.dataTypes;Zf[0]==="*";)Zf.shift(),If===void 0&&(If=mf.mimeType||yf.getResponseHeader("Content-Type"));if(If){for(Nf in Jf)if(Jf[Nf]&&Jf[Nf].test(If)){Zf.unshift(Nf);break}}if(Zf[0]in wf)kf=Zf[0];else{for(Nf in wf){if(!Zf[0]||mf.converters[Nf+" "+Zf[0]]){kf=Nf;break}$f||($f=Nf)}kf=kf||$f}if(kf)return kf!==Zf[0]&&Zf.unshift(kf),wf[kf]}function J0(mf,yf,wf,If){var Nf,kf,$f,Jf,Zf,ph={},Mh=mf.dataTypes.slice();if(Mh[1])for($f in mf.converters)ph[$f.toLowerCase()]=mf.converters[$f];for(kf=Mh.shift();kf;)if(mf.responseFields[kf]&&(wf[mf.responseFields[kf]]=yf),!Zf&&If&&mf.dataFilter&&(yf=mf.dataFilter(yf,mf.dataType)),Zf=kf,kf=Mh.shift(),kf){if(kf==="*")kf=Zf;else if(Zf!=="*"&&Zf!==kf){if($f=ph[Zf+" "+kf]||ph["* "+kf],!$f){for(Nf in ph)if(Jf=Nf.split(" "),Jf[1]===kf&&($f=ph[Zf+" "+Jf[0]]||ph["* "+Jf[0]],$f)){$f===!0?$f=ph[Nf]:ph[Nf]!==!0&&(kf=Jf[0],Mh.unshift(Jf[1]));break}}if($f!==!0)if($f&&mf.throws)yf=$f(yf);else try{yf=$f(yf)}catch(Ih){return{state:"parsererror",error:$f?Ih:"No conversion from "+Zf+" to "+kf}}}}return{state:"success",data:yf}}Tf.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:u0.href,type:"GET",isLocal:G0.test(u0.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":V0,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Tf.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(mf,yf){return yf?g0(g0(mf,Tf.ajaxSettings),yf):g0(Tf.ajaxSettings,mf)},ajaxPrefilter:H0(D0),ajaxTransport:H0(f0),ajax:function(mf,yf){typeof mf=="object"&&(yf=mf,mf=void 0),yf=yf||{};var wf,If,Nf,kf,$f,Jf,Zf,ph,Mh,Ih,Oh=Tf.ajaxSetup({},yf),Xh=Oh.context||Oh,wd=Oh.context&&(Xh.nodeType||Xh.jquery)?Tf(Xh):Tf.event,Td=Tf.Deferred(),hd=Tf.Callbacks("once memory"),op=Oh.statusCode||{},Rd={},np={},Rp="canceled",Yd={readyState:0,getResponseHeader:function(qd){var up;if(Zf){if(!kf)for(kf={};up=M0.exec(Nf);)kf[up[1].toLowerCase()+" "]=(kf[up[1].toLowerCase()+" "]||[]).concat(up[2]);up=kf[qd.toLowerCase()+" "]}return up==null?null:up.join(", ")},getAllResponseHeaders:function(){return Zf?Nf:null},setRequestHeader:function(qd,up){return Zf==null&&(qd=np[qd.toLowerCase()]=np[qd.toLowerCase()]||qd,Rd[qd]=up),this},overrideMimeType:function(qd){return Zf==null&&(Oh.mimeType=qd),this},statusCode:function(qd){var up;if(qd)if(Zf)Yd.always(qd[Yd.status]);else for(up in qd)op[up]=[op[up],qd[up]];return this},abort:function(qd){var up=qd||Rp;return wf&&wf.abort(up),Cp(0,up),this}};if(Td.promise(Yd),Oh.url=((mf||Oh.url||u0.href)+"").replace(U0,u0.protocol+"//"),Oh.type=yf.method||yf.type||Oh.method||Oh.type,Oh.dataTypes=(Oh.dataType||"*").toLowerCase().match(th)||[""],Oh.crossDomain==null){Jf=Of.createElement("a");try{Jf.href=Oh.url,Jf.href=Jf.href,Oh.crossDomain=O0.protocol+"//"+O0.host!=Jf.protocol+"//"+Jf.host}catch{Oh.crossDomain=!0}}if(Oh.data&&Oh.processData&&typeof Oh.data!="string"&&(Oh.data=Tf.param(Oh.data,Oh.traditional)),o0(D0,Oh,yf,Yd),Zf)return Yd;ph=Tf.event&&Oh.global,ph&&Tf.active++===0&&Tf.event.trigger("ajaxStart"),Oh.type=Oh.type.toUpperCase(),Oh.hasContent=!I0.test(Oh.type),If=Oh.url.replace(K0,""),Oh.hasContent?Oh.data&&Oh.processData&&(Oh.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Oh.data=Oh.data.replace(q0,"+")):(Ih=Oh.url.slice(If.length),Oh.data&&(Oh.processData||typeof Oh.data=="string")&&(If+=(A0.test(If)?"&":"?")+Oh.data,delete Oh.data),Oh.cache===!1&&(If=If.replace(k0,"$1"),Ih=(A0.test(If)?"&":"?")+"_="+T0.guid+++Ih),Oh.url=If+Ih),Oh.ifModified&&(Tf.lastModified[If]&&Yd.setRequestHeader("If-Modified-Since",Tf.lastModified[If]),Tf.etag[If]&&Yd.setRequestHeader("If-None-Match",Tf.etag[If])),(Oh.data&&Oh.hasContent&&Oh.contentType!==!1||yf.contentType)&&Yd.setRequestHeader("Content-Type",Oh.contentType),Yd.setRequestHeader("Accept",Oh.dataTypes[0]&&Oh.accepts[Oh.dataTypes[0]]?Oh.accepts[Oh.dataTypes[0]]+(Oh.dataTypes[0]!=="*"?", "+V0+"; q=0.01":""):Oh.accepts["*"]);for(Mh in Oh.headers)Yd.setRequestHeader(Mh,Oh.headers[Mh]);if(Oh.beforeSend&&(Oh.beforeSend.call(Xh,Yd,Oh)===!1||Zf))return Yd.abort();if(Rp="abort",hd.add(Oh.complete),Yd.done(Oh.success),Yd.fail(Oh.error),wf=o0(f0,Oh,yf,Yd),!wf)Cp(-1,"No Transport");else{if(Yd.readyState=1,ph&&wd.trigger("ajaxSend",[Yd,Oh]),Zf)return Yd;Oh.async&&Oh.timeout>0&&($f=ef.setTimeout(function(){Yd.abort("timeout")},Oh.timeout));try{Zf=!1,wf.send(Rd,Cp)}catch(qd){if(Zf)throw qd;Cp(-1,qd)}}function Cp(qd,up,Sp,Kp){var yp,Up,zp,Np,Jp,Wd=up;Zf||(Zf=!0,$f&&ef.clearTimeout($f),wf=void 0,Nf=Kp||"",Yd.readyState=qd>0?4:0,yp=qd>=200&&qd<300||qd===304,Sp&&(Np=F0(Oh,Yd,Sp)),!yp&&Tf.inArray("script",Oh.dataTypes)>-1&&Tf.inArray("json",Oh.dataTypes)<0&&(Oh.converters["text script"]=function(){}),Np=J0(Oh,Np,Yd,yp),yp?(Oh.ifModified&&(Jp=Yd.getResponseHeader("Last-Modified"),Jp&&(Tf.lastModified[If]=Jp),Jp=Yd.getResponseHeader("etag"),Jp&&(Tf.etag[If]=Jp)),qd===204||Oh.type==="HEAD"?Wd="nocontent":qd===304?Wd="notmodified":(Wd=Np.state,Up=Np.data,zp=Np.error,yp=!zp)):(zp=Wd,(qd||!Wd)&&(Wd="error",qd<0&&(qd=0))),Yd.status=qd,Yd.statusText=(up||Wd)+"",yp?Td.resolveWith(Xh,[Up,Wd,Yd]):Td.rejectWith(Xh,[Yd,Wd,zp]),Yd.statusCode(op),op=void 0,ph&&wd.trigger(yp?"ajaxSuccess":"ajaxError",[Yd,Oh,yp?Up:zp]),hd.fireWith(Xh,[Yd,Wd]),ph&&(wd.trigger("ajaxComplete",[Yd,Oh]),--Tf.active||Tf.event.trigger("ajaxStop")))}return Yd},getJSON:function(mf,yf,wf){return Tf.get(mf,yf,wf,"json")},getScript:function(mf,yf){return Tf.get(mf,void 0,yf,"script")}}),Tf.each(["get","post"],function(mf,yf){Tf[yf]=function(wf,If,Nf,kf){return Af(If)&&(kf=kf||Nf,Nf=If,If=void 0),Tf.ajax(Tf.extend({url:wf,type:yf,dataType:kf,data:If,success:Nf},Tf.isPlainObject(wf)&&wf))}}),Tf.ajaxPrefilter(function(mf){var yf;for(yf in mf.headers)yf.toLowerCase()==="content-type"&&(mf.contentType=mf.headers[yf]||"")}),Tf._evalUrl=function(mf,yf,wf){return Tf.ajax({url:mf,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(If){Tf.globalEval(If,yf,wf)}})},Tf.fn.extend({wrapAll:function(mf){var yf;return this[0]&&(Af(mf)&&(mf=mf.call(this[0])),yf=Tf(mf,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&yf.insertBefore(this[0]),yf.map(function(){for(var wf=this;wf.firstElementChild;)wf=wf.firstElementChild;return wf}).append(this)),this},wrapInner:function(mf){return Af(mf)?this.each(function(yf){Tf(this).wrapInner(mf.call(this,yf))}):this.each(function(){var yf=Tf(this),wf=yf.contents();wf.length?wf.wrapAll(mf):yf.append(mf)})},wrap:function(mf){var yf=Af(mf);return this.each(function(wf){Tf(this).wrapAll(yf?mf.call(this,wf):mf)})},unwrap:function(mf){return this.parent(mf).not("body").each(function(){Tf(this).replaceWith(this.childNodes)}),this}}),Tf.expr.pseudos.hidden=function(mf){return!Tf.expr.pseudos.visible(mf)},Tf.expr.pseudos.visible=function(mf){return!!(mf.offsetWidth||mf.offsetHeight||mf.getClientRects().length)},Tf.ajaxSettings.xhr=function(){try{return new ef.XMLHttpRequest}catch{}};var Z0={0:200,1223:204},h0=Tf.ajaxSettings.xhr();xf.cors=!!h0&&"withCredentials"in h0,xf.ajax=h0=!!h0,Tf.ajaxTransport(function(mf){var yf,wf;if(xf.cors||h0&&!mf.crossDomain)return{send:function(If,Nf){var kf,$f=mf.xhr();if($f.open(mf.type,mf.url,mf.async,mf.username,mf.password),mf.xhrFields)for(kf in mf.xhrFields)$f[kf]=mf.xhrFields[kf];mf.mimeType&&$f.overrideMimeType&&$f.overrideMimeType(mf.mimeType),!mf.crossDomain&&!If["X-Requested-With"]&&(If["X-Requested-With"]="XMLHttpRequest");for(kf in If)$f.setRequestHeader(kf,If[kf]);yf=function(Jf){return function(){yf&&(yf=wf=$f.onload=$f.onerror=$f.onabort=$f.ontimeout=$f.onreadystatechange=null,Jf==="abort"?$f.abort():Jf==="error"?typeof $f.status!="number"?Nf(0,"error"):Nf($f.status,$f.statusText):Nf(Z0[$f.status]||$f.status,$f.statusText,($f.responseType||"text")!=="text"||typeof $f.responseText!="string"?{binary:$f.response}:{text:$f.responseText},$f.getAllResponseHeaders()))}},$f.onload=yf(),wf=$f.onerror=$f.ontimeout=yf("error"),$f.onabort!==void 0?$f.onabort=wf:$f.onreadystatechange=function(){$f.readyState===4&&ef.setTimeout(function(){yf&&wf()})},yf=yf("abort");try{$f.send(mf.hasContent&&mf.data||null)}catch(Jf){if(yf)throw Jf}},abort:function(){yf&&yf()}}}),Tf.ajaxPrefilter(function(mf){mf.crossDomain&&(mf.contents.script=!1)}),Tf.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(mf){return Tf.globalEval(mf),mf}}}),Tf.ajaxPrefilter("script",function(mf){mf.cache===void 0&&(mf.cache=!1),mf.crossDomain&&(mf.type="GET")}),Tf.ajaxTransport("script",function(mf){if(mf.crossDomain||mf.scriptAttrs){var yf,wf;return{send:function(If,Nf){yf=Tf("<script>").attr(mf.scriptAttrs||{}).prop({charset:mf.scriptCharset,src:mf.url}).on("load error",wf=function(kf){yf.remove(),wf=null,kf&&Nf(kf.type==="error"?404:200,kf.type)}),Of.head.appendChild(yf[0])},abort:function(){wf&&wf()}}}});var bf=[],Mf=/(=)\?(?=&|$)|\?\?/;Tf.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var mf=bf.pop()||Tf.expando+"_"+T0.guid++;return this[mf]=!0,mf}}),Tf.ajaxPrefilter("json jsonp",function(mf,yf,wf){var If,Nf,kf,$f=mf.jsonp!==!1&&(Mf.test(mf.url)?"url":typeof mf.data=="string"&&(mf.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Mf.test(mf.data)&&"data");if($f||mf.dataTypes[0]==="jsonp")return If=mf.jsonpCallback=Af(mf.jsonpCallback)?mf.jsonpCallback():mf.jsonpCallback,$f?mf[$f]=mf[$f].replace(Mf,"$1"+If):mf.jsonp!==!1&&(mf.url+=(A0.test(mf.url)?"&":"?")+mf.jsonp+"="+If),mf.converters["script json"]=function(){return kf||Tf.error(If+" was not called"),kf[0]},mf.dataTypes[0]="json",Nf=ef[If],ef[If]=function(){kf=arguments},wf.always(function(){Nf===void 0?Tf(ef).removeProp(If):ef[If]=Nf,mf[If]&&(mf.jsonpCallback=yf.jsonpCallback,bf.push(If)),kf&&Af(Nf)&&Nf(kf[0]),kf=Nf=void 0}),"script"}),xf.createHTMLDocument=function(){var mf=Of.implementation.createHTMLDocument("").body;return mf.innerHTML="<form></form><form></form>",mf.childNodes.length===2}(),Tf.parseHTML=function(mf,yf,wf){if(typeof mf!="string")return[];typeof yf=="boolean"&&(wf=yf,yf=!1);var If,Nf,kf;return yf||(xf.createHTMLDocument?(yf=Of.implementation.createHTMLDocument(""),If=yf.createElement("base"),If.href=Of.location.href,yf.head.appendChild(If)):yf=Of),Nf=pf.exec(mf),kf=!wf&&[],Nf?[yf.createElement(Nf[1])]:(Nf=Dp([mf],yf,kf),kf&&kf.length&&Tf(kf).remove(),Tf.merge([],Nf.childNodes))},Tf.fn.load=function(mf,yf,wf){var If,Nf,kf,$f=this,Jf=mf.indexOf(" ");return Jf>-1&&(If=t0(mf.slice(Jf)),mf=mf.slice(0,Jf)),Af(yf)?(wf=yf,yf=void 0):yf&&typeof yf=="object"&&(Nf="POST"),$f.length>0&&Tf.ajax({url:mf,type:Nf||"GET",dataType:"html",data:yf}).done(function(Zf){kf=arguments,$f.html(If?Tf("<div>").append(Tf.parseHTML(Zf)).find(If):Zf)}).always(wf&&function(Zf,ph){$f.each(function(){wf.apply(this,kf||[Zf.responseText,ph,Zf])})}),this},Tf.expr.pseudos.animated=function(mf){return Tf.grep(Tf.timers,function(yf){return mf===yf.elem}).length},Tf.offset={setOffset:function(mf,yf,wf){var If,Nf,kf,$f,Jf,Zf,ph,Mh=Tf.css(mf,"position"),Ih=Tf(mf),Oh={};Mh==="static"&&(mf.style.position="relative"),Jf=Ih.offset(),kf=Tf.css(mf,"top"),Zf=Tf.css(mf,"left"),ph=(Mh==="absolute"||Mh==="fixed")&&(kf+Zf).indexOf("auto")>-1,ph?(If=Ih.position(),$f=If.top,Nf=If.left):($f=parseFloat(kf)||0,Nf=parseFloat(Zf)||0),Af(yf)&&(yf=yf.call(mf,wf,Tf.extend({},Jf))),yf.top!=null&&(Oh.top=yf.top-Jf.top+$f),yf.left!=null&&(Oh.left=yf.left-Jf.left+Nf),"using"in yf?yf.using.call(mf,Oh):Ih.css(Oh)}},Tf.fn.extend({offset:function(mf){if(arguments.length)return mf===void 0?this:this.each(function(Nf){Tf.offset.setOffset(this,mf,Nf)});var yf,wf,If=this[0];if(If)return If.getClientRects().length?(yf=If.getBoundingClientRect(),wf=If.ownerDocument.defaultView,{top:yf.top+wf.pageYOffset,left:yf.left+wf.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var mf,yf,wf,If=this[0],Nf={top:0,left:0};if(Tf.css(If,"position")==="fixed")yf=If.getBoundingClientRect();else{for(yf=this.offset(),wf=If.ownerDocument,mf=If.offsetParent||wf.documentElement;mf&&(mf===wf.body||mf===wf.documentElement)&&Tf.css(mf,"position")==="static";)mf=mf.parentNode;mf&&mf!==If&&mf.nodeType===1&&(Nf=Tf(mf).offset(),Nf.top+=Tf.css(mf,"borderTopWidth",!0),Nf.left+=Tf.css(mf,"borderLeftWidth",!0))}return{top:yf.top-Nf.top-Tf.css(If,"marginTop",!0),left:yf.left-Nf.left-Tf.css(If,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var mf=this.offsetParent;mf&&Tf.css(mf,"position")==="static";)mf=mf.offsetParent;return mf||ld})}}),Tf.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(mf,yf){var wf=yf==="pageYOffset";Tf.fn[mf]=function(If){return Fh(this,function(Nf,kf,$f){var Jf;if(Df(Nf)?Jf=Nf:Nf.nodeType===9&&(Jf=Nf.defaultView),$f===void 0)return Jf?Jf[yf]:Nf[kf];Jf?Jf.scrollTo(wf?Jf.pageXOffset:$f,wf?$f:Jf.pageYOffset):Nf[kf]=$f},mf,If,arguments.length)}}),Tf.each(["top","left"],function(mf,yf){Tf.cssHooks[yf]=Ed(xf.pixelPosition,function(wf,If){if(If)return If=sd(wf,yf),kd.test(If)?Tf(wf).position()[yf]+"px":If})}),Tf.each({Height:"height",Width:"width"},function(mf,yf){Tf.each({padding:"inner"+mf,content:yf,"":"outer"+mf},function(wf,If){Tf.fn[If]=function(Nf,kf){var $f=arguments.length&&(wf||typeof Nf!="boolean"),Jf=wf||(Nf===!0||kf===!0?"margin":"border");return Fh(this,function(Zf,ph,Mh){var Ih;return Df(Zf)?If.indexOf("outer")===0?Zf["inner"+mf]:Zf.document.documentElement["client"+mf]:Zf.nodeType===9?(Ih=Zf.documentElement,Math.max(Zf.body["scroll"+mf],Ih["scroll"+mf],Zf.body["offset"+mf],Ih["offset"+mf],Ih["client"+mf])):Mh===void 0?Tf.css(Zf,ph,Jf):Tf.style(Zf,ph,Mh,Jf)},yf,$f?Nf:void 0,$f)}})}),Tf.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(mf,yf){Tf.fn[yf]=function(wf){return this.on(yf,wf)}}),Tf.fn.extend({bind:function(mf,yf,wf){return this.on(mf,null,yf,wf)},unbind:function(mf,yf){return this.off(mf,null,yf)},delegate:function(mf,yf,wf,If){return this.on(yf,mf,wf,If)},undelegate:function(mf,yf,wf){return arguments.length===1?this.off(mf,"**"):this.off(yf,mf||"**",wf)},hover:function(mf,yf){return this.on("mouseenter",mf).on("mouseleave",yf||mf)}}),Tf.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(mf,yf){Tf.fn[yf]=function(wf,If){return arguments.length>0?this.on(yf,null,wf,If):this.trigger(yf)}});var Rf=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;Tf.proxy=function(mf,yf){var wf,If,Nf;if(typeof yf=="string"&&(wf=mf[yf],yf=mf,mf=wf),!!Af(mf))return If=sf.call(arguments,2),Nf=function(){return mf.apply(yf||this,If.concat(sf.call(arguments)))},Nf.guid=mf.guid=mf.guid||Tf.guid++,Nf},Tf.holdReady=function(mf){mf?Tf.readyWait++:Tf.ready(!0)},Tf.isArray=Array.isArray,Tf.parseJSON=JSON.parse,Tf.nodeName=rh,Tf.isFunction=Af,Tf.isWindow=Df,Tf.camelCase=cd,Tf.type=Vf,Tf.now=Date.now,Tf.isNumeric=function(mf){var yf=Tf.type(mf);return(yf==="number"||yf==="string")&&!isNaN(mf-parseFloat(mf))},Tf.trim=function(mf){return mf==null?"":(mf+"").replace(Rf,"$1")};var Pf=ef.jQuery,Xf=ef.$;return Tf.noConflict=function(mf){return ef.$===Tf&&(ef.$=Xf),mf&&ef.jQuery===Tf&&(ef.jQuery=Pf),Tf},typeof tf>"u"&&(ef.jQuery=ef.$=Tf),Tf})})(jquery$1);var jqueryExports=jquery$1.exports;const $$1=getDefaultExportFromCjs(jqueryExports);function gui_log(Qc){const ef=$$1("div#log"),tf=new Date,nf=tf.getFullYear(),rf=tf.getMonth()<9?`0${tf.getMonth()+1}`:tf.getMonth()+1,sf=tf.getDate()<10?`0${tf.getDate()}`:tf.getDate(),af=tf.getHours()<10?`0${tf.getHours()}`:tf.getHours(),lf=tf.getMinutes()<10?`0${tf.getMinutes()}`:tf.getMinutes(),cf=tf.getSeconds()<10?`0${tf.getSeconds()}`:tf.getSeconds(),uf=`${af}:${lf}:${cf}`,ff=`${nf}-${rf}-${sf} @${uf}`;$$1("div.wrapper",ef).append(`<p>${ff} -- ${Qc}</p>`),ef.scrollTop($$1("div.wrapper",ef).height())}function millitime(){return new Date().getTime()}const DEGREE_TO_RADIAN_RATIO=Math.PI/180;function degToRad(Qc){return Qc*DEGREE_TO_RADIAN_RATIO}function bytesToSize(Qc){let ef;return Qc<1024?ef=`${Qc} Bytes`:Qc<1048576?ef=`${(Qc/1024).toFixed(3)} KB`:Qc<1073741824?ef=`${(Qc/1048576).toFixed(3)} MB`:ef=`${(Qc/1073741824).toFixed(3)} GB`,ef}function isInt(Qc){return Qc%1===0}function checkChromeRuntimeError(){return chrome.runtime.lastError?(console.error(`Chrome API Error: ${chrome.runtime.lastError.message}.
 Traced ${new Error().stack}`),gui_log(`Chrome API Error: ${chrome.runtime.lastError.message}.`),!0):!1}const majorFirmwareVersions={"1.46":"4.5.*","1.45":"4.4.*","1.44":"4.3.*","1.43":"4.2.*","1.42":"4.1.*","1.41":"4.0.*"};function generateVirtualApiVersions(){const Qc=document.getElementById("firmware-version-dropdown"),ef=semver$1.minor(CONFIGURATOR.API_VERSION_MAX_SUPPORTED),tf=semver$1.minor(CONFIGURATOR.API_VERSION_ACCEPTED);for(let nf=ef;nf>=tf;nf--){const rf=document.createElement("option"),sf=`1.${nf}`;rf.value=`${sf}.0`,rf.text=`MSP: ${sf} `,majorFirmwareVersions.hasOwnProperty(sf)?rf.text+=` | Firmware: ${majorFirmwareVersions[sf]}`:nf===ef&&(rf.text+=" | Latest Firmware"),Qc.appendChild(rf)}}function getMixerImageSrc(Qc,ef){const tf=ef?"_reversed":"";return`./resources/motor_order/${mixerList[Qc-1].image}${tf}.svg`}function getTextWidth(Qc){const tf=document.createElement("canvas").getContext("2d");return tf.font=getComputedStyle(document.body).font,Math.ceil(tf.measureText(Qc).width)}function urlExists(Qc){let ef=new XMLHttpRequest;return ef.open("HEAD",Qc,!1),ef.send(),ef.status!==404}$$1.fn.sortSelect=function(Qc=""){const ef=this.children("option");return ef.sort((tf,nf)=>tf.text===Qc?-1:nf.text===Qc?1:tf.text.localeCompare(nf.text,window.navigator.language,{ignorePunctuation:!0})),this.empty().append(ef)};typeof globalThis<"u"&&(globalThis.jQuery=$$1,globalThis.$=$$1);typeof window<"u"&&(window.jQuery=$$1,window.$=$$1);typeof global<"u"&&(global.$=$$1,global.jQuery=$$1);/*! jQuery UI - v1.13.2 - 2022-07-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */(function(Qc){typeof define=="function"&&define.amd?define(["jquery"],Qc):Qc(jQuery)})(function(Qc){Qc.ui=Qc.ui||{},Qc.ui.version="1.13.2";/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var ef=0,tf=Array.prototype.hasOwnProperty,nf=Array.prototype.slice;Qc.cleanData=function(of){return function(hf){var pf,vf,Ef;for(Ef=0;(vf=hf[Ef])!=null;Ef++)pf=Qc._data(vf,"events"),pf&&pf.remove&&Qc(vf).triggerHandler("remove");of(hf)}}(Qc.cleanData),Qc.widget=function(of,hf,pf){var vf,Ef,Sf,Ff={},Uf=of.split(".")[0];of=of.split(".")[1];var Wf=Uf+"-"+of;return pf||(pf=hf,hf=Qc.Widget),Array.isArray(pf)&&(pf=Qc.extend.apply(null,[{}].concat(pf))),Qc.expr.pseudos[Wf.toLowerCase()]=function(eh){return!!Qc.data(eh,Wf)},Qc[Uf]=Qc[Uf]||{},vf=Qc[Uf][of],Ef=Qc[Uf][of]=function(eh,th){if(!this||!this._createWidget)return new Ef(eh,th);arguments.length&&this._createWidget(eh,th)},Qc.extend(Ef,vf,{version:pf.version,_proto:Qc.extend({},pf),_childConstructors:[]}),Sf=new hf,Sf.options=Qc.widget.extend({},Sf.options),Qc.each(pf,function(eh,th){if(typeof th!="function"){Ff[eh]=th;return}Ff[eh]=function(){function _h(){return hf.prototype[eh].apply(this,arguments)}function wh(oh){return hf.prototype[eh].apply(this,oh)}return function(){var oh=this._super,gh=this._superApply,qf;return this._super=_h,this._superApply=wh,qf=th.apply(this,arguments),this._super=oh,this._superApply=gh,qf}}()}),Ef.prototype=Qc.widget.extend(Sf,{widgetEventPrefix:vf&&Sf.widgetEventPrefix||of},Ff,{constructor:Ef,namespace:Uf,widgetName:of,widgetFullName:Wf}),vf?(Qc.each(vf._childConstructors,function(eh,th){var _h=th.prototype;Qc.widget(_h.namespace+"."+_h.widgetName,Ef,th._proto)}),delete vf._childConstructors):hf._childConstructors.push(Ef),Qc.widget.bridge(of,Ef),Ef},Qc.widget.extend=function(of){for(var hf=nf.call(arguments,1),pf=0,vf=hf.length,Ef,Sf;pf<vf;pf++)for(Ef in hf[pf])Sf=hf[pf][Ef],tf.call(hf[pf],Ef)&&Sf!==void 0&&(Qc.isPlainObject(Sf)?of[Ef]=Qc.isPlainObject(of[Ef])?Qc.widget.extend({},of[Ef],Sf):Qc.widget.extend({},Sf):of[Ef]=Sf);return of},Qc.widget.bridge=function(of,hf){var pf=hf.prototype.widgetFullName||of;Qc.fn[of]=function(vf){var Ef=typeof vf=="string",Sf=nf.call(arguments,1),Ff=this;return Ef?!this.length&&vf==="instance"?Ff=void 0:this.each(function(){var Uf,Wf=Qc.data(this,pf);if(vf==="instance")return Ff=Wf,!1;if(!Wf)return Qc.error("cannot call methods on "+of+" prior to initialization; attempted to call method '"+vf+"'");if(typeof Wf[vf]!="function"||vf.charAt(0)==="_")return Qc.error("no such method '"+vf+"' for "+of+" widget instance");if(Uf=Wf[vf].apply(Wf,Sf),Uf!==Wf&&Uf!==void 0)return Ff=Uf&&Uf.jquery?Ff.pushStack(Uf.get()):Uf,!1}):(Sf.length&&(vf=Qc.widget.extend.apply(null,[vf].concat(Sf))),this.each(function(){var Uf=Qc.data(this,pf);Uf?(Uf.option(vf||{}),Uf._init&&Uf._init()):Qc.data(this,pf,new hf(vf,this))})),Ff}},Qc.Widget=function(){},Qc.Widget._childConstructors=[],Qc.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(of,hf){hf=Qc(hf||this.defaultElement||this)[0],this.element=Qc(hf),this.uuid=ef++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=Qc(),this.hoverable=Qc(),this.focusable=Qc(),this.classesElementLookup={},hf!==this&&(Qc.data(hf,this.widgetFullName,this),this._on(!0,this.element,{remove:function(pf){pf.target===hf&&this.destroy()}}),this.document=Qc(hf.style?hf.ownerDocument:hf.document||hf),this.window=Qc(this.document[0].defaultView||this.document[0].parentWindow)),this.options=Qc.widget.extend({},this.options,this._getCreateOptions(),of),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:Qc.noop,_create:Qc.noop,_init:Qc.noop,destroy:function(){var of=this;this._destroy(),Qc.each(this.classesElementLookup,function(hf,pf){of._removeClass(pf,hf)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:Qc.noop,widget:function(){return this.element},option:function(of,hf){var pf=of,vf,Ef,Sf;if(arguments.length===0)return Qc.widget.extend({},this.options);if(typeof of=="string")if(pf={},vf=of.split("."),of=vf.shift(),vf.length){for(Ef=pf[of]=Qc.widget.extend({},this.options[of]),Sf=0;Sf<vf.length-1;Sf++)Ef[vf[Sf]]=Ef[vf[Sf]]||{},Ef=Ef[vf[Sf]];if(of=vf.pop(),arguments.length===1)return Ef[of]===void 0?null:Ef[of];Ef[of]=hf}else{if(arguments.length===1)return this.options[of]===void 0?null:this.options[of];pf[of]=hf}return this._setOptions(pf),this},_setOptions:function(of){var hf;for(hf in of)this._setOption(hf,of[hf]);return this},_setOption:function(of,hf){return of==="classes"&&this._setOptionClasses(hf),this.options[of]=hf,of==="disabled"&&this._setOptionDisabled(hf),this},_setOptionClasses:function(of){var hf,pf,vf;for(hf in of)vf=this.classesElementLookup[hf],!(of[hf]===this.options.classes[hf]||!vf||!vf.length)&&(pf=Qc(vf.get()),this._removeClass(vf,hf),pf.addClass(this._classes({element:pf,keys:hf,classes:of,add:!0})))},_setOptionDisabled:function(of){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!of),of&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(of){var hf=[],pf=this;of=Qc.extend({element:this.element,classes:this.options.classes||{}},of);function vf(){var Sf=[];of.element.each(function(Ff,Uf){var Wf=Qc.map(pf.classesElementLookup,function(eh){return eh}).some(function(eh){return eh.is(Uf)});Wf||Sf.push(Uf)}),pf._on(Qc(Sf),{remove:"_untrackClassesElement"})}function Ef(Sf,Ff){var Uf,Wf;for(Wf=0;Wf<Sf.length;Wf++)Uf=pf.classesElementLookup[Sf[Wf]]||Qc(),of.add?(vf(),Uf=Qc(Qc.uniqueSort(Uf.get().concat(of.element.get())))):Uf=Qc(Uf.not(of.element).get()),pf.classesElementLookup[Sf[Wf]]=Uf,hf.push(Sf[Wf]),Ff&&of.classes[Sf[Wf]]&&hf.push(of.classes[Sf[Wf]])}return of.keys&&Ef(of.keys.match(/\S+/g)||[],!0),of.extra&&Ef(of.extra.match(/\S+/g)||[]),hf.join(" ")},_untrackClassesElement:function(of){var hf=this;Qc.each(hf.classesElementLookup,function(pf,vf){Qc.inArray(of.target,vf)!==-1&&(hf.classesElementLookup[pf]=Qc(vf.not(of.target).get()))}),this._off(Qc(of.target))},_removeClass:function(of,hf,pf){return this._toggleClass(of,hf,pf,!1)},_addClass:function(of,hf,pf){return this._toggleClass(of,hf,pf,!0)},_toggleClass:function(of,hf,pf,vf){vf=typeof vf=="boolean"?vf:pf;var Ef=typeof of=="string"||of===null,Sf={extra:Ef?hf:pf,keys:Ef?of:hf,element:Ef?this.element:of,add:vf};return Sf.element.toggleClass(this._classes(Sf),vf),this},_on:function(of,hf,pf){var vf,Ef=this;typeof of!="boolean"&&(pf=hf,hf=of,of=!1),pf?(hf=vf=Qc(hf),this.bindings=this.bindings.add(hf)):(pf=hf,hf=this.element,vf=this.widget()),Qc.each(pf,function(Sf,Ff){function Uf(){if(!(!of&&(Ef.options.disabled===!0||Qc(this).hasClass("ui-state-disabled"))))return(typeof Ff=="string"?Ef[Ff]:Ff).apply(Ef,arguments)}typeof Ff!="string"&&(Uf.guid=Ff.guid=Ff.guid||Uf.guid||Qc.guid++);var Wf=Sf.match(/^([\w:-]*)\s*(.*)$/),eh=Wf[1]+Ef.eventNamespace,th=Wf[2];th?vf.on(eh,th,Uf):hf.on(eh,Uf)})},_off:function(of,hf){hf=(hf||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,of.off(hf),this.bindings=Qc(this.bindings.not(of).get()),this.focusable=Qc(this.focusable.not(of).get()),this.hoverable=Qc(this.hoverable.not(of).get())},_delay:function(of,hf){function pf(){return(typeof of=="string"?vf[of]:of).apply(vf,arguments)}var vf=this;return setTimeout(pf,hf||0)},_hoverable:function(of){this.hoverable=this.hoverable.add(of),this._on(of,{mouseenter:function(hf){this._addClass(Qc(hf.currentTarget),null,"ui-state-hover")},mouseleave:function(hf){this._removeClass(Qc(hf.currentTarget),null,"ui-state-hover")}})},_focusable:function(of){this.focusable=this.focusable.add(of),this._on(of,{focusin:function(hf){this._addClass(Qc(hf.currentTarget),null,"ui-state-focus")},focusout:function(hf){this._removeClass(Qc(hf.currentTarget),null,"ui-state-focus")}})},_trigger:function(of,hf,pf){var vf,Ef,Sf=this.options[of];if(pf=pf||{},hf=Qc.Event(hf),hf.type=(of===this.widgetEventPrefix?of:this.widgetEventPrefix+of).toLowerCase(),hf.target=this.element[0],Ef=hf.originalEvent,Ef)for(vf in Ef)vf in hf||(hf[vf]=Ef[vf]);return this.element.trigger(hf,pf),!(typeof Sf=="function"&&Sf.apply(this.element[0],[hf].concat(pf))===!1||hf.isDefaultPrevented())}},Qc.each({show:"fadeIn",hide:"fadeOut"},function(of,hf){Qc.Widget.prototype["_"+of]=function(pf,vf,Ef){typeof vf=="string"&&(vf={effect:vf});var Sf,Ff=vf?vf===!0||typeof vf=="number"?hf:vf.effect||hf:of;vf=vf||{},typeof vf=="number"?vf={duration:vf}:vf===!0&&(vf={}),Sf=!Qc.isEmptyObject(vf),vf.complete=Ef,vf.delay&&pf.delay(vf.delay),Sf&&Qc.effects&&Qc.effects.effect[Ff]?pf[of](vf):Ff!==of&&pf[Ff]?pf[Ff](vf.duration,vf.easing,Ef):pf.queue(function(Uf){Qc(this)[of](),Ef&&Ef.call(pf[0]),Uf()})}}),Qc.widget;/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */(function(){var of,hf=Math.max,pf=Math.abs,vf=/left|center|right/,Ef=/top|center|bottom/,Sf=/[\+\-]\d+(\.[\d]+)?%?/,Ff=/^\w+/,Uf=/%$/,Wf=Qc.fn.position;function eh(oh,gh,qf){return[parseFloat(oh[0])*(Uf.test(oh[0])?gh/100:1),parseFloat(oh[1])*(Uf.test(oh[1])?qf/100:1)]}function th(oh,gh){return parseInt(Qc.css(oh,gh),10)||0}function _h(oh){return oh!=null&&oh===oh.window}function wh(oh){var gh=oh[0];return gh.nodeType===9?{width:oh.width(),height:oh.height(),offset:{top:0,left:0}}:_h(gh)?{width:oh.width(),height:oh.height(),offset:{top:oh.scrollTop(),left:oh.scrollLeft()}}:gh.preventDefault?{width:0,height:0,offset:{top:gh.pageY,left:gh.pageX}}:{width:oh.outerWidth(),height:oh.outerHeight(),offset:oh.offset()}}Qc.position={scrollbarWidth:function(){if(of!==void 0)return of;var oh,gh,qf=Qc("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),zf=qf.children()[0];return Qc("body").append(qf),oh=zf.offsetWidth,qf.css("overflow","scroll"),gh=zf.offsetWidth,oh===gh&&(gh=qf[0].clientWidth),qf.remove(),of=oh-gh},getScrollInfo:function(oh){var gh=oh.isWindow||oh.isDocument?"":oh.element.css("overflow-x"),qf=oh.isWindow||oh.isDocument?"":oh.element.css("overflow-y"),zf=gh==="scroll"||gh==="auto"&&oh.width<oh.element[0].scrollWidth,Th=qf==="scroll"||qf==="auto"&&oh.height<oh.element[0].scrollHeight;return{width:Th?Qc.position.scrollbarWidth():0,height:zf?Qc.position.scrollbarWidth():0}},getWithinInfo:function(oh){var gh=Qc(oh||window),qf=_h(gh[0]),zf=!!gh[0]&&gh[0].nodeType===9,Th=!qf&&!zf;return{element:gh,isWindow:qf,isDocument:zf,offset:Th?Qc(oh).offset():{left:0,top:0},scrollLeft:gh.scrollLeft(),scrollTop:gh.scrollTop(),width:gh.outerWidth(),height:gh.outerHeight()}}},Qc.fn.position=function(oh){if(!oh||!oh.of)return Wf.apply(this,arguments);oh=Qc.extend({},oh);var gh,qf,zf,Th,Fh,Uh,jh=typeof oh.of=="string"?Qc(document).find(oh.of):Qc(oh.of),qh=Qc.position.getWithinInfo(oh.within),cd=Qc.position.getScrollInfo(qh),pd=(oh.collision||"flip").split(" "),Zh={};return Uh=wh(jh),jh[0].preventDefault&&(oh.at="left top"),qf=Uh.width,zf=Uh.height,Th=Uh.offset,Fh=Qc.extend({},Th),Qc.each(["my","at"],function(){var kh=(oh[this]||"").split(" "),Kh,Jh;kh.length===1&&(kh=vf.test(kh[0])?kh.concat(["center"]):Ef.test(kh[0])?["center"].concat(kh):["center","center"]),kh[0]=vf.test(kh[0])?kh[0]:"center",kh[1]=Ef.test(kh[1])?kh[1]:"center",Kh=Sf.exec(kh[0]),Jh=Sf.exec(kh[1]),Zh[this]=[Kh?Kh[0]:0,Jh?Jh[0]:0],oh[this]=[Ff.exec(kh[0])[0],Ff.exec(kh[1])[0]]}),pd.length===1&&(pd[1]=pd[0]),oh.at[0]==="right"?Fh.left+=qf:oh.at[0]==="center"&&(Fh.left+=qf/2),oh.at[1]==="bottom"?Fh.top+=zf:oh.at[1]==="center"&&(Fh.top+=zf/2),gh=eh(Zh.at,qf,zf),Fh.left+=gh[0],Fh.top+=gh[1],this.each(function(){var kh,Kh,Jh=Qc(this),xh=Jh.outerWidth(),Wh=Jh.outerHeight(),nd=th(this,"marginLeft"),Ad=th(this,"marginTop"),ad=xh+nd+th(this,"marginRight")+cd.width,vd=Wh+Ad+th(this,"marginBottom")+cd.height,ld=Qc.extend({},Fh),Id=eh(Zh.my,Jh.outerWidth(),Jh.outerHeight());oh.my[0]==="right"?ld.left-=xh:oh.my[0]==="center"&&(ld.left-=xh/2),oh.my[1]==="bottom"?ld.top-=Wh:oh.my[1]==="center"&&(ld.top-=Wh/2),ld.left+=Id[0],ld.top+=Id[1],kh={marginLeft:nd,marginTop:Ad},Qc.each(["left","top"],function($d,yd){Qc.ui.position[pd[$d]]&&Qc.ui.position[pd[$d]][yd](ld,{targetWidth:qf,targetHeight:zf,elemWidth:xh,elemHeight:Wh,collisionPosition:kh,collisionWidth:ad,collisionHeight:vd,offset:[gh[0]+Id[0],gh[1]+Id[1]],my:oh.my,at:oh.at,within:qh,elem:Jh})}),oh.using&&(Kh=function($d){var yd=Th.left-ld.left,Zd=yd+qf-xh,jd=Th.top-ld.top,pp=jd+zf-Wh,rp={target:{element:jh,left:Th.left,top:Th.top,width:qf,height:zf},element:{element:Jh,left:ld.left,top:ld.top,width:xh,height:Wh},horizontal:Zd<0?"left":yd>0?"right":"center",vertical:pp<0?"top":jd>0?"bottom":"middle"};qf<xh&&pf(yd+Zd)<qf&&(rp.horizontal="center"),zf<Wh&&pf(jd+pp)<zf&&(rp.vertical="middle"),hf(pf(yd),pf(Zd))>hf(pf(jd),pf(pp))?rp.important="horizontal":rp.important="vertical",oh.using.call(this,$d,rp)}),Jh.offset(Qc.extend(ld,{using:Kh}))})},Qc.ui.position={fit:{left:function(oh,gh){var qf=gh.within,zf=qf.isWindow?qf.scrollLeft:qf.offset.left,Th=qf.width,Fh=oh.left-gh.collisionPosition.marginLeft,Uh=zf-Fh,jh=Fh+gh.collisionWidth-Th-zf,qh;gh.collisionWidth>Th?Uh>0&&jh<=0?(qh=oh.left+Uh+gh.collisionWidth-Th-zf,oh.left+=Uh-qh):jh>0&&Uh<=0?oh.left=zf:Uh>jh?oh.left=zf+Th-gh.collisionWidth:oh.left=zf:Uh>0?oh.left+=Uh:jh>0?oh.left-=jh:oh.left=hf(oh.left-Fh,oh.left)},top:function(oh,gh){var qf=gh.within,zf=qf.isWindow?qf.scrollTop:qf.offset.top,Th=gh.within.height,Fh=oh.top-gh.collisionPosition.marginTop,Uh=zf-Fh,jh=Fh+gh.collisionHeight-Th-zf,qh;gh.collisionHeight>Th?Uh>0&&jh<=0?(qh=oh.top+Uh+gh.collisionHeight-Th-zf,oh.top+=Uh-qh):jh>0&&Uh<=0?oh.top=zf:Uh>jh?oh.top=zf+Th-gh.collisionHeight:oh.top=zf:Uh>0?oh.top+=Uh:jh>0?oh.top-=jh:oh.top=hf(oh.top-Fh,oh.top)}},flip:{left:function(oh,gh){var qf=gh.within,zf=qf.offset.left+qf.scrollLeft,Th=qf.width,Fh=qf.isWindow?qf.scrollLeft:qf.offset.left,Uh=oh.left-gh.collisionPosition.marginLeft,jh=Uh-Fh,qh=Uh+gh.collisionWidth-Th-Fh,cd=gh.my[0]==="left"?-gh.elemWidth:gh.my[0]==="right"?gh.elemWidth:0,pd=gh.at[0]==="left"?gh.targetWidth:gh.at[0]==="right"?-gh.targetWidth:0,Zh=-2*gh.offset[0],kh,Kh;jh<0?(kh=oh.left+cd+pd+Zh+gh.collisionWidth-Th-zf,(kh<0||kh<pf(jh))&&(oh.left+=cd+pd+Zh)):qh>0&&(Kh=oh.left-gh.collisionPosition.marginLeft+cd+pd+Zh-Fh,(Kh>0||pf(Kh)<qh)&&(oh.left+=cd+pd+Zh))},top:function(oh,gh){var qf=gh.within,zf=qf.offset.top+qf.scrollTop,Th=qf.height,Fh=qf.isWindow?qf.scrollTop:qf.offset.top,Uh=oh.top-gh.collisionPosition.marginTop,jh=Uh-Fh,qh=Uh+gh.collisionHeight-Th-Fh,cd=gh.my[1]==="top",pd=cd?-gh.elemHeight:gh.my[1]==="bottom"?gh.elemHeight:0,Zh=gh.at[1]==="top"?gh.targetHeight:gh.at[1]==="bottom"?-gh.targetHeight:0,kh=-2*gh.offset[1],Kh,Jh;jh<0?(Jh=oh.top+pd+Zh+kh+gh.collisionHeight-Th-zf,(Jh<0||Jh<pf(jh))&&(oh.top+=pd+Zh+kh)):qh>0&&(Kh=oh.top-gh.collisionPosition.marginTop+pd+Zh+kh-Fh,(Kh>0||pf(Kh)<qh)&&(oh.top+=pd+Zh+kh))}},flipfit:{left:function(){Qc.ui.position.flip.left.apply(this,arguments),Qc.ui.position.fit.left.apply(this,arguments)},top:function(){Qc.ui.position.flip.top.apply(this,arguments),Qc.ui.position.fit.top.apply(this,arguments)}}}})(),Qc.ui.position;/*!
 * jQuery UI :data 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.extend(Qc.expr.pseudos,{data:Qc.expr.createPseudo?Qc.expr.createPseudo(function(of){return function(hf){return!!Qc.data(hf,of)}}):function(of,hf,pf){return!!Qc.data(of,pf[3])}});/*!
 * jQuery UI Disable Selection 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.fn.extend({disableSelection:function(){var of="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(of+".ui-disableSelection",function(hf){hf.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var rf=Qc;/*!
 * jQuery Color Animations v2.2.0
 * https://github.com/jquery/jquery-color
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Sun May 10 09:02:36 2020 +0200
 */var sf="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",af={},lf=af.toString,cf=/^([\-+])=\s*(\d+\.?\d*)/,uf=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(of){return[of[1],of[2],of[3],of[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(of){return[of[1]*2.55,of[2]*2.55,of[3]*2.55,of[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(of){return[parseInt(of[1],16),parseInt(of[2],16),parseInt(of[3],16),of[4]?(parseInt(of[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(of){return[parseInt(of[1]+of[1],16),parseInt(of[2]+of[2],16),parseInt(of[3]+of[3],16),of[4]?(parseInt(of[4]+of[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(of){return[of[1],of[2]/100,of[3]/100,of[4]]}}],ff=rf.Color=function(of,hf,pf,vf){return new rf.Color.fn.parse(of,hf,pf,vf)},df={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},gf={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},_f=ff.support={},xf=rf("<p>")[0],Af,Df=rf.each;xf.style.cssText="background-color:rgba(1,1,1,.5)",_f.rgba=xf.style.backgroundColor.indexOf("rgba")>-1,Df(df,function(of,hf){hf.cache="_"+of,hf.props.alpha={idx:3,type:"percent",def:1}}),rf.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(of,hf){af["[object "+hf+"]"]=hf.toLowerCase()});function Of(of){return of==null?of+"":typeof of=="object"?af[lf.call(of)]||"object":typeof of}function Gf(of,hf,pf){var vf=gf[hf.type]||{};return of==null?pf||!hf.def?null:hf.def:(of=vf.floor?~~of:parseFloat(of),isNaN(of)?hf.def:vf.mod?(of+vf.mod)%vf.mod:Math.min(vf.max,Math.max(0,of)))}function Bf(of){var hf=ff(),pf=hf._rgba=[];return of=of.toLowerCase(),Df(uf,function(vf,Ef){var Sf,Ff=Ef.re.exec(of),Uf=Ff&&Ef.parse(Ff),Wf=Ef.space||"rgba";if(Uf)return Sf=hf[Wf](Uf),hf[df[Wf].cache]=Sf[df[Wf].cache],pf=hf._rgba=Sf._rgba,!1}),pf.length?(pf.join()==="0,0,0,0"&&rf.extend(pf,Af.transparent),hf):Af[of]}ff.fn=rf.extend(ff.prototype,{parse:function(of,hf,pf,vf){if(of===void 0)return this._rgba=[null,null,null,null],this;(of.jquery||of.nodeType)&&(of=rf(of).css(hf),hf=void 0);var Ef=this,Sf=Of(of),Ff=this._rgba=[];if(hf!==void 0&&(of=[of,hf,pf,vf],Sf="array"),Sf==="string")return this.parse(Bf(of)||Af._default);if(Sf==="array")return Df(df.rgba.props,function(Uf,Wf){Ff[Wf.idx]=Gf(of[Wf.idx],Wf)}),this;if(Sf==="object")return of instanceof ff?Df(df,function(Uf,Wf){of[Wf.cache]&&(Ef[Wf.cache]=of[Wf.cache].slice())}):Df(df,function(Uf,Wf){var eh=Wf.cache;Df(Wf.props,function(th,_h){if(!Ef[eh]&&Wf.to){if(th==="alpha"||of[th]==null)return;Ef[eh]=Wf.to(Ef._rgba)}Ef[eh][_h.idx]=Gf(of[th],_h,!0)}),Ef[eh]&&rf.inArray(null,Ef[eh].slice(0,3))<0&&(Ef[eh][3]==null&&(Ef[eh][3]=1),Wf.from&&(Ef._rgba=Wf.from(Ef[eh])))}),this},is:function(of){var hf=ff(of),pf=!0,vf=this;return Df(df,function(Ef,Sf){var Ff,Uf=hf[Sf.cache];return Uf&&(Ff=vf[Sf.cache]||Sf.to&&Sf.to(vf._rgba)||[],Df(Sf.props,function(Wf,eh){if(Uf[eh.idx]!=null)return pf=Uf[eh.idx]===Ff[eh.idx],pf})),pf}),pf},_space:function(){var of=[],hf=this;return Df(df,function(pf,vf){hf[vf.cache]&&of.push(pf)}),of.pop()},transition:function(of,hf){var pf=ff(of),vf=pf._space(),Ef=df[vf],Sf=this.alpha()===0?ff("transparent"):this,Ff=Sf[Ef.cache]||Ef.to(Sf._rgba),Uf=Ff.slice();return pf=pf[Ef.cache],Df(Ef.props,function(Wf,eh){var th=eh.idx,_h=Ff[th],wh=pf[th],oh=gf[eh.type]||{};wh!==null&&(_h===null?Uf[th]=wh:(oh.mod&&(wh-_h>oh.mod/2?_h+=oh.mod:_h-wh>oh.mod/2&&(_h-=oh.mod)),Uf[th]=Gf((wh-_h)*hf+_h,eh)))}),this[vf](Uf)},blend:function(of){if(this._rgba[3]===1)return this;var hf=this._rgba.slice(),pf=hf.pop(),vf=ff(of)._rgba;return ff(rf.map(hf,function(Ef,Sf){return(1-pf)*vf[Sf]+pf*Ef}))},toRgbaString:function(){var of="rgba(",hf=rf.map(this._rgba,function(pf,vf){return pf??(vf>2?1:0)});return hf[3]===1&&(hf.pop(),of="rgb("),of+hf.join()+")"},toHslaString:function(){var of="hsla(",hf=rf.map(this.hsla(),function(pf,vf){return pf==null&&(pf=vf>2?1:0),vf&&vf<3&&(pf=Math.round(pf*100)+"%"),pf});return hf[3]===1&&(hf.pop(),of="hsl("),of+hf.join()+")"},toHexString:function(of){var hf=this._rgba.slice(),pf=hf.pop();return of&&hf.push(~~(pf*255)),"#"+rf.map(hf,function(vf){return vf=(vf||0).toString(16),vf.length===1?"0"+vf:vf}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),ff.fn.parse.prototype=ff.fn;function Vf(of,hf,pf){return pf=(pf+1)%1,pf*6<1?of+(hf-of)*pf*6:pf*2<1?hf:pf*3<2?of+(hf-of)*(2/3-pf)*6:of}df.hsla.to=function(of){if(of[0]==null||of[1]==null||of[2]==null)return[null,null,null,of[3]];var hf=of[0]/255,pf=of[1]/255,vf=of[2]/255,Ef=of[3],Sf=Math.max(hf,pf,vf),Ff=Math.min(hf,pf,vf),Uf=Sf-Ff,Wf=Sf+Ff,eh=Wf*.5,th,_h;return Ff===Sf?th=0:hf===Sf?th=60*(pf-vf)/Uf+360:pf===Sf?th=60*(vf-hf)/Uf+120:th=60*(hf-pf)/Uf+240,Uf===0?_h=0:eh<=.5?_h=Uf/Wf:_h=Uf/(2-Wf),[Math.round(th)%360,_h,eh,Ef??1]},df.hsla.from=function(of){if(of[0]==null||of[1]==null||of[2]==null)return[null,null,null,of[3]];var hf=of[0]/360,pf=of[1],vf=of[2],Ef=of[3],Sf=vf<=.5?vf*(1+pf):vf+pf-vf*pf,Ff=2*vf-Sf;return[Math.round(Vf(Ff,Sf,hf+1/3)*255),Math.round(Vf(Ff,Sf,hf)*255),Math.round(Vf(Ff,Sf,hf-1/3)*255),Ef]},Df(df,function(of,hf){var pf=hf.props,vf=hf.cache,Ef=hf.to,Sf=hf.from;ff.fn[of]=function(Ff){if(Ef&&!this[vf]&&(this[vf]=Ef(this._rgba)),Ff===void 0)return this[vf].slice();var Uf,Wf=Of(Ff),eh=Wf==="array"||Wf==="object"?Ff:arguments,th=this[vf].slice();return Df(pf,function(_h,wh){var oh=eh[Wf==="object"?_h:wh.idx];oh==null&&(oh=th[wh.idx]),th[wh.idx]=Gf(oh,wh)}),Sf?(Uf=ff(Sf(th)),Uf[vf]=th,Uf):ff(th)},Df(pf,function(Ff,Uf){ff.fn[Ff]||(ff.fn[Ff]=function(Wf){var eh,th,_h,wh,oh=Of(Wf);return Ff==="alpha"?wh=this._hsla?"hsla":"rgba":wh=of,eh=this[wh](),th=eh[Uf.idx],oh==="undefined"?th:(oh==="function"&&(Wf=Wf.call(this,th),oh=Of(Wf)),Wf==null&&Uf.empty?this:(oh==="string"&&(_h=cf.exec(Wf),_h&&(Wf=th+parseFloat(_h[2])*(_h[1]==="+"?1:-1))),eh[Uf.idx]=Wf,this[wh](eh)))})})}),ff.hook=function(of){var hf=of.split(" ");Df(hf,function(pf,vf){rf.cssHooks[vf]={set:function(Ef,Sf){var Ff,Uf,Wf="";if(Sf!=="transparent"&&(Of(Sf)!=="string"||(Ff=Bf(Sf)))){if(Sf=ff(Ff||Sf),!_f.rgba&&Sf._rgba[3]!==1){for(Uf=vf==="backgroundColor"?Ef.parentNode:Ef;(Wf===""||Wf==="transparent")&&Uf&&Uf.style;)try{Wf=rf.css(Uf,"backgroundColor"),Uf=Uf.parentNode}catch{}Sf=Sf.blend(Wf&&Wf!=="transparent"?Wf:"_default")}Sf=Sf.toRgbaString()}try{Ef.style[vf]=Sf}catch{}}},rf.fx.step[vf]=function(Ef){Ef.colorInit||(Ef.start=ff(Ef.elem,vf),Ef.end=ff(Ef.end),Ef.colorInit=!0),rf.cssHooks[vf].set(Ef.elem,Ef.start.transition(Ef.end,Ef.pos))}})},ff.hook(sf),rf.cssHooks.borderColor={expand:function(of){var hf={};return Df(["Top","Right","Bottom","Left"],function(pf,vf){hf["border"+vf+"Color"]=of}),hf}},Af=rf.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};/*!
 * jQuery UI Effects 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var Lf="ui-effects-",Cf="ui-effects-style",Tf="ui-effects-animated";Qc.effects={effect:{}},function(){var of=["add","remove","toggle"],hf={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};Qc.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(Sf,Ff){Qc.fx.step[Ff]=function(Uf){(Uf.end!=="none"&&!Uf.setAttr||Uf.pos===1&&!Uf.setAttr)&&(rf.style(Uf.elem,Ff,Uf.end),Uf.setAttr=!0)}});function pf(Sf){return Sf.replace(/-([\da-z])/gi,function(Ff,Uf){return Uf.toUpperCase()})}function vf(Sf){var Ff,Uf,Wf=Sf.ownerDocument.defaultView?Sf.ownerDocument.defaultView.getComputedStyle(Sf,null):Sf.currentStyle,eh={};if(Wf&&Wf.length&&Wf[0]&&Wf[Wf[0]])for(Uf=Wf.length;Uf--;)Ff=Wf[Uf],typeof Wf[Ff]=="string"&&(eh[pf(Ff)]=Wf[Ff]);else for(Ff in Wf)typeof Wf[Ff]=="string"&&(eh[Ff]=Wf[Ff]);return eh}function Ef(Sf,Ff){var Uf={},Wf,eh;for(Wf in Ff)eh=Ff[Wf],Sf[Wf]!==eh&&(hf[Wf]||(Qc.fx.step[Wf]||!isNaN(parseFloat(eh)))&&(Uf[Wf]=eh));return Uf}Qc.fn.addBack||(Qc.fn.addBack=function(Sf){return this.add(Sf==null?this.prevObject:this.prevObject.filter(Sf))}),Qc.effects.animateClass=function(Sf,Ff,Uf,Wf){var eh=Qc.speed(Ff,Uf,Wf);return this.queue(function(){var th=Qc(this),_h=th.attr("class")||"",wh,oh=eh.children?th.find("*").addBack():th;oh=oh.map(function(){var gh=Qc(this);return{el:gh,start:vf(this)}}),wh=function(){Qc.each(of,function(gh,qf){Sf[qf]&&th[qf+"Class"](Sf[qf])})},wh(),oh=oh.map(function(){return this.end=vf(this.el[0]),this.diff=Ef(this.start,this.end),this}),th.attr("class",_h),oh=oh.map(function(){var gh=this,qf=Qc.Deferred(),zf=Qc.extend({},eh,{queue:!1,complete:function(){qf.resolve(gh)}});return this.el.animate(this.diff,zf),qf.promise()}),Qc.when.apply(Qc,oh.get()).done(function(){wh(),Qc.each(arguments,function(){var gh=this.el;Qc.each(this.diff,function(qf){gh.css(qf,"")})}),eh.complete.call(th[0])})})},Qc.fn.extend({addClass:function(Sf){return function(Ff,Uf,Wf,eh){return Uf?Qc.effects.animateClass.call(this,{add:Ff},Uf,Wf,eh):Sf.apply(this,arguments)}}(Qc.fn.addClass),removeClass:function(Sf){return function(Ff,Uf,Wf,eh){return arguments.length>1?Qc.effects.animateClass.call(this,{remove:Ff},Uf,Wf,eh):Sf.apply(this,arguments)}}(Qc.fn.removeClass),toggleClass:function(Sf){return function(Ff,Uf,Wf,eh,th){return typeof Uf=="boolean"||Uf===void 0?Wf?Qc.effects.animateClass.call(this,Uf?{add:Ff}:{remove:Ff},Wf,eh,th):Sf.apply(this,arguments):Qc.effects.animateClass.call(this,{toggle:Ff},Uf,Wf,eh)}}(Qc.fn.toggleClass),switchClass:function(Sf,Ff,Uf,Wf,eh){return Qc.effects.animateClass.call(this,{add:Ff,remove:Sf},Uf,Wf,eh)}})}(),function(){Qc.expr&&Qc.expr.pseudos&&Qc.expr.pseudos.animated&&(Qc.expr.pseudos.animated=function(vf){return function(Ef){return!!Qc(Ef).data(Tf)||vf(Ef)}}(Qc.expr.pseudos.animated)),Qc.uiBackCompat!==!1&&Qc.extend(Qc.effects,{save:function(vf,Ef){for(var Sf=0,Ff=Ef.length;Sf<Ff;Sf++)Ef[Sf]!==null&&vf.data(Lf+Ef[Sf],vf[0].style[Ef[Sf]])},restore:function(vf,Ef){for(var Sf,Ff=0,Uf=Ef.length;Ff<Uf;Ff++)Ef[Ff]!==null&&(Sf=vf.data(Lf+Ef[Ff]),vf.css(Ef[Ff],Sf))},setMode:function(vf,Ef){return Ef==="toggle"&&(Ef=vf.is(":hidden")?"show":"hide"),Ef},createWrapper:function(vf){if(vf.parent().is(".ui-effects-wrapper"))return vf.parent();var Ef={width:vf.outerWidth(!0),height:vf.outerHeight(!0),float:vf.css("float")},Sf=Qc("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),Ff={width:vf.width(),height:vf.height()},Uf=document.activeElement;try{Uf.id}catch{Uf=document.body}return vf.wrap(Sf),(vf[0]===Uf||Qc.contains(vf[0],Uf))&&Qc(Uf).trigger("focus"),Sf=vf.parent(),vf.css("position")==="static"?(Sf.css({position:"relative"}),vf.css({position:"relative"})):(Qc.extend(Ef,{position:vf.css("position"),zIndex:vf.css("z-index")}),Qc.each(["top","left","bottom","right"],function(Wf,eh){Ef[eh]=vf.css(eh),isNaN(parseInt(Ef[eh],10))&&(Ef[eh]="auto")}),vf.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),vf.css(Ff),Sf.css(Ef).show()},removeWrapper:function(vf){var Ef=document.activeElement;return vf.parent().is(".ui-effects-wrapper")&&(vf.parent().replaceWith(vf),(vf[0]===Ef||Qc.contains(vf[0],Ef))&&Qc(Ef).trigger("focus")),vf}}),Qc.extend(Qc.effects,{version:"1.13.2",define:function(vf,Ef,Sf){return Sf||(Sf=Ef,Ef="effect"),Qc.effects.effect[vf]=Sf,Qc.effects.effect[vf].mode=Ef,Sf},scaledDimensions:function(vf,Ef,Sf){if(Ef===0)return{height:0,width:0,outerHeight:0,outerWidth:0};var Ff=Sf!=="horizontal"?(Ef||100)/100:1,Uf=Sf!=="vertical"?(Ef||100)/100:1;return{height:vf.height()*Uf,width:vf.width()*Ff,outerHeight:vf.outerHeight()*Uf,outerWidth:vf.outerWidth()*Ff}},clipToBox:function(vf){return{width:vf.clip.right-vf.clip.left,height:vf.clip.bottom-vf.clip.top,left:vf.clip.left,top:vf.clip.top}},unshift:function(vf,Ef,Sf){var Ff=vf.queue();Ef>1&&Ff.splice.apply(Ff,[1,0].concat(Ff.splice(Ef,Sf))),vf.dequeue()},saveStyle:function(vf){vf.data(Cf,vf[0].style.cssText)},restoreStyle:function(vf){vf[0].style.cssText=vf.data(Cf)||"",vf.removeData(Cf)},mode:function(vf,Ef){var Sf=vf.is(":hidden");return Ef==="toggle"&&(Ef=Sf?"show":"hide"),(Sf?Ef==="hide":Ef==="show")&&(Ef="none"),Ef},getBaseline:function(vf,Ef){var Sf,Ff;switch(vf[0]){case"top":Sf=0;break;case"middle":Sf=.5;break;case"bottom":Sf=1;break;default:Sf=vf[0]/Ef.height}switch(vf[1]){case"left":Ff=0;break;case"center":Ff=.5;break;case"right":Ff=1;break;default:Ff=vf[1]/Ef.width}return{x:Ff,y:Sf}},createPlaceholder:function(vf){var Ef,Sf=vf.css("position"),Ff=vf.position();return vf.css({marginTop:vf.css("marginTop"),marginBottom:vf.css("marginBottom"),marginLeft:vf.css("marginLeft"),marginRight:vf.css("marginRight")}).outerWidth(vf.outerWidth()).outerHeight(vf.outerHeight()),/^(static|relative)/.test(Sf)&&(Sf="absolute",Ef=Qc("<"+vf[0].nodeName+">").insertAfter(vf).css({display:/^(inline|ruby)/.test(vf.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:vf.css("marginTop"),marginBottom:vf.css("marginBottom"),marginLeft:vf.css("marginLeft"),marginRight:vf.css("marginRight"),float:vf.css("float")}).outerWidth(vf.outerWidth()).outerHeight(vf.outerHeight()).addClass("ui-effects-placeholder"),vf.data(Lf+"placeholder",Ef)),vf.css({position:Sf,left:Ff.left,top:Ff.top}),Ef},removePlaceholder:function(vf){var Ef=Lf+"placeholder",Sf=vf.data(Ef);Sf&&(Sf.remove(),vf.removeData(Ef))},cleanUp:function(vf){Qc.effects.restoreStyle(vf),Qc.effects.removePlaceholder(vf)},setTransition:function(vf,Ef,Sf,Ff){return Ff=Ff||{},Qc.each(Ef,function(Uf,Wf){var eh=vf.cssUnit(Wf);eh[0]>0&&(Ff[Wf]=eh[0]*Sf+eh[1])}),Ff}});function of(vf,Ef,Sf,Ff){return Qc.isPlainObject(vf)&&(Ef=vf,vf=vf.effect),vf={effect:vf},Ef==null&&(Ef={}),typeof Ef=="function"&&(Ff=Ef,Sf=null,Ef={}),(typeof Ef=="number"||Qc.fx.speeds[Ef])&&(Ff=Sf,Sf=Ef,Ef={}),typeof Sf=="function"&&(Ff=Sf,Sf=null),Ef&&Qc.extend(vf,Ef),Sf=Sf||Ef.duration,vf.duration=Qc.fx.off?0:typeof Sf=="number"?Sf:Sf in Qc.fx.speeds?Qc.fx.speeds[Sf]:Qc.fx.speeds._default,vf.complete=Ff||Ef.complete,vf}function hf(vf){return!!(!vf||typeof vf=="number"||Qc.fx.speeds[vf]||typeof vf=="string"&&!Qc.effects.effect[vf]||typeof vf=="function"||typeof vf=="object"&&!vf.effect)}Qc.fn.extend({effect:function(){var vf=of.apply(this,arguments),Ef=Qc.effects.effect[vf.effect],Sf=Ef.mode,Ff=vf.queue,Uf=Ff||"fx",Wf=vf.complete,eh=vf.mode,th=[],_h=function(oh){var gh=Qc(this),qf=Qc.effects.mode(gh,eh)||Sf;gh.data(Tf,!0),th.push(qf),Sf&&(qf==="show"||qf===Sf&&qf==="hide")&&gh.show(),(!Sf||qf!=="none")&&Qc.effects.saveStyle(gh),typeof oh=="function"&&oh()};if(Qc.fx.off||!Ef)return eh?this[eh](vf.duration,Wf):this.each(function(){Wf&&Wf.call(this)});function wh(oh){var gh=Qc(this);function qf(){gh.removeData(Tf),Qc.effects.cleanUp(gh),vf.mode==="hide"&&gh.hide(),zf()}function zf(){typeof Wf=="function"&&Wf.call(gh[0]),typeof oh=="function"&&oh()}vf.mode=th.shift(),Qc.uiBackCompat!==!1&&!Sf?(gh.is(":hidden")?eh==="hide":eh==="show")?(gh[eh](),zf()):Ef.call(gh[0],vf,zf):vf.mode==="none"?(gh[eh](),zf()):Ef.call(gh[0],vf,qf)}return Ff===!1?this.each(_h).each(wh):this.queue(Uf,_h).queue(Uf,wh)},show:function(vf){return function(Ef){if(hf(Ef))return vf.apply(this,arguments);var Sf=of.apply(this,arguments);return Sf.mode="show",this.effect.call(this,Sf)}}(Qc.fn.show),hide:function(vf){return function(Ef){if(hf(Ef))return vf.apply(this,arguments);var Sf=of.apply(this,arguments);return Sf.mode="hide",this.effect.call(this,Sf)}}(Qc.fn.hide),toggle:function(vf){return function(Ef){if(hf(Ef)||typeof Ef=="boolean")return vf.apply(this,arguments);var Sf=of.apply(this,arguments);return Sf.mode="toggle",this.effect.call(this,Sf)}}(Qc.fn.toggle),cssUnit:function(vf){var Ef=this.css(vf),Sf=[];return Qc.each(["em","px","%","pt"],function(Ff,Uf){Ef.indexOf(Uf)>0&&(Sf=[parseFloat(Ef),Uf])}),Sf},cssClip:function(vf){return vf?this.css("clip","rect("+vf.top+"px "+vf.right+"px "+vf.bottom+"px "+vf.left+"px)"):pf(this.css("clip"),this)},transfer:function(vf,Ef){var Sf=Qc(this),Ff=Qc(vf.to),Uf=Ff.css("position")==="fixed",Wf=Qc("body"),eh=Uf?Wf.scrollTop():0,th=Uf?Wf.scrollLeft():0,_h=Ff.offset(),wh={top:_h.top-eh,left:_h.left-th,height:Ff.innerHeight(),width:Ff.innerWidth()},oh=Sf.offset(),gh=Qc("<div class='ui-effects-transfer'></div>");gh.appendTo("body").addClass(vf.className).css({top:oh.top-eh,left:oh.left-th,height:Sf.innerHeight(),width:Sf.innerWidth(),position:Uf?"fixed":"absolute"}).animate(wh,vf.duration,vf.easing,function(){gh.remove(),typeof Ef=="function"&&Ef()})}});function pf(vf,Ef){var Sf=Ef.outerWidth(),Ff=Ef.outerHeight(),Uf=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,Wf=Uf.exec(vf)||["",0,Sf,Ff,0];return{top:parseFloat(Wf[1])||0,right:Wf[2]==="auto"?Sf:parseFloat(Wf[2]),bottom:Wf[3]==="auto"?Ff:parseFloat(Wf[3]),left:parseFloat(Wf[4])||0}}Qc.fx.step.clip=function(vf){vf.clipInit||(vf.start=Qc(vf.elem).cssClip(),typeof vf.end=="string"&&(vf.end=pf(vf.end,vf.elem)),vf.clipInit=!0),Qc(vf.elem).cssClip({top:vf.pos*(vf.end.top-vf.start.top)+vf.start.top,right:vf.pos*(vf.end.right-vf.start.right)+vf.start.right,bottom:vf.pos*(vf.end.bottom-vf.start.bottom)+vf.start.bottom,left:vf.pos*(vf.end.left-vf.start.left)+vf.start.left})}}(),function(){var of={};Qc.each(["Quad","Cubic","Quart","Quint","Expo"],function(hf,pf){of[pf]=function(vf){return Math.pow(vf,hf+2)}}),Qc.extend(of,{Sine:function(hf){return 1-Math.cos(hf*Math.PI/2)},Circ:function(hf){return 1-Math.sqrt(1-hf*hf)},Elastic:function(hf){return hf===0||hf===1?hf:-Math.pow(2,8*(hf-1))*Math.sin(((hf-1)*80-7.5)*Math.PI/15)},Back:function(hf){return hf*hf*(3*hf-2)},Bounce:function(hf){for(var pf,vf=4;hf<((pf=Math.pow(2,--vf))-1)/11;);return 1/Math.pow(4,3-vf)-7.5625*Math.pow((pf*3-2)/22-hf,2)}}),Qc.each(of,function(hf,pf){Qc.easing["easeIn"+hf]=pf,Qc.easing["easeOut"+hf]=function(vf){return 1-pf(1-vf)},Qc.easing["easeInOut"+hf]=function(vf){return vf<.5?pf(vf*2)/2:1-pf(vf*-2+2)/2}})}(),Qc.effects;/*!
 * jQuery UI Effects Blind 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("blind","hide",function(of,hf){var pf={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},vf=Qc(this),Ef=of.direction||"up",Sf=vf.cssClip(),Ff={clip:Qc.extend({},Sf)},Uf=Qc.effects.createPlaceholder(vf);Ff.clip[pf[Ef][0]]=Ff.clip[pf[Ef][1]],of.mode==="show"&&(vf.cssClip(Ff.clip),Uf&&Uf.css(Qc.effects.clipToBox(Ff)),Ff.clip=Sf),Uf&&Uf.animate(Qc.effects.clipToBox(Ff),of.duration,of.easing),vf.animate(Ff,{queue:!1,duration:of.duration,easing:of.easing,complete:hf})});/*!
 * jQuery UI Effects Bounce 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("bounce",function(of,hf){var pf,vf,Ef,Sf=Qc(this),Ff=of.mode,Uf=Ff==="hide",Wf=Ff==="show",eh=of.direction||"up",th=of.distance,_h=of.times||5,wh=_h*2+(Wf||Uf?1:0),oh=of.duration/wh,gh=of.easing,qf=eh==="up"||eh==="down"?"top":"left",zf=eh==="up"||eh==="left",Th=0,Fh=Sf.queue().length;for(Qc.effects.createPlaceholder(Sf),Ef=Sf.css(qf),th||(th=Sf[qf==="top"?"outerHeight":"outerWidth"]()/3),Wf&&(vf={opacity:1},vf[qf]=Ef,Sf.css("opacity",0).css(qf,zf?-th*2:th*2).animate(vf,oh,gh)),Uf&&(th=th/Math.pow(2,_h-1)),vf={},vf[qf]=Ef;Th<_h;Th++)pf={},pf[qf]=(zf?"-=":"+=")+th,Sf.animate(pf,oh,gh).animate(vf,oh,gh),th=Uf?th*2:th/2;Uf&&(pf={opacity:0},pf[qf]=(zf?"-=":"+=")+th,Sf.animate(pf,oh,gh)),Sf.queue(hf),Qc.effects.unshift(Sf,Fh,wh+1)});/*!
 * jQuery UI Effects Clip 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("clip","hide",function(of,hf){var pf,vf={},Ef=Qc(this),Sf=of.direction||"vertical",Ff=Sf==="both",Uf=Ff||Sf==="horizontal",Wf=Ff||Sf==="vertical";pf=Ef.cssClip(),vf.clip={top:Wf?(pf.bottom-pf.top)/2:pf.top,right:Uf?(pf.right-pf.left)/2:pf.right,bottom:Wf?(pf.bottom-pf.top)/2:pf.bottom,left:Uf?(pf.right-pf.left)/2:pf.left},Qc.effects.createPlaceholder(Ef),of.mode==="show"&&(Ef.cssClip(vf.clip),vf.clip=pf),Ef.animate(vf,{queue:!1,duration:of.duration,easing:of.easing,complete:hf})});/*!
 * jQuery UI Effects Drop 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("drop","hide",function(of,hf){var pf,vf=Qc(this),Ef=of.mode,Sf=Ef==="show",Ff=of.direction||"left",Uf=Ff==="up"||Ff==="down"?"top":"left",Wf=Ff==="up"||Ff==="left"?"-=":"+=",eh=Wf==="+="?"-=":"+=",th={opacity:0};Qc.effects.createPlaceholder(vf),pf=of.distance||vf[Uf==="top"?"outerHeight":"outerWidth"](!0)/2,th[Uf]=Wf+pf,Sf&&(vf.css(th),th[Uf]=eh+pf,th.opacity=1),vf.animate(th,{queue:!1,duration:of.duration,easing:of.easing,complete:hf})});/*!
 * jQuery UI Effects Explode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("explode","hide",function(of,hf){var pf,vf,Ef,Sf,Ff,Uf,Wf=of.pieces?Math.round(Math.sqrt(of.pieces)):3,eh=Wf,th=Qc(this),_h=of.mode,wh=_h==="show",oh=th.show().css("visibility","hidden").offset(),gh=Math.ceil(th.outerWidth()/eh),qf=Math.ceil(th.outerHeight()/Wf),zf=[];function Th(){zf.push(this),zf.length===Wf*eh&&Fh()}for(pf=0;pf<Wf;pf++)for(Sf=oh.top+pf*qf,Uf=pf-(Wf-1)/2,vf=0;vf<eh;vf++)Ef=oh.left+vf*gh,Ff=vf-(eh-1)/2,th.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-vf*gh,top:-pf*qf}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:gh,height:qf,left:Ef+(wh?Ff*gh:0),top:Sf+(wh?Uf*qf:0),opacity:wh?0:1}).animate({left:Ef+(wh?0:Ff*gh),top:Sf+(wh?0:Uf*qf),opacity:wh?1:0},of.duration||500,of.easing,Th);function Fh(){th.css({visibility:"visible"}),Qc(zf).remove(),hf()}});/*!
 * jQuery UI Effects Fade 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("fade","toggle",function(of,hf){var pf=of.mode==="show";Qc(this).css("opacity",pf?0:1).animate({opacity:pf?1:0},{queue:!1,duration:of.duration,easing:of.easing,complete:hf})});/*!
 * jQuery UI Effects Fold 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("fold","hide",function(of,hf){var pf=Qc(this),vf=of.mode,Ef=vf==="show",Sf=vf==="hide",Ff=of.size||15,Uf=/([0-9]+)%/.exec(Ff),Wf=!!of.horizFirst,eh=Wf?["right","bottom"]:["bottom","right"],th=of.duration/2,_h=Qc.effects.createPlaceholder(pf),wh=pf.cssClip(),oh={clip:Qc.extend({},wh)},gh={clip:Qc.extend({},wh)},qf=[wh[eh[0]],wh[eh[1]]],zf=pf.queue().length;Uf&&(Ff=parseInt(Uf[1],10)/100*qf[Sf?0:1]),oh.clip[eh[0]]=Ff,gh.clip[eh[0]]=Ff,gh.clip[eh[1]]=0,Ef&&(pf.cssClip(gh.clip),_h&&_h.css(Qc.effects.clipToBox(gh)),gh.clip=wh),pf.queue(function(Th){_h&&_h.animate(Qc.effects.clipToBox(oh),th,of.easing).animate(Qc.effects.clipToBox(gh),th,of.easing),Th()}).animate(oh,th,of.easing).animate(gh,th,of.easing).queue(hf),Qc.effects.unshift(pf,zf,4)});/*!
 * jQuery UI Effects Highlight 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("highlight","show",function(of,hf){var pf=Qc(this),vf={backgroundColor:pf.css("backgroundColor")};of.mode==="hide"&&(vf.opacity=0),Qc.effects.saveStyle(pf),pf.css({backgroundImage:"none",backgroundColor:of.color||"#ffff99"}).animate(vf,{queue:!1,duration:of.duration,easing:of.easing,complete:hf})});/*!
 * jQuery UI Effects Size 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("size",function(of,hf){var pf,vf,Ef,Sf=Qc(this),Ff=["fontSize"],Uf=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],Wf=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],eh=of.mode,th=eh!=="effect",_h=of.scale||"both",wh=of.origin||["middle","center"],oh=Sf.css("position"),gh=Sf.position(),qf=Qc.effects.scaledDimensions(Sf),zf=of.from||qf,Th=of.to||Qc.effects.scaledDimensions(Sf,0);Qc.effects.createPlaceholder(Sf),eh==="show"&&(Ef=zf,zf=Th,Th=Ef),vf={from:{y:zf.height/qf.height,x:zf.width/qf.width},to:{y:Th.height/qf.height,x:Th.width/qf.width}},(_h==="box"||_h==="both")&&(vf.from.y!==vf.to.y&&(zf=Qc.effects.setTransition(Sf,Uf,vf.from.y,zf),Th=Qc.effects.setTransition(Sf,Uf,vf.to.y,Th)),vf.from.x!==vf.to.x&&(zf=Qc.effects.setTransition(Sf,Wf,vf.from.x,zf),Th=Qc.effects.setTransition(Sf,Wf,vf.to.x,Th))),(_h==="content"||_h==="both")&&vf.from.y!==vf.to.y&&(zf=Qc.effects.setTransition(Sf,Ff,vf.from.y,zf),Th=Qc.effects.setTransition(Sf,Ff,vf.to.y,Th)),wh&&(pf=Qc.effects.getBaseline(wh,qf),zf.top=(qf.outerHeight-zf.outerHeight)*pf.y+gh.top,zf.left=(qf.outerWidth-zf.outerWidth)*pf.x+gh.left,Th.top=(qf.outerHeight-Th.outerHeight)*pf.y+gh.top,Th.left=(qf.outerWidth-Th.outerWidth)*pf.x+gh.left),delete zf.outerHeight,delete zf.outerWidth,Sf.css(zf),(_h==="content"||_h==="both")&&(Uf=Uf.concat(["marginTop","marginBottom"]).concat(Ff),Wf=Wf.concat(["marginLeft","marginRight"]),Sf.find("*[width]").each(function(){var Fh=Qc(this),Uh=Qc.effects.scaledDimensions(Fh),jh={height:Uh.height*vf.from.y,width:Uh.width*vf.from.x,outerHeight:Uh.outerHeight*vf.from.y,outerWidth:Uh.outerWidth*vf.from.x},qh={height:Uh.height*vf.to.y,width:Uh.width*vf.to.x,outerHeight:Uh.height*vf.to.y,outerWidth:Uh.width*vf.to.x};vf.from.y!==vf.to.y&&(jh=Qc.effects.setTransition(Fh,Uf,vf.from.y,jh),qh=Qc.effects.setTransition(Fh,Uf,vf.to.y,qh)),vf.from.x!==vf.to.x&&(jh=Qc.effects.setTransition(Fh,Wf,vf.from.x,jh),qh=Qc.effects.setTransition(Fh,Wf,vf.to.x,qh)),th&&Qc.effects.saveStyle(Fh),Fh.css(jh),Fh.animate(qh,of.duration,of.easing,function(){th&&Qc.effects.restoreStyle(Fh)})})),Sf.animate(Th,{queue:!1,duration:of.duration,easing:of.easing,complete:function(){var Fh=Sf.offset();Th.opacity===0&&Sf.css("opacity",zf.opacity),th||(Sf.css("position",oh==="static"?"relative":oh).offset(Fh),Qc.effects.saveStyle(Sf)),hf()}})});/*!
 * jQuery UI Effects Scale 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("scale",function(of,hf){var pf=Qc(this),vf=of.mode,Ef=parseInt(of.percent,10)||(parseInt(of.percent,10)===0||vf!=="effect"?0:100),Sf=Qc.extend(!0,{from:Qc.effects.scaledDimensions(pf),to:Qc.effects.scaledDimensions(pf,Ef,of.direction||"both"),origin:of.origin||["middle","center"]},of);of.fade&&(Sf.from.opacity=1,Sf.to.opacity=0),Qc.effects.effect.size.call(this,Sf,hf)});/*!
 * jQuery UI Effects Puff 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("puff","hide",function(of,hf){var pf=Qc.extend(!0,{},of,{fade:!0,percent:parseInt(of.percent,10)||150});Qc.effects.effect.scale.call(this,pf,hf)});/*!
 * jQuery UI Effects Pulsate 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("pulsate","show",function(of,hf){var pf=Qc(this),vf=of.mode,Ef=vf==="show",Sf=vf==="hide",Ff=Ef||Sf,Uf=(of.times||5)*2+(Ff?1:0),Wf=of.duration/Uf,eh=0,th=1,_h=pf.queue().length;for((Ef||!pf.is(":visible"))&&(pf.css("opacity",0).show(),eh=1);th<Uf;th++)pf.animate({opacity:eh},Wf,of.easing),eh=1-eh;pf.animate({opacity:eh},Wf,of.easing),pf.queue(hf),Qc.effects.unshift(pf,_h,Uf+1)});/*!
 * jQuery UI Effects Shake 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("shake",function(of,hf){var pf=1,vf=Qc(this),Ef=of.direction||"left",Sf=of.distance||20,Ff=of.times||3,Uf=Ff*2+1,Wf=Math.round(of.duration/Uf),eh=Ef==="up"||Ef==="down"?"top":"left",th=Ef==="up"||Ef==="left",_h={},wh={},oh={},gh=vf.queue().length;for(Qc.effects.createPlaceholder(vf),_h[eh]=(th?"-=":"+=")+Sf,wh[eh]=(th?"+=":"-=")+Sf*2,oh[eh]=(th?"-=":"+=")+Sf*2,vf.animate(_h,Wf,of.easing);pf<Ff;pf++)vf.animate(wh,Wf,of.easing).animate(oh,Wf,of.easing);vf.animate(wh,Wf,of.easing).animate(_h,Wf/2,of.easing).queue(hf),Qc.effects.unshift(vf,gh,Uf+1)});/*!
 * jQuery UI Effects Slide 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.effects.define("slide","show",function(of,hf){var pf,vf,Ef=Qc(this),Sf={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},Ff=of.mode,Uf=of.direction||"left",Wf=Uf==="up"||Uf==="down"?"top":"left",eh=Uf==="up"||Uf==="left",th=of.distance||Ef[Wf==="top"?"outerHeight":"outerWidth"](!0),_h={};Qc.effects.createPlaceholder(Ef),pf=Ef.cssClip(),vf=Ef.position()[Wf],_h[Wf]=(eh?-1:1)*th+vf,_h.clip=Ef.cssClip(),_h.clip[Sf[Uf][1]]=_h.clip[Sf[Uf][0]],Ff==="show"&&(Ef.cssClip(_h.clip),Ef.css(Wf,_h[Wf]),_h.clip=pf,_h[Wf]=vf),Ef.animate(_h,{queue:!1,duration:of.duration,easing:of.easing,complete:hf})}),Qc.uiBackCompat!==!1&&Qc.effects.define("transfer",function(of,hf){Qc(this).transfer(of,hf)});/*!
 * jQuery UI Focusable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.ui.focusable=function(of,hf){var pf,vf,Ef,Sf,Ff,Uf=of.nodeName.toLowerCase();return Uf==="area"?(pf=of.parentNode,vf=pf.name,!of.href||!vf||pf.nodeName.toLowerCase()!=="map"?!1:(Ef=Qc("img[usemap='#"+vf+"']"),Ef.length>0&&Ef.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(Uf)?(Sf=!of.disabled,Sf&&(Ff=Qc(of).closest("fieldset")[0],Ff&&(Sf=!Ff.disabled))):Uf==="a"?Sf=of.href||hf:Sf=hf,Sf&&Qc(of).is(":visible")&&Yf(Qc(of)))};function Yf(of){for(var hf=of.css("visibility");hf==="inherit";)of=of.parent(),hf=of.css("visibility");return hf==="visible"}Qc.extend(Qc.expr.pseudos,{focusable:function(of){return Qc.ui.focusable(of,Qc.attr(of,"tabindex")!=null)}}),Qc.ui.focusable,Qc.fn._form=function(){return typeof this[0].form=="string"?this.closest("form"):Qc(this[0].form)};/*!
 * jQuery UI Form Reset Mixin 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.ui.formResetMixin={_formResetHandler:function(){var of=Qc(this);setTimeout(function(){var hf=of.data("ui-form-reset-instances");Qc.each(hf,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element._form(),!!this.form.length){var of=this.form.data("ui-form-reset-instances")||[];of.length||this.form.on("reset.ui-form-reset",this._formResetHandler),of.push(this),this.form.data("ui-form-reset-instances",of)}},_unbindFormResetHandler:function(){if(this.form.length){var of=this.form.data("ui-form-reset-instances");of.splice(Qc.inArray(this,of),1),of.length?this.form.data("ui-form-reset-instances",of):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};/*!
 * jQuery UI Support for jQuery core 1.8.x and newer 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */if(Qc.expr.pseudos||(Qc.expr.pseudos=Qc.expr[":"]),Qc.uniqueSort||(Qc.uniqueSort=Qc.unique),!Qc.escapeSelector){var rh=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,dh=function(of,hf){return hf?of==="\0"?"":of.slice(0,-1)+"\\"+of.charCodeAt(of.length-1).toString(16)+" ":"\\"+of};Qc.escapeSelector=function(of){return(of+"").replace(rh,dh)}}(!Qc.fn.even||!Qc.fn.odd)&&Qc.fn.extend({even:function(){return this.filter(function(of){return of%2===0})},odd:function(){return this.filter(function(of){return of%2===1})}});/*!
 * jQuery UI Keycode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};/*!
 * jQuery UI Labels 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.fn.labels=function(){var of,hf,pf,vf,Ef;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(vf=this.eq(0).parents("label"),pf=this.attr("id"),pf&&(of=this.eq(0).parents().last(),Ef=of.add(of.length?of.siblings():this.siblings()),hf="label[for='"+Qc.escapeSelector(pf)+"']",vf=vf.add(Ef.find(hf).addBack(hf))),this.pushStack(vf)):this.pushStack([])};/*!
 * jQuery UI Scroll Parent 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.fn.scrollParent=function(of){var hf=this.css("position"),pf=hf==="absolute",vf=of?/(auto|scroll|hidden)/:/(auto|scroll)/,Ef=this.parents().filter(function(){var Sf=Qc(this);return pf&&Sf.css("position")==="static"?!1:vf.test(Sf.css("overflow")+Sf.css("overflow-y")+Sf.css("overflow-x"))}).eq(0);return hf==="fixed"||!Ef.length?Qc(this[0].ownerDocument||document):Ef};/*!
 * jQuery UI Tabbable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.extend(Qc.expr.pseudos,{tabbable:function(of){var hf=Qc.attr(of,"tabindex"),pf=hf!=null;return(!pf||hf>=0)&&Qc.ui.focusable(of,pf)}});/*!
 * jQuery UI Unique ID 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.fn.extend({uniqueId:function(){var of=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++of)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&Qc(this).removeAttr("id")})}});/*!
 * jQuery UI Accordion 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(of){return of.find("> li > :first-child").add(of.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var of=this.options;this.prevShow=this.prevHide=Qc(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),!of.collapsible&&(of.active===!1||of.active==null)&&(of.active=0),this._processPanels(),of.active<0&&(of.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():Qc()}},_createIcons:function(){var of,hf,pf=this.options.icons;pf&&(of=Qc("<span>"),this._addClass(of,"ui-accordion-header-icon","ui-icon "+pf.header),of.prependTo(this.headers),hf=this.active.children(".ui-accordion-header-icon"),this._removeClass(hf,pf.header)._addClass(hf,null,pf.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var of;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),of=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&of.css("height","")},_setOption:function(of,hf){if(of==="active"){this._activate(hf);return}of==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(hf)),this._super(of,hf),of==="collapsible"&&!hf&&this.options.active===!1&&this._activate(0),of==="icons"&&(this._destroyIcons(),hf&&this._createIcons())},_setOptionDisabled:function(of){this._super(of),this.element.attr("aria-disabled",of),this._toggleClass(null,"ui-state-disabled",!!of),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!of)},_keydown:function(of){if(!(of.altKey||of.ctrlKey)){var hf=Qc.ui.keyCode,pf=this.headers.length,vf=this.headers.index(of.target),Ef=!1;switch(of.keyCode){case hf.RIGHT:case hf.DOWN:Ef=this.headers[(vf+1)%pf];break;case hf.LEFT:case hf.UP:Ef=this.headers[(vf-1+pf)%pf];break;case hf.SPACE:case hf.ENTER:this._eventHandler(of);break;case hf.HOME:Ef=this.headers[0];break;case hf.END:Ef=this.headers[pf-1];break}Ef&&(Qc(of.target).attr("tabIndex",-1),Qc(Ef).attr("tabIndex",0),Qc(Ef).trigger("focus"),of.preventDefault())}},_panelKeyDown:function(of){of.keyCode===Qc.ui.keyCode.UP&&of.ctrlKey&&Qc(of.currentTarget).prev().trigger("focus")},refresh:function(){var of=this.options;this._processPanels(),of.active===!1&&of.collapsible===!0||!this.headers.length?(of.active=!1,this.active=Qc()):of.active===!1?this._activate(0):this.active.length&&!Qc.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(of.active=!1,this.active=Qc()):this._activate(Math.max(0,of.active-1)):of.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var of=this.headers,hf=this.panels;typeof this.options.header=="function"?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),hf&&(this._off(of.not(this.headers)),this._off(hf.not(this.panels)))},_refresh:function(){var of,hf=this.options,pf=hf.heightStyle,vf=this.element.parent();this.active=this._findActive(hf.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var Ef=Qc(this),Sf=Ef.uniqueId().attr("id"),Ff=Ef.next(),Uf=Ff.uniqueId().attr("id");Ef.attr("aria-controls",Uf),Ff.attr("aria-labelledby",Sf)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(hf.event),pf==="fill"?(of=vf.height(),this.element.siblings(":visible").each(function(){var Ef=Qc(this),Sf=Ef.css("position");Sf==="absolute"||Sf==="fixed"||(of-=Ef.outerHeight(!0))}),this.headers.each(function(){of-=Qc(this).outerHeight(!0)}),this.headers.next().each(function(){Qc(this).height(Math.max(0,of-Qc(this).innerHeight()+Qc(this).height()))}).css("overflow","auto")):pf==="auto"&&(of=0,this.headers.next().each(function(){var Ef=Qc(this).is(":visible");Ef||Qc(this).show(),of=Math.max(of,Qc(this).css("height","").height()),Ef||Qc(this).hide()}).height(of))},_activate:function(of){var hf=this._findActive(of)[0];hf!==this.active[0]&&(hf=hf||this.active[0],this._eventHandler({target:hf,currentTarget:hf,preventDefault:Qc.noop}))},_findActive:function(of){return typeof of=="number"?this.headers.eq(of):Qc()},_setupEvents:function(of){var hf={keydown:"_keydown"};of&&Qc.each(of.split(" "),function(pf,vf){hf[vf]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,hf),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(of){var hf,pf,vf=this.options,Ef=this.active,Sf=Qc(of.currentTarget),Ff=Sf[0]===Ef[0],Uf=Ff&&vf.collapsible,Wf=Uf?Qc():Sf.next(),eh=Ef.next(),th={oldHeader:Ef,oldPanel:eh,newHeader:Uf?Qc():Sf,newPanel:Wf};of.preventDefault(),!(Ff&&!vf.collapsible||this._trigger("beforeActivate",of,th)===!1)&&(vf.active=Uf?!1:this.headers.index(Sf),this.active=Ff?Qc():Sf,this._toggle(th),this._removeClass(Ef,"ui-accordion-header-active","ui-state-active"),vf.icons&&(hf=Ef.children(".ui-accordion-header-icon"),this._removeClass(hf,null,vf.icons.activeHeader)._addClass(hf,null,vf.icons.header)),Ff||(this._removeClass(Sf,"ui-accordion-header-collapsed")._addClass(Sf,"ui-accordion-header-active","ui-state-active"),vf.icons&&(pf=Sf.children(".ui-accordion-header-icon"),this._removeClass(pf,null,vf.icons.header)._addClass(pf,null,vf.icons.activeHeader)),this._addClass(Sf.next(),"ui-accordion-content-active")))},_toggle:function(of){var hf=of.newPanel,pf=this.prevShow.length?this.prevShow:of.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=hf,this.prevHide=pf,this.options.animate?this._animate(hf,pf,of):(pf.hide(),hf.show(),this._toggleComplete(of)),pf.attr({"aria-hidden":"true"}),pf.prev().attr({"aria-selected":"false","aria-expanded":"false"}),hf.length&&pf.length?pf.prev().attr({tabIndex:-1,"aria-expanded":"false"}):hf.length&&this.headers.filter(function(){return parseInt(Qc(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1),hf.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(of,hf,pf){var vf,Ef,Sf,Ff=this,Uf=0,Wf=of.css("box-sizing"),eh=of.length&&(!hf.length||of.index()<hf.index()),th=this.options.animate||{},_h=eh&&th.down||th,wh=function(){Ff._toggleComplete(pf)};if(typeof _h=="number"&&(Sf=_h),typeof _h=="string"&&(Ef=_h),Ef=Ef||_h.easing||th.easing,Sf=Sf||_h.duration||th.duration,!hf.length)return of.animate(this.showProps,Sf,Ef,wh);if(!of.length)return hf.animate(this.hideProps,Sf,Ef,wh);vf=of.show().outerHeight(),hf.animate(this.hideProps,{duration:Sf,easing:Ef,step:function(oh,gh){gh.now=Math.round(oh)}}),of.hide().animate(this.showProps,{duration:Sf,easing:Ef,complete:wh,step:function(oh,gh){gh.now=Math.round(oh),gh.prop!=="height"?Wf==="content-box"&&(Uf+=gh.now):Ff.options.heightStyle!=="content"&&(gh.now=Math.round(vf-hf.outerHeight()-Uf),Uf=0)}})},_toggleComplete:function(of){var hf=of.oldPanel,pf=hf.prev();this._removeClass(hf,"ui-accordion-content-active"),this._removeClass(pf,"ui-accordion-header-active")._addClass(pf,"ui-accordion-header-collapsed"),hf.length&&(hf.parent()[0].className=hf.parent()[0].className),this._trigger("activate",null,of)}}),Qc.ui.safeActiveElement=function(of){var hf;try{hf=of.activeElement}catch{hf=of.body}return hf||(hf=of.body),hf.nodeName||(hf=of.body),hf};/*!
 * jQuery UI Menu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(of){of.preventDefault(),this._activateItem(of)},"click .ui-menu-item":function(of){var hf=Qc(of.target),pf=Qc(Qc.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&hf.not(".ui-state-disabled").length&&(this.select(of),of.isPropagationStopped()||(this.mouseHandled=!0),hf.has(".ui-menu").length?this.expand(of):!this.element.is(":focus")&&pf.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(of,hf){var pf=this.active||this._menuItems().first();hf||this.focus(of,pf)},blur:function(of){this._delay(function(){var hf=!Qc.contains(this.element[0],Qc.ui.safeActiveElement(this.document[0]));hf&&this.collapseAll(of)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(of){this._closeOnDocumentClick(of)&&this.collapseAll(of,!0),this.mouseHandled=!1}})},_activateItem:function(of){if(!this.previousFilter&&!(of.clientX===this.lastMousePosition.x&&of.clientY===this.lastMousePosition.y)){this.lastMousePosition={x:of.clientX,y:of.clientY};var hf=Qc(of.target).closest(".ui-menu-item"),pf=Qc(of.currentTarget);hf[0]===pf[0]&&(pf.is(".ui-state-active")||(this._removeClass(pf.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(of,pf)))}},_destroy:function(){var of=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),hf=of.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),hf.children().each(function(){var pf=Qc(this);pf.data("ui-menu-submenu-caret")&&pf.remove()})},_keydown:function(of){var hf,pf,vf,Ef,Sf=!0;switch(of.keyCode){case Qc.ui.keyCode.PAGE_UP:this.previousPage(of);break;case Qc.ui.keyCode.PAGE_DOWN:this.nextPage(of);break;case Qc.ui.keyCode.HOME:this._move("first","first",of);break;case Qc.ui.keyCode.END:this._move("last","last",of);break;case Qc.ui.keyCode.UP:this.previous(of);break;case Qc.ui.keyCode.DOWN:this.next(of);break;case Qc.ui.keyCode.LEFT:this.collapse(of);break;case Qc.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(of);break;case Qc.ui.keyCode.ENTER:case Qc.ui.keyCode.SPACE:this._activate(of);break;case Qc.ui.keyCode.ESCAPE:this.collapse(of);break;default:Sf=!1,pf=this.previousFilter||"",Ef=!1,vf=of.keyCode>=96&&of.keyCode<=105?(of.keyCode-96).toString():String.fromCharCode(of.keyCode),clearTimeout(this.filterTimer),vf===pf?Ef=!0:vf=pf+vf,hf=this._filterMenuItems(vf),hf=Ef&&hf.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):hf,hf.length||(vf=String.fromCharCode(of.keyCode),hf=this._filterMenuItems(vf)),hf.length?(this.focus(of,hf),this.previousFilter=vf,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}Sf&&of.preventDefault()},_activate:function(of){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(of):this.select(of))},refresh:function(){var of,hf,pf,vf,Ef,Sf=this,Ff=this.options.icons.submenu,Uf=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),pf=Uf.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var Wf=Qc(this),eh=Wf.prev(),th=Qc("<span>").data("ui-menu-submenu-caret",!0);Sf._addClass(th,"ui-menu-icon","ui-icon "+Ff),eh.attr("aria-haspopup","true").prepend(th),Wf.attr("aria-labelledby",eh.attr("id"))}),this._addClass(pf,"ui-menu","ui-widget ui-widget-content ui-front"),of=Uf.add(this.element),hf=of.find(this.options.items),hf.not(".ui-menu-item").each(function(){var Wf=Qc(this);Sf._isDivider(Wf)&&Sf._addClass(Wf,"ui-menu-divider","ui-widget-content")}),vf=hf.not(".ui-menu-item, .ui-menu-divider"),Ef=vf.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(vf,"ui-menu-item")._addClass(Ef,"ui-menu-item-wrapper"),hf.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!Qc.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(of,hf){if(of==="icons"){var pf=this.element.find(".ui-menu-icon");this._removeClass(pf,null,this.options.icons.submenu)._addClass(pf,null,hf.submenu)}this._super(of,hf)},_setOptionDisabled:function(of){this._super(of),this.element.attr("aria-disabled",String(of)),this._toggleClass(null,"ui-state-disabled",!!of)},focus:function(of,hf){var pf,vf,Ef;this.blur(of,of&&of.type==="focus"),this._scrollIntoView(hf),this.active=hf.first(),vf=this.active.children(".ui-menu-item-wrapper"),this._addClass(vf,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",vf.attr("id")),Ef=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(Ef,null,"ui-state-active"),of&&of.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),pf=hf.children(".ui-menu"),pf.length&&of&&/^mouse/.test(of.type)&&this._startOpening(pf),this.activeMenu=hf.parent(),this._trigger("focus",of,{item:hf})},_scrollIntoView:function(of){var hf,pf,vf,Ef,Sf,Ff;this._hasScroll()&&(hf=parseFloat(Qc.css(this.activeMenu[0],"borderTopWidth"))||0,pf=parseFloat(Qc.css(this.activeMenu[0],"paddingTop"))||0,vf=of.offset().top-this.activeMenu.offset().top-hf-pf,Ef=this.activeMenu.scrollTop(),Sf=this.activeMenu.height(),Ff=of.outerHeight(),vf<0?this.activeMenu.scrollTop(Ef+vf):vf+Ff>Sf&&this.activeMenu.scrollTop(Ef+vf-Sf+Ff))},blur:function(of,hf){hf||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",of,{item:this.active}),this.active=null)},_startOpening:function(of){clearTimeout(this.timer),of.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(of)},this.delay))},_open:function(of){var hf=Qc.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(of.parents(".ui-menu")).hide().attr("aria-hidden","true"),of.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(hf)},collapseAll:function(of,hf){clearTimeout(this.timer),this.timer=this._delay(function(){var pf=hf?this.element:Qc(of&&of.target).closest(this.element.find(".ui-menu"));pf.length||(pf=this.element),this._close(pf),this.blur(of),this._removeClass(pf.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=pf},hf?0:this.delay)},_close:function(of){of||(of=this.active?this.active.parent():this.element),of.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(of){return!Qc(of.target).closest(".ui-menu").length},_isDivider:function(of){return!/[^\-\u2014\u2013\s]/.test(of.text())},collapse:function(of){var hf=this.active&&this.active.parent().closest(".ui-menu-item",this.element);hf&&hf.length&&(this._close(),this.focus(of,hf))},expand:function(of){var hf=this.active&&this._menuItems(this.active.children(".ui-menu")).first();hf&&hf.length&&(this._open(hf.parent()),this._delay(function(){this.focus(of,hf)}))},next:function(of){this._move("next","first",of)},previous:function(of){this._move("prev","last",of)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(of){return(of||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(of,hf,pf){var vf;this.active&&(of==="first"||of==="last"?vf=this.active[of==="first"?"prevAll":"nextAll"](".ui-menu-item").last():vf=this.active[of+"All"](".ui-menu-item").first()),(!vf||!vf.length||!this.active)&&(vf=this._menuItems(this.activeMenu)[hf]()),this.focus(pf,vf)},nextPage:function(of){var hf,pf,vf;if(!this.active){this.next(of);return}this.isLastItem()||(this._hasScroll()?(pf=this.active.offset().top,vf=this.element.innerHeight(),Qc.fn.jquery.indexOf("3.2.")===0&&(vf+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return hf=Qc(this),hf.offset().top-pf-vf<0}),this.focus(of,hf)):this.focus(of,this._menuItems(this.activeMenu)[this.active?"last":"first"]()))},previousPage:function(of){var hf,pf,vf;if(!this.active){this.next(of);return}this.isFirstItem()||(this._hasScroll()?(pf=this.active.offset().top,vf=this.element.innerHeight(),Qc.fn.jquery.indexOf("3.2.")===0&&(vf+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return hf=Qc(this),hf.offset().top-pf+vf>0}),this.focus(of,hf)):this.focus(of,this._menuItems(this.activeMenu).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(of){this.active=this.active||Qc(of.target).closest(".ui-menu-item");var hf={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(of,!0),this._trigger("select",of,hf)},_filterMenuItems:function(of){var hf=of.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),pf=new RegExp("^"+hf,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return pf.test(String.prototype.trim.call(Qc(this).children(".ui-menu-item-wrapper").text()))})}});/*!
 * jQuery UI Autocomplete 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var of,hf,pf,vf=this.element[0].nodeName.toLowerCase(),Ef=vf==="textarea",Sf=vf==="input";this.isMultiLine=Ef||!Sf&&this._isContentEditable(this.element),this.valueMethod=this.element[Ef||Sf?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(Ff){if(this.element.prop("readOnly")){of=!0,pf=!0,hf=!0;return}of=!1,pf=!1,hf=!1;var Uf=Qc.ui.keyCode;switch(Ff.keyCode){case Uf.PAGE_UP:of=!0,this._move("previousPage",Ff);break;case Uf.PAGE_DOWN:of=!0,this._move("nextPage",Ff);break;case Uf.UP:of=!0,this._keyEvent("previous",Ff);break;case Uf.DOWN:of=!0,this._keyEvent("next",Ff);break;case Uf.ENTER:this.menu.active&&(of=!0,Ff.preventDefault(),this.menu.select(Ff));break;case Uf.TAB:this.menu.active&&this.menu.select(Ff);break;case Uf.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(Ff),Ff.preventDefault());break;default:hf=!0,this._searchTimeout(Ff);break}},keypress:function(Ff){if(of){of=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&Ff.preventDefault();return}if(!hf){var Uf=Qc.ui.keyCode;switch(Ff.keyCode){case Uf.PAGE_UP:this._move("previousPage",Ff);break;case Uf.PAGE_DOWN:this._move("nextPage",Ff);break;case Uf.UP:this._keyEvent("previous",Ff);break;case Uf.DOWN:this._keyEvent("next",Ff);break}}},input:function(Ff){if(pf){pf=!1,Ff.preventDefault();return}this._searchTimeout(Ff)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(Ff){clearTimeout(this.searching),this.close(Ff),this._change(Ff)}}),this._initSource(),this.menu=Qc("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(Ff){Ff.preventDefault()},menufocus:function(Ff,Uf){var Wf,eh;if(this.isNewMenu&&(this.isNewMenu=!1,Ff.originalEvent&&/^mouse/.test(Ff.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){Qc(Ff.target).trigger(Ff.originalEvent)});return}eh=Uf.item.data("ui-autocomplete-item"),this._trigger("focus",Ff,{item:eh})!==!1&&Ff.originalEvent&&/^key/.test(Ff.originalEvent.type)&&this._value(eh.value),Wf=Uf.item.attr("aria-label")||eh.value,Wf&&String.prototype.trim.call(Wf).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(Qc("<div>").text(Wf))},100))},menuselect:function(Ff,Uf){var Wf=Uf.item.data("ui-autocomplete-item"),eh=this.previous;this.element[0]!==Qc.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=eh,this._delay(function(){this.previous=eh,this.selectedItem=Wf})),this._trigger("select",Ff,{item:Wf})!==!1&&this._value(Wf.value),this.term=this._value(),this.close(Ff),this.selectedItem=Wf}}),this.liveRegion=Qc("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(of,hf){this._super(of,hf),of==="source"&&this._initSource(),of==="appendTo"&&this.menu.element.appendTo(this._appendTo()),of==="disabled"&&hf&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(of){var hf=this.menu.element[0];return of.target===this.element[0]||of.target===hf||Qc.contains(hf,of.target)},_closeOnClickOutside:function(of){this._isEventTargetInWidget(of)||this.close()},_appendTo:function(){var of=this.options.appendTo;return of&&(of=of.jquery||of.nodeType?Qc(of):this.document.find(of).eq(0)),(!of||!of[0])&&(of=this.element.closest(".ui-front, dialog")),of.length||(of=this.document[0].body),of},_initSource:function(){var of,hf,pf=this;Array.isArray(this.options.source)?(of=this.options.source,this.source=function(vf,Ef){Ef(Qc.ui.autocomplete.filter(of,vf.term))}):typeof this.options.source=="string"?(hf=this.options.source,this.source=function(vf,Ef){pf.xhr&&pf.xhr.abort(),pf.xhr=Qc.ajax({url:hf,data:vf,dataType:"json",success:function(Sf){Ef(Sf)},error:function(){Ef([])}})}):this.source=this.options.source},_searchTimeout:function(of){clearTimeout(this.searching),this.searching=this._delay(function(){var hf=this.term===this._value(),pf=this.menu.element.is(":visible"),vf=of.altKey||of.ctrlKey||of.metaKey||of.shiftKey;(!hf||hf&&!pf&&!vf)&&(this.selectedItem=null,this.search(null,of))},this.options.delay)},search:function(of,hf){if(of=of??this._value(),this.term=this._value(),of.length<this.options.minLength)return this.close(hf);if(this._trigger("search",hf)!==!1)return this._search(of)},_search:function(of){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:of},this._response())},_response:function(){var of=++this.requestIndex;return(function(hf){of===this.requestIndex&&this.__response(hf),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}).bind(this)},__response:function(of){of&&(of=this._normalize(of)),this._trigger("response",null,{content:of}),!this.options.disabled&&of&&of.length&&!this.cancelSearch?(this._suggest(of),this._trigger("open")):this._close()},close:function(of){this.cancelSearch=!0,this._close(of)},_close:function(of){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",of))},_change:function(of){this.previous!==this._value()&&this._trigger("change",of,{item:this.selectedItem})},_normalize:function(of){return of.length&&of[0].label&&of[0].value?of:Qc.map(of,function(hf){return typeof hf=="string"?{label:hf,value:hf}:Qc.extend({},hf,{label:hf.label||hf.value,value:hf.value||hf.label})})},_suggest:function(of){var hf=this.menu.element.empty();this._renderMenu(hf,of),this.isNewMenu=!0,this.menu.refresh(),hf.show(),this._resizeMenu(),hf.position(Qc.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var of=this.menu.element;of.outerWidth(Math.max(of.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(of,hf){var pf=this;Qc.each(hf,function(vf,Ef){pf._renderItemData(of,Ef)})},_renderItemData:function(of,hf){return this._renderItem(of,hf).data("ui-autocomplete-item",hf)},_renderItem:function(of,hf){return Qc("<li>").append(Qc("<div>").text(hf.label)).appendTo(of)},_move:function(of,hf){if(!this.menu.element.is(":visible")){this.search(null,hf);return}if(this.menu.isFirstItem()&&/^previous/.test(of)||this.menu.isLastItem()&&/^next/.test(of)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[of](hf)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(of,hf){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(of,hf),hf.preventDefault())},_isContentEditable:function(of){if(!of.length)return!1;var hf=of.prop("contentEditable");return hf==="inherit"?this._isContentEditable(of.parent()):hf==="true"}}),Qc.extend(Qc.ui.autocomplete,{escapeRegex:function(of){return of.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(of,hf){var pf=new RegExp(Qc.ui.autocomplete.escapeRegex(hf),"i");return Qc.grep(of,function(vf){return pf.test(vf.label||vf.value||vf)})}}),Qc.widget("ui.autocomplete",Qc.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(of){return of+(of>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(of){var hf;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(of&&of.length?hf=this.options.messages.results(of.length):hf=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(Qc("<div>").text(hf))},100))}}),Qc.ui.autocomplete;/*!
 * jQuery UI Controlgroup 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var hh=/ui-corner-([a-z]){2,6}/g;Qc.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var of=this,hf=[];Qc.each(this.options.items,function(pf,vf){var Ef,Sf={};if(vf){if(pf==="controlgroupLabel"){Ef=of.element.find(vf),Ef.each(function(){var Ff=Qc(this);Ff.children(".ui-controlgroup-label-contents").length||Ff.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),of._addClass(Ef,null,"ui-widget ui-widget-content ui-state-default"),hf=hf.concat(Ef.get());return}Qc.fn[pf]&&(of["_"+pf+"Options"]?Sf=of["_"+pf+"Options"]("middle"):Sf={classes:{}},of.element.find(vf).each(function(){var Ff=Qc(this),Uf=Ff[pf]("instance"),Wf=Qc.widget.extend({},Sf);if(!(pf==="button"&&Ff.parent(".ui-spinner").length)){Uf||(Uf=Ff[pf]()[pf]("instance")),Uf&&(Wf.classes=of._resolveClassesValues(Wf.classes,Uf)),Ff[pf](Wf);var eh=Ff[pf]("widget");Qc.data(eh[0],"ui-controlgroup-data",Uf||Ff[pf]("instance")),hf.push(eh[0])}}))}}),this.childWidgets=Qc(Qc.uniqueSort(hf)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(of){this.childWidgets.each(function(){var hf=Qc(this),pf=hf.data("ui-controlgroup-data");pf&&pf[of]&&pf[of]()})},_updateCornerClass:function(of,hf){var pf="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",vf=this._buildSimpleOptions(hf,"label").classes.label;this._removeClass(of,null,pf),this._addClass(of,null,vf)},_buildSimpleOptions:function(of,hf){var pf=this.options.direction==="vertical",vf={classes:{}};return vf.classes[hf]={middle:"",first:"ui-corner-"+(pf?"top":"left"),last:"ui-corner-"+(pf?"bottom":"right"),only:"ui-corner-all"}[of],vf},_spinnerOptions:function(of){var hf=this._buildSimpleOptions(of,"ui-spinner");return hf.classes["ui-spinner-up"]="",hf.classes["ui-spinner-down"]="",hf},_buttonOptions:function(of){return this._buildSimpleOptions(of,"ui-button")},_checkboxradioOptions:function(of){return this._buildSimpleOptions(of,"ui-checkboxradio-label")},_selectmenuOptions:function(of){var hf=this.options.direction==="vertical";return{width:hf?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(hf?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(hf?"top":"left")},last:{"ui-selectmenu-button-open":hf?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(hf?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[of]}},_resolveClassesValues:function(of,hf){var pf={};return Qc.each(of,function(vf){var Ef=hf.options.classes[vf]||"";Ef=String.prototype.trim.call(Ef.replace(hh,"")),pf[vf]=(Ef+" "+of[vf]).replace(/\s+/g," ")}),pf},_setOption:function(of,hf){if(of==="direction"&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(of,hf),of==="disabled"){this._callChildMethod(hf?"disable":"enable");return}this.refresh()},refresh:function(){var of,hf=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),this.options.direction==="horizontal"&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),of=this.childWidgets,this.options.onlyVisible&&(of=of.filter(":visible")),of.length&&(Qc.each(["first","last"],function(pf,vf){var Ef=of[vf]().data("ui-controlgroup-data");if(Ef&&hf["_"+Ef.widgetName+"Options"]){var Sf=hf["_"+Ef.widgetName+"Options"](of.length===1?"only":vf);Sf.classes=hf._resolveClassesValues(Sf.classes,Ef),Ef.element[Ef.widgetName](Sf)}else hf._updateCornerClass(of[vf](),vf)}),this._callChildMethod("refresh"))}});/*!
 * jQuery UI Checkboxradio 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.checkboxradio",[Qc.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var of,hf,pf,vf=this._super()||{};return this._readType(),hf=this.element.labels(),this.label=Qc(hf[hf.length-1]),this.label.length||Qc.error("No label found for checkboxradio widget"),this.originalLabel="",pf=this.label.contents().not(this.element[0]),pf.length&&(this.originalLabel+=pf.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(vf.label=this.originalLabel),of=this.element[0].disabled,of!=null&&(vf.disabled=of),vf},_create:function(){var of=this.element[0].checked;this._bindFormResetHandler(),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),this.type==="radio"&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),of&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var of=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,(of!=="input"||!/radio|checkbox/.test(this.type))&&Qc.error("Can't create checkboxradio on element.nodeName="+of+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var of,hf=this.element[0].name,pf="input[name='"+Qc.escapeSelector(hf)+"']";return hf?(this.form.length?of=Qc(this.form[0].elements).filter(pf):of=Qc(pf).filter(function(){return Qc(this)._form().length===0}),of.not(this.element)):Qc([])},_toggleClasses:function(){var of=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",of),this.options.icon&&this.type==="checkbox"&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",of)._toggleClass(this.icon,null,"ui-icon-blank",!of),this.type==="radio"&&this._getRadioGroup().each(function(){var hf=Qc(this).checkboxradio("instance");hf&&hf._removeClass(hf.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(of,hf){if(!(of==="label"&&!hf)){if(this._super(of,hf),of==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",hf),this.element[0].disabled=hf;return}this.refresh()}},_updateIcon:function(of){var hf="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=Qc("<span>"),this.iconSpace=Qc("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),this.type==="checkbox"?(hf+=of?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,of?"ui-icon-blank":"ui-icon-check")):hf+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",hf),of||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==void 0&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var of=this.label.contents().not(this.element[0]);this.icon&&(of=of.not(this.icon[0])),this.iconSpace&&(of=of.not(this.iconSpace[0])),of.remove(),this.label.append(this.options.label)},refresh:function(){var of=this.element[0].checked,hf=this.element[0].disabled;this._updateIcon(of),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",of),this.options.label!==null&&this._updateLabel(),hf!==this.options.disabled&&this._setOptions({disabled:hf})}}]),Qc.ui.checkboxradio;/*!
 * jQuery UI Button 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var of,hf=this._super()||{};return this.isInput=this.element.is("input"),of=this.element[0].disabled,of!=null&&(hf.disabled=of),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(hf.label=this.originalLabel),hf},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(of){of.keyCode===Qc.ui.keyCode.SPACE&&(of.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),!this.options.showLabel&&!this.title&&this.element.attr("title",this.options.label)},_updateIcon:function(of,hf){var pf=of!=="iconPosition",vf=pf?this.options.iconPosition:hf,Ef=vf==="top"||vf==="bottom";this.icon?pf&&this._removeClass(this.icon,null,this.options.icon):(this.icon=Qc("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),pf&&this._addClass(this.icon,null,hf),this._attachIcon(vf),Ef?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=Qc("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(vf))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(of){this.icon[/^(?:end|bottom)/.test(of)?"before":"after"](this.iconSpace)},_attachIcon:function(of){this.element[/^(?:end|bottom)/.test(of)?"append":"prepend"](this.icon)},_setOptions:function(of){var hf=of.showLabel===void 0?this.options.showLabel:of.showLabel,pf=of.icon===void 0?this.options.icon:of.icon;!hf&&!pf&&(of.showLabel=!0),this._super(of)},_setOption:function(of,hf){of==="icon"&&(hf?this._updateIcon(of,hf):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),of==="iconPosition"&&this._updateIcon(of,hf),of==="showLabel"&&(this._toggleClass("ui-button-icon-only",null,!hf),this._updateTooltip()),of==="label"&&(this.isInput?this.element.val(hf):(this.element.html(hf),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(of,hf),of==="disabled"&&(this._toggleClass(null,"ui-state-disabled",hf),this.element[0].disabled=hf,hf&&this.element.trigger("blur"))},refresh:function(){var of=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");of!==this.options.disabled&&this._setOptions({disabled:of}),this._updateTooltip()}}),Qc.uiBackCompat!==!1&&(Qc.widget("ui.button",Qc.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)?this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"):this.options.icon&&(this.options.icons.primary=this.options.icon),this._super()},_setOption:function(of,hf){if(of==="text"){this._super("showLabel",hf);return}of==="showLabel"&&(this.options.text=hf),of==="icon"&&(this.options.icons.primary=hf),of==="icons"&&(hf.primary?(this._super("icon",hf.primary),this._super("iconPosition","beginning")):hf.secondary&&(this._super("icon",hf.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),Qc.fn.button=function(of){return function(hf){var pf=typeof hf=="string",vf=Array.prototype.slice.call(arguments,1),Ef=this;return pf?!this.length&&hf==="instance"?Ef=void 0:this.each(function(){var Sf,Ff=Qc(this).attr("type"),Uf=Ff!=="checkbox"&&Ff!=="radio"?"button":"checkboxradio",Wf=Qc.data(this,"ui-"+Uf);if(hf==="instance")return Ef=Wf,!1;if(!Wf)return Qc.error("cannot call methods on button prior to initialization; attempted to call method '"+hf+"'");if(typeof Wf[hf]!="function"||hf.charAt(0)==="_")return Qc.error("no such method '"+hf+"' for button widget instance");if(Sf=Wf[hf].apply(Wf,vf),Sf!==Wf&&Sf!==void 0)return Ef=Sf&&Sf.jquery?Ef.pushStack(Sf.get()):Sf,!1}):(vf.length&&(hf=Qc.widget.extend.apply(null,[hf].concat(vf))),this.each(function(){var Sf=Qc(this).attr("type"),Ff=Sf!=="checkbox"&&Sf!=="radio"?"button":"checkboxradio",Uf=Qc.data(this,"ui-"+Ff);if(Uf)Uf.option(hf||{}),Uf._init&&Uf._init();else{if(Ff==="button"){of.call(Qc(this),hf);return}Qc(this).checkboxradio(Qc.extend({icon:!1},hf))}})),Ef}}(Qc.fn.button),Qc.fn.buttonset=function(){return Qc.ui.controlgroup||Qc.error("Controlgroup widget missing"),arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):arguments[0]==="option"&&arguments[1]==="items"?this.controlgroup.apply(this,[arguments[0],"items.button"]):(typeof arguments[0]=="object"&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),Qc.ui.button;/*!
 * jQuery UI Datepicker 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.extend(Qc.ui,{datepicker:{version:"1.13.2"}});var sh;function Hf(of){for(var hf,pf;of.length&&of[0]!==document;){if(hf=of.css("position"),(hf==="absolute"||hf==="relative"||hf==="fixed")&&(pf=parseInt(of.css("zIndex"),10),!isNaN(pf)&&pf!==0))return pf;of=of.parent()}return 0}function Qf(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},Qc.extend(this._defaults,this.regional[""]),this.regional.en=Qc.extend(!0,{},this.regional[""]),this.regional["en-US"]=Qc.extend(!0,{},this.regional.en),this.dpDiv=ah(Qc("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}Qc.extend(Qf.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(of){return uh(this._defaults,of||{}),this},_attachDatepicker:function(of,hf){var pf,vf,Ef;pf=of.nodeName.toLowerCase(),vf=pf==="div"||pf==="span",of.id||(this.uuid+=1,of.id="dp"+this.uuid),Ef=this._newInst(Qc(of),vf),Ef.settings=Qc.extend({},hf||{}),pf==="input"?this._connectDatepicker(of,Ef):vf&&this._inlineDatepicker(of,Ef)},_newInst:function(of,hf){var pf=of[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:pf,input:of,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:hf,dpDiv:hf?ah(Qc("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(of,hf){var pf=Qc(of);hf.append=Qc([]),hf.trigger=Qc([]),!pf.hasClass(this.markerClassName)&&(this._attachments(pf,hf),pf.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(hf),Qc.data(of,"datepicker",hf),hf.settings.disabled&&this._disableDatepicker(of))},_attachments:function(of,hf){var pf,vf,Ef,Sf=this._get(hf,"appendText"),Ff=this._get(hf,"isRTL");hf.append&&hf.append.remove(),Sf&&(hf.append=Qc("<span>").addClass(this._appendClass).text(Sf),of[Ff?"before":"after"](hf.append)),of.off("focus",this._showDatepicker),hf.trigger&&hf.trigger.remove(),pf=this._get(hf,"showOn"),(pf==="focus"||pf==="both")&&of.on("focus",this._showDatepicker),(pf==="button"||pf==="both")&&(vf=this._get(hf,"buttonText"),Ef=this._get(hf,"buttonImage"),this._get(hf,"buttonImageOnly")?hf.trigger=Qc("<img>").addClass(this._triggerClass).attr({src:Ef,alt:vf,title:vf}):(hf.trigger=Qc("<button type='button'>").addClass(this._triggerClass),Ef?hf.trigger.html(Qc("<img>").attr({src:Ef,alt:vf,title:vf})):hf.trigger.text(vf)),of[Ff?"before":"after"](hf.trigger),hf.trigger.on("click",function(){return Qc.datepicker._datepickerShowing&&Qc.datepicker._lastInput===of[0]?Qc.datepicker._hideDatepicker():(Qc.datepicker._datepickerShowing&&Qc.datepicker._lastInput!==of[0]&&Qc.datepicker._hideDatepicker(),Qc.datepicker._showDatepicker(of[0])),!1}))},_autoSize:function(of){if(this._get(of,"autoSize")&&!of.inline){var hf,pf,vf,Ef,Sf=new Date(2009,11,20),Ff=this._get(of,"dateFormat");Ff.match(/[DM]/)&&(hf=function(Uf){for(pf=0,vf=0,Ef=0;Ef<Uf.length;Ef++)Uf[Ef].length>pf&&(pf=Uf[Ef].length,vf=Ef);return vf},Sf.setMonth(hf(this._get(of,Ff.match(/MM/)?"monthNames":"monthNamesShort"))),Sf.setDate(hf(this._get(of,Ff.match(/DD/)?"dayNames":"dayNamesShort"))+20-Sf.getDay())),of.input.attr("size",this._formatDate(of,Sf).length)}},_inlineDatepicker:function(of,hf){var pf=Qc(of);pf.hasClass(this.markerClassName)||(pf.addClass(this.markerClassName).append(hf.dpDiv),Qc.data(of,"datepicker",hf),this._setDate(hf,this._getDefaultDate(hf),!0),this._updateDatepicker(hf),this._updateAlternate(hf),hf.settings.disabled&&this._disableDatepicker(of),hf.dpDiv.css("display","block"))},_dialogDatepicker:function(of,hf,pf,vf,Ef){var Sf,Ff,Uf,Wf,eh,th=this._dialogInst;return th||(this.uuid+=1,Sf="dp"+this.uuid,this._dialogInput=Qc("<input type='text' id='"+Sf+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),Qc("body").append(this._dialogInput),th=this._dialogInst=this._newInst(this._dialogInput,!1),th.settings={},Qc.data(this._dialogInput[0],"datepicker",th)),uh(th.settings,vf||{}),hf=hf&&hf.constructor===Date?this._formatDate(th,hf):hf,this._dialogInput.val(hf),this._pos=Ef?Ef.length?Ef:[Ef.pageX,Ef.pageY]:null,this._pos||(Ff=document.documentElement.clientWidth,Uf=document.documentElement.clientHeight,Wf=document.documentElement.scrollLeft||document.body.scrollLeft,eh=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[Ff/2-100+Wf,Uf/2-150+eh]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),th.settings.onSelect=pf,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),Qc.blockUI&&Qc.blockUI(this.dpDiv),Qc.data(this._dialogInput[0],"datepicker",th),this},_destroyDatepicker:function(of){var hf,pf=Qc(of),vf=Qc.data(of,"datepicker");pf.hasClass(this.markerClassName)&&(hf=of.nodeName.toLowerCase(),Qc.removeData(of,"datepicker"),hf==="input"?(vf.append.remove(),vf.trigger.remove(),pf.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):(hf==="div"||hf==="span")&&pf.removeClass(this.markerClassName).empty(),sh===vf&&(sh=null,this._curInst=null))},_enableDatepicker:function(of){var hf,pf,vf=Qc(of),Ef=Qc.data(of,"datepicker");vf.hasClass(this.markerClassName)&&(hf=of.nodeName.toLowerCase(),hf==="input"?(of.disabled=!1,Ef.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(hf==="div"||hf==="span")&&(pf=vf.children("."+this._inlineClass),pf.children().removeClass("ui-state-disabled"),pf.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=Qc.map(this._disabledInputs,function(Sf){return Sf===of?null:Sf}))},_disableDatepicker:function(of){var hf,pf,vf=Qc(of),Ef=Qc.data(of,"datepicker");vf.hasClass(this.markerClassName)&&(hf=of.nodeName.toLowerCase(),hf==="input"?(of.disabled=!0,Ef.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(hf==="div"||hf==="span")&&(pf=vf.children("."+this._inlineClass),pf.children().addClass("ui-state-disabled"),pf.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=Qc.map(this._disabledInputs,function(Sf){return Sf===of?null:Sf}),this._disabledInputs[this._disabledInputs.length]=of)},_isDisabledDatepicker:function(of){if(!of)return!1;for(var hf=0;hf<this._disabledInputs.length;hf++)if(this._disabledInputs[hf]===of)return!0;return!1},_getInst:function(of){try{return Qc.data(of,"datepicker")}catch{throw"Missing instance data for this datepicker"}},_optionDatepicker:function(of,hf,pf){var vf,Ef,Sf,Ff,Uf=this._getInst(of);if(arguments.length===2&&typeof hf=="string")return hf==="defaults"?Qc.extend({},Qc.datepicker._defaults):Uf?hf==="all"?Qc.extend({},Uf.settings):this._get(Uf,hf):null;vf=hf||{},typeof hf=="string"&&(vf={},vf[hf]=pf),Uf&&(this._curInst===Uf&&this._hideDatepicker(),Ef=this._getDateDatepicker(of,!0),Sf=this._getMinMaxDate(Uf,"min"),Ff=this._getMinMaxDate(Uf,"max"),uh(Uf.settings,vf),Sf!==null&&vf.dateFormat!==void 0&&vf.minDate===void 0&&(Uf.settings.minDate=this._formatDate(Uf,Sf)),Ff!==null&&vf.dateFormat!==void 0&&vf.maxDate===void 0&&(Uf.settings.maxDate=this._formatDate(Uf,Ff)),"disabled"in vf&&(vf.disabled?this._disableDatepicker(of):this._enableDatepicker(of)),this._attachments(Qc(of),Uf),this._autoSize(Uf),this._setDate(Uf,Ef),this._updateAlternate(Uf),this._updateDatepicker(Uf))},_changeDatepicker:function(of,hf,pf){this._optionDatepicker(of,hf,pf)},_refreshDatepicker:function(of){var hf=this._getInst(of);hf&&this._updateDatepicker(hf)},_setDateDatepicker:function(of,hf){var pf=this._getInst(of);pf&&(this._setDate(pf,hf),this._updateDatepicker(pf),this._updateAlternate(pf))},_getDateDatepicker:function(of,hf){var pf=this._getInst(of);return pf&&!pf.inline&&this._setDateFromField(pf,hf),pf?this._getDate(pf):null},_doKeyDown:function(of){var hf,pf,vf,Ef=Qc.datepicker._getInst(of.target),Sf=!0,Ff=Ef.dpDiv.is(".ui-datepicker-rtl");if(Ef._keyEvent=!0,Qc.datepicker._datepickerShowing)switch(of.keyCode){case 9:Qc.datepicker._hideDatepicker(),Sf=!1;break;case 13:return vf=Qc("td."+Qc.datepicker._dayOverClass+":not(."+Qc.datepicker._currentClass+")",Ef.dpDiv),vf[0]&&Qc.datepicker._selectDay(of.target,Ef.selectedMonth,Ef.selectedYear,vf[0]),hf=Qc.datepicker._get(Ef,"onSelect"),hf?(pf=Qc.datepicker._formatDate(Ef),hf.apply(Ef.input?Ef.input[0]:null,[pf,Ef])):Qc.datepicker._hideDatepicker(),!1;case 27:Qc.datepicker._hideDatepicker();break;case 33:Qc.datepicker._adjustDate(of.target,of.ctrlKey?-Qc.datepicker._get(Ef,"stepBigMonths"):-Qc.datepicker._get(Ef,"stepMonths"),"M");break;case 34:Qc.datepicker._adjustDate(of.target,of.ctrlKey?+Qc.datepicker._get(Ef,"stepBigMonths"):+Qc.datepicker._get(Ef,"stepMonths"),"M");break;case 35:(of.ctrlKey||of.metaKey)&&Qc.datepicker._clearDate(of.target),Sf=of.ctrlKey||of.metaKey;break;case 36:(of.ctrlKey||of.metaKey)&&Qc.datepicker._gotoToday(of.target),Sf=of.ctrlKey||of.metaKey;break;case 37:(of.ctrlKey||of.metaKey)&&Qc.datepicker._adjustDate(of.target,Ff?1:-1,"D"),Sf=of.ctrlKey||of.metaKey,of.originalEvent.altKey&&Qc.datepicker._adjustDate(of.target,of.ctrlKey?-Qc.datepicker._get(Ef,"stepBigMonths"):-Qc.datepicker._get(Ef,"stepMonths"),"M");break;case 38:(of.ctrlKey||of.metaKey)&&Qc.datepicker._adjustDate(of.target,-7,"D"),Sf=of.ctrlKey||of.metaKey;break;case 39:(of.ctrlKey||of.metaKey)&&Qc.datepicker._adjustDate(of.target,Ff?-1:1,"D"),Sf=of.ctrlKey||of.metaKey,of.originalEvent.altKey&&Qc.datepicker._adjustDate(of.target,of.ctrlKey?+Qc.datepicker._get(Ef,"stepBigMonths"):+Qc.datepicker._get(Ef,"stepMonths"),"M");break;case 40:(of.ctrlKey||of.metaKey)&&Qc.datepicker._adjustDate(of.target,7,"D"),Sf=of.ctrlKey||of.metaKey;break;default:Sf=!1}else of.keyCode===36&&of.ctrlKey?Qc.datepicker._showDatepicker(this):Sf=!1;Sf&&(of.preventDefault(),of.stopPropagation())},_doKeyPress:function(of){var hf,pf,vf=Qc.datepicker._getInst(of.target);if(Qc.datepicker._get(vf,"constrainInput"))return hf=Qc.datepicker._possibleChars(Qc.datepicker._get(vf,"dateFormat")),pf=String.fromCharCode(of.charCode==null?of.keyCode:of.charCode),of.ctrlKey||of.metaKey||pf<" "||!hf||hf.indexOf(pf)>-1},_doKeyUp:function(of){var hf,pf=Qc.datepicker._getInst(of.target);if(pf.input.val()!==pf.lastVal)try{hf=Qc.datepicker.parseDate(Qc.datepicker._get(pf,"dateFormat"),pf.input?pf.input.val():null,Qc.datepicker._getFormatConfig(pf)),hf&&(Qc.datepicker._setDateFromField(pf),Qc.datepicker._updateAlternate(pf),Qc.datepicker._updateDatepicker(pf))}catch{}return!0},_showDatepicker:function(of){if(of=of.target||of,of.nodeName.toLowerCase()!=="input"&&(of=Qc("input",of.parentNode)[0]),!(Qc.datepicker._isDisabledDatepicker(of)||Qc.datepicker._lastInput===of)){var hf,pf,vf,Ef,Sf,Ff,Uf;hf=Qc.datepicker._getInst(of),Qc.datepicker._curInst&&Qc.datepicker._curInst!==hf&&(Qc.datepicker._curInst.dpDiv.stop(!0,!0),hf&&Qc.datepicker._datepickerShowing&&Qc.datepicker._hideDatepicker(Qc.datepicker._curInst.input[0])),pf=Qc.datepicker._get(hf,"beforeShow"),vf=pf?pf.apply(of,[of,hf]):{},vf!==!1&&(uh(hf.settings,vf),hf.lastVal=null,Qc.datepicker._lastInput=of,Qc.datepicker._setDateFromField(hf),Qc.datepicker._inDialog&&(of.value=""),Qc.datepicker._pos||(Qc.datepicker._pos=Qc.datepicker._findPos(of),Qc.datepicker._pos[1]+=of.offsetHeight),Ef=!1,Qc(of).parents().each(function(){return Ef|=Qc(this).css("position")==="fixed",!Ef}),Sf={left:Qc.datepicker._pos[0],top:Qc.datepicker._pos[1]},Qc.datepicker._pos=null,hf.dpDiv.empty(),hf.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),Qc.datepicker._updateDatepicker(hf),Sf=Qc.datepicker._checkOffset(hf,Sf,Ef),hf.dpDiv.css({position:Qc.datepicker._inDialog&&Qc.blockUI?"static":Ef?"fixed":"absolute",display:"none",left:Sf.left+"px",top:Sf.top+"px"}),hf.inline||(Ff=Qc.datepicker._get(hf,"showAnim"),Uf=Qc.datepicker._get(hf,"duration"),hf.dpDiv.css("z-index",Hf(Qc(of))+1),Qc.datepicker._datepickerShowing=!0,Qc.effects&&Qc.effects.effect[Ff]?hf.dpDiv.show(Ff,Qc.datepicker._get(hf,"showOptions"),Uf):hf.dpDiv[Ff||"show"](Ff?Uf:null),Qc.datepicker._shouldFocusInput(hf)&&hf.input.trigger("focus"),Qc.datepicker._curInst=hf))}},_updateDatepicker:function(of){this.maxRows=4,sh=of,of.dpDiv.empty().append(this._generateHTML(of)),this._attachHandlers(of);var hf,pf=this._getNumberOfMonths(of),vf=pf[1],Ef=17,Sf=of.dpDiv.find("."+this._dayOverClass+" a"),Ff=Qc.datepicker._get(of,"onUpdateDatepicker");Sf.length>0&&mh.apply(Sf.get(0)),of.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),vf>1&&of.dpDiv.addClass("ui-datepicker-multi-"+vf).css("width",Ef*vf+"em"),of.dpDiv[(pf[0]!==1||pf[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),of.dpDiv[(this._get(of,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),of===Qc.datepicker._curInst&&Qc.datepicker._datepickerShowing&&Qc.datepicker._shouldFocusInput(of)&&of.input.trigger("focus"),of.yearshtml&&(hf=of.yearshtml,setTimeout(function(){hf===of.yearshtml&&of.yearshtml&&of.dpDiv.find("select.ui-datepicker-year").first().replaceWith(of.yearshtml),hf=of.yearshtml=null},0)),Ff&&Ff.apply(of.input?of.input[0]:null,[of])},_shouldFocusInput:function(of){return of.input&&of.input.is(":visible")&&!of.input.is(":disabled")&&!of.input.is(":focus")},_checkOffset:function(of,hf,pf){var vf=of.dpDiv.outerWidth(),Ef=of.dpDiv.outerHeight(),Sf=of.input?of.input.outerWidth():0,Ff=of.input?of.input.outerHeight():0,Uf=document.documentElement.clientWidth+(pf?0:Qc(document).scrollLeft()),Wf=document.documentElement.clientHeight+(pf?0:Qc(document).scrollTop());return hf.left-=this._get(of,"isRTL")?vf-Sf:0,hf.left-=pf&&hf.left===of.input.offset().left?Qc(document).scrollLeft():0,hf.top-=pf&&hf.top===of.input.offset().top+Ff?Qc(document).scrollTop():0,hf.left-=Math.min(hf.left,hf.left+vf>Uf&&Uf>vf?Math.abs(hf.left+vf-Uf):0),hf.top-=Math.min(hf.top,hf.top+Ef>Wf&&Wf>Ef?Math.abs(Ef+Ff):0),hf},_findPos:function(of){for(var hf,pf=this._getInst(of),vf=this._get(pf,"isRTL");of&&(of.type==="hidden"||of.nodeType!==1||Qc.expr.pseudos.hidden(of));)of=of[vf?"previousSibling":"nextSibling"];return hf=Qc(of).offset(),[hf.left,hf.top]},_hideDatepicker:function(of){var hf,pf,vf,Ef,Sf=this._curInst;!Sf||of&&Sf!==Qc.data(of,"datepicker")||this._datepickerShowing&&(hf=this._get(Sf,"showAnim"),pf=this._get(Sf,"duration"),vf=function(){Qc.datepicker._tidyDialog(Sf)},Qc.effects&&(Qc.effects.effect[hf]||Qc.effects[hf])?Sf.dpDiv.hide(hf,Qc.datepicker._get(Sf,"showOptions"),pf,vf):Sf.dpDiv[hf==="slideDown"?"slideUp":hf==="fadeIn"?"fadeOut":"hide"](hf?pf:null,vf),hf||vf(),this._datepickerShowing=!1,Ef=this._get(Sf,"onClose"),Ef&&Ef.apply(Sf.input?Sf.input[0]:null,[Sf.input?Sf.input.val():"",Sf]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),Qc.blockUI&&(Qc.unblockUI(),Qc("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(of){of.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(of){if(Qc.datepicker._curInst){var hf=Qc(of.target),pf=Qc.datepicker._getInst(hf[0]);(hf[0].id!==Qc.datepicker._mainDivId&&hf.parents("#"+Qc.datepicker._mainDivId).length===0&&!hf.hasClass(Qc.datepicker.markerClassName)&&!hf.closest("."+Qc.datepicker._triggerClass).length&&Qc.datepicker._datepickerShowing&&!(Qc.datepicker._inDialog&&Qc.blockUI)||hf.hasClass(Qc.datepicker.markerClassName)&&Qc.datepicker._curInst!==pf)&&Qc.datepicker._hideDatepicker()}},_adjustDate:function(of,hf,pf){var vf=Qc(of),Ef=this._getInst(vf[0]);this._isDisabledDatepicker(vf[0])||(this._adjustInstDate(Ef,hf,pf),this._updateDatepicker(Ef))},_gotoToday:function(of){var hf,pf=Qc(of),vf=this._getInst(pf[0]);this._get(vf,"gotoCurrent")&&vf.currentDay?(vf.selectedDay=vf.currentDay,vf.drawMonth=vf.selectedMonth=vf.currentMonth,vf.drawYear=vf.selectedYear=vf.currentYear):(hf=new Date,vf.selectedDay=hf.getDate(),vf.drawMonth=vf.selectedMonth=hf.getMonth(),vf.drawYear=vf.selectedYear=hf.getFullYear()),this._notifyChange(vf),this._adjustDate(pf)},_selectMonthYear:function(of,hf,pf){var vf=Qc(of),Ef=this._getInst(vf[0]);Ef["selected"+(pf==="M"?"Month":"Year")]=Ef["draw"+(pf==="M"?"Month":"Year")]=parseInt(hf.options[hf.selectedIndex].value,10),this._notifyChange(Ef),this._adjustDate(vf)},_selectDay:function(of,hf,pf,vf){var Ef,Sf=Qc(of);Qc(vf).hasClass(this._unselectableClass)||this._isDisabledDatepicker(Sf[0])||(Ef=this._getInst(Sf[0]),Ef.selectedDay=Ef.currentDay=parseInt(Qc("a",vf).attr("data-date")),Ef.selectedMonth=Ef.currentMonth=hf,Ef.selectedYear=Ef.currentYear=pf,this._selectDate(of,this._formatDate(Ef,Ef.currentDay,Ef.currentMonth,Ef.currentYear)))},_clearDate:function(of){var hf=Qc(of);this._selectDate(hf,"")},_selectDate:function(of,hf){var pf,vf=Qc(of),Ef=this._getInst(vf[0]);hf=hf??this._formatDate(Ef),Ef.input&&Ef.input.val(hf),this._updateAlternate(Ef),pf=this._get(Ef,"onSelect"),pf?pf.apply(Ef.input?Ef.input[0]:null,[hf,Ef]):Ef.input&&Ef.input.trigger("change"),Ef.inline?this._updateDatepicker(Ef):(this._hideDatepicker(),this._lastInput=Ef.input[0],typeof Ef.input[0]!="object"&&Ef.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(of){var hf,pf,vf,Ef=this._get(of,"altField");Ef&&(hf=this._get(of,"altFormat")||this._get(of,"dateFormat"),pf=this._getDate(of),vf=this.formatDate(hf,pf,this._getFormatConfig(of)),Qc(document).find(Ef).val(vf))},noWeekends:function(of){var hf=of.getDay();return[hf>0&&hf<6,""]},iso8601Week:function(of){var hf,pf=new Date(of.getTime());return pf.setDate(pf.getDate()+4-(pf.getDay()||7)),hf=pf.getTime(),pf.setMonth(0),pf.setDate(1),Math.floor(Math.round((hf-pf)/864e5)/7)+1},parseDate:function(of,hf,pf){if(of==null||hf==null)throw"Invalid arguments";if(hf=typeof hf=="object"?hf.toString():hf+"",hf==="")return null;var vf,Ef,Sf,Ff=0,Uf=(pf?pf.shortYearCutoff:null)||this._defaults.shortYearCutoff,Wf=typeof Uf!="string"?Uf:new Date().getFullYear()%100+parseInt(Uf,10),eh=(pf?pf.dayNamesShort:null)||this._defaults.dayNamesShort,th=(pf?pf.dayNames:null)||this._defaults.dayNames,_h=(pf?pf.monthNamesShort:null)||this._defaults.monthNamesShort,wh=(pf?pf.monthNames:null)||this._defaults.monthNames,oh=-1,gh=-1,qf=-1,zf=-1,Th=!1,Fh,Uh=function(pd){var Zh=vf+1<of.length&&of.charAt(vf+1)===pd;return Zh&&vf++,Zh},jh=function(pd){var Zh=Uh(pd),kh=pd==="@"?14:pd==="!"?20:pd==="y"&&Zh?4:pd==="o"?3:2,Kh=pd==="y"?kh:1,Jh=new RegExp("^\\d{"+Kh+","+kh+"}"),xh=hf.substring(Ff).match(Jh);if(!xh)throw"Missing number at position "+Ff;return Ff+=xh[0].length,parseInt(xh[0],10)},qh=function(pd,Zh,kh){var Kh=-1,Jh=Qc.map(Uh(pd)?kh:Zh,function(xh,Wh){return[[Wh,xh]]}).sort(function(xh,Wh){return-(xh[1].length-Wh[1].length)});if(Qc.each(Jh,function(xh,Wh){var nd=Wh[1];if(hf.substr(Ff,nd.length).toLowerCase()===nd.toLowerCase())return Kh=Wh[0],Ff+=nd.length,!1}),Kh!==-1)return Kh+1;throw"Unknown name at position "+Ff},cd=function(){if(hf.charAt(Ff)!==of.charAt(vf))throw"Unexpected literal at position "+Ff;Ff++};for(vf=0;vf<of.length;vf++)if(Th)of.charAt(vf)==="'"&&!Uh("'")?Th=!1:cd();else switch(of.charAt(vf)){case"d":qf=jh("d");break;case"D":qh("D",eh,th);break;case"o":zf=jh("o");break;case"m":gh=jh("m");break;case"M":gh=qh("M",_h,wh);break;case"y":oh=jh("y");break;case"@":Fh=new Date(jh("@")),oh=Fh.getFullYear(),gh=Fh.getMonth()+1,qf=Fh.getDate();break;case"!":Fh=new Date((jh("!")-this._ticksTo1970)/1e4),oh=Fh.getFullYear(),gh=Fh.getMonth()+1,qf=Fh.getDate();break;case"'":Uh("'")?cd():Th=!0;break;default:cd()}if(Ff<hf.length&&(Sf=hf.substr(Ff),!/^\s+/.test(Sf)))throw"Extra/unparsed characters found in date: "+Sf;if(oh===-1?oh=new Date().getFullYear():oh<100&&(oh+=new Date().getFullYear()-new Date().getFullYear()%100+(oh<=Wf?0:-100)),zf>-1){gh=1,qf=zf;do{if(Ef=this._getDaysInMonth(oh,gh-1),qf<=Ef)break;gh++,qf-=Ef}while(!0)}if(Fh=this._daylightSavingAdjust(new Date(oh,gh-1,qf)),Fh.getFullYear()!==oh||Fh.getMonth()+1!==gh||Fh.getDate()!==qf)throw"Invalid date";return Fh},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(of,hf,pf){if(!hf)return"";var vf,Ef=(pf?pf.dayNamesShort:null)||this._defaults.dayNamesShort,Sf=(pf?pf.dayNames:null)||this._defaults.dayNames,Ff=(pf?pf.monthNamesShort:null)||this._defaults.monthNamesShort,Uf=(pf?pf.monthNames:null)||this._defaults.monthNames,Wf=function(oh){var gh=vf+1<of.length&&of.charAt(vf+1)===oh;return gh&&vf++,gh},eh=function(oh,gh,qf){var zf=""+gh;if(Wf(oh))for(;zf.length<qf;)zf="0"+zf;return zf},th=function(oh,gh,qf,zf){return Wf(oh)?zf[gh]:qf[gh]},_h="",wh=!1;if(hf)for(vf=0;vf<of.length;vf++)if(wh)of.charAt(vf)==="'"&&!Wf("'")?wh=!1:_h+=of.charAt(vf);else switch(of.charAt(vf)){case"d":_h+=eh("d",hf.getDate(),2);break;case"D":_h+=th("D",hf.getDay(),Ef,Sf);break;case"o":_h+=eh("o",Math.round((new Date(hf.getFullYear(),hf.getMonth(),hf.getDate()).getTime()-new Date(hf.getFullYear(),0,0).getTime())/864e5),3);break;case"m":_h+=eh("m",hf.getMonth()+1,2);break;case"M":_h+=th("M",hf.getMonth(),Ff,Uf);break;case"y":_h+=Wf("y")?hf.getFullYear():(hf.getFullYear()%100<10?"0":"")+hf.getFullYear()%100;break;case"@":_h+=hf.getTime();break;case"!":_h+=hf.getTime()*1e4+this._ticksTo1970;break;case"'":Wf("'")?_h+="'":wh=!0;break;default:_h+=of.charAt(vf)}return _h},_possibleChars:function(of){var hf,pf="",vf=!1,Ef=function(Sf){var Ff=hf+1<of.length&&of.charAt(hf+1)===Sf;return Ff&&hf++,Ff};for(hf=0;hf<of.length;hf++)if(vf)of.charAt(hf)==="'"&&!Ef("'")?vf=!1:pf+=of.charAt(hf);else switch(of.charAt(hf)){case"d":case"m":case"y":case"@":pf+="0123456789";break;case"D":case"M":return null;case"'":Ef("'")?pf+="'":vf=!0;break;default:pf+=of.charAt(hf)}return pf},_get:function(of,hf){return of.settings[hf]!==void 0?of.settings[hf]:this._defaults[hf]},_setDateFromField:function(of,hf){if(of.input.val()!==of.lastVal){var pf=this._get(of,"dateFormat"),vf=of.lastVal=of.input?of.input.val():null,Ef=this._getDefaultDate(of),Sf=Ef,Ff=this._getFormatConfig(of);try{Sf=this.parseDate(pf,vf,Ff)||Ef}catch{vf=hf?"":vf}of.selectedDay=Sf.getDate(),of.drawMonth=of.selectedMonth=Sf.getMonth(),of.drawYear=of.selectedYear=Sf.getFullYear(),of.currentDay=vf?Sf.getDate():0,of.currentMonth=vf?Sf.getMonth():0,of.currentYear=vf?Sf.getFullYear():0,this._adjustInstDate(of)}},_getDefaultDate:function(of){return this._restrictMinMax(of,this._determineDate(of,this._get(of,"defaultDate"),new Date))},_determineDate:function(of,hf,pf){var vf=function(Ff){var Uf=new Date;return Uf.setDate(Uf.getDate()+Ff),Uf},Ef=function(Ff){try{return Qc.datepicker.parseDate(Qc.datepicker._get(of,"dateFormat"),Ff,Qc.datepicker._getFormatConfig(of))}catch{}for(var Uf=(Ff.toLowerCase().match(/^c/)?Qc.datepicker._getDate(of):null)||new Date,Wf=Uf.getFullYear(),eh=Uf.getMonth(),th=Uf.getDate(),_h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,wh=_h.exec(Ff);wh;){switch(wh[2]||"d"){case"d":case"D":th+=parseInt(wh[1],10);break;case"w":case"W":th+=parseInt(wh[1],10)*7;break;case"m":case"M":eh+=parseInt(wh[1],10),th=Math.min(th,Qc.datepicker._getDaysInMonth(Wf,eh));break;case"y":case"Y":Wf+=parseInt(wh[1],10),th=Math.min(th,Qc.datepicker._getDaysInMonth(Wf,eh));break}wh=_h.exec(Ff)}return new Date(Wf,eh,th)},Sf=hf==null||hf===""?pf:typeof hf=="string"?Ef(hf):typeof hf=="number"?isNaN(hf)?pf:vf(hf):new Date(hf.getTime());return Sf=Sf&&Sf.toString()==="Invalid Date"?pf:Sf,Sf&&(Sf.setHours(0),Sf.setMinutes(0),Sf.setSeconds(0),Sf.setMilliseconds(0)),this._daylightSavingAdjust(Sf)},_daylightSavingAdjust:function(of){return of?(of.setHours(of.getHours()>12?of.getHours()+2:0),of):null},_setDate:function(of,hf,pf){var vf=!hf,Ef=of.selectedMonth,Sf=of.selectedYear,Ff=this._restrictMinMax(of,this._determineDate(of,hf,new Date));of.selectedDay=of.currentDay=Ff.getDate(),of.drawMonth=of.selectedMonth=of.currentMonth=Ff.getMonth(),of.drawYear=of.selectedYear=of.currentYear=Ff.getFullYear(),(Ef!==of.selectedMonth||Sf!==of.selectedYear)&&!pf&&this._notifyChange(of),this._adjustInstDate(of),of.input&&of.input.val(vf?"":this._formatDate(of))},_getDate:function(of){var hf=!of.currentYear||of.input&&of.input.val()===""?null:this._daylightSavingAdjust(new Date(of.currentYear,of.currentMonth,of.currentDay));return hf},_attachHandlers:function(of){var hf=this._get(of,"stepMonths"),pf="#"+of.id.replace(/\\\\/g,"\\");of.dpDiv.find("[data-handler]").map(function(){var vf={prev:function(){Qc.datepicker._adjustDate(pf,-hf,"M")},next:function(){Qc.datepicker._adjustDate(pf,+hf,"M")},hide:function(){Qc.datepicker._hideDatepicker()},today:function(){Qc.datepicker._gotoToday(pf)},selectDay:function(){return Qc.datepicker._selectDay(pf,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return Qc.datepicker._selectMonthYear(pf,this,"M"),!1},selectYear:function(){return Qc.datepicker._selectMonthYear(pf,this,"Y"),!1}};Qc(this).on(this.getAttribute("data-event"),vf[this.getAttribute("data-handler")])})},_generateHTML:function(of){var hf,pf,vf,Ef,Sf,Ff,Uf,Wf,eh,th,_h,wh,oh,gh,qf,zf,Th,Fh,Uh,jh,qh,cd,pd,Zh,kh,Kh,Jh,xh,Wh,nd,Ad,ad,vd,ld,Id,$d,yd,Zd,jd,pp=new Date,rp=this._daylightSavingAdjust(new Date(pp.getFullYear(),pp.getMonth(),pp.getDate())),ep=this._get(of,"isRTL"),bp=this._get(of,"showButtonPanel"),Mp=this._get(of,"hideIfNoPrevNext"),fp=this._get(of,"navigationAsDateFormat"),Xd=this._getNumberOfMonths(of),Ip=this._get(of,"showCurrentAtPos"),Ep=this._get(of,"stepMonths"),Dp=Xd[0]!==1||Xd[1]!==1,Op=this._daylightSavingAdjust(of.currentDay?new Date(of.currentYear,of.currentMonth,of.currentDay):new Date(9999,9,9)),hp=this._getMinMaxDate(of,"min"),Hh=this._getMinMaxDate(of,"max"),ip=of.drawMonth-Ip,sp=of.drawYear;if(ip<0&&(ip+=12,sp--),Hh)for(hf=this._daylightSavingAdjust(new Date(Hh.getFullYear(),Hh.getMonth()-Xd[0]*Xd[1]+1,Hh.getDate())),hf=hp&&hf<hp?hp:hf;this._daylightSavingAdjust(new Date(sp,ip,1))>hf;)ip--,ip<0&&(ip=11,sp--);for(of.drawMonth=ip,of.drawYear=sp,pf=this._get(of,"prevText"),pf=fp?this.formatDate(pf,this._daylightSavingAdjust(new Date(sp,ip-Ep,1)),this._getFormatConfig(of)):pf,this._canAdjustMonth(of,-1,sp,ip)?vf=Qc("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:pf}).append(Qc("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(ep?"e":"w")).text(pf))[0].outerHTML:Mp?vf="":vf=Qc("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:pf}).append(Qc("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(ep?"e":"w")).text(pf))[0].outerHTML,Ef=this._get(of,"nextText"),Ef=fp?this.formatDate(Ef,this._daylightSavingAdjust(new Date(sp,ip+Ep,1)),this._getFormatConfig(of)):Ef,this._canAdjustMonth(of,1,sp,ip)?Sf=Qc("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:Ef}).append(Qc("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(ep?"w":"e")).text(Ef))[0].outerHTML:Mp?Sf="":Sf=Qc("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:Ef}).append(Qc("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(ep?"w":"e")).text(Ef))[0].outerHTML,Ff=this._get(of,"currentText"),Uf=this._get(of,"gotoCurrent")&&of.currentDay?Op:rp,Ff=fp?this.formatDate(Ff,Uf,this._getFormatConfig(of)):Ff,Wf="",of.inline||(Wf=Qc("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(of,"closeText"))[0].outerHTML),eh="",bp&&(eh=Qc("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(ep?Wf:"").append(this._isInRange(of,Uf)?Qc("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(Ff):"").append(ep?"":Wf)[0].outerHTML),th=parseInt(this._get(of,"firstDay"),10),th=isNaN(th)?0:th,_h=this._get(of,"showWeek"),wh=this._get(of,"dayNames"),oh=this._get(of,"dayNamesMin"),gh=this._get(of,"monthNames"),qf=this._get(of,"monthNamesShort"),zf=this._get(of,"beforeShowDay"),Th=this._get(of,"showOtherMonths"),Fh=this._get(of,"selectOtherMonths"),Uh=this._getDefaultDate(of),jh="",cd=0;cd<Xd[0];cd++){for(pd="",this.maxRows=4,Zh=0;Zh<Xd[1];Zh++){if(kh=this._daylightSavingAdjust(new Date(sp,ip,of.selectedDay)),Kh=" ui-corner-all",Jh="",Dp){if(Jh+="<div class='ui-datepicker-group",Xd[1]>1)switch(Zh){case 0:Jh+=" ui-datepicker-group-first",Kh=" ui-corner-"+(ep?"right":"left");break;case Xd[1]-1:Jh+=" ui-datepicker-group-last",Kh=" ui-corner-"+(ep?"left":"right");break;default:Jh+=" ui-datepicker-group-middle",Kh="";break}Jh+="'>"}for(Jh+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Kh+"'>"+(/all|left/.test(Kh)&&cd===0?ep?Sf:vf:"")+(/all|right/.test(Kh)&&cd===0?ep?vf:Sf:"")+this._generateMonthYearHeader(of,ip,sp,hp,Hh,cd>0||Zh>0,gh,qf)+"</div><table class='ui-datepicker-calendar'><thead><tr>",xh=_h?"<th class='ui-datepicker-week-col'>"+this._get(of,"weekHeader")+"</th>":"",qh=0;qh<7;qh++)Wh=(qh+th)%7,xh+="<th scope='col'"+((qh+th+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+wh[Wh]+"'>"+oh[Wh]+"</span></th>";for(Jh+=xh+"</tr></thead><tbody>",nd=this._getDaysInMonth(sp,ip),sp===of.selectedYear&&ip===of.selectedMonth&&(of.selectedDay=Math.min(of.selectedDay,nd)),Ad=(this._getFirstDayOfMonth(sp,ip)-th+7)%7,ad=Math.ceil((Ad+nd)/7),vd=Dp&&this.maxRows>ad?this.maxRows:ad,this.maxRows=vd,ld=this._daylightSavingAdjust(new Date(sp,ip,1-Ad)),Id=0;Id<vd;Id++){for(Jh+="<tr>",$d=_h?"<td class='ui-datepicker-week-col'>"+this._get(of,"calculateWeek")(ld)+"</td>":"",qh=0;qh<7;qh++)yd=zf?zf.apply(of.input?of.input[0]:null,[ld]):[!0,""],Zd=ld.getMonth()!==ip,jd=Zd&&!Fh||!yd[0]||hp&&ld<hp||Hh&&ld>Hh,$d+="<td class='"+((qh+th+6)%7>=5?" ui-datepicker-week-end":"")+(Zd?" ui-datepicker-other-month":"")+(ld.getTime()===kh.getTime()&&ip===of.selectedMonth&&of._keyEvent||Uh.getTime()===ld.getTime()&&Uh.getTime()===kh.getTime()?" "+this._dayOverClass:"")+(jd?" "+this._unselectableClass+" ui-state-disabled":"")+(Zd&&!Th?"":" "+yd[1]+(ld.getTime()===Op.getTime()?" "+this._currentClass:"")+(ld.getTime()===rp.getTime()?" ui-datepicker-today":""))+"'"+((!Zd||Th)&&yd[2]?" title='"+yd[2].replace(/'/g,"&#39;")+"'":"")+(jd?"":" data-handler='selectDay' data-event='click' data-month='"+ld.getMonth()+"' data-year='"+ld.getFullYear()+"'")+">"+(Zd&&!Th?"&#xa0;":jd?"<span class='ui-state-default'>"+ld.getDate()+"</span>":"<a class='ui-state-default"+(ld.getTime()===rp.getTime()?" ui-state-highlight":"")+(ld.getTime()===Op.getTime()?" ui-state-active":"")+(Zd?" ui-priority-secondary":"")+"' href='#' aria-current='"+(ld.getTime()===Op.getTime()?"true":"false")+"' data-date='"+ld.getDate()+"'>"+ld.getDate()+"</a>")+"</td>",ld.setDate(ld.getDate()+1),ld=this._daylightSavingAdjust(ld);Jh+=$d+"</tr>"}ip++,ip>11&&(ip=0,sp++),Jh+="</tbody></table>"+(Dp?"</div>"+(Xd[0]>0&&Zh===Xd[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),pd+=Jh}jh+=pd}return jh+=eh,of._keyEvent=!1,jh},_generateMonthYearHeader:function(of,hf,pf,vf,Ef,Sf,Ff,Uf){var Wf,eh,th,_h,wh,oh,gh,qf,zf=this._get(of,"changeMonth"),Th=this._get(of,"changeYear"),Fh=this._get(of,"showMonthAfterYear"),Uh=this._get(of,"selectMonthLabel"),jh=this._get(of,"selectYearLabel"),qh="<div class='ui-datepicker-title'>",cd="";if(Sf||!zf)cd+="<span class='ui-datepicker-month'>"+Ff[hf]+"</span>";else{for(Wf=vf&&vf.getFullYear()===pf,eh=Ef&&Ef.getFullYear()===pf,cd+="<select class='ui-datepicker-month' aria-label='"+Uh+"' data-handler='selectMonth' data-event='change'>",th=0;th<12;th++)(!Wf||th>=vf.getMonth())&&(!eh||th<=Ef.getMonth())&&(cd+="<option value='"+th+"'"+(th===hf?" selected='selected'":"")+">"+Uf[th]+"</option>");cd+="</select>"}if(Fh||(qh+=cd+(Sf||!(zf&&Th)?"&#xa0;":"")),!of.yearshtml)if(of.yearshtml="",Sf||!Th)qh+="<span class='ui-datepicker-year'>"+pf+"</span>";else{for(_h=this._get(of,"yearRange").split(":"),wh=new Date().getFullYear(),oh=function(pd){var Zh=pd.match(/c[+\-].*/)?pf+parseInt(pd.substring(1),10):pd.match(/[+\-].*/)?wh+parseInt(pd,10):parseInt(pd,10);return isNaN(Zh)?wh:Zh},gh=oh(_h[0]),qf=Math.max(gh,oh(_h[1]||"")),gh=vf?Math.max(gh,vf.getFullYear()):gh,qf=Ef?Math.min(qf,Ef.getFullYear()):qf,of.yearshtml+="<select class='ui-datepicker-year' aria-label='"+jh+"' data-handler='selectYear' data-event='change'>";gh<=qf;gh++)of.yearshtml+="<option value='"+gh+"'"+(gh===pf?" selected='selected'":"")+">"+gh+"</option>";of.yearshtml+="</select>",qh+=of.yearshtml,of.yearshtml=null}return qh+=this._get(of,"yearSuffix"),Fh&&(qh+=(Sf||!(zf&&Th)?"&#xa0;":"")+cd),qh+="</div>",qh},_adjustInstDate:function(of,hf,pf){var vf=of.selectedYear+(pf==="Y"?hf:0),Ef=of.selectedMonth+(pf==="M"?hf:0),Sf=Math.min(of.selectedDay,this._getDaysInMonth(vf,Ef))+(pf==="D"?hf:0),Ff=this._restrictMinMax(of,this._daylightSavingAdjust(new Date(vf,Ef,Sf)));of.selectedDay=Ff.getDate(),of.drawMonth=of.selectedMonth=Ff.getMonth(),of.drawYear=of.selectedYear=Ff.getFullYear(),(pf==="M"||pf==="Y")&&this._notifyChange(of)},_restrictMinMax:function(of,hf){var pf=this._getMinMaxDate(of,"min"),vf=this._getMinMaxDate(of,"max"),Ef=pf&&hf<pf?pf:hf;return vf&&Ef>vf?vf:Ef},_notifyChange:function(of){var hf=this._get(of,"onChangeMonthYear");hf&&hf.apply(of.input?of.input[0]:null,[of.selectedYear,of.selectedMonth+1,of])},_getNumberOfMonths:function(of){var hf=this._get(of,"numberOfMonths");return hf==null?[1,1]:typeof hf=="number"?[1,hf]:hf},_getMinMaxDate:function(of,hf){return this._determineDate(of,this._get(of,hf+"Date"),null)},_getDaysInMonth:function(of,hf){return 32-this._daylightSavingAdjust(new Date(of,hf,32)).getDate()},_getFirstDayOfMonth:function(of,hf){return new Date(of,hf,1).getDay()},_canAdjustMonth:function(of,hf,pf,vf){var Ef=this._getNumberOfMonths(of),Sf=this._daylightSavingAdjust(new Date(pf,vf+(hf<0?hf:Ef[0]*Ef[1]),1));return hf<0&&Sf.setDate(this._getDaysInMonth(Sf.getFullYear(),Sf.getMonth())),this._isInRange(of,Sf)},_isInRange:function(of,hf){var pf,vf,Ef=this._getMinMaxDate(of,"min"),Sf=this._getMinMaxDate(of,"max"),Ff=null,Uf=null,Wf=this._get(of,"yearRange");return Wf&&(pf=Wf.split(":"),vf=new Date().getFullYear(),Ff=parseInt(pf[0],10),Uf=parseInt(pf[1],10),pf[0].match(/[+\-].*/)&&(Ff+=vf),pf[1].match(/[+\-].*/)&&(Uf+=vf)),(!Ef||hf.getTime()>=Ef.getTime())&&(!Sf||hf.getTime()<=Sf.getTime())&&(!Ff||hf.getFullYear()>=Ff)&&(!Uf||hf.getFullYear()<=Uf)},_getFormatConfig:function(of){var hf=this._get(of,"shortYearCutoff");return hf=typeof hf!="string"?hf:new Date().getFullYear()%100+parseInt(hf,10),{shortYearCutoff:hf,dayNamesShort:this._get(of,"dayNamesShort"),dayNames:this._get(of,"dayNames"),monthNamesShort:this._get(of,"monthNamesShort"),monthNames:this._get(of,"monthNames")}},_formatDate:function(of,hf,pf,vf){hf||(of.currentDay=of.selectedDay,of.currentMonth=of.selectedMonth,of.currentYear=of.selectedYear);var Ef=hf?typeof hf=="object"?hf:this._daylightSavingAdjust(new Date(vf,pf,hf)):this._daylightSavingAdjust(new Date(of.currentYear,of.currentMonth,of.currentDay));return this.formatDate(this._get(of,"dateFormat"),Ef,this._getFormatConfig(of))}});function ah(of){var hf="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return of.on("mouseout",hf,function(){Qc(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&Qc(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&Qc(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",hf,mh)}function mh(){Qc.datepicker._isDisabledDatepicker(sh.inline?sh.dpDiv.parent()[0]:sh.input[0])||(Qc(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),Qc(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&Qc(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&Qc(this).addClass("ui-datepicker-next-hover"))}function uh(of,hf){Qc.extend(of,hf);for(var pf in hf)hf[pf]==null&&(of[pf]=hf[pf]);return of}Qc.fn.datepicker=function(of){if(!this.length)return this;Qc.datepicker.initialized||(Qc(document).on("mousedown",Qc.datepicker._checkExternalClick),Qc.datepicker.initialized=!0),Qc("#"+Qc.datepicker._mainDivId).length===0&&Qc("body").append(Qc.datepicker.dpDiv);var hf=Array.prototype.slice.call(arguments,1);return typeof of=="string"&&(of==="isDisabled"||of==="getDate"||of==="widget")?Qc.datepicker["_"+of+"Datepicker"].apply(Qc.datepicker,[this[0]].concat(hf)):of==="option"&&arguments.length===2&&typeof arguments[1]=="string"?Qc.datepicker["_"+of+"Datepicker"].apply(Qc.datepicker,[this[0]].concat(hf)):this.each(function(){typeof of=="string"?Qc.datepicker["_"+of+"Datepicker"].apply(Qc.datepicker,[this].concat(hf)):Qc.datepicker._attachDatepicker(this,of)})},Qc.datepicker=new Qf,Qc.datepicker.initialized=!1,Qc.datepicker.uuid=new Date().getTime(),Qc.datepicker.version="1.13.2",Qc.datepicker,Qc.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());/*!
 * jQuery UI Mouse 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var jf=!1;Qc(document).on("mouseup",function(){jf=!1}),Qc.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var of=this;this.element.on("mousedown."+this.widgetName,function(hf){return of._mouseDown(hf)}).on("click."+this.widgetName,function(hf){if(Qc.data(hf.target,of.widgetName+".preventClickEvent")===!0)return Qc.removeData(hf.target,of.widgetName+".preventClickEvent"),hf.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(of){if(!jf){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(of),this._mouseDownEvent=of;var hf=this,pf=of.which===1,vf=typeof this.options.cancel=="string"&&of.target.nodeName?Qc(of.target).closest(this.options.cancel).length:!1;return!pf||vf||!this._mouseCapture(of)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){hf.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(of)&&this._mouseDelayMet(of)&&(this._mouseStarted=this._mouseStart(of)!==!1,!this._mouseStarted)?(of.preventDefault(),!0):(Qc.data(of.target,this.widgetName+".preventClickEvent")===!0&&Qc.removeData(of.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(Ef){return hf._mouseMove(Ef)},this._mouseUpDelegate=function(Ef){return hf._mouseUp(Ef)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),of.preventDefault(),jf=!0,!0))}},_mouseMove:function(of){if(this._mouseMoved){if(Qc.ui.ie&&(!document.documentMode||document.documentMode<9)&&!of.button)return this._mouseUp(of);if(!of.which){if(of.originalEvent.altKey||of.originalEvent.ctrlKey||of.originalEvent.metaKey||of.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(of)}}return(of.which||of.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(of),of.preventDefault()):(this._mouseDistanceMet(of)&&this._mouseDelayMet(of)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,of)!==!1,this._mouseStarted?this._mouseDrag(of):this._mouseUp(of)),!this._mouseStarted)},_mouseUp:function(of){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,of.target===this._mouseDownEvent.target&&Qc.data(of.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(of)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,jf=!1,of.preventDefault()},_mouseDistanceMet:function(of){return Math.max(Math.abs(this._mouseDownEvent.pageX-of.pageX),Math.abs(this._mouseDownEvent.pageY-of.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),Qc.ui.plugin={add:function(of,hf,pf){var vf,Ef=Qc.ui[of].prototype;for(vf in pf)Ef.plugins[vf]=Ef.plugins[vf]||[],Ef.plugins[vf].push([hf,pf[vf]])},call:function(of,hf,pf,vf){var Ef,Sf=of.plugins[hf];if(Sf&&!(!vf&&(!of.element[0].parentNode||of.element[0].parentNode.nodeType===11)))for(Ef=0;Ef<Sf.length;Ef++)of.options[Sf[Ef][0]]&&Sf[Ef][1].apply(of.element,pf)}},Qc.ui.safeBlur=function(of){of&&of.nodeName.toLowerCase()!=="body"&&Qc(of).trigger("blur")};/*!
 * jQuery UI Draggable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.draggable",Qc.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(of,hf){this._super(of,hf),of==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(of){var hf=this.options;return this.helper||hf.disabled||Qc(of.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(of),!this.handle)?!1:(this._blurActiveElement(of),this._blockFrames(hf.iframeFix===!0?"iframe":hf.iframeFix),!0)},_blockFrames:function(of){this.iframeBlocks=this.document.find(of).map(function(){var hf=Qc(this);return Qc("<div>").css("position","absolute").appendTo(hf.parent()).outerWidth(hf.outerWidth()).outerHeight(hf.outerHeight()).offset(hf.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(of){var hf=Qc.ui.safeActiveElement(this.document[0]),pf=Qc(of.target);pf.closest(hf).length||Qc.ui.safeBlur(hf)},_mouseStart:function(of){var hf=this.options;return this.helper=this._createHelper(of),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),Qc.ui.ddmanager&&(Qc.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return Qc(this).css("position")==="fixed"}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(of),this.originalPosition=this.position=this._generatePosition(of,!1),this.originalPageX=of.pageX,this.originalPageY=of.pageY,hf.cursorAt&&this._adjustOffsetFromHelper(hf.cursorAt),this._setContainment(),this._trigger("start",of)===!1?(this._clear(),!1):(this._cacheHelperProportions(),Qc.ui.ddmanager&&!hf.dropBehaviour&&Qc.ui.ddmanager.prepareOffsets(this,of),this._mouseDrag(of,!0),Qc.ui.ddmanager&&Qc.ui.ddmanager.dragStart(this,of),!0)},_refreshOffsets:function(of){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:of.pageX-this.offset.left,top:of.pageY-this.offset.top}},_mouseDrag:function(of,hf){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(of,!0),this.positionAbs=this._convertPositionTo("absolute"),!hf){var pf=this._uiHash();if(this._trigger("drag",of,pf)===!1)return this._mouseUp(new Qc.Event("mouseup",of)),!1;this.position=pf.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",Qc.ui.ddmanager&&Qc.ui.ddmanager.drag(this,of),!1},_mouseStop:function(of){var hf=this,pf=!1;return Qc.ui.ddmanager&&!this.options.dropBehaviour&&(pf=Qc.ui.ddmanager.drop(this,of)),this.dropped&&(pf=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!pf||this.options.revert==="valid"&&pf||this.options.revert===!0||typeof this.options.revert=="function"&&this.options.revert.call(this.element,pf)?Qc(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){hf._trigger("stop",of)!==!1&&hf._clear()}):this._trigger("stop",of)!==!1&&this._clear(),!1},_mouseUp:function(of){return this._unblockFrames(),Qc.ui.ddmanager&&Qc.ui.ddmanager.dragStop(this,of),this.handleElement.is(of.target)&&this.element.trigger("focus"),Qc.ui.mouse.prototype._mouseUp.call(this,of)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new Qc.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(of){return this.options.handle?!!Qc(of.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(of){var hf=this.options,pf=typeof hf.helper=="function",vf=pf?Qc(hf.helper.apply(this.element[0],[of])):hf.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return vf.parents("body").length||vf.appendTo(hf.appendTo==="parent"?this.element[0].parentNode:hf.appendTo),pf&&vf[0]===this.element[0]&&this._setPositionRelative(),vf[0]!==this.element[0]&&!/(fixed|absolute)/.test(vf.css("position"))&&vf.css("position","absolute"),vf},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(of){typeof of=="string"&&(of=of.split(" ")),Array.isArray(of)&&(of={left:+of[0],top:+of[1]||0}),"left"in of&&(this.offset.click.left=of.left+this.margins.left),"right"in of&&(this.offset.click.left=this.helperProportions.width-of.right+this.margins.left),"top"in of&&(this.offset.click.top=of.top+this.margins.top),"bottom"in of&&(this.offset.click.top=this.helperProportions.height-of.bottom+this.margins.top)},_isRootNode:function(of){return/(html|body)/i.test(of.tagName)||of===this.document[0]},_getParentOffset:function(){var of=this.offsetParent.offset(),hf=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==hf&&Qc.contains(this.scrollParent[0],this.offsetParent[0])&&(of.left+=this.scrollParent.scrollLeft(),of.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(of={top:0,left:0}),{top:of.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:of.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var of=this.element.position(),hf=this._isRootNode(this.scrollParent[0]);return{top:of.top-(parseInt(this.helper.css("top"),10)||0)+(hf?0:this.scrollParent.scrollTop()),left:of.left-(parseInt(this.helper.css("left"),10)||0)+(hf?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var of,hf,pf,vf=this.options,Ef=this.document[0];if(this.relativeContainer=null,!vf.containment){this.containment=null;return}if(vf.containment==="window"){this.containment=[Qc(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,Qc(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,Qc(window).scrollLeft()+Qc(window).width()-this.helperProportions.width-this.margins.left,Qc(window).scrollTop()+(Qc(window).height()||Ef.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(vf.containment==="document"){this.containment=[0,0,Qc(Ef).width()-this.helperProportions.width-this.margins.left,(Qc(Ef).height()||Ef.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(vf.containment.constructor===Array){this.containment=vf.containment;return}vf.containment==="parent"&&(vf.containment=this.helper[0].parentNode),hf=Qc(vf.containment),pf=hf[0],pf&&(of=/(scroll|auto)/.test(hf.css("overflow")),this.containment=[(parseInt(hf.css("borderLeftWidth"),10)||0)+(parseInt(hf.css("paddingLeft"),10)||0),(parseInt(hf.css("borderTopWidth"),10)||0)+(parseInt(hf.css("paddingTop"),10)||0),(of?Math.max(pf.scrollWidth,pf.offsetWidth):pf.offsetWidth)-(parseInt(hf.css("borderRightWidth"),10)||0)-(parseInt(hf.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(of?Math.max(pf.scrollHeight,pf.offsetHeight):pf.offsetHeight)-(parseInt(hf.css("borderBottomWidth"),10)||0)-(parseInt(hf.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=hf)},_convertPositionTo:function(of,hf){hf||(hf=this.position);var pf=of==="absolute"?1:-1,vf=this._isRootNode(this.scrollParent[0]);return{top:hf.top+this.offset.relative.top*pf+this.offset.parent.top*pf-(this.cssPosition==="fixed"?-this.offset.scroll.top:vf?0:this.offset.scroll.top)*pf,left:hf.left+this.offset.relative.left*pf+this.offset.parent.left*pf-(this.cssPosition==="fixed"?-this.offset.scroll.left:vf?0:this.offset.scroll.left)*pf}},_generatePosition:function(of,hf){var pf,vf,Ef,Sf,Ff=this.options,Uf=this._isRootNode(this.scrollParent[0]),Wf=of.pageX,eh=of.pageY;return(!Uf||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),hf&&(this.containment&&(this.relativeContainer?(vf=this.relativeContainer.offset(),pf=[this.containment[0]+vf.left,this.containment[1]+vf.top,this.containment[2]+vf.left,this.containment[3]+vf.top]):pf=this.containment,of.pageX-this.offset.click.left<pf[0]&&(Wf=pf[0]+this.offset.click.left),of.pageY-this.offset.click.top<pf[1]&&(eh=pf[1]+this.offset.click.top),of.pageX-this.offset.click.left>pf[2]&&(Wf=pf[2]+this.offset.click.left),of.pageY-this.offset.click.top>pf[3]&&(eh=pf[3]+this.offset.click.top)),Ff.grid&&(Ef=Ff.grid[1]?this.originalPageY+Math.round((eh-this.originalPageY)/Ff.grid[1])*Ff.grid[1]:this.originalPageY,eh=pf?Ef-this.offset.click.top>=pf[1]||Ef-this.offset.click.top>pf[3]?Ef:Ef-this.offset.click.top>=pf[1]?Ef-Ff.grid[1]:Ef+Ff.grid[1]:Ef,Sf=Ff.grid[0]?this.originalPageX+Math.round((Wf-this.originalPageX)/Ff.grid[0])*Ff.grid[0]:this.originalPageX,Wf=pf?Sf-this.offset.click.left>=pf[0]||Sf-this.offset.click.left>pf[2]?Sf:Sf-this.offset.click.left>=pf[0]?Sf-Ff.grid[0]:Sf+Ff.grid[0]:Sf),Ff.axis==="y"&&(Wf=this.originalPageX),Ff.axis==="x"&&(eh=this.originalPageY)),{top:eh-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:Uf?0:this.offset.scroll.top),left:Wf-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:Uf?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(of,hf,pf){return pf=pf||this._uiHash(),Qc.ui.plugin.call(this,of,[hf,pf,this],!0),/^(drag|start|stop)/.test(of)&&(this.positionAbs=this._convertPositionTo("absolute"),pf.offset=this.positionAbs),Qc.Widget.prototype._trigger.call(this,of,hf,pf)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),Qc.ui.plugin.add("draggable","connectToSortable",{start:function(of,hf,pf){var vf=Qc.extend({},hf,{item:pf.element});pf.sortables=[],Qc(pf.options.connectToSortable).each(function(){var Ef=Qc(this).sortable("instance");Ef&&!Ef.options.disabled&&(pf.sortables.push(Ef),Ef.refreshPositions(),Ef._trigger("activate",of,vf))})},stop:function(of,hf,pf){var vf=Qc.extend({},hf,{item:pf.element});pf.cancelHelperRemoval=!1,Qc.each(pf.sortables,function(){var Ef=this;Ef.isOver?(Ef.isOver=0,pf.cancelHelperRemoval=!0,Ef.cancelHelperRemoval=!1,Ef._storedCSS={position:Ef.placeholder.css("position"),top:Ef.placeholder.css("top"),left:Ef.placeholder.css("left")},Ef._mouseStop(of),Ef.options.helper=Ef.options._helper):(Ef.cancelHelperRemoval=!0,Ef._trigger("deactivate",of,vf))})},drag:function(of,hf,pf){Qc.each(pf.sortables,function(){var vf=!1,Ef=this;Ef.positionAbs=pf.positionAbs,Ef.helperProportions=pf.helperProportions,Ef.offset.click=pf.offset.click,Ef._intersectsWith(Ef.containerCache)&&(vf=!0,Qc.each(pf.sortables,function(){return this.positionAbs=pf.positionAbs,this.helperProportions=pf.helperProportions,this.offset.click=pf.offset.click,this!==Ef&&this._intersectsWith(this.containerCache)&&Qc.contains(Ef.element[0],this.element[0])&&(vf=!1),vf})),vf?(Ef.isOver||(Ef.isOver=1,pf._parent=hf.helper.parent(),Ef.currentItem=hf.helper.appendTo(Ef.element).data("ui-sortable-item",!0),Ef.options._helper=Ef.options.helper,Ef.options.helper=function(){return hf.helper[0]},of.target=Ef.currentItem[0],Ef._mouseCapture(of,!0),Ef._mouseStart(of,!0,!0),Ef.offset.click.top=pf.offset.click.top,Ef.offset.click.left=pf.offset.click.left,Ef.offset.parent.left-=pf.offset.parent.left-Ef.offset.parent.left,Ef.offset.parent.top-=pf.offset.parent.top-Ef.offset.parent.top,pf._trigger("toSortable",of),pf.dropped=Ef.element,Qc.each(pf.sortables,function(){this.refreshPositions()}),pf.currentItem=pf.element,Ef.fromOutside=pf),Ef.currentItem&&(Ef._mouseDrag(of),hf.position=Ef.position)):Ef.isOver&&(Ef.isOver=0,Ef.cancelHelperRemoval=!0,Ef.options._revert=Ef.options.revert,Ef.options.revert=!1,Ef._trigger("out",of,Ef._uiHash(Ef)),Ef._mouseStop(of,!0),Ef.options.revert=Ef.options._revert,Ef.options.helper=Ef.options._helper,Ef.placeholder&&Ef.placeholder.remove(),hf.helper.appendTo(pf._parent),pf._refreshOffsets(of),hf.position=pf._generatePosition(of,!0),pf._trigger("fromSortable",of),pf.dropped=!1,Qc.each(pf.sortables,function(){this.refreshPositions()}))})}}),Qc.ui.plugin.add("draggable","cursor",{start:function(of,hf,pf){var vf=Qc("body"),Ef=pf.options;vf.css("cursor")&&(Ef._cursor=vf.css("cursor")),vf.css("cursor",Ef.cursor)},stop:function(of,hf,pf){var vf=pf.options;vf._cursor&&Qc("body").css("cursor",vf._cursor)}}),Qc.ui.plugin.add("draggable","opacity",{start:function(of,hf,pf){var vf=Qc(hf.helper),Ef=pf.options;vf.css("opacity")&&(Ef._opacity=vf.css("opacity")),vf.css("opacity",Ef.opacity)},stop:function(of,hf,pf){var vf=pf.options;vf._opacity&&Qc(hf.helper).css("opacity",vf._opacity)}}),Qc.ui.plugin.add("draggable","scroll",{start:function(of,hf,pf){pf.scrollParentNotHidden||(pf.scrollParentNotHidden=pf.helper.scrollParent(!1)),pf.scrollParentNotHidden[0]!==pf.document[0]&&pf.scrollParentNotHidden[0].tagName!=="HTML"&&(pf.overflowOffset=pf.scrollParentNotHidden.offset())},drag:function(of,hf,pf){var vf=pf.options,Ef=!1,Sf=pf.scrollParentNotHidden[0],Ff=pf.document[0];Sf!==Ff&&Sf.tagName!=="HTML"?((!vf.axis||vf.axis!=="x")&&(pf.overflowOffset.top+Sf.offsetHeight-of.pageY<vf.scrollSensitivity?Sf.scrollTop=Ef=Sf.scrollTop+vf.scrollSpeed:of.pageY-pf.overflowOffset.top<vf.scrollSensitivity&&(Sf.scrollTop=Ef=Sf.scrollTop-vf.scrollSpeed)),(!vf.axis||vf.axis!=="y")&&(pf.overflowOffset.left+Sf.offsetWidth-of.pageX<vf.scrollSensitivity?Sf.scrollLeft=Ef=Sf.scrollLeft+vf.scrollSpeed:of.pageX-pf.overflowOffset.left<vf.scrollSensitivity&&(Sf.scrollLeft=Ef=Sf.scrollLeft-vf.scrollSpeed))):((!vf.axis||vf.axis!=="x")&&(of.pageY-Qc(Ff).scrollTop()<vf.scrollSensitivity?Ef=Qc(Ff).scrollTop(Qc(Ff).scrollTop()-vf.scrollSpeed):Qc(window).height()-(of.pageY-Qc(Ff).scrollTop())<vf.scrollSensitivity&&(Ef=Qc(Ff).scrollTop(Qc(Ff).scrollTop()+vf.scrollSpeed))),(!vf.axis||vf.axis!=="y")&&(of.pageX-Qc(Ff).scrollLeft()<vf.scrollSensitivity?Ef=Qc(Ff).scrollLeft(Qc(Ff).scrollLeft()-vf.scrollSpeed):Qc(window).width()-(of.pageX-Qc(Ff).scrollLeft())<vf.scrollSensitivity&&(Ef=Qc(Ff).scrollLeft(Qc(Ff).scrollLeft()+vf.scrollSpeed)))),Ef!==!1&&Qc.ui.ddmanager&&!vf.dropBehaviour&&Qc.ui.ddmanager.prepareOffsets(pf,of)}}),Qc.ui.plugin.add("draggable","snap",{start:function(of,hf,pf){var vf=pf.options;pf.snapElements=[],Qc(vf.snap.constructor!==String?vf.snap.items||":data(ui-draggable)":vf.snap).each(function(){var Ef=Qc(this),Sf=Ef.offset();this!==pf.element[0]&&pf.snapElements.push({item:this,width:Ef.outerWidth(),height:Ef.outerHeight(),top:Sf.top,left:Sf.left})})},drag:function(of,hf,pf){var vf,Ef,Sf,Ff,Uf,Wf,eh,th,_h,wh,oh=pf.options,gh=oh.snapTolerance,qf=hf.offset.left,zf=qf+pf.helperProportions.width,Th=hf.offset.top,Fh=Th+pf.helperProportions.height;for(_h=pf.snapElements.length-1;_h>=0;_h--){if(Uf=pf.snapElements[_h].left-pf.margins.left,Wf=Uf+pf.snapElements[_h].width,eh=pf.snapElements[_h].top-pf.margins.top,th=eh+pf.snapElements[_h].height,zf<Uf-gh||qf>Wf+gh||Fh<eh-gh||Th>th+gh||!Qc.contains(pf.snapElements[_h].item.ownerDocument,pf.snapElements[_h].item)){pf.snapElements[_h].snapping&&pf.options.snap.release&&pf.options.snap.release.call(pf.element,of,Qc.extend(pf._uiHash(),{snapItem:pf.snapElements[_h].item})),pf.snapElements[_h].snapping=!1;continue}oh.snapMode!=="inner"&&(vf=Math.abs(eh-Fh)<=gh,Ef=Math.abs(th-Th)<=gh,Sf=Math.abs(Uf-zf)<=gh,Ff=Math.abs(Wf-qf)<=gh,vf&&(hf.position.top=pf._convertPositionTo("relative",{top:eh-pf.helperProportions.height,left:0}).top),Ef&&(hf.position.top=pf._convertPositionTo("relative",{top:th,left:0}).top),Sf&&(hf.position.left=pf._convertPositionTo("relative",{top:0,left:Uf-pf.helperProportions.width}).left),Ff&&(hf.position.left=pf._convertPositionTo("relative",{top:0,left:Wf}).left)),wh=vf||Ef||Sf||Ff,oh.snapMode!=="outer"&&(vf=Math.abs(eh-Th)<=gh,Ef=Math.abs(th-Fh)<=gh,Sf=Math.abs(Uf-qf)<=gh,Ff=Math.abs(Wf-zf)<=gh,vf&&(hf.position.top=pf._convertPositionTo("relative",{top:eh,left:0}).top),Ef&&(hf.position.top=pf._convertPositionTo("relative",{top:th-pf.helperProportions.height,left:0}).top),Sf&&(hf.position.left=pf._convertPositionTo("relative",{top:0,left:Uf}).left),Ff&&(hf.position.left=pf._convertPositionTo("relative",{top:0,left:Wf-pf.helperProportions.width}).left)),!pf.snapElements[_h].snapping&&(vf||Ef||Sf||Ff||wh)&&pf.options.snap.snap&&pf.options.snap.snap.call(pf.element,of,Qc.extend(pf._uiHash(),{snapItem:pf.snapElements[_h].item})),pf.snapElements[_h].snapping=vf||Ef||Sf||Ff||wh}}}),Qc.ui.plugin.add("draggable","stack",{start:function(of,hf,pf){var vf,Ef=pf.options,Sf=Qc.makeArray(Qc(Ef.stack)).sort(function(Ff,Uf){return(parseInt(Qc(Ff).css("zIndex"),10)||0)-(parseInt(Qc(Uf).css("zIndex"),10)||0)});Sf.length&&(vf=parseInt(Qc(Sf[0]).css("zIndex"),10)||0,Qc(Sf).each(function(Ff){Qc(this).css("zIndex",vf+Ff)}),this.css("zIndex",vf+Sf.length))}}),Qc.ui.plugin.add("draggable","zIndex",{start:function(of,hf,pf){var vf=Qc(hf.helper),Ef=pf.options;vf.css("zIndex")&&(Ef._zIndex=vf.css("zIndex")),vf.css("zIndex",Ef.zIndex)},stop:function(of,hf,pf){var vf=pf.options;vf._zIndex&&Qc(hf.helper).css("zIndex",vf._zIndex)}}),Qc.ui.draggable;/*!
 * jQuery UI Resizable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.resizable",Qc.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(of){return parseFloat(of)||0},_isNumber:function(of){return!isNaN(parseFloat(of))},_hasScroll:function(of,hf){if(Qc(of).css("overflow")==="hidden")return!1;var pf=hf&&hf==="left"?"scrollLeft":"scrollTop",vf=!1;if(of[pf]>0)return!0;try{of[pf]=1,vf=of[pf]>0,of[pf]=0}catch{}return vf},_create:function(){var of,hf=this.options,pf=this;this._addClass("ui-resizable"),Qc.extend(this,{_aspectRatio:!!hf.aspectRatio,aspectRatio:hf.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:hf.helper||hf.ghost||hf.animate?hf.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(Qc("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,of={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(of),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(of),this._proportionallyResize()),this._setupHandles(),hf.autoHide&&Qc(this.element).on("mouseenter",function(){hf.disabled||(pf._removeClass("ui-resizable-autohide"),pf._handles.show())}).on("mouseleave",function(){hf.disabled||pf.resizing||(pf._addClass("ui-resizable-autohide"),pf._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var of,hf=function(pf){Qc(pf).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(hf(this.element),of=this.element,this.originalElement.css({position:of.css("position"),width:of.outerWidth(),height:of.outerHeight(),top:of.css("top"),left:of.css("left")}).insertAfter(of),of.remove()),this.originalElement.css("resize",this.originalResizeStyle),hf(this.originalElement),this},_setOption:function(of,hf){switch(this._super(of,hf),of){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!hf;break}},_setupHandles:function(){var of=this.options,hf,pf,vf,Ef,Sf,Ff=this;if(this.handles=of.handles||(Qc(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=Qc(),this._addedHandles=Qc(),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),vf=this.handles.split(","),this.handles={},pf=0;pf<vf.length;pf++)hf=String.prototype.trim.call(vf[pf]),Ef="ui-resizable-"+hf,Sf=Qc("<div>"),this._addClass(Sf,"ui-resizable-handle "+Ef),Sf.css({zIndex:of.zIndex}),this.handles[hf]=".ui-resizable-"+hf,this.element.children(this.handles[hf]).length||(this.element.append(Sf),this._addedHandles=this._addedHandles.add(Sf));this._renderAxis=function(Uf){var Wf,eh,th,_h;Uf=Uf||this.element;for(Wf in this.handles)this.handles[Wf].constructor===String?this.handles[Wf]=this.element.children(this.handles[Wf]).first().show():(this.handles[Wf].jquery||this.handles[Wf].nodeType)&&(this.handles[Wf]=Qc(this.handles[Wf]),this._on(this.handles[Wf],{mousedown:Ff._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(eh=Qc(this.handles[Wf],this.element),_h=/sw|ne|nw|se|n|s/.test(Wf)?eh.outerHeight():eh.outerWidth(),th=["padding",/ne|nw|n/.test(Wf)?"Top":/se|sw|s/.test(Wf)?"Bottom":/^e$/.test(Wf)?"Right":"Left"].join(""),Uf.css(th,_h),this._proportionallyResize()),this._handles=this._handles.add(this.handles[Wf])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){Ff.resizing||(this.className&&(Sf=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),Ff.axis=Sf&&Sf[1]?Sf[1]:"se")}),of.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(of){var hf,pf,vf=!1;for(hf in this.handles)pf=Qc(this.handles[hf])[0],(pf===of.target||Qc.contains(pf,of.target))&&(vf=!0);return!this.options.disabled&&vf},_mouseStart:function(of){var hf,pf,vf,Ef=this.options,Sf=this.element;return this.resizing=!0,this._renderProxy(),hf=this._num(this.helper.css("left")),pf=this._num(this.helper.css("top")),Ef.containment&&(hf+=Qc(Ef.containment).scrollLeft()||0,pf+=Qc(Ef.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:hf,top:pf},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:Sf.width(),height:Sf.height()},this.originalSize=this._helper?{width:Sf.outerWidth(),height:Sf.outerHeight()}:{width:Sf.width(),height:Sf.height()},this.sizeDiff={width:Sf.outerWidth()-Sf.width(),height:Sf.outerHeight()-Sf.height()},this.originalPosition={left:hf,top:pf},this.originalMousePosition={left:of.pageX,top:of.pageY},this.aspectRatio=typeof Ef.aspectRatio=="number"?Ef.aspectRatio:this.originalSize.width/this.originalSize.height||1,vf=Qc(".ui-resizable-"+this.axis).css("cursor"),Qc("body").css("cursor",vf==="auto"?this.axis+"-resize":vf),this._addClass("ui-resizable-resizing"),this._propagate("start",of),!0},_mouseDrag:function(of){var hf,pf,vf=this.originalMousePosition,Ef=this.axis,Sf=of.pageX-vf.left||0,Ff=of.pageY-vf.top||0,Uf=this._change[Ef];return this._updatePrevProperties(),Uf&&(hf=Uf.apply(this,[of,Sf,Ff]),this._updateVirtualBoundaries(of.shiftKey),(this._aspectRatio||of.shiftKey)&&(hf=this._updateRatio(hf,of)),hf=this._respectSize(hf,of),this._updateCache(hf),this._propagate("resize",of),pf=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),Qc.isEmptyObject(pf)||(this._updatePrevProperties(),this._trigger("resize",of,this.ui()),this._applyChanges())),!1},_mouseStop:function(of){this.resizing=!1;var hf,pf,vf,Ef,Sf,Ff,Uf,Wf=this.options,eh=this;return this._helper&&(hf=this._proportionallyResizeElements,pf=hf.length&&/textarea/i.test(hf[0].nodeName),vf=pf&&this._hasScroll(hf[0],"left")?0:eh.sizeDiff.height,Ef=pf?0:eh.sizeDiff.width,Sf={width:eh.helper.width()-Ef,height:eh.helper.height()-vf},Ff=parseFloat(eh.element.css("left"))+(eh.position.left-eh.originalPosition.left)||null,Uf=parseFloat(eh.element.css("top"))+(eh.position.top-eh.originalPosition.top)||null,Wf.animate||this.element.css(Qc.extend(Sf,{top:Uf,left:Ff})),eh.helper.height(eh.size.height),eh.helper.width(eh.size.width),this._helper&&!Wf.animate&&this._proportionallyResize()),Qc("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",of),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var of={};return this.position.top!==this.prevPosition.top&&(of.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(of.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(of.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(of.height=this.size.height+"px"),this.helper.css(of),of},_updateVirtualBoundaries:function(of){var hf,pf,vf,Ef,Sf,Ff=this.options;Sf={minWidth:this._isNumber(Ff.minWidth)?Ff.minWidth:0,maxWidth:this._isNumber(Ff.maxWidth)?Ff.maxWidth:1/0,minHeight:this._isNumber(Ff.minHeight)?Ff.minHeight:0,maxHeight:this._isNumber(Ff.maxHeight)?Ff.maxHeight:1/0},(this._aspectRatio||of)&&(hf=Sf.minHeight*this.aspectRatio,vf=Sf.minWidth/this.aspectRatio,pf=Sf.maxHeight*this.aspectRatio,Ef=Sf.maxWidth/this.aspectRatio,hf>Sf.minWidth&&(Sf.minWidth=hf),vf>Sf.minHeight&&(Sf.minHeight=vf),pf<Sf.maxWidth&&(Sf.maxWidth=pf),Ef<Sf.maxHeight&&(Sf.maxHeight=Ef)),this._vBoundaries=Sf},_updateCache:function(of){this.offset=this.helper.offset(),this._isNumber(of.left)&&(this.position.left=of.left),this._isNumber(of.top)&&(this.position.top=of.top),this._isNumber(of.height)&&(this.size.height=of.height),this._isNumber(of.width)&&(this.size.width=of.width)},_updateRatio:function(of){var hf=this.position,pf=this.size,vf=this.axis;return this._isNumber(of.height)?of.width=of.height*this.aspectRatio:this._isNumber(of.width)&&(of.height=of.width/this.aspectRatio),vf==="sw"&&(of.left=hf.left+(pf.width-of.width),of.top=null),vf==="nw"&&(of.top=hf.top+(pf.height-of.height),of.left=hf.left+(pf.width-of.width)),of},_respectSize:function(of){var hf=this._vBoundaries,pf=this.axis,vf=this._isNumber(of.width)&&hf.maxWidth&&hf.maxWidth<of.width,Ef=this._isNumber(of.height)&&hf.maxHeight&&hf.maxHeight<of.height,Sf=this._isNumber(of.width)&&hf.minWidth&&hf.minWidth>of.width,Ff=this._isNumber(of.height)&&hf.minHeight&&hf.minHeight>of.height,Uf=this.originalPosition.left+this.originalSize.width,Wf=this.originalPosition.top+this.originalSize.height,eh=/sw|nw|w/.test(pf),th=/nw|ne|n/.test(pf);return Sf&&(of.width=hf.minWidth),Ff&&(of.height=hf.minHeight),vf&&(of.width=hf.maxWidth),Ef&&(of.height=hf.maxHeight),Sf&&eh&&(of.left=Uf-hf.minWidth),vf&&eh&&(of.left=Uf-hf.maxWidth),Ff&&th&&(of.top=Wf-hf.minHeight),Ef&&th&&(of.top=Wf-hf.maxHeight),!of.width&&!of.height&&!of.left&&of.top?of.top=null:!of.width&&!of.height&&!of.top&&of.left&&(of.left=null),of},_getPaddingPlusBorderDimensions:function(of){for(var hf=0,pf=[],vf=[of.css("borderTopWidth"),of.css("borderRightWidth"),of.css("borderBottomWidth"),of.css("borderLeftWidth")],Ef=[of.css("paddingTop"),of.css("paddingRight"),of.css("paddingBottom"),of.css("paddingLeft")];hf<4;hf++)pf[hf]=parseFloat(vf[hf])||0,pf[hf]+=parseFloat(Ef[hf])||0;return{height:pf[0]+pf[2],width:pf[1]+pf[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var of,hf=0,pf=this.helper||this.element;hf<this._proportionallyResizeElements.length;hf++)of=this._proportionallyResizeElements[hf],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(of)),of.css({height:pf.height()-this.outerDimensions.height||0,width:pf.width()-this.outerDimensions.width||0})},_renderProxy:function(){var of=this.element,hf=this.options;this.elementOffset=of.offset(),this._helper?(this.helper=this.helper||Qc("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++hf.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(of,hf){return{width:this.originalSize.width+hf}},w:function(of,hf){var pf=this.originalSize,vf=this.originalPosition;return{left:vf.left+hf,width:pf.width-hf}},n:function(of,hf,pf){var vf=this.originalSize,Ef=this.originalPosition;return{top:Ef.top+pf,height:vf.height-pf}},s:function(of,hf,pf){return{height:this.originalSize.height+pf}},se:function(of,hf,pf){return Qc.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[of,hf,pf]))},sw:function(of,hf,pf){return Qc.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[of,hf,pf]))},ne:function(of,hf,pf){return Qc.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[of,hf,pf]))},nw:function(of,hf,pf){return Qc.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[of,hf,pf]))}},_propagate:function(of,hf){Qc.ui.plugin.call(this,of,[hf,this.ui()]),of!=="resize"&&this._trigger(of,hf,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),Qc.ui.plugin.add("resizable","animate",{stop:function(of){var hf=Qc(this).resizable("instance"),pf=hf.options,vf=hf._proportionallyResizeElements,Ef=vf.length&&/textarea/i.test(vf[0].nodeName),Sf=Ef&&hf._hasScroll(vf[0],"left")?0:hf.sizeDiff.height,Ff=Ef?0:hf.sizeDiff.width,Uf={width:hf.size.width-Ff,height:hf.size.height-Sf},Wf=parseFloat(hf.element.css("left"))+(hf.position.left-hf.originalPosition.left)||null,eh=parseFloat(hf.element.css("top"))+(hf.position.top-hf.originalPosition.top)||null;hf.element.animate(Qc.extend(Uf,eh&&Wf?{top:eh,left:Wf}:{}),{duration:pf.animateDuration,easing:pf.animateEasing,step:function(){var th={width:parseFloat(hf.element.css("width")),height:parseFloat(hf.element.css("height")),top:parseFloat(hf.element.css("top")),left:parseFloat(hf.element.css("left"))};vf&&vf.length&&Qc(vf[0]).css({width:th.width,height:th.height}),hf._updateCache(th),hf._propagate("resize",of)}})}}),Qc.ui.plugin.add("resizable","containment",{start:function(){var of,hf,pf,vf,Ef,Sf,Ff,Uf=Qc(this).resizable("instance"),Wf=Uf.options,eh=Uf.element,th=Wf.containment,_h=th instanceof Qc?th.get(0):/parent/.test(th)?eh.parent().get(0):th;_h&&(Uf.containerElement=Qc(_h),/document/.test(th)||th===document?(Uf.containerOffset={left:0,top:0},Uf.containerPosition={left:0,top:0},Uf.parentData={element:Qc(document),left:0,top:0,width:Qc(document).width(),height:Qc(document).height()||document.body.parentNode.scrollHeight}):(of=Qc(_h),hf=[],Qc(["Top","Right","Left","Bottom"]).each(function(wh,oh){hf[wh]=Uf._num(of.css("padding"+oh))}),Uf.containerOffset=of.offset(),Uf.containerPosition=of.position(),Uf.containerSize={height:of.innerHeight()-hf[3],width:of.innerWidth()-hf[1]},pf=Uf.containerOffset,vf=Uf.containerSize.height,Ef=Uf.containerSize.width,Sf=Uf._hasScroll(_h,"left")?_h.scrollWidth:Ef,Ff=Uf._hasScroll(_h)?_h.scrollHeight:vf,Uf.parentData={element:_h,left:pf.left,top:pf.top,width:Sf,height:Ff}))},resize:function(of){var hf,pf,vf,Ef,Sf=Qc(this).resizable("instance"),Ff=Sf.options,Uf=Sf.containerOffset,Wf=Sf.position,eh=Sf._aspectRatio||of.shiftKey,th={top:0,left:0},_h=Sf.containerElement,wh=!0;_h[0]!==document&&/static/.test(_h.css("position"))&&(th=Uf),Wf.left<(Sf._helper?Uf.left:0)&&(Sf.size.width=Sf.size.width+(Sf._helper?Sf.position.left-Uf.left:Sf.position.left-th.left),eh&&(Sf.size.height=Sf.size.width/Sf.aspectRatio,wh=!1),Sf.position.left=Ff.helper?Uf.left:0),Wf.top<(Sf._helper?Uf.top:0)&&(Sf.size.height=Sf.size.height+(Sf._helper?Sf.position.top-Uf.top:Sf.position.top),eh&&(Sf.size.width=Sf.size.height*Sf.aspectRatio,wh=!1),Sf.position.top=Sf._helper?Uf.top:0),vf=Sf.containerElement.get(0)===Sf.element.parent().get(0),Ef=/relative|absolute/.test(Sf.containerElement.css("position")),vf&&Ef?(Sf.offset.left=Sf.parentData.left+Sf.position.left,Sf.offset.top=Sf.parentData.top+Sf.position.top):(Sf.offset.left=Sf.element.offset().left,Sf.offset.top=Sf.element.offset().top),hf=Math.abs(Sf.sizeDiff.width+(Sf._helper?Sf.offset.left-th.left:Sf.offset.left-Uf.left)),pf=Math.abs(Sf.sizeDiff.height+(Sf._helper?Sf.offset.top-th.top:Sf.offset.top-Uf.top)),hf+Sf.size.width>=Sf.parentData.width&&(Sf.size.width=Sf.parentData.width-hf,eh&&(Sf.size.height=Sf.size.width/Sf.aspectRatio,wh=!1)),pf+Sf.size.height>=Sf.parentData.height&&(Sf.size.height=Sf.parentData.height-pf,eh&&(Sf.size.width=Sf.size.height*Sf.aspectRatio,wh=!1)),wh||(Sf.position.left=Sf.prevPosition.left,Sf.position.top=Sf.prevPosition.top,Sf.size.width=Sf.prevSize.width,Sf.size.height=Sf.prevSize.height)},stop:function(){var of=Qc(this).resizable("instance"),hf=of.options,pf=of.containerOffset,vf=of.containerPosition,Ef=of.containerElement,Sf=Qc(of.helper),Ff=Sf.offset(),Uf=Sf.outerWidth()-of.sizeDiff.width,Wf=Sf.outerHeight()-of.sizeDiff.height;of._helper&&!hf.animate&&/relative/.test(Ef.css("position"))&&Qc(this).css({left:Ff.left-vf.left-pf.left,width:Uf,height:Wf}),of._helper&&!hf.animate&&/static/.test(Ef.css("position"))&&Qc(this).css({left:Ff.left-vf.left-pf.left,width:Uf,height:Wf})}}),Qc.ui.plugin.add("resizable","alsoResize",{start:function(){var of=Qc(this).resizable("instance"),hf=of.options;Qc(hf.alsoResize).each(function(){var pf=Qc(this);pf.data("ui-resizable-alsoresize",{width:parseFloat(pf.width()),height:parseFloat(pf.height()),left:parseFloat(pf.css("left")),top:parseFloat(pf.css("top"))})})},resize:function(of,hf){var pf=Qc(this).resizable("instance"),vf=pf.options,Ef=pf.originalSize,Sf=pf.originalPosition,Ff={height:pf.size.height-Ef.height||0,width:pf.size.width-Ef.width||0,top:pf.position.top-Sf.top||0,left:pf.position.left-Sf.left||0};Qc(vf.alsoResize).each(function(){var Uf=Qc(this),Wf=Qc(this).data("ui-resizable-alsoresize"),eh={},th=Uf.parents(hf.originalElement[0]).length?["width","height"]:["width","height","top","left"];Qc.each(th,function(_h,wh){var oh=(Wf[wh]||0)+(Ff[wh]||0);oh&&oh>=0&&(eh[wh]=oh||null)}),Uf.css(eh)})},stop:function(){Qc(this).removeData("ui-resizable-alsoresize")}}),Qc.ui.plugin.add("resizable","ghost",{start:function(){var of=Qc(this).resizable("instance"),hf=of.size;of.ghost=of.originalElement.clone(),of.ghost.css({opacity:.25,display:"block",position:"relative",height:hf.height,width:hf.width,margin:0,left:0,top:0}),of._addClass(of.ghost,"ui-resizable-ghost"),Qc.uiBackCompat!==!1&&typeof of.options.ghost=="string"&&of.ghost.addClass(this.options.ghost),of.ghost.appendTo(of.helper)},resize:function(){var of=Qc(this).resizable("instance");of.ghost&&of.ghost.css({position:"relative",height:of.size.height,width:of.size.width})},stop:function(){var of=Qc(this).resizable("instance");of.ghost&&of.helper&&of.helper.get(0).removeChild(of.ghost.get(0))}}),Qc.ui.plugin.add("resizable","grid",{resize:function(){var of,hf=Qc(this).resizable("instance"),pf=hf.options,vf=hf.size,Ef=hf.originalSize,Sf=hf.originalPosition,Ff=hf.axis,Uf=typeof pf.grid=="number"?[pf.grid,pf.grid]:pf.grid,Wf=Uf[0]||1,eh=Uf[1]||1,th=Math.round((vf.width-Ef.width)/Wf)*Wf,_h=Math.round((vf.height-Ef.height)/eh)*eh,wh=Ef.width+th,oh=Ef.height+_h,gh=pf.maxWidth&&pf.maxWidth<wh,qf=pf.maxHeight&&pf.maxHeight<oh,zf=pf.minWidth&&pf.minWidth>wh,Th=pf.minHeight&&pf.minHeight>oh;pf.grid=Uf,zf&&(wh+=Wf),Th&&(oh+=eh),gh&&(wh-=Wf),qf&&(oh-=eh),/^(se|s|e)$/.test(Ff)?(hf.size.width=wh,hf.size.height=oh):/^(ne)$/.test(Ff)?(hf.size.width=wh,hf.size.height=oh,hf.position.top=Sf.top-_h):/^(sw)$/.test(Ff)?(hf.size.width=wh,hf.size.height=oh,hf.position.left=Sf.left-th):((oh-eh<=0||wh-Wf<=0)&&(of=hf._getPaddingPlusBorderDimensions(this)),oh-eh>0?(hf.size.height=oh,hf.position.top=Sf.top-_h):(oh=eh-of.height,hf.size.height=oh,hf.position.top=Sf.top+Ef.height-oh),wh-Wf>0?(hf.size.width=wh,hf.position.left=Sf.left-th):(wh=Wf-of.width,hf.size.width=wh,hf.position.left=Sf.left+Ef.width-wh))}}),Qc.ui.resizable;/*!
 * jQuery UI Dialog 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(of){var hf=Qc(this).css(of).offset().top;hf<0&&Qc(this).css("top",of.top-hf)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title==null&&this.originalTitle!=null&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&Qc.fn.draggable&&this._makeDraggable(),this.options.resizable&&Qc.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var of=this.options.appendTo;return of&&(of.jquery||of.nodeType)?Qc(of):this.document.find(of||"body").eq(0)},_destroy:function(){var of,hf=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),of=hf.parent.children().eq(hf.index),of.length&&of[0]!==this.element[0]?of.before(this.element):hf.parent.append(this.element)},widget:function(){return this.uiDialog},disable:Qc.noop,enable:Qc.noop,close:function(of){var hf=this;!this._isOpen||this._trigger("beforeClose",of)===!1||(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||Qc.ui.safeBlur(Qc.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){hf._trigger("close",of)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(of,hf){var pf=!1,vf=this.uiDialog.siblings(".ui-front:visible").map(function(){return+Qc(this).css("z-index")}).get(),Ef=Math.max.apply(null,vf);return Ef>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",Ef+1),pf=!0),pf&&!hf&&this._trigger("focus",of),pf},open:function(){var of=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=Qc(Qc.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){of._focusTabbable(),of._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var of=this._focusedElement;of||(of=this.element.find("[autofocus]")),of.length||(of=this.element.find(":tabbable")),of.length||(of=this.uiDialogButtonPane.find(":tabbable")),of.length||(of=this.uiDialogTitlebarClose.filter(":tabbable")),of.length||(of=this.uiDialog),of.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var of=Qc.ui.safeActiveElement(this.document[0]),hf=this.uiDialog[0]===of||Qc.contains(this.uiDialog[0],of);hf||this._focusTabbable()},_keepFocus:function(of){of.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=Qc("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(of){if(this.options.closeOnEscape&&!of.isDefaultPrevented()&&of.keyCode&&of.keyCode===Qc.ui.keyCode.ESCAPE){of.preventDefault(),this.close(of);return}if(!(of.keyCode!==Qc.ui.keyCode.TAB||of.isDefaultPrevented())){var hf=this.uiDialog.find(":tabbable"),pf=hf.first(),vf=hf.last();(of.target===vf[0]||of.target===this.uiDialog[0])&&!of.shiftKey?(this._delay(function(){pf.trigger("focus")}),of.preventDefault()):(of.target===pf[0]||of.target===this.uiDialog[0])&&of.shiftKey&&(this._delay(function(){vf.trigger("focus")}),of.preventDefault())}},mousedown:function(of){this._moveToTop(of)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var of;this.uiDialogTitlebar=Qc("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(hf){Qc(hf.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=Qc("<button type='button'></button>").button({label:Qc("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(hf){hf.preventDefault(),this.close(hf)}}),of=Qc("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(of,"ui-dialog-title"),this._title(of),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":of.attr("id")})},_title:function(of){this.options.title?of.text(this.options.title):of.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=Qc("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=Qc("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var of=this,hf=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),Qc.isEmptyObject(hf)||Array.isArray(hf)&&!hf.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}Qc.each(hf,function(pf,vf){var Ef,Sf;vf=typeof vf=="function"?{click:vf,text:pf}:vf,vf=Qc.extend({type:"button"},vf),Ef=vf.click,Sf={icon:vf.icon,iconPosition:vf.iconPosition,showLabel:vf.showLabel,icons:vf.icons,text:vf.text},delete vf.click,delete vf.icon,delete vf.iconPosition,delete vf.showLabel,delete vf.icons,typeof vf.text=="boolean"&&delete vf.text,Qc("<button></button>",vf).button(Sf).appendTo(of.uiButtonSet).on("click",function(){Ef.apply(of.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var of=this,hf=this.options;function pf(vf){return{position:vf.position,offset:vf.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(vf,Ef){of._addClass(Qc(this),"ui-dialog-dragging"),of._blockFrames(),of._trigger("dragStart",vf,pf(Ef))},drag:function(vf,Ef){of._trigger("drag",vf,pf(Ef))},stop:function(vf,Ef){var Sf=Ef.offset.left-of.document.scrollLeft(),Ff=Ef.offset.top-of.document.scrollTop();hf.position={my:"left top",at:"left"+(Sf>=0?"+":"")+Sf+" top"+(Ff>=0?"+":"")+Ff,of:of.window},of._removeClass(Qc(this),"ui-dialog-dragging"),of._unblockFrames(),of._trigger("dragStop",vf,pf(Ef))}})},_makeResizable:function(){var of=this,hf=this.options,pf=hf.resizable,vf=this.uiDialog.css("position"),Ef=typeof pf=="string"?pf:"n,e,s,w,se,sw,ne,nw";function Sf(Ff){return{originalPosition:Ff.originalPosition,originalSize:Ff.originalSize,position:Ff.position,size:Ff.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:hf.maxWidth,maxHeight:hf.maxHeight,minWidth:hf.minWidth,minHeight:this._minHeight(),handles:Ef,start:function(Ff,Uf){of._addClass(Qc(this),"ui-dialog-resizing"),of._blockFrames(),of._trigger("resizeStart",Ff,Sf(Uf))},resize:function(Ff,Uf){of._trigger("resize",Ff,Sf(Uf))},stop:function(Ff,Uf){var Wf=of.uiDialog.offset(),eh=Wf.left-of.document.scrollLeft(),th=Wf.top-of.document.scrollTop();hf.height=of.uiDialog.height(),hf.width=of.uiDialog.width(),hf.position={my:"left top",at:"left"+(eh>=0?"+":"")+eh+" top"+(th>=0?"+":"")+th,of:of.window},of._removeClass(Qc(this),"ui-dialog-resizing"),of._unblockFrames(),of._trigger("resizeStop",Ff,Sf(Uf))}}).css("position",vf)},_trackFocus:function(){this._on(this.widget(),{focusin:function(of){this._makeFocusTarget(),this._focusedElement=Qc(of.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var of=this._trackingInstances(),hf=Qc.inArray(this,of);hf!==-1&&of.splice(hf,1)},_trackingInstances:function(){var of=this.document.data("ui-dialog-instances");return of||(of=[],this.document.data("ui-dialog-instances",of)),of},_minHeight:function(){var of=this.options;return of.height==="auto"?of.minHeight:Math.min(of.minHeight,of.height)},_position:function(){var of=this.uiDialog.is(":visible");of||this.uiDialog.show(),this.uiDialog.position(this.options.position),of||this.uiDialog.hide()},_setOptions:function(of){var hf=this,pf=!1,vf={};Qc.each(of,function(Ef,Sf){hf._setOption(Ef,Sf),Ef in hf.sizeRelatedOptions&&(pf=!0),Ef in hf.resizableRelatedOptions&&(vf[Ef]=Sf)}),pf&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",vf)},_setOption:function(of,hf){var pf,vf,Ef=this.uiDialog;of!=="disabled"&&(this._super(of,hf),of==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),of==="buttons"&&this._createButtons(),of==="closeText"&&this.uiDialogTitlebarClose.button({label:Qc("<a>").text(""+this.options.closeText).html()}),of==="draggable"&&(pf=Ef.is(":data(ui-draggable)"),pf&&!hf&&Ef.draggable("destroy"),!pf&&hf&&this._makeDraggable()),of==="position"&&this._position(),of==="resizable"&&(vf=Ef.is(":data(ui-resizable)"),vf&&!hf&&Ef.resizable("destroy"),vf&&typeof hf=="string"&&Ef.resizable("option","handles",hf),!vf&&hf!==!1&&this._makeResizable()),of==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var of,hf,pf,vf=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),vf.minWidth>vf.width&&(vf.width=vf.minWidth),of=this.uiDialog.css({height:"auto",width:vf.width}).outerHeight(),hf=Math.max(0,vf.minHeight-of),pf=typeof vf.maxHeight=="number"?Math.max(0,vf.maxHeight-of):"none",vf.height==="auto"?this.element.css({minHeight:hf,maxHeight:pf,height:"auto"}):this.element.height(Math.max(0,vf.height-of)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var of=Qc(this);return Qc("<div>").css({position:"absolute",width:of.outerWidth(),height:of.outerHeight()}).appendTo(of.parent()).offset(of.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(of){return Qc(of.target).closest(".ui-dialog").length?!0:!!Qc(of.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var of=Qc.fn.jquery.substring(0,4),hf=!0;this._delay(function(){hf=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",(function(pf){if(!hf){var vf=this._trackingInstances()[0];vf._allowInteraction(pf)||(pf.preventDefault(),vf._focusTabbable(),(of==="3.4."||of==="3.5.")&&vf._delay(vf._restoreTabbableFocus))}}).bind(this)),this.overlay=Qc("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var of=this.document.data("ui-dialog-overlays")-1;of?this.document.data("ui-dialog-overlays",of):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),Qc.uiBackCompat!==!1&&Qc.widget("ui.dialog",Qc.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(of,hf){of==="dialogClass"&&this.uiDialog.removeClass(this.options.dialogClass).addClass(hf),this._superApply(arguments)}}),Qc.ui.dialog;/*!
 * jQuery UI Droppable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var of,hf=this.options,pf=hf.accept;this.isover=!1,this.isout=!0,this.accept=typeof pf=="function"?pf:function(vf){return vf.is(pf)},this.proportions=function(){if(arguments.length)of=arguments[0];else return of||(of={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(hf.scope),hf.addClasses&&this._addClass("ui-droppable")},_addToManager:function(of){Qc.ui.ddmanager.droppables[of]=Qc.ui.ddmanager.droppables[of]||[],Qc.ui.ddmanager.droppables[of].push(this)},_splice:function(of){for(var hf=0;hf<of.length;hf++)of[hf]===this&&of.splice(hf,1)},_destroy:function(){var of=Qc.ui.ddmanager.droppables[this.options.scope];this._splice(of)},_setOption:function(of,hf){if(of==="accept")this.accept=typeof hf=="function"?hf:function(vf){return vf.is(hf)};else if(of==="scope"){var pf=Qc.ui.ddmanager.droppables[this.options.scope];this._splice(pf),this._addToManager(hf)}this._super(of,hf)},_activate:function(of){var hf=Qc.ui.ddmanager.current;this._addActiveClass(),hf&&this._trigger("activate",of,this.ui(hf))},_deactivate:function(of){var hf=Qc.ui.ddmanager.current;this._removeActiveClass(),hf&&this._trigger("deactivate",of,this.ui(hf))},_over:function(of){var hf=Qc.ui.ddmanager.current;!hf||(hf.currentItem||hf.element)[0]===this.element[0]||this.accept.call(this.element[0],hf.currentItem||hf.element)&&(this._addHoverClass(),this._trigger("over",of,this.ui(hf)))},_out:function(of){var hf=Qc.ui.ddmanager.current;!hf||(hf.currentItem||hf.element)[0]===this.element[0]||this.accept.call(this.element[0],hf.currentItem||hf.element)&&(this._removeHoverClass(),this._trigger("out",of,this.ui(hf)))},_drop:function(of,hf){var pf=hf||Qc.ui.ddmanager.current,vf=!1;return!pf||(pf.currentItem||pf.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var Ef=Qc(this).droppable("instance");if(Ef.options.greedy&&!Ef.options.disabled&&Ef.options.scope===pf.options.scope&&Ef.accept.call(Ef.element[0],pf.currentItem||pf.element)&&Qc.ui.intersect(pf,Qc.extend(Ef,{offset:Ef.element.offset()}),Ef.options.tolerance,of))return vf=!0,!1}),vf)?!1:this.accept.call(this.element[0],pf.currentItem||pf.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",of,this.ui(pf)),this.element):!1},ui:function(of){return{draggable:of.currentItem||of.element,helper:of.helper,position:of.position,offset:of.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),Qc.ui.intersect=function(){function of(hf,pf,vf){return hf>=pf&&hf<pf+vf}return function(hf,pf,vf,Ef){if(!pf.offset)return!1;var Sf=(hf.positionAbs||hf.position.absolute).left+hf.margins.left,Ff=(hf.positionAbs||hf.position.absolute).top+hf.margins.top,Uf=Sf+hf.helperProportions.width,Wf=Ff+hf.helperProportions.height,eh=pf.offset.left,th=pf.offset.top,_h=eh+pf.proportions().width,wh=th+pf.proportions().height;switch(vf){case"fit":return eh<=Sf&&Uf<=_h&&th<=Ff&&Wf<=wh;case"intersect":return eh<Sf+hf.helperProportions.width/2&&Uf-hf.helperProportions.width/2<_h&&th<Ff+hf.helperProportions.height/2&&Wf-hf.helperProportions.height/2<wh;case"pointer":return of(Ef.pageY,th,pf.proportions().height)&&of(Ef.pageX,eh,pf.proportions().width);case"touch":return(Ff>=th&&Ff<=wh||Wf>=th&&Wf<=wh||Ff<th&&Wf>wh)&&(Sf>=eh&&Sf<=_h||Uf>=eh&&Uf<=_h||Sf<eh&&Uf>_h);default:return!1}}}(),Qc.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(of,hf){var pf,vf,Ef=Qc.ui.ddmanager.droppables[of.options.scope]||[],Sf=hf?hf.type:null,Ff=(of.currentItem||of.element).find(":data(ui-droppable)").addBack();e:for(pf=0;pf<Ef.length;pf++)if(!(Ef[pf].options.disabled||of&&!Ef[pf].accept.call(Ef[pf].element[0],of.currentItem||of.element))){for(vf=0;vf<Ff.length;vf++)if(Ff[vf]===Ef[pf].element[0]){Ef[pf].proportions().height=0;continue e}Ef[pf].visible=Ef[pf].element.css("display")!=="none",Ef[pf].visible&&(Sf==="mousedown"&&Ef[pf]._activate.call(Ef[pf],hf),Ef[pf].offset=Ef[pf].element.offset(),Ef[pf].proportions({width:Ef[pf].element[0].offsetWidth,height:Ef[pf].element[0].offsetHeight}))}},drop:function(of,hf){var pf=!1;return Qc.each((Qc.ui.ddmanager.droppables[of.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&Qc.ui.intersect(of,this,this.options.tolerance,hf)&&(pf=this._drop.call(this,hf)||pf),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],of.currentItem||of.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,hf)))}),pf},dragStart:function(of,hf){of.element.parentsUntil("body").on("scroll.droppable",function(){of.options.refreshPositions||Qc.ui.ddmanager.prepareOffsets(of,hf)})},drag:function(of,hf){of.options.refreshPositions&&Qc.ui.ddmanager.prepareOffsets(of,hf),Qc.each(Qc.ui.ddmanager.droppables[of.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var pf,vf,Ef,Sf=Qc.ui.intersect(of,this,this.options.tolerance,hf),Ff=!Sf&&this.isover?"isout":Sf&&!this.isover?"isover":null;Ff&&(this.options.greedy&&(vf=this.options.scope,Ef=this.element.parents(":data(ui-droppable)").filter(function(){return Qc(this).droppable("instance").options.scope===vf}),Ef.length&&(pf=Qc(Ef[0]).droppable("instance"),pf.greedyChild=Ff==="isover")),pf&&Ff==="isover"&&(pf.isover=!1,pf.isout=!0,pf._out.call(pf,hf)),this[Ff]=!0,this[Ff==="isout"?"isover":"isout"]=!1,this[Ff==="isover"?"_over":"_out"].call(this,hf),pf&&Ff==="isout"&&(pf.isout=!1,pf.isover=!0,pf._over.call(pf,hf)))}})},dragStop:function(of,hf){of.element.parentsUntil("body").off("scroll.droppable"),of.options.refreshPositions||Qc.ui.ddmanager.prepareOffsets(of,hf)}},Qc.uiBackCompat!==!1&&Qc.widget("ui.droppable",Qc.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),Qc.ui.droppable;/*!
 * jQuery UI Progressbar 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=Qc("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(of){if(of===void 0)return this.options.value;this.options.value=this._constrainedValue(of),this._refreshValue()},_constrainedValue:function(of){return of===void 0&&(of=this.options.value),this.indeterminate=of===!1,typeof of!="number"&&(of=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,of))},_setOptions:function(of){var hf=of.value;delete of.value,this._super(of),this.options.value=this._constrainedValue(hf),this._refreshValue()},_setOption:function(of,hf){of==="max"&&(hf=Math.max(this.min,hf)),this._super(of,hf)},_setOptionDisabled:function(of){this._super(of),this.element.attr("aria-disabled",of),this._toggleClass(null,"ui-state-disabled",!!of)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var of=this.options.value,hf=this._percentage();this.valueDiv.toggle(this.indeterminate||of>this.min).width(hf.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,of===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=Qc("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":of}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==of&&(this.oldValue=of,this._trigger("change")),of===this.options.max&&this._trigger("complete")}});/*!
 * jQuery UI Selectable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.selectable",Qc.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var of=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){of.elementPos=Qc(of.element[0]).offset(),of.selectees=Qc(of.options.filter,of.element[0]),of._addClass(of.selectees,"ui-selectee"),of.selectees.each(function(){var hf=Qc(this),pf=hf.offset(),vf={left:pf.left-of.elementPos.left,top:pf.top-of.elementPos.top};Qc.data(this,"selectable-item",{element:this,$element:hf,left:vf.left,top:vf.top,right:vf.left+hf.outerWidth(),bottom:vf.top+hf.outerHeight(),startselected:!1,selected:hf.hasClass("ui-selected"),selecting:hf.hasClass("ui-selecting"),unselecting:hf.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=Qc("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(of){var hf=this,pf=this.options;this.opos=[of.pageX,of.pageY],this.elementPos=Qc(this.element[0]).offset(),!this.options.disabled&&(this.selectees=Qc(pf.filter,this.element[0]),this._trigger("start",of),Qc(pf.appendTo).append(this.helper),this.helper.css({left:of.pageX,top:of.pageY,width:0,height:0}),pf.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var vf=Qc.data(this,"selectable-item");vf.startselected=!0,!of.metaKey&&!of.ctrlKey&&(hf._removeClass(vf.$element,"ui-selected"),vf.selected=!1,hf._addClass(vf.$element,"ui-unselecting"),vf.unselecting=!0,hf._trigger("unselecting",of,{unselecting:vf.element}))}),Qc(of.target).parents().addBack().each(function(){var vf,Ef=Qc.data(this,"selectable-item");if(Ef)return vf=!of.metaKey&&!of.ctrlKey||!Ef.$element.hasClass("ui-selected"),hf._removeClass(Ef.$element,vf?"ui-unselecting":"ui-selected")._addClass(Ef.$element,vf?"ui-selecting":"ui-unselecting"),Ef.unselecting=!vf,Ef.selecting=vf,Ef.selected=vf,vf?hf._trigger("selecting",of,{selecting:Ef.element}):hf._trigger("unselecting",of,{unselecting:Ef.element}),!1}))},_mouseDrag:function(of){if(this.dragged=!0,!this.options.disabled){var hf,pf=this,vf=this.options,Ef=this.opos[0],Sf=this.opos[1],Ff=of.pageX,Uf=of.pageY;return Ef>Ff&&(hf=Ff,Ff=Ef,Ef=hf),Sf>Uf&&(hf=Uf,Uf=Sf,Sf=hf),this.helper.css({left:Ef,top:Sf,width:Ff-Ef,height:Uf-Sf}),this.selectees.each(function(){var Wf=Qc.data(this,"selectable-item"),eh=!1,th={};!Wf||Wf.element===pf.element[0]||(th.left=Wf.left+pf.elementPos.left,th.right=Wf.right+pf.elementPos.left,th.top=Wf.top+pf.elementPos.top,th.bottom=Wf.bottom+pf.elementPos.top,vf.tolerance==="touch"?eh=!(th.left>Ff||th.right<Ef||th.top>Uf||th.bottom<Sf):vf.tolerance==="fit"&&(eh=th.left>Ef&&th.right<Ff&&th.top>Sf&&th.bottom<Uf),eh?(Wf.selected&&(pf._removeClass(Wf.$element,"ui-selected"),Wf.selected=!1),Wf.unselecting&&(pf._removeClass(Wf.$element,"ui-unselecting"),Wf.unselecting=!1),Wf.selecting||(pf._addClass(Wf.$element,"ui-selecting"),Wf.selecting=!0,pf._trigger("selecting",of,{selecting:Wf.element}))):(Wf.selecting&&((of.metaKey||of.ctrlKey)&&Wf.startselected?(pf._removeClass(Wf.$element,"ui-selecting"),Wf.selecting=!1,pf._addClass(Wf.$element,"ui-selected"),Wf.selected=!0):(pf._removeClass(Wf.$element,"ui-selecting"),Wf.selecting=!1,Wf.startselected&&(pf._addClass(Wf.$element,"ui-unselecting"),Wf.unselecting=!0),pf._trigger("unselecting",of,{unselecting:Wf.element}))),Wf.selected&&!of.metaKey&&!of.ctrlKey&&!Wf.startselected&&(pf._removeClass(Wf.$element,"ui-selected"),Wf.selected=!1,pf._addClass(Wf.$element,"ui-unselecting"),Wf.unselecting=!0,pf._trigger("unselecting",of,{unselecting:Wf.element}))))}),!1}},_mouseStop:function(of){var hf=this;return this.dragged=!1,Qc(".ui-unselecting",this.element[0]).each(function(){var pf=Qc.data(this,"selectable-item");hf._removeClass(pf.$element,"ui-unselecting"),pf.unselecting=!1,pf.startselected=!1,hf._trigger("unselected",of,{unselected:pf.element})}),Qc(".ui-selecting",this.element[0]).each(function(){var pf=Qc.data(this,"selectable-item");hf._removeClass(pf.$element,"ui-selecting")._addClass(pf.$element,"ui-selected"),pf.selecting=!1,pf.selected=!0,pf.startselected=!0,hf._trigger("selected",of,{selected:pf.element})}),this._trigger("stop",of),this.helper.remove(),!1}});/*!
 * jQuery UI Selectmenu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.selectmenu",[Qc.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var of=this.element.uniqueId().attr("id");this.ids={element:of,button:of+"-button",menu:of+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=Qc()},_drawButton:function(){var of,hf=this,pf=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(vf){this.button.trigger("focus"),vf.preventDefault()}}),this.element.hide(),this.button=Qc("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),of=Qc("<span>").appendTo(this.button),this._addClass(of,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(pf).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){hf._rendered||hf._refreshMenu()})},_drawMenu:function(){var of=this;this.menu=Qc("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=Qc("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(hf,pf){hf.preventDefault(),of._setSelection(),of._select(pf.item.data("ui-selectmenu-item"),hf)},focus:function(hf,pf){var vf=pf.item.data("ui-selectmenu-item");of.focusIndex!=null&&vf.index!==of.focusIndex&&(of._trigger("focus",hf,{item:vf}),of.isOpen||of._select(vf,hf)),of.focusIndex=vf.index,of.button.attr("aria-activedescendant",of.menuItems.eq(vf.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),this.options.width===null&&this._resizeButton()},_refreshMenu:function(){var of,hf=this.element.find("option");this.menu.empty(),this._parseOptions(hf),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,hf.length&&(of=this._getSelectedItem(),this.menuInstance.focus(null,of),this._setAria(of.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(of){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",of)))},_position:function(){this.menuWrap.position(Qc.extend({of:this.button},this.options.position))},close:function(of){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",of))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(of){var hf=Qc("<span>");return this._setText(hf,of.label),this._addClass(hf,"ui-selectmenu-text"),hf},_renderMenu:function(of,hf){var pf=this,vf="";Qc.each(hf,function(Ef,Sf){var Ff;Sf.optgroup!==vf&&(Ff=Qc("<li>",{text:Sf.optgroup}),pf._addClass(Ff,"ui-selectmenu-optgroup","ui-menu-divider"+(Sf.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),Ff.appendTo(of),vf=Sf.optgroup),pf._renderItemData(of,Sf)})},_renderItemData:function(of,hf){return this._renderItem(of,hf).data("ui-selectmenu-item",hf)},_renderItem:function(of,hf){var pf=Qc("<li>"),vf=Qc("<div>",{title:hf.element.attr("title")});return hf.disabled&&this._addClass(pf,null,"ui-state-disabled"),this._setText(vf,hf.label),pf.append(vf).appendTo(of)},_setText:function(of,hf){hf?of.text(hf):of.html("&#160;")},_move:function(of,hf){var pf,vf,Ef=".ui-menu-item";this.isOpen?pf=this.menuItems.eq(this.focusIndex).parent("li"):(pf=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),Ef+=":not(.ui-state-disabled)"),of==="first"||of==="last"?vf=pf[of==="first"?"prevAll":"nextAll"](Ef).eq(-1):vf=pf[of+"All"](Ef).eq(0),vf.length&&this.menuInstance.focus(hf,vf)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(of){this[this.isOpen?"close":"open"](of)},_setSelection:function(){var of;this.range&&(window.getSelection?(of=window.getSelection(),of.removeAllRanges(),of.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(of){this.isOpen&&(Qc(of.target).closest(".ui-selectmenu-menu, #"+Qc.escapeSelector(this.ids.button)).length||this.close(of))}},_buttonEvents:{mousedown:function(){var of;window.getSelection?(of=window.getSelection(),of.rangeCount&&(this.range=of.getRangeAt(0))):this.range=document.selection.createRange()},click:function(of){this._setSelection(),this._toggle(of)},keydown:function(of){var hf=!0;switch(of.keyCode){case Qc.ui.keyCode.TAB:case Qc.ui.keyCode.ESCAPE:this.close(of),hf=!1;break;case Qc.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(of);break;case Qc.ui.keyCode.UP:of.altKey?this._toggle(of):this._move("prev",of);break;case Qc.ui.keyCode.DOWN:of.altKey?this._toggle(of):this._move("next",of);break;case Qc.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(of):this._toggle(of);break;case Qc.ui.keyCode.LEFT:this._move("prev",of);break;case Qc.ui.keyCode.RIGHT:this._move("next",of);break;case Qc.ui.keyCode.HOME:case Qc.ui.keyCode.PAGE_UP:this._move("first",of);break;case Qc.ui.keyCode.END:case Qc.ui.keyCode.PAGE_DOWN:this._move("last",of);break;default:this.menu.trigger(of),hf=!1}hf&&of.preventDefault()}},_selectFocusedItem:function(of){var hf=this.menuItems.eq(this.focusIndex).parent("li");hf.hasClass("ui-state-disabled")||this._select(hf.data("ui-selectmenu-item"),of)},_select:function(of,hf){var pf=this.element[0].selectedIndex;this.element[0].selectedIndex=of.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(of)),this._setAria(of),this._trigger("select",hf,{item:of}),of.index!==pf&&this._trigger("change",hf,{item:of}),this.close(hf)},_setAria:function(of){var hf=this.menuItems.eq(of.index).attr("id");this.button.attr({"aria-labelledby":hf,"aria-activedescendant":hf}),this.menu.attr("aria-activedescendant",hf)},_setOption:function(of,hf){if(of==="icons"){var pf=this.button.find("span.ui-icon");this._removeClass(pf,null,this.options.icons.button)._addClass(pf,null,hf.button)}this._super(of,hf),of==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),of==="width"&&this._resizeButton()},_setOptionDisabled:function(of){this._super(of),this.menuInstance.option("disabled",of),this.button.attr("aria-disabled",of),this._toggleClass(this.button,null,"ui-state-disabled",of),this.element.prop("disabled",of),of?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var of=this.options.appendTo;return of&&(of=of.jquery||of.nodeType?Qc(of):this.document.find(of).eq(0)),(!of||!of[0])&&(of=this.element.closest(".ui-front, dialog")),of.length||(of=this.document[0].body),of},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var of=this.options.width;if(of===!1){this.button.css("width","");return}of===null&&(of=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(of)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var of=this._super();return of.disabled=this.element.prop("disabled"),of},_parseOptions:function(of){var hf=this,pf=[];of.each(function(vf,Ef){Ef.hidden||pf.push(hf._parseOption(Qc(Ef),vf))}),this.items=pf},_parseOption:function(of,hf){var pf=of.parent("optgroup");return{element:of,index:hf,value:of.val(),label:of.text(),optgroup:pf.attr("label")||"",disabled:pf.prop("disabled")||of.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]);/*!
 * jQuery UI Slider 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.slider",Qc.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var of,hf,pf=this.options,vf=this.element.find(".ui-slider-handle"),Ef="<span tabindex='0'></span>",Sf=[];for(hf=pf.values&&pf.values.length||1,vf.length>hf&&(vf.slice(hf).remove(),vf=vf.slice(0,hf)),of=vf.length;of<hf;of++)Sf.push(Ef);this.handles=vf.add(Qc(Sf.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(Ff){Qc(this).data("ui-slider-handle-index",Ff).attr("tabIndex",0)})},_createRange:function(){var of=this.options;of.range?(of.range===!0&&(of.values?of.values.length&&of.values.length!==2?of.values=[of.values[0],of.values[0]]:Array.isArray(of.values)&&(of.values=of.values.slice(0)):of.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=Qc("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")):(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})),(of.range==="min"||of.range==="max")&&this._addClass(this.range,"ui-slider-range-"+of.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(of){var hf,pf,vf,Ef,Sf,Ff,Uf,Wf,eh=this,th=this.options;return th.disabled||(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),hf={x:of.pageX,y:of.pageY},pf=this._normValueFromMouse(hf),vf=this._valueMax()-this._valueMin()+1,this.handles.each(function(_h){var wh=Math.abs(pf-eh.values(_h));(vf>wh||vf===wh&&(_h===eh._lastChangedValue||eh.values(_h)===th.min))&&(vf=wh,Ef=Qc(this),Sf=_h)}),Ff=this._start(of,Sf),Ff===!1)?!1:(this._mouseSliding=!0,this._handleIndex=Sf,this._addClass(Ef,null,"ui-state-active"),Ef.trigger("focus"),Uf=Ef.offset(),Wf=!Qc(of.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=Wf?{left:0,top:0}:{left:of.pageX-Uf.left-Ef.width()/2,top:of.pageY-Uf.top-Ef.height()/2-(parseInt(Ef.css("borderTopWidth"),10)||0)-(parseInt(Ef.css("borderBottomWidth"),10)||0)+(parseInt(Ef.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(of,Sf,pf),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(of){var hf={x:of.pageX,y:of.pageY},pf=this._normValueFromMouse(hf);return this._slide(of,this._handleIndex,pf),!1},_mouseStop:function(of){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(of,this._handleIndex),this._change(of,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(of){var hf,pf,vf,Ef,Sf;return this.orientation==="horizontal"?(hf=this.elementSize.width,pf=of.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(hf=this.elementSize.height,pf=of.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),vf=pf/hf,vf>1&&(vf=1),vf<0&&(vf=0),this.orientation==="vertical"&&(vf=1-vf),Ef=this._valueMax()-this._valueMin(),Sf=this._valueMin()+vf*Ef,this._trimAlignValue(Sf)},_uiHash:function(of,hf,pf){var vf={handle:this.handles[of],handleIndex:of,value:hf!==void 0?hf:this.value()};return this._hasMultipleValues()&&(vf.value=hf!==void 0?hf:this.values(of),vf.values=pf||this.values()),vf},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(of,hf){return this._trigger("start",of,this._uiHash(hf))},_slide:function(of,hf,pf){var vf,Ef,Sf=this.value(),Ff=this.values();this._hasMultipleValues()&&(Ef=this.values(hf?0:1),Sf=this.values(hf),this.options.values.length===2&&this.options.range===!0&&(pf=hf===0?Math.min(Ef,pf):Math.max(Ef,pf)),Ff[hf]=pf),pf!==Sf&&(vf=this._trigger("slide",of,this._uiHash(hf,pf,Ff)),vf!==!1&&(this._hasMultipleValues()?this.values(hf,pf):this.value(pf)))},_stop:function(of,hf){this._trigger("stop",of,this._uiHash(hf))},_change:function(of,hf){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=hf,this._trigger("change",of,this._uiHash(hf)))},value:function(of){if(arguments.length){this.options.value=this._trimAlignValue(of),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(of,hf){var pf,vf,Ef;if(arguments.length>1){this.options.values[of]=this._trimAlignValue(hf),this._refreshValue(),this._change(null,of);return}if(arguments.length)if(Array.isArray(arguments[0])){for(pf=this.options.values,vf=arguments[0],Ef=0;Ef<pf.length;Ef+=1)pf[Ef]=this._trimAlignValue(vf[Ef]),this._change(null,Ef);this._refreshValue()}else return this._hasMultipleValues()?this._values(of):this.value();else return this._values()},_setOption:function(of,hf){var pf,vf=0;switch(of==="range"&&this.options.range===!0&&(hf==="min"?(this.options.value=this._values(0),this.options.values=null):hf==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(vf=this.options.values.length),this._super(of,hf),of){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(hf),this.handles.css(hf==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),pf=vf-1;pf>=0;pf--)this._change(null,pf);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;break}},_setOptionDisabled:function(of){this._super(of),this._toggleClass(null,"ui-state-disabled",!!of)},_value:function(){var of=this.options.value;return of=this._trimAlignValue(of),of},_values:function(of){var hf,pf,vf;if(arguments.length)return hf=this.options.values[of],hf=this._trimAlignValue(hf),hf;if(this._hasMultipleValues()){for(pf=this.options.values.slice(),vf=0;vf<pf.length;vf+=1)pf[vf]=this._trimAlignValue(pf[vf]);return pf}else return[]},_trimAlignValue:function(of){if(of<=this._valueMin())return this._valueMin();if(of>=this._valueMax())return this._valueMax();var hf=this.options.step>0?this.options.step:1,pf=(of-this._valueMin())%hf,vf=of-pf;return Math.abs(pf)*2>=hf&&(vf+=pf>0?hf:-hf),parseFloat(vf.toFixed(5))},_calculateNewMax:function(){var of=this.options.max,hf=this._valueMin(),pf=this.options.step,vf=Math.round((of-hf)/pf)*pf;of=vf+hf,of>this.options.max&&(of-=pf),this.max=parseFloat(of.toFixed(this._precision()))},_precision:function(){var of=this._precisionOf(this.options.step);return this.options.min!==null&&(of=Math.max(of,this._precisionOf(this.options.min))),of},_precisionOf:function(of){var hf=of.toString(),pf=hf.indexOf(".");return pf===-1?0:hf.length-pf-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(of){of==="vertical"&&this.range.css({width:"",left:""}),of==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var of,hf,pf,vf,Ef,Sf=this.options.range,Ff=this.options,Uf=this,Wf=this._animateOff?!1:Ff.animate,eh={};this._hasMultipleValues()?this.handles.each(function(th){hf=(Uf.values(th)-Uf._valueMin())/(Uf._valueMax()-Uf._valueMin())*100,eh[Uf.orientation==="horizontal"?"left":"bottom"]=hf+"%",Qc(this).stop(1,1)[Wf?"animate":"css"](eh,Ff.animate),Uf.options.range===!0&&(Uf.orientation==="horizontal"?(th===0&&Uf.range.stop(1,1)[Wf?"animate":"css"]({left:hf+"%"},Ff.animate),th===1&&Uf.range[Wf?"animate":"css"]({width:hf-of+"%"},{queue:!1,duration:Ff.animate})):(th===0&&Uf.range.stop(1,1)[Wf?"animate":"css"]({bottom:hf+"%"},Ff.animate),th===1&&Uf.range[Wf?"animate":"css"]({height:hf-of+"%"},{queue:!1,duration:Ff.animate}))),of=hf}):(pf=this.value(),vf=this._valueMin(),Ef=this._valueMax(),hf=Ef!==vf?(pf-vf)/(Ef-vf)*100:0,eh[this.orientation==="horizontal"?"left":"bottom"]=hf+"%",this.handle.stop(1,1)[Wf?"animate":"css"](eh,Ff.animate),Sf==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[Wf?"animate":"css"]({width:hf+"%"},Ff.animate),Sf==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[Wf?"animate":"css"]({width:100-hf+"%"},Ff.animate),Sf==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[Wf?"animate":"css"]({height:hf+"%"},Ff.animate),Sf==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[Wf?"animate":"css"]({height:100-hf+"%"},Ff.animate))},_handleEvents:{keydown:function(of){var hf,pf,vf,Ef,Sf=Qc(of.target).data("ui-slider-handle-index");switch(of.keyCode){case Qc.ui.keyCode.HOME:case Qc.ui.keyCode.END:case Qc.ui.keyCode.PAGE_UP:case Qc.ui.keyCode.PAGE_DOWN:case Qc.ui.keyCode.UP:case Qc.ui.keyCode.RIGHT:case Qc.ui.keyCode.DOWN:case Qc.ui.keyCode.LEFT:if(of.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(Qc(of.target),null,"ui-state-active"),hf=this._start(of,Sf),hf===!1))return;break}switch(Ef=this.options.step,this._hasMultipleValues()?pf=vf=this.values(Sf):pf=vf=this.value(),of.keyCode){case Qc.ui.keyCode.HOME:vf=this._valueMin();break;case Qc.ui.keyCode.END:vf=this._valueMax();break;case Qc.ui.keyCode.PAGE_UP:vf=this._trimAlignValue(pf+(this._valueMax()-this._valueMin())/this.numPages);break;case Qc.ui.keyCode.PAGE_DOWN:vf=this._trimAlignValue(pf-(this._valueMax()-this._valueMin())/this.numPages);break;case Qc.ui.keyCode.UP:case Qc.ui.keyCode.RIGHT:if(pf===this._valueMax())return;vf=this._trimAlignValue(pf+Ef);break;case Qc.ui.keyCode.DOWN:case Qc.ui.keyCode.LEFT:if(pf===this._valueMin())return;vf=this._trimAlignValue(pf-Ef);break}this._slide(of,Sf,vf)},keyup:function(of){var hf=Qc(of.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(of,hf),this._change(of,hf),this._removeClass(Qc(of.target),null,"ui-state-active"))}}});/*!
 * jQuery UI Sortable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.sortable",Qc.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(of,hf,pf){return of>=hf&&of<hf+pf},_isFloating:function(of){return/left|right/.test(of.css("float"))||/inline|table-cell/.test(of.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(of,hf){this._super(of,hf),of==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){var of=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),Qc.each(this.items,function(){of._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var of=this.items.length-1;of>=0;of--)this.items[of].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(of,hf){var pf=null,vf=!1,Ef=this;return this.reverting||this.options.disabled||this.options.type==="static"||(this._refreshItems(of),Qc(of.target).parents().each(function(){if(Qc.data(this,Ef.widgetName+"-item")===Ef)return pf=Qc(this),!1}),Qc.data(of.target,Ef.widgetName+"-item")===Ef&&(pf=Qc(of.target)),!pf)||this.options.handle&&!hf&&(Qc(this.options.handle,pf).find("*").addBack().each(function(){this===of.target&&(vf=!0)}),!vf)?!1:(this.currentItem=pf,this._removeCurrentsFromItems(),!0)},_mouseStart:function(of,hf,pf){var vf,Ef,Sf=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=Qc(Sf.appendTo!=="parent"?Sf.appendTo:this.currentItem.parent()),this.helper=this._createHelper(of),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},Qc.extend(this.offset,{click:{left:of.pageX-this.offset.left,top:of.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),Sf.cursorAt&&this._adjustOffsetFromHelper(Sf.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),Qc.extend(this.offset,{parent:this._getParentOffset()}),Sf.containment&&this._setContainment(),Sf.cursor&&Sf.cursor!=="auto"&&(Ef=this.document.find("body"),this.storedCursor=Ef.css("cursor"),Ef.css("cursor",Sf.cursor),this.storedStylesheet=Qc("<style>*{ cursor: "+Sf.cursor+" !important; }</style>").appendTo(Ef)),Sf.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",Sf.zIndex)),Sf.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",Sf.opacity)),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",of,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!pf)for(vf=this.containers.length-1;vf>=0;vf--)this.containers[vf]._trigger("activate",of,this._uiHash(this));return Qc.ui.ddmanager&&(Qc.ui.ddmanager.current=this),Qc.ui.ddmanager&&!Sf.dropBehaviour&&Qc.ui.ddmanager.prepareOffsets(this,of),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(of),this.originalPageX=of.pageX,this.originalPageY=of.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(of),!0},_scroll:function(of){var hf=this.options,pf=!1;return this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-of.pageY<hf.scrollSensitivity?this.scrollParent[0].scrollTop=pf=this.scrollParent[0].scrollTop+hf.scrollSpeed:of.pageY-this.overflowOffset.top<hf.scrollSensitivity&&(this.scrollParent[0].scrollTop=pf=this.scrollParent[0].scrollTop-hf.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-of.pageX<hf.scrollSensitivity?this.scrollParent[0].scrollLeft=pf=this.scrollParent[0].scrollLeft+hf.scrollSpeed:of.pageX-this.overflowOffset.left<hf.scrollSensitivity&&(this.scrollParent[0].scrollLeft=pf=this.scrollParent[0].scrollLeft-hf.scrollSpeed)):(of.pageY-this.document.scrollTop()<hf.scrollSensitivity?pf=this.document.scrollTop(this.document.scrollTop()-hf.scrollSpeed):this.window.height()-(of.pageY-this.document.scrollTop())<hf.scrollSensitivity&&(pf=this.document.scrollTop(this.document.scrollTop()+hf.scrollSpeed)),of.pageX-this.document.scrollLeft()<hf.scrollSensitivity?pf=this.document.scrollLeft(this.document.scrollLeft()-hf.scrollSpeed):this.window.width()-(of.pageX-this.document.scrollLeft())<hf.scrollSensitivity&&(pf=this.document.scrollLeft(this.document.scrollLeft()+hf.scrollSpeed))),pf},_mouseDrag:function(of){var hf,pf,vf,Ef,Sf=this.options;for(this.position=this._generatePosition(of),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||this.options.axis!=="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!=="x")&&(this.helper[0].style.top=this.position.top+"px"),Sf.scroll&&this._scroll(of)!==!1&&(this._refreshItemPositions(!0),Qc.ui.ddmanager&&!Sf.dropBehaviour&&Qc.ui.ddmanager.prepareOffsets(this,of)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},hf=this.items.length-1;hf>=0;hf--)if(pf=this.items[hf],vf=pf.item[0],Ef=this._intersectsWithPointer(pf),!!Ef&&pf.instance===this.currentContainer&&vf!==this.currentItem[0]&&this.placeholder[Ef===1?"next":"prev"]()[0]!==vf&&!Qc.contains(this.placeholder[0],vf)&&(this.options.type!=="semi-dynamic"||!Qc.contains(this.element[0],vf))){if(this.direction=Ef===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(pf))this._rearrange(of,pf);else break;this._trigger("change",of,this._uiHash());break}return this._contactContainers(of),Qc.ui.ddmanager&&Qc.ui.ddmanager.drag(this,of),this._trigger("sort",of,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(of,hf){if(of){if(Qc.ui.ddmanager&&!this.options.dropBehaviour&&Qc.ui.ddmanager.drop(this,of),this.options.revert){var pf=this,vf=this.placeholder.offset(),Ef=this.options.axis,Sf={};(!Ef||Ef==="x")&&(Sf.left=vf.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!Ef||Ef==="y")&&(Sf.top=vf.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,Qc(this.helper).animate(Sf,parseInt(this.options.revert,10)||500,function(){pf._clear(of)})}else this._clear(of,hf);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new Qc.Event("mouseup",{target:null})),this.options.helper==="original"?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var of=this.containers.length-1;of>=0;of--)this.containers[of]._trigger("deactivate",null,this._uiHash(this)),this.containers[of].containerCache.over&&(this.containers[of]._trigger("out",null,this._uiHash(this)),this.containers[of].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),Qc.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?Qc(this.domPosition.prev).after(this.currentItem):Qc(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(of){var hf=this._getItemsAsjQuery(of&&of.connected),pf=[];return of=of||{},Qc(hf).each(function(){var vf=(Qc(of.item||this).attr(of.attribute||"id")||"").match(of.expression||/(.+)[\-=_](.+)/);vf&&pf.push((of.key||vf[1]+"[]")+"="+(of.key&&of.expression?vf[1]:vf[2]))}),!pf.length&&of.key&&pf.push(of.key+"="),pf.join("&")},toArray:function(of){var hf=this._getItemsAsjQuery(of&&of.connected),pf=[];return of=of||{},hf.each(function(){pf.push(Qc(of.item||this).attr(of.attribute||"id")||"")}),pf},_intersectsWith:function(of){var hf=this.positionAbs.left,pf=hf+this.helperProportions.width,vf=this.positionAbs.top,Ef=vf+this.helperProportions.height,Sf=of.left,Ff=Sf+of.width,Uf=of.top,Wf=Uf+of.height,eh=this.offset.click.top,th=this.offset.click.left,_h=this.options.axis==="x"||vf+eh>Uf&&vf+eh<Wf,wh=this.options.axis==="y"||hf+th>Sf&&hf+th<Ff,oh=_h&&wh;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>of[this.floating?"width":"height"]?oh:Sf<hf+this.helperProportions.width/2&&pf-this.helperProportions.width/2<Ff&&Uf<vf+this.helperProportions.height/2&&Ef-this.helperProportions.height/2<Wf},_intersectsWithPointer:function(of){var hf,pf,vf=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,of.top,of.height),Ef=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,of.left,of.width),Sf=vf&&Ef;return Sf?(hf=this.dragDirection.vertical,pf=this.dragDirection.horizontal,this.floating?pf==="right"||hf==="down"?2:1:hf&&(hf==="down"?2:1)):!1},_intersectsWithSides:function(of){var hf=this._isOverAxis(this.positionAbs.top+this.offset.click.top,of.top+of.height/2,of.height),pf=this._isOverAxis(this.positionAbs.left+this.offset.click.left,of.left+of.width/2,of.width),vf=this.dragDirection.vertical,Ef=this.dragDirection.horizontal;return this.floating&&Ef?Ef==="right"&&pf||Ef==="left"&&!pf:vf&&(vf==="down"&&hf||vf==="up"&&!hf)},_getDragVerticalDirection:function(){var of=this.positionAbs.top-this.lastPositionAbs.top;return of!==0&&(of>0?"down":"up")},_getDragHorizontalDirection:function(){var of=this.positionAbs.left-this.lastPositionAbs.left;return of!==0&&(of>0?"right":"left")},refresh:function(of){return this._refreshItems(of),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var of=this.options;return of.connectWith.constructor===String?[of.connectWith]:of.connectWith},_getItemsAsjQuery:function(of){var hf,pf,vf,Ef,Sf=[],Ff=[],Uf=this._connectWith();if(Uf&&of)for(hf=Uf.length-1;hf>=0;hf--)for(vf=Qc(Uf[hf],this.document[0]),pf=vf.length-1;pf>=0;pf--)Ef=Qc.data(vf[pf],this.widgetFullName),Ef&&Ef!==this&&!Ef.options.disabled&&Ff.push([typeof Ef.options.items=="function"?Ef.options.items.call(Ef.element):Qc(Ef.options.items,Ef.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),Ef]);Ff.push([typeof this.options.items=="function"?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):Qc(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function Wf(){Sf.push(this)}for(hf=Ff.length-1;hf>=0;hf--)Ff[hf][0].each(Wf);return Qc(Sf)},_removeCurrentsFromItems:function(){var of=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=Qc.grep(this.items,function(hf){for(var pf=0;pf<of.length;pf++)if(of[pf]===hf.item[0])return!1;return!0})},_refreshItems:function(of){this.items=[],this.containers=[this];var hf,pf,vf,Ef,Sf,Ff,Uf,Wf,eh=this.items,th=[[typeof this.options.items=="function"?this.options.items.call(this.element[0],of,{item:this.currentItem}):Qc(this.options.items,this.element),this]],_h=this._connectWith();if(_h&&this.ready)for(hf=_h.length-1;hf>=0;hf--)for(vf=Qc(_h[hf],this.document[0]),pf=vf.length-1;pf>=0;pf--)Ef=Qc.data(vf[pf],this.widgetFullName),Ef&&Ef!==this&&!Ef.options.disabled&&(th.push([typeof Ef.options.items=="function"?Ef.options.items.call(Ef.element[0],of,{item:this.currentItem}):Qc(Ef.options.items,Ef.element),Ef]),this.containers.push(Ef));for(hf=th.length-1;hf>=0;hf--)for(Sf=th[hf][1],Ff=th[hf][0],pf=0,Wf=Ff.length;pf<Wf;pf++)Uf=Qc(Ff[pf]),Uf.data(this.widgetName+"-item",Sf),eh.push({item:Uf,instance:Sf,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(of){var hf,pf,vf,Ef;for(hf=this.items.length-1;hf>=0;hf--)pf=this.items[hf],!(this.currentContainer&&pf.instance!==this.currentContainer&&pf.item[0]!==this.currentItem[0])&&(vf=this.options.toleranceElement?Qc(this.options.toleranceElement,pf.item):pf.item,of||(pf.width=vf.outerWidth(),pf.height=vf.outerHeight()),Ef=vf.offset(),pf.left=Ef.left,pf.top=Ef.top)},refreshPositions:function(of){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(of);var hf,pf;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(hf=this.containers.length-1;hf>=0;hf--)pf=this.containers[hf].element.offset(),this.containers[hf].containerCache.left=pf.left,this.containers[hf].containerCache.top=pf.top,this.containers[hf].containerCache.width=this.containers[hf].element.outerWidth(),this.containers[hf].containerCache.height=this.containers[hf].element.outerHeight();return this},_createPlaceholder:function(of){of=of||this;var hf,pf,vf=of.options;(!vf.placeholder||vf.placeholder.constructor===String)&&(hf=vf.placeholder,pf=of.currentItem[0].nodeName.toLowerCase(),vf.placeholder={element:function(){var Ef=Qc("<"+pf+">",of.document[0]);return of._addClass(Ef,"ui-sortable-placeholder",hf||of.currentItem[0].className)._removeClass(Ef,"ui-sortable-helper"),pf==="tbody"?of._createTrPlaceholder(of.currentItem.find("tr").eq(0),Qc("<tr>",of.document[0]).appendTo(Ef)):pf==="tr"?of._createTrPlaceholder(of.currentItem,Ef):pf==="img"&&Ef.attr("src",of.currentItem.attr("src")),hf||Ef.css("visibility","hidden"),Ef},update:function(Ef,Sf){hf&&!vf.forcePlaceholderSize||((!Sf.height()||vf.forcePlaceholderSize&&(pf==="tbody"||pf==="tr"))&&Sf.height(of.currentItem.innerHeight()-parseInt(of.currentItem.css("paddingTop")||0,10)-parseInt(of.currentItem.css("paddingBottom")||0,10)),Sf.width()||Sf.width(of.currentItem.innerWidth()-parseInt(of.currentItem.css("paddingLeft")||0,10)-parseInt(of.currentItem.css("paddingRight")||0,10)))}}),of.placeholder=Qc(vf.placeholder.element.call(of.element,of.currentItem)),of.currentItem.after(of.placeholder),vf.placeholder.update(of,of.placeholder)},_createTrPlaceholder:function(of,hf){var pf=this;of.children().each(function(){Qc("<td>&#160;</td>",pf.document[0]).attr("colspan",Qc(this).attr("colspan")||1).appendTo(hf)})},_contactContainers:function(of){var hf,pf,vf,Ef,Sf,Ff,Uf,Wf,eh,th,_h=null,wh=null;for(hf=this.containers.length-1;hf>=0;hf--)if(!Qc.contains(this.currentItem[0],this.containers[hf].element[0]))if(this._intersectsWith(this.containers[hf].containerCache)){if(_h&&Qc.contains(this.containers[hf].element[0],_h.element[0]))continue;_h=this.containers[hf],wh=hf}else this.containers[hf].containerCache.over&&(this.containers[hf]._trigger("out",of,this._uiHash(this)),this.containers[hf].containerCache.over=0);if(_h)if(this.containers.length===1)this.containers[wh].containerCache.over||(this.containers[wh]._trigger("over",of,this._uiHash(this)),this.containers[wh].containerCache.over=1);else{for(vf=1e4,Ef=null,eh=_h.floating||this._isFloating(this.currentItem),Sf=eh?"left":"top",Ff=eh?"width":"height",th=eh?"pageX":"pageY",pf=this.items.length-1;pf>=0;pf--)Qc.contains(this.containers[wh].element[0],this.items[pf].item[0])&&this.items[pf].item[0]!==this.currentItem[0]&&(Uf=this.items[pf].item.offset()[Sf],Wf=!1,of[th]-Uf>this.items[pf][Ff]/2&&(Wf=!0),Math.abs(of[th]-Uf)<vf&&(vf=Math.abs(of[th]-Uf),Ef=this.items[pf],this.direction=Wf?"up":"down"));if(!Ef&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[wh]){this.currentContainer.containerCache.over||(this.containers[wh]._trigger("over",of,this._uiHash()),this.currentContainer.containerCache.over=1);return}Ef?this._rearrange(of,Ef,null,!0):this._rearrange(of,null,this.containers[wh].element,!0),this._trigger("change",of,this._uiHash()),this.containers[wh]._trigger("change",of,this._uiHash(this)),this.currentContainer=this.containers[wh],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this.containers[wh]._trigger("over",of,this._uiHash(this)),this.containers[wh].containerCache.over=1}},_createHelper:function(of){var hf=this.options,pf=typeof hf.helper=="function"?Qc(hf.helper.apply(this.element[0],[of,this.currentItem])):hf.helper==="clone"?this.currentItem.clone():this.currentItem;return pf.parents("body").length||this.appendTo[0].appendChild(pf[0]),pf[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!pf[0].style.width||hf.forceHelperSize)&&pf.width(this.currentItem.width()),(!pf[0].style.height||hf.forceHelperSize)&&pf.height(this.currentItem.height()),pf},_adjustOffsetFromHelper:function(of){typeof of=="string"&&(of=of.split(" ")),Array.isArray(of)&&(of={left:+of[0],top:+of[1]||0}),"left"in of&&(this.offset.click.left=of.left+this.margins.left),"right"in of&&(this.offset.click.left=this.helperProportions.width-of.right+this.margins.left),"top"in of&&(this.offset.click.top=of.top+this.margins.top),"bottom"in of&&(this.offset.click.top=this.helperProportions.height-of.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var of=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&Qc.contains(this.scrollParent[0],this.offsetParent[0])&&(of.left+=this.scrollParent.scrollLeft(),of.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&Qc.ui.ie)&&(of={top:0,left:0}),{top:of.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:of.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var of=this.currentItem.position();return{top:of.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:of.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var of,hf,pf,vf=this.options;vf.containment==="parent"&&(vf.containment=this.helper[0].parentNode),(vf.containment==="document"||vf.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,vf.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(vf.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(vf.containment)||(of=Qc(vf.containment)[0],hf=Qc(vf.containment).offset(),pf=Qc(of).css("overflow")!=="hidden",this.containment=[hf.left+(parseInt(Qc(of).css("borderLeftWidth"),10)||0)+(parseInt(Qc(of).css("paddingLeft"),10)||0)-this.margins.left,hf.top+(parseInt(Qc(of).css("borderTopWidth"),10)||0)+(parseInt(Qc(of).css("paddingTop"),10)||0)-this.margins.top,hf.left+(pf?Math.max(of.scrollWidth,of.offsetWidth):of.offsetWidth)-(parseInt(Qc(of).css("borderLeftWidth"),10)||0)-(parseInt(Qc(of).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,hf.top+(pf?Math.max(of.scrollHeight,of.offsetHeight):of.offsetHeight)-(parseInt(Qc(of).css("borderTopWidth"),10)||0)-(parseInt(Qc(of).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(of,hf){hf||(hf=this.position);var pf=of==="absolute"?1:-1,vf=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&Qc.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,Ef=/(html|body)/i.test(vf[0].tagName);return{top:hf.top+this.offset.relative.top*pf+this.offset.parent.top*pf-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():Ef?0:vf.scrollTop())*pf,left:hf.left+this.offset.relative.left*pf+this.offset.parent.left*pf-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():Ef?0:vf.scrollLeft())*pf}},_generatePosition:function(of){var hf,pf,vf=this.options,Ef=of.pageX,Sf=of.pageY,Ff=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&Qc.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,Uf=/(html|body)/i.test(Ff[0].tagName);return this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(of.pageX-this.offset.click.left<this.containment[0]&&(Ef=this.containment[0]+this.offset.click.left),of.pageY-this.offset.click.top<this.containment[1]&&(Sf=this.containment[1]+this.offset.click.top),of.pageX-this.offset.click.left>this.containment[2]&&(Ef=this.containment[2]+this.offset.click.left),of.pageY-this.offset.click.top>this.containment[3]&&(Sf=this.containment[3]+this.offset.click.top)),vf.grid&&(hf=this.originalPageY+Math.round((Sf-this.originalPageY)/vf.grid[1])*vf.grid[1],Sf=this.containment?hf-this.offset.click.top>=this.containment[1]&&hf-this.offset.click.top<=this.containment[3]?hf:hf-this.offset.click.top>=this.containment[1]?hf-vf.grid[1]:hf+vf.grid[1]:hf,pf=this.originalPageX+Math.round((Ef-this.originalPageX)/vf.grid[0])*vf.grid[0],Ef=this.containment?pf-this.offset.click.left>=this.containment[0]&&pf-this.offset.click.left<=this.containment[2]?pf:pf-this.offset.click.left>=this.containment[0]?pf-vf.grid[0]:pf+vf.grid[0]:pf)),{top:Sf-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():Uf?0:Ff.scrollTop()),left:Ef-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():Uf?0:Ff.scrollLeft())}},_rearrange:function(of,hf,pf,vf){pf?pf[0].appendChild(this.placeholder[0]):hf.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?hf.item[0]:hf.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var Ef=this.counter;this._delay(function(){Ef===this.counter&&this.refreshPositions(!vf)})},_clear:function(of,hf){this.reverting=!1;var pf,vf=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(pf in this._storedCSS)(this._storedCSS[pf]==="auto"||this._storedCSS[pf]==="static")&&(this._storedCSS[pf]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!hf&&vf.push(function(Sf){this._trigger("receive",Sf,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!hf&&vf.push(function(Sf){this._trigger("update",Sf,this._uiHash())}),this!==this.currentContainer&&(hf||(vf.push(function(Sf){this._trigger("remove",Sf,this._uiHash())}),vf.push((function(Sf){return function(Ff){Sf._trigger("receive",Ff,this._uiHash(this))}}).call(this,this.currentContainer)),vf.push((function(Sf){return function(Ff){Sf._trigger("update",Ff,this._uiHash(this))}}).call(this,this.currentContainer))));function Ef(Sf,Ff,Uf){return function(Wf){Uf._trigger(Sf,Wf,Ff._uiHash(Ff))}}for(pf=this.containers.length-1;pf>=0;pf--)hf||vf.push(Ef("deactivate",this,this.containers[pf])),this.containers[pf].containerCache.over&&(vf.push(Ef("out",this,this.containers[pf])),this.containers[pf].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,hf||this._trigger("beforeStop",of,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!hf){for(pf=0;pf<vf.length;pf++)vf[pf].call(this,of);this._trigger("stop",of,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){Qc.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(of){var hf=of||this;return{helper:hf.helper,placeholder:hf.placeholder||Qc([]),position:hf.position,originalPosition:hf.originalPosition,offset:hf.positionAbs,item:hf.currentItem,sender:of?of.element:null}}});/*!
 * jQuery UI Spinner 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */function Kf(of){return function(){var hf=this.element.val();of.apply(this,arguments),this._refresh(),hf!==this.element.val()&&this._trigger("change")}}Qc.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var of=this._super(),hf=this.element;return Qc.each(["min","max","step"],function(pf,vf){var Ef=hf.attr(vf);Ef!=null&&Ef.length&&(of[vf]=Ef)}),of},_events:{keydown:function(of){this._start(of)&&this._keydown(of)&&of.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(of){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",of)},mousewheel:function(of,hf){var pf=Qc.ui.safeActiveElement(this.document[0]),vf=this.element[0]===pf;if(!(!vf||!hf)){if(!this.spinning&&!this._start(of))return!1;this._spin((hf>0?1:-1)*this.options.step,of),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(of)},100),of.preventDefault()}},"mousedown .ui-spinner-button":function(of){var hf;hf=this.element[0]===Qc.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function pf(){var vf=this.element[0]===Qc.ui.safeActiveElement(this.document[0]);vf||(this.element.trigger("focus"),this.previous=hf,this._delay(function(){this.previous=hf}))}of.preventDefault(),pf.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,pf.call(this)}),this._start(of)!==!1&&this._repeat(null,Qc(of.currentTarget).hasClass("ui-spinner-up")?1:-1,of)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(of){if(Qc(of.currentTarget).hasClass("ui-state-active")){if(this._start(of)===!1)return!1;this._repeat(null,Qc(of.currentTarget).hasClass("ui-spinner-up")?1:-1,of)}},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(this.uiSpinner.height()*.5)&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(of){var hf=this.options,pf=Qc.ui.keyCode;switch(of.keyCode){case pf.UP:return this._repeat(null,1,of),!0;case pf.DOWN:return this._repeat(null,-1,of),!0;case pf.PAGE_UP:return this._repeat(null,hf.page,of),!0;case pf.PAGE_DOWN:return this._repeat(null,-hf.page,of),!0}return!1},_start:function(of){return!this.spinning&&this._trigger("start",of)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(of,hf,pf){of=of||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,hf,pf)},of),this._spin(hf*this.options.step,pf)},_spin:function(of,hf){var pf=this.value()||0;this.counter||(this.counter=1),pf=this._adjustValue(pf+of*this._increment(this.counter)),(!this.spinning||this._trigger("spin",hf,{value:pf})!==!1)&&(this._value(pf),this.counter++)},_increment:function(of){var hf=this.options.incremental;return hf?typeof hf=="function"?hf(of):Math.floor(of*of*of/5e4-of*of/500+17*of/200+1):1},_precision:function(){var of=this._precisionOf(this.options.step);return this.options.min!==null&&(of=Math.max(of,this._precisionOf(this.options.min))),of},_precisionOf:function(of){var hf=of.toString(),pf=hf.indexOf(".");return pf===-1?0:hf.length-pf-1},_adjustValue:function(of){var hf,pf,vf=this.options;return hf=vf.min!==null?vf.min:0,pf=of-hf,pf=Math.round(pf/vf.step)*vf.step,of=hf+pf,of=parseFloat(of.toFixed(this._precision())),vf.max!==null&&of>vf.max?vf.max:vf.min!==null&&of<vf.min?vf.min:of},_stop:function(of){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",of))},_setOption:function(of,hf){var pf,vf,Ef;if(of==="culture"||of==="numberFormat"){pf=this._parse(this.element.val()),this.options[of]=hf,this.element.val(this._format(pf));return}(of==="max"||of==="min"||of==="step")&&typeof hf=="string"&&(hf=this._parse(hf)),of==="icons"&&(vf=this.buttons.first().find(".ui-icon"),this._removeClass(vf,null,this.options.icons.up),this._addClass(vf,null,hf.up),Ef=this.buttons.last().find(".ui-icon"),this._removeClass(Ef,null,this.options.icons.down),this._addClass(Ef,null,hf.down)),this._super(of,hf)},_setOptionDisabled:function(of){this._super(of),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!of),this.element.prop("disabled",!!of),this.buttons.button(of?"disable":"enable")},_setOptions:Kf(function(of){this._super(of)}),_parse:function(of){return typeof of=="string"&&of!==""&&(of=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(of,10,this.options.culture):+of),of===""||isNaN(of)?null:of},_format:function(of){return of===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(of,this.options.numberFormat,this.options.culture):of},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var of=this.value();return of===null?!1:of===this._adjustValue(of)},_value:function(of,hf){var pf;of!==""&&(pf=this._parse(of),pf!==null&&(hf||(pf=this._adjustValue(pf)),of=this._format(pf))),this.element.val(of),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:Kf(function(of){this._stepUp(of)}),_stepUp:function(of){this._start()&&(this._spin((of||1)*this.options.step),this._stop())},stepDown:Kf(function(of){this._stepDown(of)}),_stepDown:function(of){this._start()&&(this._spin((of||1)*-this.options.step),this._stop())},pageUp:Kf(function(of){this._stepUp((of||1)*this.options.page)}),pageDown:Kf(function(of){this._stepDown((of||1)*this.options.page)}),value:function(of){if(!arguments.length)return this._parse(this.element.val());Kf(this._value).call(this,of)},widget:function(){return this.uiSpinner}}),Qc.uiBackCompat!==!1&&Qc.widget("ui.spinner",Qc.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),Qc.ui.spinner;/*!
 * jQuery UI Tabs 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var of=/#.*$/;return function(hf){var pf,vf;pf=hf.href.replace(of,""),vf=location.href.replace(of,"");try{pf=decodeURIComponent(pf)}catch{}try{vf=decodeURIComponent(vf)}catch{}return hf.hash.length>1&&pf===vf}}(),_create:function(){var of=this,hf=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,hf.collapsible),this._processTabs(),hf.active=this._initialActive(),Array.isArray(hf.disabled)&&(hf.disabled=Qc.uniqueSort(hf.disabled.concat(Qc.map(this.tabs.filter(".ui-state-disabled"),function(pf){return of.tabs.index(pf)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(hf.active):this.active=Qc(),this._refresh(),this.active.length&&this.load(hf.active)},_initialActive:function(){var of=this.options.active,hf=this.options.collapsible,pf=location.hash.substring(1);return of===null&&(pf&&this.tabs.each(function(vf,Ef){if(Qc(Ef).attr("aria-controls")===pf)return of=vf,!1}),of===null&&(of=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(of===null||of===-1)&&(of=this.tabs.length?0:!1)),of!==!1&&(of=this.tabs.index(this.tabs.eq(of)),of===-1&&(of=hf?!1:0)),!hf&&of===!1&&this.anchors.length&&(of=0),of},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):Qc()}},_tabKeydown:function(of){var hf=Qc(Qc.ui.safeActiveElement(this.document[0])).closest("li"),pf=this.tabs.index(hf),vf=!0;if(!this._handlePageNav(of)){switch(of.keyCode){case Qc.ui.keyCode.RIGHT:case Qc.ui.keyCode.DOWN:pf++;break;case Qc.ui.keyCode.UP:case Qc.ui.keyCode.LEFT:vf=!1,pf--;break;case Qc.ui.keyCode.END:pf=this.anchors.length-1;break;case Qc.ui.keyCode.HOME:pf=0;break;case Qc.ui.keyCode.SPACE:of.preventDefault(),clearTimeout(this.activating),this._activate(pf);return;case Qc.ui.keyCode.ENTER:of.preventDefault(),clearTimeout(this.activating),this._activate(pf===this.options.active?!1:pf);return;default:return}of.preventDefault(),clearTimeout(this.activating),pf=this._focusNextTab(pf,vf),!of.ctrlKey&&!of.metaKey&&(hf.attr("aria-selected","false"),this.tabs.eq(pf).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",pf)},this.delay))}},_panelKeydown:function(of){this._handlePageNav(of)||of.ctrlKey&&of.keyCode===Qc.ui.keyCode.UP&&(of.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(of){if(of.altKey&&of.keyCode===Qc.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(of.altKey&&of.keyCode===Qc.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(of,hf){var pf=this.tabs.length-1;function vf(){return of>pf&&(of=0),of<0&&(of=pf),of}for(;Qc.inArray(vf(),this.options.disabled)!==-1;)of=hf?of+1:of-1;return of},_focusNextTab:function(of,hf){return of=this._findNextTab(of,hf),this.tabs.eq(of).trigger("focus"),of},_setOption:function(of,hf){if(of==="active"){this._activate(hf);return}this._super(of,hf),of==="collapsible"&&(this._toggleClass("ui-tabs-collapsible",null,hf),!hf&&this.options.active===!1&&this._activate(0)),of==="event"&&this._setupEvents(hf),of==="heightStyle"&&this._setupHeightStyle(hf)},_sanitizeSelector:function(of){return of?of.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var of=this.options,hf=this.tablist.children(":has(a[href])");of.disabled=Qc.map(hf.filter(".ui-state-disabled"),function(pf){return hf.index(pf)}),this._processTabs(),of.active===!1||!this.anchors.length?(of.active=!1,this.active=Qc()):this.active.length&&!Qc.contains(this.tablist[0],this.active[0])?this.tabs.length===of.disabled.length?(of.active=!1,this.active=Qc()):this._activate(this._findNextTab(Math.max(0,of.active-1),!1)):of.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var of=this,hf=this.tabs,pf=this.anchors,vf=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(Ef){Qc(this).is(".ui-state-disabled")&&Ef.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){Qc(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return Qc("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=Qc(),this.anchors.each(function(Ef,Sf){var Ff,Uf,Wf,eh=Qc(Sf).uniqueId().attr("id"),th=Qc(Sf).closest("li"),_h=th.attr("aria-controls");of._isLocal(Sf)?(Ff=Sf.hash,Wf=Ff.substring(1),Uf=of.element.find(of._sanitizeSelector(Ff))):(Wf=th.attr("aria-controls")||Qc({}).uniqueId()[0].id,Ff="#"+Wf,Uf=of.element.find(Ff),Uf.length||(Uf=of._createPanel(Wf),Uf.insertAfter(of.panels[Ef-1]||of.tablist)),Uf.attr("aria-live","polite")),Uf.length&&(of.panels=of.panels.add(Uf)),_h&&th.data("ui-tabs-aria-controls",_h),th.attr({"aria-controls":Wf,"aria-labelledby":eh}),Uf.attr("aria-labelledby",eh)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),hf&&(this._off(hf.not(this.tabs)),this._off(pf.not(this.anchors)),this._off(vf.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(of){return Qc("<div>").attr("id",of).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(of){var hf,pf,vf;for(Array.isArray(of)&&(of.length?of.length===this.anchors.length&&(of=!0):of=!1),vf=0;pf=this.tabs[vf];vf++)hf=Qc(pf),of===!0||Qc.inArray(vf,of)!==-1?(hf.attr("aria-disabled","true"),this._addClass(hf,null,"ui-state-disabled")):(hf.removeAttr("aria-disabled"),this._removeClass(hf,null,"ui-state-disabled"));this.options.disabled=of,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,of===!0)},_setupEvents:function(of){var hf={};of&&Qc.each(of.split(" "),function(pf,vf){hf[vf]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(pf){pf.preventDefault()}}),this._on(this.anchors,hf),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(of){var hf,pf=this.element.parent();of==="fill"?(hf=pf.height(),hf-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var vf=Qc(this),Ef=vf.css("position");Ef==="absolute"||Ef==="fixed"||(hf-=vf.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){hf-=Qc(this).outerHeight(!0)}),this.panels.each(function(){Qc(this).height(Math.max(0,hf-Qc(this).innerHeight()+Qc(this).height()))}).css("overflow","auto")):of==="auto"&&(hf=0,this.panels.each(function(){hf=Math.max(hf,Qc(this).height("").height())}).height(hf))},_eventHandler:function(of){var hf=this.options,pf=this.active,vf=Qc(of.currentTarget),Ef=vf.closest("li"),Sf=Ef[0]===pf[0],Ff=Sf&&hf.collapsible,Uf=Ff?Qc():this._getPanelForTab(Ef),Wf=pf.length?this._getPanelForTab(pf):Qc(),eh={oldTab:pf,oldPanel:Wf,newTab:Ff?Qc():Ef,newPanel:Uf};of.preventDefault(),!(Ef.hasClass("ui-state-disabled")||Ef.hasClass("ui-tabs-loading")||this.running||Sf&&!hf.collapsible||this._trigger("beforeActivate",of,eh)===!1)&&(hf.active=Ff?!1:this.tabs.index(Ef),this.active=Sf?Qc():Ef,this.xhr&&this.xhr.abort(),!Wf.length&&!Uf.length&&Qc.error("jQuery UI Tabs: Mismatching fragment identifier."),Uf.length&&this.load(this.tabs.index(Ef),of),this._toggle(of,eh))},_toggle:function(of,hf){var pf=this,vf=hf.newPanel,Ef=hf.oldPanel;this.running=!0;function Sf(){pf.running=!1,pf._trigger("activate",of,hf)}function Ff(){pf._addClass(hf.newTab.closest("li"),"ui-tabs-active","ui-state-active"),vf.length&&pf.options.show?pf._show(vf,pf.options.show,Sf):(vf.show(),Sf())}Ef.length&&this.options.hide?this._hide(Ef,this.options.hide,function(){pf._removeClass(hf.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),Ff()}):(this._removeClass(hf.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),Ef.hide(),Ff()),Ef.attr("aria-hidden","true"),hf.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),vf.length&&Ef.length?hf.oldTab.attr("tabIndex",-1):vf.length&&this.tabs.filter(function(){return Qc(this).attr("tabIndex")===0}).attr("tabIndex",-1),vf.attr("aria-hidden","false"),hf.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(of){var hf,pf=this._findActive(of);pf[0]!==this.active[0]&&(pf.length||(pf=this.active),hf=pf.find(".ui-tabs-anchor")[0],this._eventHandler({target:hf,currentTarget:hf,preventDefault:Qc.noop}))},_findActive:function(of){return of===!1?Qc():this.tabs.eq(of)},_getIndex:function(of){return typeof of=="string"&&(of=this.anchors.index(this.anchors.filter("[href$='"+Qc.escapeSelector(of)+"']"))),of},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){Qc.data(this,"ui-tabs-destroy")?Qc(this).remove():Qc(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var of=Qc(this),hf=of.data("ui-tabs-aria-controls");hf?of.attr("aria-controls",hf).removeData("ui-tabs-aria-controls"):of.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(of){var hf=this.options.disabled;hf!==!1&&(of===void 0?hf=!1:(of=this._getIndex(of),Array.isArray(hf)?hf=Qc.map(hf,function(pf){return pf!==of?pf:null}):hf=Qc.map(this.tabs,function(pf,vf){return vf!==of?vf:null})),this._setOptionDisabled(hf))},disable:function(of){var hf=this.options.disabled;if(hf!==!0){if(of===void 0)hf=!0;else{if(of=this._getIndex(of),Qc.inArray(of,hf)!==-1)return;Array.isArray(hf)?hf=Qc.merge([of],hf).sort():hf=[of]}this._setOptionDisabled(hf)}},load:function(of,hf){of=this._getIndex(of);var pf=this,vf=this.tabs.eq(of),Ef=vf.find(".ui-tabs-anchor"),Sf=this._getPanelForTab(vf),Ff={tab:vf,panel:Sf},Uf=function(Wf,eh){eh==="abort"&&pf.panels.stop(!1,!0),pf._removeClass(vf,"ui-tabs-loading"),Sf.removeAttr("aria-busy"),Wf===pf.xhr&&delete pf.xhr};this._isLocal(Ef[0])||(this.xhr=Qc.ajax(this._ajaxSettings(Ef,hf,Ff)),this.xhr&&this.xhr.statusText!=="canceled"&&(this._addClass(vf,"ui-tabs-loading"),Sf.attr("aria-busy","true"),this.xhr.done(function(Wf,eh,th){setTimeout(function(){Sf.html(Wf),pf._trigger("load",hf,Ff),Uf(th,eh)},1)}).fail(function(Wf,eh){setTimeout(function(){Uf(Wf,eh)},1)})))},_ajaxSettings:function(of,hf,pf){var vf=this;return{url:of.attr("href").replace(/#.*$/,""),beforeSend:function(Ef,Sf){return vf._trigger("beforeLoad",hf,Qc.extend({jqXHR:Ef,ajaxSettings:Sf},pf))}}},_getPanelForTab:function(of){var hf=Qc(of).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+hf))}}),Qc.uiBackCompat!==!1&&Qc.widget("ui.tabs",Qc.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),Qc.ui.tabs;/*!
 * jQuery UI Tooltip 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */Qc.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var of=Qc(this).attr("title");return Qc("<a>").text(of).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(of,hf){var pf=(of.attr("aria-describedby")||"").split(/\s+/);pf.push(hf),of.data("ui-tooltip-id",hf).attr("aria-describedby",String.prototype.trim.call(pf.join(" ")))},_removeDescribedBy:function(of){var hf=of.data("ui-tooltip-id"),pf=(of.attr("aria-describedby")||"").split(/\s+/),vf=Qc.inArray(hf,pf);vf!==-1&&pf.splice(vf,1),of.removeData("ui-tooltip-id"),pf=String.prototype.trim.call(pf.join(" ")),pf?of.attr("aria-describedby",pf):of.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=Qc("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=Qc([])},_setOption:function(of,hf){var pf=this;this._super(of,hf),of==="content"&&Qc.each(this.tooltips,function(vf,Ef){pf._updateContent(Ef.element)})},_setOptionDisabled:function(of){this[of?"_disable":"_enable"]()},_disable:function(){var of=this;Qc.each(this.tooltips,function(hf,pf){var vf=Qc.Event("blur");vf.target=vf.currentTarget=pf.element[0],of.close(vf,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var hf=Qc(this);if(hf.is("[title]"))return hf.data("ui-tooltip-title",hf.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var of=Qc(this);of.data("ui-tooltip-title")&&of.attr("title",of.data("ui-tooltip-title"))}),this.disabledTitles=Qc([])},open:function(of){var hf=this,pf=Qc(of?of.target:this.element).closest(this.options.items);!pf.length||pf.data("ui-tooltip-id")||(pf.attr("title")&&pf.data("ui-tooltip-title",pf.attr("title")),pf.data("ui-tooltip-open",!0),of&&of.type==="mouseover"&&pf.parents().each(function(){var vf=Qc(this),Ef;vf.data("ui-tooltip-open")&&(Ef=Qc.Event("blur"),Ef.target=Ef.currentTarget=this,hf.close(Ef,!0)),vf.attr("title")&&(vf.uniqueId(),hf.parents[this.id]={element:this,title:vf.attr("title")},vf.attr("title",""))}),this._registerCloseHandlers(of,pf),this._updateContent(pf,of))},_updateContent:function(of,hf){var pf,vf=this.options.content,Ef=this,Sf=hf?hf.type:null;if(typeof vf=="string"||vf.nodeType||vf.jquery)return this._open(hf,of,vf);pf=vf.call(of[0],function(Ff){Ef._delay(function(){of.data("ui-tooltip-open")&&(hf&&(hf.type=Sf),this._open(hf,of,Ff))})}),pf&&this._open(hf,of,pf)},_open:function(of,hf,pf){var vf,Ef,Sf,Ff,Uf=Qc.extend({},this.options.position);if(!pf)return;if(vf=this._find(hf),vf){vf.tooltip.find(".ui-tooltip-content").html(pf);return}hf.is("[title]")&&(of&&of.type==="mouseover"?hf.attr("title",""):hf.removeAttr("title")),vf=this._tooltip(hf),Ef=vf.tooltip,this._addDescribedBy(hf,Ef.attr("id")),Ef.find(".ui-tooltip-content").html(pf),this.liveRegion.children().hide(),Ff=Qc("<div>").html(Ef.find(".ui-tooltip-content").html()),Ff.removeAttr("name").find("[name]").removeAttr("name"),Ff.removeAttr("id").find("[id]").removeAttr("id"),Ff.appendTo(this.liveRegion);function Wf(eh){Uf.of=eh,!Ef.is(":hidden")&&Ef.position(Uf)}this.options.track&&of&&/^mouse/.test(of.type)?(this._on(this.document,{mousemove:Wf}),Wf(of)):Ef.position(Qc.extend({of:hf},this.options.position)),Ef.hide(),this._show(Ef,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(Sf=this.delayedShow=setInterval(function(){Ef.is(":visible")&&(Wf(Uf.of),clearInterval(Sf))},13)),this._trigger("open",of,{tooltip:Ef})},_registerCloseHandlers:function(of,hf){var pf={keyup:function(vf){if(vf.keyCode===Qc.ui.keyCode.ESCAPE){var Ef=Qc.Event(vf);Ef.currentTarget=hf[0],this.close(Ef,!0)}}};hf[0]!==this.element[0]&&(pf.remove=function(){var vf=this._find(hf);vf&&this._removeTooltip(vf.tooltip)}),(!of||of.type==="mouseover")&&(pf.mouseleave="close"),(!of||of.type==="focusin")&&(pf.focusout="close"),this._on(!0,hf,pf)},close:function(of){var hf,pf=this,vf=Qc(of?of.currentTarget:this.element),Ef=this._find(vf);if(!Ef){vf.removeData("ui-tooltip-open");return}hf=Ef.tooltip,!Ef.closing&&(clearInterval(this.delayedShow),vf.data("ui-tooltip-title")&&!vf.attr("title")&&vf.attr("title",vf.data("ui-tooltip-title")),this._removeDescribedBy(vf),Ef.hiding=!0,hf.stop(!0),this._hide(hf,this.options.hide,function(){pf._removeTooltip(Qc(this))}),vf.removeData("ui-tooltip-open"),this._off(vf,"mouseleave focusout keyup"),vf[0]!==this.element[0]&&this._off(vf,"remove"),this._off(this.document,"mousemove"),of&&of.type==="mouseleave"&&Qc.each(this.parents,function(Sf,Ff){Qc(Ff.element).attr("title",Ff.title),delete pf.parents[Sf]}),Ef.closing=!0,this._trigger("close",of,{tooltip:hf}),Ef.hiding||(Ef.closing=!1))},_tooltip:function(of){var hf=Qc("<div>").attr("role","tooltip"),pf=Qc("<div>").appendTo(hf),vf=hf.uniqueId().attr("id");return this._addClass(pf,"ui-tooltip-content"),this._addClass(hf,"ui-tooltip","ui-widget ui-widget-content"),hf.appendTo(this._appendTo(of)),this.tooltips[vf]={element:of,tooltip:hf}},_find:function(of){var hf=of.data("ui-tooltip-id");return hf?this.tooltips[hf]:null},_removeTooltip:function(of){clearInterval(this.delayedShow),of.remove(),delete this.tooltips[of.attr("id")]},_appendTo:function(of){var hf=of.closest(".ui-front, dialog");return hf.length||(hf=this.document[0].body),hf},_destroy:function(){var of=this;Qc.each(this.tooltips,function(hf,pf){var vf=Qc.Event("blur"),Ef=pf.element;vf.target=vf.currentTarget=Ef[0],of.close(vf,!0),Qc("#"+hf).remove(),Ef.data("ui-tooltip-title")&&(Ef.attr("title")||Ef.attr("title",Ef.data("ui-tooltip-title")),Ef.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),Qc.uiBackCompat!==!1&&Qc.widget("ui.tooltip",Qc.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var of=this._superApply(arguments);return this.options.tooltipClass&&of.tooltip.addClass(this.options.tooltipClass),of}}),Qc.ui.tooltip});var jquery_textcomplete={exports:{}};(function(Qc){(function(ef){if(Qc.exports){var tf=jqueryExports;Qc.exports=ef(tf)}else ef(jQuery)})(function(ef){/*!
 * jQuery.textcomplete
 *
 * Repository: https://github.com/yuku-t/jquery-textcomplete
 * License:    MIT (https://github.com/yuku-t/jquery-textcomplete/blob/master/LICENSE)
 * Author:     Yuku Takahashi
 */if(typeof ef>"u")throw new Error("jQuery.textcomplete requires jQuery");return+function(tf){var nf=function(sf){console.warn&&console.warn(sf)},rf=1;tf.fn.textcomplete=function(sf,af){var lf=Array.prototype.slice.call(arguments);return this.each(function(){var cf=this,uf=tf(this),ff=uf.data("textComplete");if(ff||(af||(af={}),af._oid=rf++,ff=new tf.fn.textcomplete.Completer(this,af),uf.data("textComplete",ff)),typeof sf=="string"){if(!ff)return;lf.shift(),ff[sf].apply(ff,lf),sf==="destroy"&&uf.removeData("textComplete")}else tf.each(sf,function(df){tf.each(["header","footer","placement","maxCount"],function(gf){df[gf]&&(ff.option[gf]=df[gf],nf(gf+"as a strategy param is deprecated. Use option."),delete df[gf])})}),ff.register(tf.fn.textcomplete.Strategy.parse(sf,{el:cf,$el:uf}))})}}(ef),+function(tf){var nf=function(cf){var uf,ff;return function(){var df=Array.prototype.slice.call(arguments);if(uf){ff=df;return}uf=!0;var gf=this;df.unshift(function _f(){if(ff){var xf=ff;ff=void 0,xf.unshift(_f),cf.apply(gf,xf)}else uf=!1}),cf.apply(this,df)}},rf=function(cf){return Object.prototype.toString.call(cf)==="[object String]"},sf=0,af=[];function lf(cf,uf){if(this.$el=tf(cf),this.id="textcomplete"+sf++,this.strategies=[],this.views=[],this.option=tf.extend({},lf.defaults,uf),!this.$el.is("input[type=text]")&&!this.$el.is("input[type=search]")&&!this.$el.is("textarea")&&!cf.isContentEditable&&cf.contentEditable!="true")throw new Error("textcomplete must be called on a Textarea or a ContentEditable.");if(cf===cf.ownerDocument.activeElement)this.initialize();else{var ff=this;this.$el.one("focus."+this.id,function(){ff.initialize()}),(!this.option.adapter||this.option.adapter=="CKEditor")&&typeof CKEDITOR<"u"&&this.$el.is("textarea")&&CKEDITOR.on("instanceReady",function(df){tf.inArray(df.editor.id,af)==-1&&(af.push(df.editor.id),df.editor.on("focus",function(gf){ff.$el=tf(df.editor.editable().$),ff.option.adapter||(ff.option.adapter=tf.fn.textcomplete.CKEditor),ff.option.ckeditor_instance=df.editor,ff.initialize()}))})}}lf.defaults={appendTo:"body",className:"",dropdownClassName:"dropdown-menu textcomplete-dropdown",maxCount:10,zIndex:"100",rightEdgeOffset:30},tf.extend(lf.prototype,{id:null,option:null,strategies:null,adapter:null,dropdown:null,$el:null,$iframe:null,initialize:function(){var cf=this.$el.get(0);if(this.$el.prop("ownerDocument")!==document&&window.frames.length){for(var uf=0;uf<window.frames.length;uf++)if(this.$el.prop("ownerDocument")===window.frames[uf].document){this.$iframe=tf(window.frames[uf].frameElement);break}}this.dropdown=new tf.fn.textcomplete.Dropdown(cf,this,this.option);var ff,df;this.option.adapter?ff=this.option.adapter:(this.$el.is("textarea")||this.$el.is("input[type=text]")||this.$el.is("input[type=search]")?df=typeof cf.selectionEnd=="number"?"Textarea":"IETextarea":df="ContentEditable",ff=tf.fn.textcomplete[df]),this.adapter=new ff(cf,this,this.option)},destroy:function(){this.$el.off("."+this.id),this.adapter&&this.adapter.destroy(),this.dropdown&&this.dropdown.destroy(),this.$el=this.adapter=this.dropdown=null},deactivate:function(){this.dropdown&&this.dropdown.deactivate()},trigger:function(cf,uf){this.dropdown||this.initialize(),cf!=null||(cf=this.adapter.getTextFromHeadToCaret());var ff=this._extractSearchQuery(cf);if(ff.length){var df=ff[1];if(uf&&this._term===df&&df!=="")return;this._term=df,this._search.apply(this,ff)}else this._term=null,this.dropdown.deactivate()},fire:function(cf){var uf=Array.prototype.slice.call(arguments,1);return this.$el.trigger(cf,uf),this},register:function(cf){Array.prototype.push.apply(this.strategies,cf)},select:function(cf,uf,ff){this._term=null,this.adapter.select(cf,uf,ff),this.fire("change").fire("textComplete:select",cf,uf),this.adapter.focus()},_clearAtNext:!0,_term:null,_extractSearchQuery:function(cf){for(var uf=0;uf<this.strategies.length;uf++){var ff=this.strategies[uf],df=ff.context(cf);if(df||df===""){var gf=tf.isFunction(ff.match)?ff.match(cf):ff.match;rf(df)&&(cf=df);var _f=cf.match(gf);if(_f)return[ff,_f[ff.index],_f]}}return[]},_search:nf(function(cf,uf,ff,df){var gf=this;uf.search(ff,function(_f,xf){gf.dropdown.shown||gf.dropdown.activate(),gf._clearAtNext&&(gf.dropdown.clear(),gf._clearAtNext=!1),gf.dropdown.setPosition(gf.adapter.getCaretPosition()),gf.dropdown.render(gf._zip(_f,uf,ff)),xf||(cf(),gf._clearAtNext=!0)},df)}),_zip:function(cf,uf,ff){return tf.map(cf,function(df){return{value:df,strategy:uf,term:ff}})}}),tf.fn.textcomplete.Completer=lf}(ef),+function(tf){var nf=tf(window),rf=function(cf,uf){var ff,df,gf=uf.strategy.idProperty;for(ff=0;ff<cf.length;ff++)if(df=cf[ff],df.strategy===uf.strategy){if(gf){if(df.value[gf]===uf.value[gf])return!0}else if(df.value===uf.value)return!0}return!1},sf={};tf(document).on("click",function(cf){var uf=cf.originalEvent&&cf.originalEvent.keepTextCompleteDropdown;tf.each(sf,function(ff,df){ff!==uf&&df.deactivate()})});var af={SKIP_DEFAULT:0,KEY_UP:1,KEY_DOWN:2,KEY_ENTER:3,KEY_PAGEUP:4,KEY_PAGEDOWN:5,KEY_ESCAPE:6};function lf(cf,uf,ff){this.$el=lf.createElement(ff),this.completer=uf,this.id=uf.id+"dropdown",this._data=[],this.$inputEl=tf(cf),this.option=ff,ff.listPosition&&(this.setPosition=ff.listPosition),ff.height&&this.$el.height(ff.height);var df=this;tf.each(["maxCount","placement","footer","header","noResultsMessage","className"],function(gf,_f){ff[_f]!=null&&(df[_f]=ff[_f])}),this._bindEvents(cf),sf[this.id]=this}tf.extend(lf,{createElement:function(cf){var uf=cf.appendTo;uf instanceof tf||(uf=tf(uf));var ff=tf("<ul></ul>").addClass(cf.dropdownClassName).attr("id","textcomplete-dropdown-"+cf._oid).css({display:"none",left:0,position:"absolute",zIndex:cf.zIndex}).appendTo(uf);return ff}}),tf.extend(lf.prototype,{$el:null,$inputEl:null,completer:null,footer:null,header:null,id:null,maxCount:null,placement:"",shown:!1,data:[],className:"",destroy:function(){this.deactivate(),this.$el.off("."+this.id),this.$inputEl.off("."+this.id),this.clear(),this.$el.remove(),this.$el=this.$inputEl=this.completer=null,delete sf[this.id]},render:function(cf){var uf=this._buildContents(cf),ff=tf.map(cf,function(gf){return gf.value});if(cf.length){var df=cf[0].strategy;df.id?this.$el.attr("data-strategy",df.id):this.$el.removeAttr("data-strategy"),this._renderHeader(ff),this._renderFooter(ff),uf&&(this._renderContents(uf),this._fitToBottom(),this._fitToRight(),this._activateIndexedItem()),this._setScroll()}else this.noResultsMessage?this._renderNoResultsMessage(ff):this.shown&&this.deactivate()},setPosition:function(cf){var uf="absolute";return this.$inputEl.add(this.$inputEl.parents()).each(function(){if(tf(this).css("position")==="absolute")return!1;if(tf(this).css("position")==="fixed")return cf.top-=nf.scrollTop(),cf.left-=nf.scrollLeft(),uf="fixed",!1}),this.$el.css(this._applyPlacement(cf)),this.$el.css({position:uf}),this},clear:function(){this.$el.html(""),this.data=[],this._index=0,this._$header=this._$footer=this._$noResultsMessage=null},activate:function(){return this.shown||(this.clear(),this.$el.show(),this.className&&this.$el.addClass(this.className),this.completer.fire("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.className&&this.$el.removeClass(this.className),this.completer.fire("textComplete:hide"),this.shown=!1),this},isUp:function(cf){return cf.keyCode===38||cf.ctrlKey&&cf.keyCode===80},isDown:function(cf){return cf.keyCode===40||cf.ctrlKey&&cf.keyCode===78},isEnter:function(cf){var uf=cf.ctrlKey||cf.altKey||cf.metaKey||cf.shiftKey;return!uf&&(cf.keyCode===13||cf.keyCode===9||this.option.completeOnSpace===!0&&cf.keyCode===32)},isPageup:function(cf){return cf.keyCode===33},isPagedown:function(cf){return cf.keyCode===34},isEscape:function(cf){return cf.keyCode===27},_data:null,_index:null,_$header:null,_$noResultsMessage:null,_$footer:null,_bindEvents:function(){this.$el.on("mousedown."+this.id,".textcomplete-item",tf.proxy(this._onClick,this)),this.$el.on("touchstart."+this.id,".textcomplete-item",tf.proxy(this._onClick,this)),this.$el.on("mouseover."+this.id,".textcomplete-item",tf.proxy(this._onMouseover,this)),this.$inputEl.on("keydown."+this.id,tf.proxy(this._onKeydown,this))},_onClick:function(cf){var uf=tf(cf.target);cf.preventDefault(),cf.originalEvent.keepTextCompleteDropdown=this.id,uf.hasClass("textcomplete-item")||(uf=uf.closest(".textcomplete-item"));var ff=this.data[parseInt(uf.data("index"),10)];this.completer.select(ff.value,ff.strategy,cf);var df=this;setTimeout(function(){df.deactivate(),cf.type==="touchstart"&&df.$inputEl.focus()},0)},_onMouseover:function(cf){var uf=tf(cf.target);cf.preventDefault(),uf.hasClass("textcomplete-item")||(uf=uf.closest(".textcomplete-item")),this._index=parseInt(uf.data("index"),10),this._activateIndexedItem()},_onKeydown:function(cf){if(this.shown){var uf;switch(tf.isFunction(this.option.onKeydown)&&(uf=this.option.onKeydown(cf,af)),uf==null&&(uf=this._defaultKeydown(cf)),uf){case af.KEY_UP:cf.preventDefault(),this._up();break;case af.KEY_DOWN:cf.preventDefault(),this._down();break;case af.KEY_ENTER:cf.preventDefault(),this._enter(cf);break;case af.KEY_PAGEUP:cf.preventDefault(),this._pageup();break;case af.KEY_PAGEDOWN:cf.preventDefault(),this._pagedown();break;case af.KEY_ESCAPE:cf.preventDefault(),this.deactivate();break}}},_defaultKeydown:function(cf){if(this.isUp(cf))return af.KEY_UP;if(this.isDown(cf))return af.KEY_DOWN;if(this.isEnter(cf))return af.KEY_ENTER;if(this.isPageup(cf))return af.KEY_PAGEUP;if(this.isPagedown(cf))return af.KEY_PAGEDOWN;if(this.isEscape(cf))return af.KEY_ESCAPE},_up:function(){this._index===0?this._index=this.data.length-1:this._index-=1,this._activateIndexedItem(),this._setScroll()},_down:function(){this._index===this.data.length-1?this._index=0:this._index+=1,this._activateIndexedItem(),this._setScroll()},_enter:function(cf){var uf=this.data[parseInt(this._getActiveElement().data("index"),10)];this.completer.select(uf.value,uf.strategy,cf),this.deactivate()},_pageup:function(){var cf=0,uf=this._getActiveElement().position().top-this.$el.innerHeight();this.$el.children().each(function(ff){if(tf(this).position().top+tf(this).outerHeight()>uf)return cf=ff,!1}),this._index=cf,this._activateIndexedItem(),this._setScroll()},_pagedown:function(){var cf=this.data.length-1,uf=this._getActiveElement().position().top+this.$el.innerHeight();this.$el.children().each(function(ff){if(tf(this).position().top>uf)return cf=ff,!1}),this._index=cf,this._activateIndexedItem(),this._setScroll()},_activateIndexedItem:function(){this.$el.find(".textcomplete-item.active").removeClass("active"),this._getActiveElement().addClass("active")},_getActiveElement:function(){return this.$el.children(".textcomplete-item:nth("+this._index+")")},_setScroll:function(){var cf=this._getActiveElement(),uf=cf.position().top,ff=cf.outerHeight(),df=this.$el.innerHeight(),gf=this.$el.scrollTop();this._index===0||this._index==this.data.length-1||uf<0?this.$el.scrollTop(uf+gf):uf+ff>df&&this.$el.scrollTop(uf+ff+gf-df)},_buildContents:function(cf){var uf,ff,df,gf="";for(ff=0;ff<cf.length&&this.data.length!==this.maxCount;ff++)uf=cf[ff],!rf(this.data,uf)&&(df=this.data.length,this.data.push(uf),gf+='<li class="textcomplete-item" data-index="'+df+'"><a>',gf+=uf.strategy.template(uf.value,uf.term),gf+="</a></li>");return gf},_renderHeader:function(cf){if(this.header){this._$header||(this._$header=tf('<li class="textcomplete-header"></li>').prependTo(this.$el));var uf=tf.isFunction(this.header)?this.header(cf):this.header;this._$header.html(uf)}},_renderFooter:function(cf){if(this.footer){this._$footer||(this._$footer=tf('<li class="textcomplete-footer"></li>').appendTo(this.$el));var uf=tf.isFunction(this.footer)?this.footer(cf):this.footer;this._$footer.html(uf)}},_renderNoResultsMessage:function(cf){if(this.noResultsMessage){this._$noResultsMessage||(this._$noResultsMessage=tf('<li class="textcomplete-no-results-message"></li>').appendTo(this.$el));var uf=tf.isFunction(this.noResultsMessage)?this.noResultsMessage(cf):this.noResultsMessage;this._$noResultsMessage.html(uf)}},_renderContents:function(cf){this._$footer?this._$footer.before(cf):this.$el.append(cf)},_fitToBottom:function(){var cf=nf.scrollTop()+nf.height(),uf=this.$el.height();this.$el.position().top+uf>cf&&(this.completer.$iframe||this.$el.offset({top:cf-uf}))},_fitToRight:function(){for(var cf=this.option.rightEdgeOffset,uf=this.$el.offset().left,ff,df=this.$el.width(),gf=nf.width()-cf;uf+df>gf&&(this.$el.offset({left:uf-cf}),ff=this.$el.offset().left,!(ff>=uf));)uf=ff},_applyPlacement:function(cf){return this.placement.indexOf("top")!==-1?cf={top:"auto",bottom:this.$el.parent().height()-cf.top+cf.lineHeight,left:cf.left}:(cf.bottom="auto",delete cf.lineHeight),this.placement.indexOf("absleft")!==-1?cf.left=0:this.placement.indexOf("absright")!==-1&&(cf.right=0,cf.left="auto"),cf}}),tf.fn.textcomplete.Dropdown=lf,tf.extend(tf.fn.textcomplete,af)}(ef),+function(tf){var nf=function(sf){var af={};return function(lf,cf){af[lf]?cf(af[lf]):sf.call(this,lf,function(uf){af[lf]=(af[lf]||[]).concat(uf),cf.apply(null,arguments)})}};function rf(sf){tf.extend(this,sf),this.cache&&(this.search=nf(this.search))}rf.parse=function(sf,af){return tf.map(sf,function(lf){var cf=new rf(lf);return cf.el=af.el,cf.$el=af.$el,cf})},tf.extend(rf.prototype,{match:null,replace:null,search:null,id:null,cache:!1,context:function(){return!0},index:2,template:function(sf){return sf},idProperty:null}),tf.fn.textcomplete.Strategy=rf}(ef),+function(tf){var nf=Date.now||function(){return new Date().getTime()},rf=function(af,lf){var cf,uf,ff,df,gf,_f=function(){var xf=nf()-df;xf<lf?cf=setTimeout(_f,lf-xf):(cf=null,gf=af.apply(ff,uf),ff=uf=null)};return function(){return ff=this,uf=arguments,df=nf(),cf||(cf=setTimeout(_f,lf)),gf}};function sf(){}tf.extend(sf.prototype,{id:null,completer:null,el:null,$el:null,option:null,initialize:function(af,lf,cf){this.el=af,this.$el=tf(af),this.id=lf.id+this.constructor.name,this.completer=lf,this.option=cf,this.option.debounce&&(this._onKeyup=rf(this._onKeyup,this.option.debounce)),this._bindEvents()},destroy:function(){this.$el.off("."+this.id),this.$el=this.el=this.completer=null},select:function(){throw new Error("Not implemented")},getCaretPosition:function(){var af=this._getCaretRelativePosition(),lf=this.$el.offset(),cf=this.option.appendTo;if(cf){cf instanceof tf||(cf=tf(cf));var uf=cf.offsetParent().offset();lf.top-=uf.top,lf.left-=uf.left}return af.top+=lf.top,af.left+=lf.left,af},focus:function(){this.$el.focus()},_bindEvents:function(){this.$el.on("keyup."+this.id,tf.proxy(this._onKeyup,this))},_onKeyup:function(af){this._skipSearch(af)||this.completer.trigger(this.getTextFromHeadToCaret(),!0)},_skipSearch:function(af){switch(af.keyCode){case 9:case 13:case 16:case 17:case 18:case 33:case 34:case 40:case 38:case 27:return!0}if(af.ctrlKey)switch(af.keyCode){case 78:case 80:return!0}}}),tf.fn.textcomplete.Adapter=sf}(ef),+function(tf){function nf(rf,sf,af){this.initialize(rf,sf,af)}tf.extend(nf.prototype,tf.fn.textcomplete.Adapter.prototype,{select:function(rf,sf,af){var lf=this.getTextFromHeadToCaret(),cf=this.el.value.substring(this.el.selectionEnd),uf=sf.replace(rf,af),ff;typeof uf<"u"&&(tf.isArray(uf)&&(cf=uf[1]+cf,uf=uf[0]),ff=tf.isFunction(sf.match)?sf.match(lf):sf.match,lf=lf.replace(ff,uf),this.$el.val(lf+cf),this.el.selectionStart=this.el.selectionEnd=lf.length)},getTextFromHeadToCaret:function(){return this.el.value.substring(0,this.el.selectionEnd)},_getCaretRelativePosition:function(){var rf=tf.fn.textcomplete.getCaretCoordinates(this.el,this.el.selectionStart);return{top:rf.top+this._calculateLineHeight()-this.$el.scrollTop(),left:rf.left-this.$el.scrollLeft(),lineHeight:this._calculateLineHeight()}},_calculateLineHeight:function(){var rf=parseInt(this.$el.css("line-height"),10);if(isNaN(rf)){var sf=this.el.parentNode,af=document.createElement(this.el.nodeName),lf=this.el.style;af.setAttribute("style","margin:0px;padding:0px;font-family:"+lf.fontFamily+";font-size:"+lf.fontSize),af.innerHTML="test",sf.appendChild(af),rf=af.clientHeight,sf.removeChild(af)}return rf}}),tf.fn.textcomplete.Textarea=nf}(ef),+function(tf){var nf="";function rf(sf,af,lf){this.initialize(sf,af,lf),tf("<span>"+nf+"</span>").css({position:"absolute",top:-9999,left:-9999}).insertBefore(sf)}tf.extend(rf.prototype,tf.fn.textcomplete.Textarea.prototype,{select:function(sf,af,lf){var cf=this.getTextFromHeadToCaret(),uf=this.el.value.substring(cf.length),ff=af.replace(sf,lf),df;if(typeof ff<"u"){tf.isArray(ff)&&(uf=ff[1]+uf,ff=ff[0]),df=tf.isFunction(af.match)?af.match(cf):af.match,cf=cf.replace(df,ff),this.$el.val(cf+uf),this.el.focus();var gf=this.el.createTextRange();gf.collapse(!0),gf.moveEnd("character",cf.length),gf.moveStart("character",cf.length),gf.select()}},getTextFromHeadToCaret:function(){this.el.focus();var sf=document.selection.createRange();sf.moveStart("character",-this.el.value.length);var af=sf.text.split(nf);return af.length===1?af[0]:af[1]}}),tf.fn.textcomplete.IETextarea=rf}(ef),+function(tf){function nf(rf,sf,af){this.initialize(rf,sf,af)}tf.extend(nf.prototype,tf.fn.textcomplete.Adapter.prototype,{select:function(rf,sf,af){var lf=this.getTextFromHeadToCaret(),cf=this.el.ownerDocument.getSelection(),uf=cf.getRangeAt(0),ff=uf.cloneRange();ff.selectNodeContents(uf.startContainer);var df=ff.toString(),gf=df.substring(uf.startOffset),_f=sf.replace(rf,af),xf;if(typeof _f<"u"){tf.isArray(_f)&&(gf=_f[1]+gf,_f=_f[0]),xf=tf.isFunction(sf.match)?sf.match(lf):sf.match,lf=lf.replace(xf,_f).replace(/ $/,"&nbsp"),uf.selectNodeContents(uf.startContainer),uf.deleteContents();var Af=this.el.ownerDocument.createElement("div");Af.innerHTML=lf;var Df=this.el.ownerDocument.createElement("div");Df.innerHTML=gf;for(var Of=this.el.ownerDocument.createDocumentFragment(),Gf,Bf;Gf=Af.firstChild;)Bf=Of.appendChild(Gf);for(;Gf=Df.firstChild;)Of.appendChild(Gf);uf.insertNode(Of),uf.setStartAfter(Bf),uf.collapse(!0),cf.removeAllRanges(),cf.addRange(uf)}},_getCaretRelativePosition:function(){var rf=this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange(),sf=rf.endContainer.parentNode,af=this.el.ownerDocument.createElement("span");rf.insertNode(af),rf.selectNodeContents(af),rf.deleteContents(),setTimeout(function(){sf.normalize()},0);var lf=tf(af),cf=lf.offset();if(cf.left-=this.$el.offset().left,cf.top+=lf.height()-this.$el.offset().top,cf.lineHeight=lf.height(),this.completer.$iframe){var uf=this.completer.$iframe.offset();cf.top+=uf.top,cf.left+=uf.left,cf.top-=tf(this.completer.$iframe[0].contentWindow.document).scrollTop()}return lf.remove(),cf},getTextFromHeadToCaret:function(){var rf=this.el.ownerDocument.getSelection().getRangeAt(0),sf=rf.cloneRange();return sf.selectNodeContents(rf.startContainer),sf.toString().substring(0,rf.startOffset)}}),tf.fn.textcomplete.ContentEditable=nf}(ef),+function(tf){function nf(rf,sf,af){this.initialize(rf,sf,af)}tf.extend(nf.prototype,tf.fn.textcomplete.ContentEditable.prototype,{_bindEvents:function(){var rf=this;this.option.ckeditor_instance.on("key",function(sf){var af=sf.data;if(rf._onKeyup(af),rf.completer.dropdown.shown&&rf._skipSearch(af))return!1},null,null,1),this.$el.on("keyup."+this.id,tf.proxy(this._onKeyup,this))}}),tf.fn.textcomplete.CKEditor=nf}(ef),function(tf){var nf=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],rf=typeof window<"u",sf=rf&&window.mozInnerScreenX!=null;function af(lf,cf,uf){if(!rf)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var ff=uf&&uf.debug||!1;if(ff){var df=document.querySelector("#input-textarea-caret-position-mirror-div");df&&df.parentNode.removeChild(df)}var gf=document.createElement("div");gf.id="input-textarea-caret-position-mirror-div",document.body.appendChild(gf);var _f=gf.style,xf=window.getComputedStyle?getComputedStyle(lf):lf.currentStyle;_f.whiteSpace="pre-wrap",lf.nodeName!=="INPUT"&&(_f.wordWrap="break-word"),_f.position="absolute",ff||(_f.visibility="hidden"),nf.forEach(function(Of){_f[Of]=xf[Of]}),sf?lf.scrollHeight>parseInt(xf.height)&&(_f.overflowY="scroll"):_f.overflow="hidden",gf.textContent=lf.value.substring(0,cf),lf.nodeName==="INPUT"&&(gf.textContent=gf.textContent.replace(/\s/g,""));var Af=document.createElement("span");Af.textContent=lf.value.substring(cf)||".",gf.appendChild(Af);var Df={top:Af.offsetTop+parseInt(xf.borderTopWidth),left:Af.offsetLeft+parseInt(xf.borderLeftWidth)};return ff?Af.style.backgroundColor="#aaa":document.body.removeChild(gf),Df}tf.fn.textcomplete.getCaretCoordinates=af}(ef),ef})})(jquery_textcomplete);var jquery_touchSwipe_min={exports:{}};/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */(function(Qc){(function(ef){ef(Qc.exports?jqueryExports:jQuery)})(function(ef){function tf(ah){return!ah||ah.allowPageScroll!==void 0||ah.swipe===void 0&&ah.swipeStatus===void 0||(ah.allowPageScroll=df),ah.click!==void 0&&ah.tap===void 0&&(ah.tap=ah.click),ah||(ah={}),ah=ef.extend({},ef.fn.swipe.defaults,ah),this.each(function(){var mh=ef(this),uh=mh.data(Hf);uh||(uh=new nf(this,ah),mh.data(Hf,uh))})}function nf(ah,Hh){function uh(Sh){if(!(ad()||ef(Sh.target).closest(Hh.excludedElements,rd).length>0)){var Dh=Sh.originalEvent?Sh.originalEvent:Sh;if(!Dh.pointerType||Dh.pointerType!="mouse"||Hh.fallbackToMouseEvents!=0){var Lh,Yh=Dh.touches,Md=Yh?Yh[0]:Dh;return sd=Cf,Yh?Ed=Yh.length:Hh.preventDefaultEvents!==!1&&Sh.preventDefault(),$h=0,ed=null,gd=null,Gd=null,od=0,ud=0,Bd=0,kd=1,Nd=0,ap=jd(),nd(),ld(0,Md),!Yh||Ed===Hh.fingers||Hh.fingers===Vf||wh()?(vp=Ep(),Ed==2&&(ld(1,Yh[1]),ud=Bd=ep(Dd[0].start,Dd[1].start)),(Hh.swipeStatus||Hh.pinchStatus)&&(Lh=Ef(Dh,sd))):Lh=!1,Lh===!1?(sd=rh,Ef(Dh,sd),Lh):(Hh.hold&&(dd=setTimeout(ef.proxy(function(){rd.trigger("hold",[Dh.target]),Hh.hold&&(Lh=Hh.hold.call(rd,Dh,Dh.target))},this),Hh.longTapThreshold)),vd(!0),null)}}}function jf(Sh){var Dh=Sh.originalEvent?Sh.originalEvent:Sh;if(sd!==Yf&&sd!==rh&&!Ad()){var Lh,Yh=Dh.touches,Md=Yh?Yh[0]:Dh,Cd=Id(Md);if(yh=Ep(),Yh&&(Ed=Yh.length),Hh.hold&&clearTimeout(dd),sd=Tf,Ed==2&&(ud==0?(ld(1,Yh[1]),ud=Bd=ep(Dd[0].start,Dd[1].start)):(Id(Yh[1]),Bd=ep(Dd[0].end,Dd[1].end),Gd=Mp(Dd[0].end,Dd[1].end)),kd=bp(ud,Bd),Nd=Math.abs(ud-Bd)),Ed===Hh.fingers||Hh.fingers===Vf||!Yh||wh()){if(ed=Ip(Cd.start,Cd.end),gd=Ip(Cd.last,Cd.end),th(Sh,gd),$h=fp(Cd.start,Cd.end),od=rp(),yd(ed,$h),Lh=Ef(Dh,sd),!Hh.triggerOnTouchEnd||Hh.triggerOnTouchLeave){var zd=!0;if(Hh.triggerOnTouchLeave){var gp=Dp(this);zd=Op(Cd.end,gp)}!Hh.triggerOnTouchEnd&&zd?sd=vf(Tf):Hh.triggerOnTouchLeave&&!zd&&(sd=vf(Yf)),sd!=rh&&sd!=Yf||Ef(Dh,sd)}}else sd=rh,Ef(Dh,sd);Lh===!1&&(sd=rh,Ef(Dh,sd))}}function Kf(Sh){var Dh=Sh.originalEvent?Sh.originalEvent:Sh,Lh=Dh.touches;if(Lh){if(Lh.length&&!Ad())return Wh(Dh),!0;if(Lh.length&&Ad())return!0}return Ad()&&(Ed=Ph),yh=Ep(),od=rp(),Uf()||!Ff()?(sd=rh,Ef(Dh,sd)):Hh.triggerOnTouchEnd||Hh.triggerOnTouchEnd===!1&&sd===Tf?(Hh.preventDefaultEvents!==!1&&Sh.cancelable!==!1&&Sh.preventDefault(),sd=Yf,Ef(Dh,sd)):!Hh.triggerOnTouchEnd&&Uh()?(sd=Yf,Sf(Dh,sd,Af)):sd===Tf&&(sd=rh,Ef(Dh,sd)),vd(!1),null}function of(){Ed=0,yh=0,vp=0,ud=0,Bd=0,kd=1,nd(),vd(!1)}function hf(Sh){var Dh=Sh.originalEvent?Sh.originalEvent:Sh;Hh.triggerOnTouchLeave&&(sd=vf(Yf),Ef(Dh,sd))}function pf(){rd.off(sp,uh),rd.off(vh,of),rd.off(Hp,jf),rd.off(ih,Kf),lh&&rd.off(lh,hf),vd(!1)}function vf(Sh){var Dh=Sh,Lh=eh(),Yh=Ff(),Md=Uf();return!Lh||Md?Dh=rh:!Yh||Sh!=Tf||Hh.triggerOnTouchEnd&&!Hh.triggerOnTouchLeave?!Yh&&Sh==Yf&&Hh.triggerOnTouchLeave&&(Dh=rh):Dh=Yf,Dh}function Ef(Sh,Dh){var Lh,Yh=Sh.touches;return(zf()||qf())&&(Lh=Sf(Sh,Dh,_f)),(oh()||wh())&&Lh!==!1&&(Lh=Sf(Sh,Dh,xf)),Jh()&&Lh!==!1?Lh=Sf(Sh,Dh,Df):xh()&&Lh!==!1?Lh=Sf(Sh,Dh,Of):Kh()&&Lh!==!1&&(Lh=Sf(Sh,Dh,Af)),Dh===rh&&of(),Dh===Yf&&(Yh&&Yh.length||of()),Lh}function Sf(Sh,Dh,Lh){var Yh;if(Lh==_f){if(rd.trigger("swipeStatus",[Dh,ed||null,$h||0,od||0,Ed,Dd,gd]),Hh.swipeStatus&&(Yh=Hh.swipeStatus.call(rd,Sh,Dh,ed||null,$h||0,od||0,Ed,Dd,gd),Yh===!1))return!1;if(Dh==Yf&&gh()){if(clearTimeout(td),clearTimeout(dd),rd.trigger("swipe",[ed,$h,od,Ed,Dd,gd]),Hh.swipe&&(Yh=Hh.swipe.call(rd,Sh,ed,$h,od,Ed,Dd,gd),Yh===!1))return!1;switch(ed){case sf:rd.trigger("swipeLeft",[ed,$h,od,Ed,Dd,gd]),Hh.swipeLeft&&(Yh=Hh.swipeLeft.call(rd,Sh,ed,$h,od,Ed,Dd,gd));break;case af:rd.trigger("swipeRight",[ed,$h,od,Ed,Dd,gd]),Hh.swipeRight&&(Yh=Hh.swipeRight.call(rd,Sh,ed,$h,od,Ed,Dd,gd));break;case lf:rd.trigger("swipeUp",[ed,$h,od,Ed,Dd,gd]),Hh.swipeUp&&(Yh=Hh.swipeUp.call(rd,Sh,ed,$h,od,Ed,Dd,gd));break;case cf:rd.trigger("swipeDown",[ed,$h,od,Ed,Dd,gd]),Hh.swipeDown&&(Yh=Hh.swipeDown.call(rd,Sh,ed,$h,od,Ed,Dd,gd))}}}if(Lh==xf){if(rd.trigger("pinchStatus",[Dh,Gd||null,Nd||0,od||0,Ed,kd,Dd]),Hh.pinchStatus&&(Yh=Hh.pinchStatus.call(rd,Sh,Dh,Gd||null,Nd||0,od||0,Ed,kd,Dd),Yh===!1))return!1;if(Dh==Yf&&_h())switch(Gd){case uf:rd.trigger("pinchIn",[Gd||null,Nd||0,od||0,Ed,kd,Dd]),Hh.pinchIn&&(Yh=Hh.pinchIn.call(rd,Sh,Gd||null,Nd||0,od||0,Ed,kd,Dd));break;case ff:rd.trigger("pinchOut",[Gd||null,Nd||0,od||0,Ed,kd,Dd]),Hh.pinchOut&&(Yh=Hh.pinchOut.call(rd,Sh,Gd||null,Nd||0,od||0,Ed,kd,Dd))}}return Lh==Af?Dh!==rh&&Dh!==Yf||(clearTimeout(td),clearTimeout(dd),jh()&&!pd()?(zh=Ep(),td=setTimeout(ef.proxy(function(){zh=null,rd.trigger("tap",[Sh.target]),Hh.tap&&(Yh=Hh.tap.call(rd,Sh,Sh.target))},this),Hh.doubleTapThreshold)):(zh=null,rd.trigger("tap",[Sh.target]),Hh.tap&&(Yh=Hh.tap.call(rd,Sh,Sh.target)))):Lh==Df?Dh!==rh&&Dh!==Yf||(clearTimeout(td),clearTimeout(dd),zh=null,rd.trigger("doubletap",[Sh.target]),Hh.doubleTap&&(Yh=Hh.doubleTap.call(rd,Sh,Sh.target))):Lh==Of&&(Dh!==rh&&Dh!==Yf||(clearTimeout(td),zh=null,rd.trigger("longtap",[Sh.target]),Hh.longTap&&(Yh=Hh.longTap.call(rd,Sh,Sh.target)))),Yh}function Ff(){var Sh=!0;return Hh.threshold!==null&&(Sh=$h>=Hh.threshold),Sh}function Uf(){var Sh=!1;return Hh.cancelThreshold!==null&&ed!==null&&(Sh=Zd(ed)-$h>=Hh.cancelThreshold),Sh}function Wf(){return Hh.pinchThreshold!==null?Nd>=Hh.pinchThreshold:!0}function eh(){return Hh.maxTimeThreshold?!(od>=Hh.maxTimeThreshold):!0}function th(Sh,Dh){if(Hh.preventDefaultEvents!==!1)if(Hh.allowPageScroll===df)Sh.preventDefault();else{var Lh=Hh.allowPageScroll===gf;switch(Dh){case sf:(Hh.swipeLeft&&Lh||!Lh&&Hh.allowPageScroll!=Gf)&&Sh.preventDefault();break;case af:(Hh.swipeRight&&Lh||!Lh&&Hh.allowPageScroll!=Gf)&&Sh.preventDefault();break;case lf:(Hh.swipeUp&&Lh||!Lh&&Hh.allowPageScroll!=Bf)&&Sh.preventDefault();break;case cf:(Hh.swipeDown&&Lh||!Lh&&Hh.allowPageScroll!=Bf)&&Sh.preventDefault();break}}}function _h(){var Sh=Th(),Dh=Fh(),Lh=Wf();return Sh&&Dh&&Lh}function wh(){return!!(Hh.pinchStatus||Hh.pinchIn||Hh.pinchOut)}function oh(){return!(!_h()||!wh())}function gh(){var Sh=eh(),Dh=Ff(),Lh=Th(),Yh=Fh(),Md=Uf(),Cd=!Md&&Yh&&Lh&&Dh&&Sh;return Cd}function qf(){return!!(Hh.swipe||Hh.swipeStatus||Hh.swipeLeft||Hh.swipeRight||Hh.swipeUp||Hh.swipeDown)}function zf(){return!(!gh()||!qf())}function Th(){return Ed===Hh.fingers||Hh.fingers===Vf||!dh}function Fh(){return Dd[0].end.x!==0}function Uh(){return!!Hh.tap}function jh(){return!!Hh.doubleTap}function qh(){return!!Hh.longTap}function cd(){if(zh==null)return!1;var Sh=Ep();return jh()&&Sh-zh<=Hh.doubleTapThreshold}function pd(){return cd()}function Zh(){return(Ed===1||!dh)&&(isNaN($h)||$h<Hh.threshold)}function kh(){return od>Hh.longTapThreshold&&Lf>$h}function Kh(){return!(!Zh()||!Uh())}function Jh(){return!(!cd()||!jh())}function xh(){return!(!kh()||!qh())}function Wh(Sh){Ch=Ep(),Ph=Sh.touches.length+1}function nd(){Ch=0,Ph=0}function Ad(){var Sh=!1;if(Ch){var Dh=Ep()-Ch;Dh<=Hh.fingerReleaseThreshold&&(Sh=!0)}return Sh}function ad(){return rd.data(Hf+"_intouch")===!0}function vd(Sh){rd&&(Sh===!0?(rd.on(Hp,jf),rd.on(ih,Kf),lh&&rd.on(lh,hf)):(rd.off(Hp,jf,!1),rd.off(ih,Kf,!1),lh&&rd.off(lh,hf,!1)),rd.data(Hf+"_intouch",Sh===!0))}function ld(Sh,Dh){var Lh={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return Lh.start.x=Lh.last.x=Lh.end.x=Dh.pageX||Dh.clientX,Lh.start.y=Lh.last.y=Lh.end.y=Dh.pageY||Dh.clientY,Dd[Sh]=Lh,Lh}function Id(Sh){var Dh=Sh.identifier!==void 0?Sh.identifier:0,Lh=$d(Dh);return Lh===null&&(Lh=ld(Dh,Sh)),Lh.last.x=Lh.end.x,Lh.last.y=Lh.end.y,Lh.end.x=Sh.pageX||Sh.clientX,Lh.end.y=Sh.pageY||Sh.clientY,Lh}function $d(Sh){return Dd[Sh]||null}function yd(Sh,Dh){Sh!=df&&(Dh=Math.max(Dh,Zd(Sh)),ap[Sh].distance=Dh)}function Zd(Sh){return ap[Sh]?ap[Sh].distance:void 0}function jd(){var Sh={};return Sh[sf]=pp(sf),Sh[af]=pp(af),Sh[lf]=pp(lf),Sh[cf]=pp(cf),Sh}function pp(Sh){return{direction:Sh,distance:0}}function rp(){return yh-vp}function ep(Sh,Dh){var Lh=Math.abs(Sh.x-Dh.x),Yh=Math.abs(Sh.y-Dh.y);return Math.round(Math.sqrt(Lh*Lh+Yh*Yh))}function bp(Sh,Dh){var Lh=Dh/Sh*1;return Lh.toFixed(2)}function Mp(){return 1>kd?ff:uf}function fp(Sh,Dh){return Math.round(Math.sqrt(Math.pow(Dh.x-Sh.x,2)+Math.pow(Dh.y-Sh.y,2)))}function Xd(Sh,Dh){var Lh=Sh.x-Dh.x,Yh=Dh.y-Sh.y,Md=Math.atan2(Yh,Lh),Cd=Math.round(180*Md/Math.PI);return 0>Cd&&(Cd=360-Math.abs(Cd)),Cd}function Ip(Sh,Dh){if(hp(Sh,Dh))return df;var Lh=Xd(Sh,Dh);return 45>=Lh&&Lh>=0||360>=Lh&&Lh>=315?sf:Lh>=135&&225>=Lh?af:Lh>45&&135>Lh?cf:lf}function Ep(){var Sh=new Date;return Sh.getTime()}function Dp(Sh){Sh=ef(Sh);var Dh=Sh.offset(),Lh={left:Dh.left,right:Dh.left+Sh.outerWidth(),top:Dh.top,bottom:Dh.top+Sh.outerHeight()};return Lh}function Op(Sh,Dh){return Sh.x>Dh.left&&Sh.x<Dh.right&&Sh.y>Dh.top&&Sh.y<Dh.bottom}function hp(Sh,Dh){return Sh.x==Dh.x&&Sh.y==Dh.y}var Hh=ef.extend({},Hh),ip=dh||sh||!Hh.fallbackToMouseEvents,sp=ip?sh?hh?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Hp=ip?sh?hh?"MSPointerMove":"pointermove":"touchmove":"mousemove",ih=ip?sh?hh?"MSPointerUp":"pointerup":"touchend":"mouseup",lh=ip?sh?"mouseleave":null:"mouseleave",vh=sh?hh?"MSPointerCancel":"pointercancel":"touchcancel",$h=0,ed=null,gd=null,od=0,ud=0,Bd=0,kd=1,Nd=0,Gd=0,ap=null,rd=ef(ah),sd="start",Ed=0,Dd={},vp=0,yh=0,Ch=0,Ph=0,zh=0,td=null,dd=null;try{rd.on(sp,uh),rd.on(vh,of)}catch{ef.error("events not supported "+sp+","+vh+" on jQuery.swipe")}this.enable=function(){return this.disable(),rd.on(sp,uh),rd.on(vh,of),rd},this.disable=function(){return pf(),rd},this.destroy=function(){pf(),rd.data(Hf,null),rd=null},this.option=function(Sh,Dh){if(typeof Sh=="object")Hh=ef.extend(Hh,Sh);else if(Hh[Sh]!==void 0){if(Dh===void 0)return Hh[Sh];Hh[Sh]=Dh}else{if(!Sh)return Hh;ef.error("Option "+Sh+" does not exist on jQuery.swipe.options")}return null}}var rf="1.6.18",sf="left",af="right",lf="up",cf="down",uf="in",ff="out",df="none",gf="auto",_f="swipe",xf="pinch",Af="tap",Df="doubletap",Of="longtap",Gf="horizontal",Bf="vertical",Vf="all",Lf=10,Cf="start",Tf="move",Yf="end",rh="cancel",dh="ontouchstart"in window,hh=window.navigator.msPointerEnabled&&!window.PointerEvent&&!dh,sh=(window.PointerEvent||window.navigator.msPointerEnabled)&&!dh,Hf="TouchSwipe",Qf={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};ef.fn.swipe=function(ah){var mh=ef(this),uh=mh.data(Hf);if(uh&&typeof ah=="string"){if(uh[ah])return uh[ah].apply(uh,Array.prototype.slice.call(arguments,1));ef.error("Method "+ah+" does not exist on jQuery.swipe")}else if(uh&&typeof ah=="object")uh.option.apply(uh,arguments);else if(!(uh||typeof ah!="object"&&ah))return tf.apply(this,arguments);return mh},ef.fn.swipe.version=rf,ef.fn.swipe.defaults=Qf,ef.fn.swipe.phases={PHASE_START:Cf,PHASE_MOVE:Tf,PHASE_END:Yf,PHASE_CANCEL:rh},ef.fn.swipe.directions={LEFT:sf,RIGHT:af,UP:lf,DOWN:cf,IN:uf,OUT:ff},ef.fn.swipe.pageScroll={NONE:df,HORIZONTAL:Gf,VERTICAL:Bf,AUTO:gf},ef.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:Vf}})})(jquery_touchSwipe_min);var select2$1={exports:{}};/*!
 * Select2 4.0.13
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */(function(Qc){(function(ef){Qc.exports?Qc.exports=function(tf,nf){return nf===void 0&&(typeof window<"u"?nf=jqueryExports:nf=jqueryExports(tf)),ef(nf),nf}:ef(jQuery)})(function(ef){var tf=function(){if(ef&&ef.fn&&ef.fn.select2&&ef.fn.select2.amd)var rf=ef.fn.select2.amd;var rf;return function(){if(!rf||!rf.requirejs){rf?af=rf:rf={};/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var sf,af,lf;(function(cf){var uf,ff,df,gf,_f={},xf={},Af={},Df={},Of=Object.prototype.hasOwnProperty,Gf=[].slice,Bf=/\.js$/;function Vf(Hf,Qf){return Of.call(Hf,Qf)}function Lf(Hf,Qf){var ah,mh,uh,jf,Kf,of,hf,pf,vf,Ef,Sf,Ff,Uf=Qf&&Qf.split("/"),Wf=Af.map,eh=Wf&&Wf["*"]||{};if(Hf){for(Hf=Hf.split("/"),Kf=Hf.length-1,Af.nodeIdCompat&&Bf.test(Hf[Kf])&&(Hf[Kf]=Hf[Kf].replace(Bf,"")),Hf[0].charAt(0)==="."&&Uf&&(Ff=Uf.slice(0,Uf.length-1),Hf=Ff.concat(Hf)),vf=0;vf<Hf.length;vf++)if(Sf=Hf[vf],Sf===".")Hf.splice(vf,1),vf-=1;else if(Sf===".."){if(vf===0||vf===1&&Hf[2]===".."||Hf[vf-1]==="..")continue;vf>0&&(Hf.splice(vf-1,2),vf-=2)}Hf=Hf.join("/")}if((Uf||eh)&&Wf){for(ah=Hf.split("/"),vf=ah.length;vf>0;vf-=1){if(mh=ah.slice(0,vf).join("/"),Uf){for(Ef=Uf.length;Ef>0;Ef-=1)if(uh=Wf[Uf.slice(0,Ef).join("/")],uh&&(uh=uh[mh],uh)){jf=uh,of=vf;break}}if(jf)break;!hf&&eh&&eh[mh]&&(hf=eh[mh],pf=vf)}!jf&&hf&&(jf=hf,of=pf),jf&&(ah.splice(0,of,jf),Hf=ah.join("/"))}return Hf}function Cf(Hf,Qf){return function(){var ah=Gf.call(arguments,0);return typeof ah[0]!="string"&&ah.length===1&&ah.push(null),ff.apply(cf,ah.concat([Hf,Qf]))}}function Tf(Hf){return function(Qf){return Lf(Qf,Hf)}}function Yf(Hf){return function(Qf){_f[Hf]=Qf}}function rh(Hf){if(Vf(xf,Hf)){var Qf=xf[Hf];delete xf[Hf],Df[Hf]=!0,uf.apply(cf,Qf)}if(!Vf(_f,Hf)&&!Vf(Df,Hf))throw new Error("No "+Hf);return _f[Hf]}function dh(Hf){var Qf,ah=Hf?Hf.indexOf("!"):-1;return ah>-1&&(Qf=Hf.substring(0,ah),Hf=Hf.substring(ah+1,Hf.length)),[Qf,Hf]}function hh(Hf){return Hf?dh(Hf):[]}df=function(Hf,Qf){var ah,mh=dh(Hf),uh=mh[0],jf=Qf[1];return Hf=mh[1],uh&&(uh=Lf(uh,jf),ah=rh(uh)),uh?ah&&ah.normalize?Hf=ah.normalize(Hf,Tf(jf)):Hf=Lf(Hf,jf):(Hf=Lf(Hf,jf),mh=dh(Hf),uh=mh[0],Hf=mh[1],uh&&(ah=rh(uh))),{f:uh?uh+"!"+Hf:Hf,n:Hf,pr:uh,p:ah}};function sh(Hf){return function(){return Af&&Af.config&&Af.config[Hf]||{}}}gf={require:function(Hf){return Cf(Hf)},exports:function(Hf){var Qf=_f[Hf];return typeof Qf<"u"?Qf:_f[Hf]={}},module:function(Hf){return{id:Hf,uri:"",exports:_f[Hf],config:sh(Hf)}}},uf=function(Hf,Qf,ah,mh){var uh,jf,Kf,of,hf,pf,vf=[],Ef=typeof ah,Sf;if(mh=mh||Hf,pf=hh(mh),Ef==="undefined"||Ef==="function"){for(Qf=!Qf.length&&ah.length?["require","exports","module"]:Qf,hf=0;hf<Qf.length;hf+=1)if(of=df(Qf[hf],pf),jf=of.f,jf==="require")vf[hf]=gf.require(Hf);else if(jf==="exports")vf[hf]=gf.exports(Hf),Sf=!0;else if(jf==="module")uh=vf[hf]=gf.module(Hf);else if(Vf(_f,jf)||Vf(xf,jf)||Vf(Df,jf))vf[hf]=rh(jf);else if(of.p)of.p.load(of.n,Cf(mh,!0),Yf(jf),{}),vf[hf]=_f[jf];else throw new Error(Hf+" missing "+jf);Kf=ah?ah.apply(_f[Hf],vf):void 0,Hf&&(uh&&uh.exports!==cf&&uh.exports!==_f[Hf]?_f[Hf]=uh.exports:(Kf!==cf||!Sf)&&(_f[Hf]=Kf))}else Hf&&(_f[Hf]=ah)},sf=af=ff=function(Hf,Qf,ah,mh,uh){if(typeof Hf=="string")return gf[Hf]?gf[Hf](Qf):rh(df(Hf,hh(Qf)).f);if(!Hf.splice){if(Af=Hf,Af.deps&&ff(Af.deps,Af.callback),!Qf)return;Qf.splice?(Hf=Qf,Qf=ah,ah=null):Hf=cf}return Qf=Qf||function(){},typeof ah=="function"&&(ah=mh,mh=uh),mh?uf(cf,Hf,Qf,ah):setTimeout(function(){uf(cf,Hf,Qf,ah)},4),ff},ff.config=function(Hf){return ff(Hf)},sf._defined=_f,lf=function(Hf,Qf,ah){if(typeof Hf!="string")throw new Error("See almond README: incorrect module build, no module name");Qf.splice||(ah=Qf,Qf=[]),!Vf(_f,Hf)&&!Vf(xf,Hf)&&(xf[Hf]=[Hf,Qf,ah])},lf.amd={jQuery:!0}})(),rf.requirejs=sf,rf.require=af,rf.define=lf}}(),rf.define("almond",function(){}),rf.define("jquery",[],function(){var sf=ef||$;return sf==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),sf}),rf.define("select2/utils",["jquery"],function(sf){var af={};af.Extend=function(ff,df){var gf={}.hasOwnProperty;function _f(){this.constructor=ff}for(var xf in df)gf.call(df,xf)&&(ff[xf]=df[xf]);return _f.prototype=df.prototype,ff.prototype=new _f,ff.__super__=df.prototype,ff};function lf(ff){var df=ff.prototype,gf=[];for(var _f in df){var xf=df[_f];typeof xf=="function"&&_f!=="constructor"&&gf.push(_f)}return gf}af.Decorate=function(ff,df){var gf=lf(df),_f=lf(ff);function xf(){var Lf=Array.prototype.unshift,Cf=df.prototype.constructor.length,Tf=ff.prototype.constructor;Cf>0&&(Lf.call(arguments,ff.prototype.constructor),Tf=df.prototype.constructor),Tf.apply(this,arguments)}df.displayName=ff.displayName;function Af(){this.constructor=xf}xf.prototype=new Af;for(var Df=0;Df<_f.length;Df++){var Of=_f[Df];xf.prototype[Of]=ff.prototype[Of]}for(var Gf=function(Lf){var Cf=function(){};Lf in xf.prototype&&(Cf=xf.prototype[Lf]);var Tf=df.prototype[Lf];return function(){var Yf=Array.prototype.unshift;return Yf.call(arguments,Cf),Tf.apply(this,arguments)}},Bf=0;Bf<gf.length;Bf++){var Vf=gf[Bf];xf.prototype[Vf]=Gf(Vf)}return xf};var cf=function(){this.listeners={}};cf.prototype.on=function(ff,df){this.listeners=this.listeners||{},ff in this.listeners?this.listeners[ff].push(df):this.listeners[ff]=[df]},cf.prototype.trigger=function(ff){var df=Array.prototype.slice,gf=df.call(arguments,1);this.listeners=this.listeners||{},gf==null&&(gf=[]),gf.length===0&&gf.push({}),gf[0]._type=ff,ff in this.listeners&&this.invoke(this.listeners[ff],df.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},cf.prototype.invoke=function(ff,df){for(var gf=0,_f=ff.length;gf<_f;gf++)ff[gf].apply(this,df)},af.Observable=cf,af.generateChars=function(ff){for(var df="",gf=0;gf<ff;gf++){var _f=Math.floor(Math.random()*36);df+=_f.toString(36)}return df},af.bind=function(ff,df){return function(){ff.apply(df,arguments)}},af._convertData=function(ff){for(var df in ff){var gf=df.split("-"),_f=ff;if(gf.length!==1){for(var xf=0;xf<gf.length;xf++){var Af=gf[xf];Af=Af.substring(0,1).toLowerCase()+Af.substring(1),Af in _f||(_f[Af]={}),xf==gf.length-1&&(_f[Af]=ff[df]),_f=_f[Af]}delete ff[df]}}return ff},af.hasScroll=function(ff,df){var gf=sf(df),_f=df.style.overflowX,xf=df.style.overflowY;return _f===xf&&(xf==="hidden"||xf==="visible")?!1:_f==="scroll"||xf==="scroll"?!0:gf.innerHeight()<df.scrollHeight||gf.innerWidth()<df.scrollWidth},af.escapeMarkup=function(ff){var df={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof ff!="string"?ff:String(ff).replace(/[&<>"'\/\\]/g,function(gf){return df[gf]})},af.appendMany=function(ff,df){if(sf.fn.jquery.substr(0,3)==="1.7"){var gf=sf();sf.map(df,function(_f){gf=gf.add(_f)}),df=gf}ff.append(df)},af.__cache={};var uf=0;return af.GetUniqueElementId=function(ff){var df=ff.getAttribute("data-select2-id");return df==null&&(ff.id?(df=ff.id,ff.setAttribute("data-select2-id",df)):(ff.setAttribute("data-select2-id",++uf),df=uf.toString())),df},af.StoreData=function(ff,df,gf){var _f=af.GetUniqueElementId(ff);af.__cache[_f]||(af.__cache[_f]={}),af.__cache[_f][df]=gf},af.GetData=function(ff,df){var gf=af.GetUniqueElementId(ff);return df?af.__cache[gf]&&af.__cache[gf][df]!=null?af.__cache[gf][df]:sf(ff).data(df):af.__cache[gf]},af.RemoveData=function(ff){var df=af.GetUniqueElementId(ff);af.__cache[df]!=null&&delete af.__cache[df],ff.removeAttribute("data-select2-id")},af}),rf.define("select2/results",["jquery","./utils"],function(sf,af){function lf(cf,uf,ff){this.$element=cf,this.data=ff,this.options=uf,lf.__super__.constructor.call(this)}return af.Extend(lf,af.Observable),lf.prototype.render=function(){var cf=sf('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&cf.attr("aria-multiselectable","true"),this.$results=cf,cf},lf.prototype.clear=function(){this.$results.empty()},lf.prototype.displayMessage=function(cf){var uf=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var ff=sf('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),df=this.options.get("translations").get(cf.message);ff.append(uf(df(cf.args))),ff[0].className+=" select2-results__message",this.$results.append(ff)},lf.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},lf.prototype.append=function(cf){this.hideLoading();var uf=[];if(cf.results==null||cf.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}cf.results=this.sort(cf.results);for(var ff=0;ff<cf.results.length;ff++){var df=cf.results[ff],gf=this.option(df);uf.push(gf)}this.$results.append(uf)},lf.prototype.position=function(cf,uf){var ff=uf.find(".select2-results");ff.append(cf)},lf.prototype.sort=function(cf){var uf=this.options.get("sorter");return uf(cf)},lf.prototype.highlightFirstItem=function(){var cf=this.$results.find(".select2-results__option[aria-selected]"),uf=cf.filter("[aria-selected=true]");uf.length>0?uf.first().trigger("mouseenter"):cf.first().trigger("mouseenter"),this.ensureHighlightVisible()},lf.prototype.setClasses=function(){var cf=this;this.data.current(function(uf){var ff=sf.map(uf,function(gf){return gf.id.toString()}),df=cf.$results.find(".select2-results__option[aria-selected]");df.each(function(){var gf=sf(this),_f=af.GetData(this,"data"),xf=""+_f.id;_f.element!=null&&_f.element.selected||_f.element==null&&sf.inArray(xf,ff)>-1?gf.attr("aria-selected","true"):gf.attr("aria-selected","false")})})},lf.prototype.showLoading=function(cf){this.hideLoading();var uf=this.options.get("translations").get("searching"),ff={disabled:!0,loading:!0,text:uf(cf)},df=this.option(ff);df.className+=" loading-results",this.$results.prepend(df)},lf.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},lf.prototype.option=function(cf){var uf=document.createElement("li");uf.className="select2-results__option";var ff={role:"option","aria-selected":"false"},df=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(cf.element!=null&&df.call(cf.element,":disabled")||cf.element==null&&cf.disabled)&&(delete ff["aria-selected"],ff["aria-disabled"]="true"),cf.id==null&&delete ff["aria-selected"],cf._resultId!=null&&(uf.id=cf._resultId),cf.title&&(uf.title=cf.title),cf.children&&(ff.role="group",ff["aria-label"]=cf.text,delete ff["aria-selected"]);for(var gf in ff){var _f=ff[gf];uf.setAttribute(gf,_f)}if(cf.children){var xf=sf(uf),Af=document.createElement("strong");Af.className="select2-results__group",sf(Af),this.template(cf,Af);for(var Df=[],Of=0;Of<cf.children.length;Of++){var Gf=cf.children[Of],Bf=this.option(Gf);Df.push(Bf)}var Vf=sf("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});Vf.append(Df),xf.append(Af),xf.append(Vf)}else this.template(cf,uf);return af.StoreData(uf,"data",cf),uf},lf.prototype.bind=function(cf,uf){var ff=this,df=cf.id+"-results";this.$results.attr("id",df),cf.on("results:all",function(gf){ff.clear(),ff.append(gf.data),cf.isOpen()&&(ff.setClasses(),ff.highlightFirstItem())}),cf.on("results:append",function(gf){ff.append(gf.data),cf.isOpen()&&ff.setClasses()}),cf.on("query",function(gf){ff.hideMessages(),ff.showLoading(gf)}),cf.on("select",function(){cf.isOpen()&&(ff.setClasses(),ff.options.get("scrollAfterSelect")&&ff.highlightFirstItem())}),cf.on("unselect",function(){cf.isOpen()&&(ff.setClasses(),ff.options.get("scrollAfterSelect")&&ff.highlightFirstItem())}),cf.on("open",function(){ff.$results.attr("aria-expanded","true"),ff.$results.attr("aria-hidden","false"),ff.setClasses(),ff.ensureHighlightVisible()}),cf.on("close",function(){ff.$results.attr("aria-expanded","false"),ff.$results.attr("aria-hidden","true"),ff.$results.removeAttr("aria-activedescendant")}),cf.on("results:toggle",function(){var gf=ff.getHighlightedResults();gf.length!==0&&gf.trigger("mouseup")}),cf.on("results:select",function(){var gf=ff.getHighlightedResults();if(gf.length!==0){var _f=af.GetData(gf[0],"data");gf.attr("aria-selected")=="true"?ff.trigger("close",{}):ff.trigger("select",{data:_f})}}),cf.on("results:previous",function(){var gf=ff.getHighlightedResults(),_f=ff.$results.find("[aria-selected]"),xf=_f.index(gf);if(!(xf<=0)){var Af=xf-1;gf.length===0&&(Af=0);var Df=_f.eq(Af);Df.trigger("mouseenter");var Of=ff.$results.offset().top,Gf=Df.offset().top,Bf=ff.$results.scrollTop()+(Gf-Of);Af===0?ff.$results.scrollTop(0):Gf-Of<0&&ff.$results.scrollTop(Bf)}}),cf.on("results:next",function(){var gf=ff.getHighlightedResults(),_f=ff.$results.find("[aria-selected]"),xf=_f.index(gf),Af=xf+1;if(!(Af>=_f.length)){var Df=_f.eq(Af);Df.trigger("mouseenter");var Of=ff.$results.offset().top+ff.$results.outerHeight(!1),Gf=Df.offset().top+Df.outerHeight(!1),Bf=ff.$results.scrollTop()+Gf-Of;Af===0?ff.$results.scrollTop(0):Gf>Of&&ff.$results.scrollTop(Bf)}}),cf.on("results:focus",function(gf){gf.element.addClass("select2-results__option--highlighted")}),cf.on("results:message",function(gf){ff.displayMessage(gf)}),sf.fn.mousewheel&&this.$results.on("mousewheel",function(gf){var _f=ff.$results.scrollTop(),xf=ff.$results.get(0).scrollHeight-_f+gf.deltaY,Af=gf.deltaY>0&&_f-gf.deltaY<=0,Df=gf.deltaY<0&&xf<=ff.$results.height();Af?(ff.$results.scrollTop(0),gf.preventDefault(),gf.stopPropagation()):Df&&(ff.$results.scrollTop(ff.$results.get(0).scrollHeight-ff.$results.height()),gf.preventDefault(),gf.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(gf){var _f=sf(this),xf=af.GetData(this,"data");if(_f.attr("aria-selected")==="true"){ff.options.get("multiple")?ff.trigger("unselect",{originalEvent:gf,data:xf}):ff.trigger("close",{});return}ff.trigger("select",{originalEvent:gf,data:xf})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(gf){var _f=af.GetData(this,"data");ff.getHighlightedResults().removeClass("select2-results__option--highlighted"),ff.trigger("results:focus",{data:_f,element:sf(this)})})},lf.prototype.getHighlightedResults=function(){var cf=this.$results.find(".select2-results__option--highlighted");return cf},lf.prototype.destroy=function(){this.$results.remove()},lf.prototype.ensureHighlightVisible=function(){var cf=this.getHighlightedResults();if(cf.length!==0){var uf=this.$results.find("[aria-selected]"),ff=uf.index(cf),df=this.$results.offset().top,gf=cf.offset().top,_f=this.$results.scrollTop()+(gf-df),xf=gf-df;_f-=cf.outerHeight(!1)*2,ff<=2?this.$results.scrollTop(0):(xf>this.$results.outerHeight()||xf<0)&&this.$results.scrollTop(_f)}},lf.prototype.template=function(cf,uf){var ff=this.options.get("templateResult"),df=this.options.get("escapeMarkup"),gf=ff(cf,uf);gf==null?uf.style.display="none":typeof gf=="string"?uf.innerHTML=df(gf):sf(uf).append(gf)},lf}),rf.define("select2/keys",[],function(){var sf={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return sf}),rf.define("select2/selection/base",["jquery","../utils","../keys"],function(sf,af,lf){function cf(uf,ff){this.$element=uf,this.options=ff,cf.__super__.constructor.call(this)}return af.Extend(cf,af.Observable),cf.prototype.render=function(){var uf=sf('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,af.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=af.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),uf.attr("title",this.$element.attr("title")),uf.attr("tabindex",this._tabindex),uf.attr("aria-disabled","false"),this.$selection=uf,uf},cf.prototype.bind=function(uf,ff){var df=this,gf=uf.id+"-results";this.container=uf,this.$selection.on("focus",function(_f){df.trigger("focus",_f)}),this.$selection.on("blur",function(_f){df._handleBlur(_f)}),this.$selection.on("keydown",function(_f){df.trigger("keypress",_f),_f.which===lf.SPACE&&_f.preventDefault()}),uf.on("results:focus",function(_f){df.$selection.attr("aria-activedescendant",_f.data._resultId)}),uf.on("selection:update",function(_f){df.update(_f.data)}),uf.on("open",function(){df.$selection.attr("aria-expanded","true"),df.$selection.attr("aria-owns",gf),df._attachCloseHandler(uf)}),uf.on("close",function(){df.$selection.attr("aria-expanded","false"),df.$selection.removeAttr("aria-activedescendant"),df.$selection.removeAttr("aria-owns"),df.$selection.trigger("focus"),df._detachCloseHandler(uf)}),uf.on("enable",function(){df.$selection.attr("tabindex",df._tabindex),df.$selection.attr("aria-disabled","false")}),uf.on("disable",function(){df.$selection.attr("tabindex","-1"),df.$selection.attr("aria-disabled","true")})},cf.prototype._handleBlur=function(uf){var ff=this;window.setTimeout(function(){document.activeElement==ff.$selection[0]||sf.contains(ff.$selection[0],document.activeElement)||ff.trigger("blur",uf)},1)},cf.prototype._attachCloseHandler=function(uf){sf(document.body).on("mousedown.select2."+uf.id,function(ff){var df=sf(ff.target),gf=df.closest(".select2"),_f=sf(".select2.select2-container--open");_f.each(function(){if(this!=gf[0]){var xf=af.GetData(this,"element");xf.select2("close")}})})},cf.prototype._detachCloseHandler=function(uf){sf(document.body).off("mousedown.select2."+uf.id)},cf.prototype.position=function(uf,ff){var df=ff.find(".selection");df.append(uf)},cf.prototype.destroy=function(){this._detachCloseHandler(this.container)},cf.prototype.update=function(uf){throw new Error("The `update` method must be defined in child classes.")},cf.prototype.isEnabled=function(){return!this.isDisabled()},cf.prototype.isDisabled=function(){return this.options.get("disabled")},cf}),rf.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(sf,af,lf,cf){function uf(){uf.__super__.constructor.apply(this,arguments)}return lf.Extend(uf,af),uf.prototype.render=function(){var ff=uf.__super__.render.call(this);return ff.addClass("select2-selection--single"),ff.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),ff},uf.prototype.bind=function(ff,df){var gf=this;uf.__super__.bind.apply(this,arguments);var _f=ff.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",_f).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",_f),this.$selection.on("mousedown",function(xf){xf.which===1&&gf.trigger("toggle",{originalEvent:xf})}),this.$selection.on("focus",function(xf){}),this.$selection.on("blur",function(xf){}),ff.on("focus",function(xf){ff.isOpen()||gf.$selection.trigger("focus")})},uf.prototype.clear=function(){var ff=this.$selection.find(".select2-selection__rendered");ff.empty(),ff.removeAttr("title")},uf.prototype.display=function(ff,df){var gf=this.options.get("templateSelection"),_f=this.options.get("escapeMarkup");return _f(gf(ff,df))},uf.prototype.selectionContainer=function(){return sf("<span></span>")},uf.prototype.update=function(ff){if(ff.length===0){this.clear();return}var df=ff[0],gf=this.$selection.find(".select2-selection__rendered"),_f=this.display(df,gf);gf.empty().append(_f);var xf=df.title||df.text;xf?gf.attr("title",xf):gf.removeAttr("title")},uf}),rf.define("select2/selection/multiple",["jquery","./base","../utils"],function(sf,af,lf){function cf(uf,ff){cf.__super__.constructor.apply(this,arguments)}return lf.Extend(cf,af),cf.prototype.render=function(){var uf=cf.__super__.render.call(this);return uf.addClass("select2-selection--multiple"),uf.html('<ul class="select2-selection__rendered"></ul>'),uf},cf.prototype.bind=function(uf,ff){var df=this;cf.__super__.bind.apply(this,arguments),this.$selection.on("click",function(gf){df.trigger("toggle",{originalEvent:gf})}),this.$selection.on("click",".select2-selection__choice__remove",function(gf){if(!df.isDisabled()){var _f=sf(this),xf=_f.parent(),Af=lf.GetData(xf[0],"data");df.trigger("unselect",{originalEvent:gf,data:Af})}})},cf.prototype.clear=function(){var uf=this.$selection.find(".select2-selection__rendered");uf.empty(),uf.removeAttr("title")},cf.prototype.display=function(uf,ff){var df=this.options.get("templateSelection"),gf=this.options.get("escapeMarkup");return gf(df(uf,ff))},cf.prototype.selectionContainer=function(){var uf=sf('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return uf},cf.prototype.update=function(uf){if(this.clear(),uf.length!==0){for(var ff=[],df=0;df<uf.length;df++){var gf=uf[df],_f=this.selectionContainer(),xf=this.display(gf,_f);_f.append(xf);var Af=gf.title||gf.text;Af&&_f.attr("title",Af),lf.StoreData(_f[0],"data",gf),ff.push(_f)}var Df=this.$selection.find(".select2-selection__rendered");lf.appendMany(Df,ff)}},cf}),rf.define("select2/selection/placeholder",["../utils"],function(sf){function af(lf,cf,uf){this.placeholder=this.normalizePlaceholder(uf.get("placeholder")),lf.call(this,cf,uf)}return af.prototype.normalizePlaceholder=function(lf,cf){return typeof cf=="string"&&(cf={id:"",text:cf}),cf},af.prototype.createPlaceholder=function(lf,cf){var uf=this.selectionContainer();return uf.html(this.display(cf)),uf.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),uf},af.prototype.update=function(lf,cf){var uf=cf.length==1&&cf[0].id!=this.placeholder.id,ff=cf.length>1;if(ff||uf)return lf.call(this,cf);this.clear();var df=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(df)},af}),rf.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(sf,af,lf){function cf(){}return cf.prototype.bind=function(uf,ff,df){var gf=this;uf.call(this,ff,df),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(_f){gf._handleClear(_f)}),ff.on("keypress",function(_f){gf._handleKeyboardClear(_f,ff)})},cf.prototype._handleClear=function(uf,ff){if(!this.isDisabled()){var df=this.$selection.find(".select2-selection__clear");if(df.length!==0){ff.stopPropagation();var gf=lf.GetData(df[0],"data"),_f=this.$element.val();this.$element.val(this.placeholder.id);var xf={data:gf};if(this.trigger("clear",xf),xf.prevented){this.$element.val(_f);return}for(var Af=0;Af<gf.length;Af++)if(xf={data:gf[Af]},this.trigger("unselect",xf),xf.prevented){this.$element.val(_f);return}this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}},cf.prototype._handleKeyboardClear=function(uf,ff,df){df.isOpen()||(ff.which==af.DELETE||ff.which==af.BACKSPACE)&&this._handleClear(ff)},cf.prototype.update=function(uf,ff){if(uf.call(this,ff),!(this.$selection.find(".select2-selection__placeholder").length>0||ff.length===0)){var df=this.options.get("translations").get("removeAllItems"),gf=sf('<span class="select2-selection__clear" title="'+df()+'">&times;</span>');lf.StoreData(gf[0],"data",ff),this.$selection.find(".select2-selection__rendered").prepend(gf)}},cf}),rf.define("select2/selection/search",["jquery","../utils","../keys"],function(sf,af,lf){function cf(uf,ff,df){uf.call(this,ff,df)}return cf.prototype.render=function(uf){var ff=sf('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=ff,this.$search=ff.find("input");var df=uf.call(this);return this._transferTabIndex(),df},cf.prototype.bind=function(uf,ff,df){var gf=this,_f=ff.id+"-results";uf.call(this,ff,df),ff.on("open",function(){gf.$search.attr("aria-controls",_f),gf.$search.trigger("focus")}),ff.on("close",function(){gf.$search.val(""),gf.$search.removeAttr("aria-controls"),gf.$search.removeAttr("aria-activedescendant"),gf.$search.trigger("focus")}),ff.on("enable",function(){gf.$search.prop("disabled",!1),gf._transferTabIndex()}),ff.on("disable",function(){gf.$search.prop("disabled",!0)}),ff.on("focus",function(Df){gf.$search.trigger("focus")}),ff.on("results:focus",function(Df){Df.data._resultId?gf.$search.attr("aria-activedescendant",Df.data._resultId):gf.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(Df){gf.trigger("focus",Df)}),this.$selection.on("focusout",".select2-search--inline",function(Df){gf._handleBlur(Df)}),this.$selection.on("keydown",".select2-search--inline",function(Df){Df.stopPropagation(),gf.trigger("keypress",Df),gf._keyUpPrevented=Df.isDefaultPrevented();var Of=Df.which;if(Of===lf.BACKSPACE&&gf.$search.val()===""){var Gf=gf.$searchContainer.prev(".select2-selection__choice");if(Gf.length>0){var Bf=af.GetData(Gf[0],"data");gf.searchRemoveChoice(Bf),Df.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(Df){gf.$search.val()&&Df.stopPropagation()});var xf=document.documentMode,Af=xf&&xf<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(Df){if(Af){gf.$selection.off("input.search input.searchcheck");return}gf.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(Df){if(Af&&Df.type==="input"){gf.$selection.off("input.search input.searchcheck");return}var Of=Df.which;Of==lf.SHIFT||Of==lf.CTRL||Of==lf.ALT||Of!=lf.TAB&&gf.handleSearch(Df)})},cf.prototype._transferTabIndex=function(uf){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},cf.prototype.createPlaceholder=function(uf,ff){this.$search.attr("placeholder",ff.text)},cf.prototype.update=function(uf,ff){var df=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),uf.call(this,ff),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),df&&this.$search.trigger("focus")},cf.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var uf=this.$search.val();this.trigger("query",{term:uf})}this._keyUpPrevented=!1},cf.prototype.searchRemoveChoice=function(uf,ff){this.trigger("unselect",{data:ff}),this.$search.val(ff.text),this.handleSearch()},cf.prototype.resizeSearch=function(){this.$search.css("width","25px");var uf="";if(this.$search.attr("placeholder")!=="")uf=this.$selection.find(".select2-selection__rendered").width();else{var ff=this.$search.val().length+1;uf=ff*.75+"em"}this.$search.css("width",uf)},cf}),rf.define("select2/selection/eventRelay",["jquery"],function(sf){function af(){}return af.prototype.bind=function(lf,cf,uf){var ff=this,df=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],gf=["opening","closing","selecting","unselecting","clearing"];lf.call(this,cf,uf),cf.on("*",function(_f,xf){if(sf.inArray(_f,df)!==-1){xf=xf||{};var Af=sf.Event("select2:"+_f,{params:xf});ff.$element.trigger(Af),sf.inArray(_f,gf)!==-1&&(xf.prevented=Af.isDefaultPrevented())}})},af}),rf.define("select2/translation",["jquery","require"],function(sf,af){function lf(cf){this.dict=cf||{}}return lf.prototype.all=function(){return this.dict},lf.prototype.get=function(cf){return this.dict[cf]},lf.prototype.extend=function(cf){this.dict=sf.extend({},cf.all(),this.dict)},lf._cache={},lf.loadPath=function(cf){if(!(cf in lf._cache)){var uf=af(cf);lf._cache[cf]=uf}return new lf(lf._cache[cf])},lf}),rf.define("select2/diacritics",[],function(){var sf={"":"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A","":"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B",:"B",:"B",:"B",:"B","":"B",:"B",:"B","":"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C","":"C","":"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D","":"D",:"DZ",:"DZ",:"Dz",:"Dz","":"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"F",:"F",:"F",:"F","":"F","":"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G","":"G","":"G","":"G","":"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H","":"H","":"H","":"H","":"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"J",:"J",:"J","":"J","":"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K","":"K","":"K","":"K","":"K","":"K","":"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L",:"LJ",:"Lj","":"M",:"M",:"M",:"M",:"M","":"M",:"M","":"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N","":"N","":"N",:"NJ",:"Nj","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"OE",:"OI","":"OO",:"OU","":"P",:"P",:"P",:"P",:"P","":"P","":"P","":"P","":"P","":"Q",:"Q","":"Q","":"Q","":"Q","":"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"R","":"R","":"R","":"S",:"S","":"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S","":"S","":"S","":"S","":"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T","":"T","":"T","":"TZ","":"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"U","":"V",:"V",:"V",:"V",:"V","":"V","":"V","":"VY","":"W",:"W",:"W",:"W",:"W",:"W",:"W",:"W","":"W","":"X",:"X",:"X",:"X","":"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y","":"Y","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z","":"Z","":"Z","":"Z","":"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay","":"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b","":"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c","":"c","":"c","":"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d","":"d",:"dz",:"dz","":"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e",:"e","":"f",:"f",:"f",:"f","":"f","":"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g","":"g","":"g","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h","":"h","":"h",:"h",:"hv","":"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"j",:"j",:"j",:"j","":"j","":"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k","":"k","":"k","":"k","":"k","":"k","":"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l","":"l","":"l","":"l","":"l",:"lj","":"m",:"m",:"m",:"m",:"m",:"m",:"m","":"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"nj","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o",:"o",:"oe",:"oi",:"ou","":"oo","":"p",:"p",:"p",:"p",:"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q","":"q","":"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r","":"r","":"r","":"r","":"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"s","":"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t","":"t","":"t","":"tz","":"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"v",:"v",:"v",:"v",:"v","":"v",:"v","":"vy","":"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w","":"w","":"x",:"x",:"x",:"x","":"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y","":"y","":"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z","":"z","":"z","":"z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"'"};return sf}),rf.define("select2/data/base",["../utils"],function(sf){function af(lf,cf){af.__super__.constructor.call(this)}return sf.Extend(af,sf.Observable),af.prototype.current=function(lf){throw new Error("The `current` method must be defined in child classes.")},af.prototype.query=function(lf,cf){throw new Error("The `query` method must be defined in child classes.")},af.prototype.bind=function(lf,cf){},af.prototype.destroy=function(){},af.prototype.generateResultId=function(lf,cf){var uf=lf.id+"-result-";return uf+=sf.generateChars(4),cf.id!=null?uf+="-"+cf.id.toString():uf+="-"+sf.generateChars(4),uf},af}),rf.define("select2/data/select",["./base","../utils","jquery"],function(sf,af,lf){function cf(uf,ff){this.$element=uf,this.options=ff,cf.__super__.constructor.call(this)}return af.Extend(cf,sf),cf.prototype.current=function(uf){var ff=[],df=this;this.$element.find(":selected").each(function(){var gf=lf(this),_f=df.item(gf);ff.push(_f)}),uf(ff)},cf.prototype.select=function(uf){var ff=this;if(uf.selected=!0,lf(uf.element).is("option")){uf.element.selected=!0,this.$element.trigger("input").trigger("change");return}if(this.$element.prop("multiple"))this.current(function(gf){var _f=[];uf=[uf],uf.push.apply(uf,gf);for(var xf=0;xf<uf.length;xf++){var Af=uf[xf].id;lf.inArray(Af,_f)===-1&&_f.push(Af)}ff.$element.val(_f),ff.$element.trigger("input").trigger("change")});else{var df=uf.id;this.$element.val(df),this.$element.trigger("input").trigger("change")}},cf.prototype.unselect=function(uf){var ff=this;if(this.$element.prop("multiple")){if(uf.selected=!1,lf(uf.element).is("option")){uf.element.selected=!1,this.$element.trigger("input").trigger("change");return}this.current(function(df){for(var gf=[],_f=0;_f<df.length;_f++){var xf=df[_f].id;xf!==uf.id&&lf.inArray(xf,gf)===-1&&gf.push(xf)}ff.$element.val(gf),ff.$element.trigger("input").trigger("change")})}},cf.prototype.bind=function(uf,ff){var df=this;this.container=uf,uf.on("select",function(gf){df.select(gf.data)}),uf.on("unselect",function(gf){df.unselect(gf.data)})},cf.prototype.destroy=function(){this.$element.find("*").each(function(){af.RemoveData(this)})},cf.prototype.query=function(uf,ff){var df=[],gf=this,_f=this.$element.children();_f.each(function(){var xf=lf(this);if(!(!xf.is("option")&&!xf.is("optgroup"))){var Af=gf.item(xf),Df=gf.matches(uf,Af);Df!==null&&df.push(Df)}}),ff({results:df})},cf.prototype.addOptions=function(uf){af.appendMany(this.$element,uf)},cf.prototype.option=function(uf){var ff;uf.children?(ff=document.createElement("optgroup"),ff.label=uf.text):(ff=document.createElement("option"),ff.textContent!==void 0?ff.textContent=uf.text:ff.innerText=uf.text),uf.id!==void 0&&(ff.value=uf.id),uf.disabled&&(ff.disabled=!0),uf.selected&&(ff.selected=!0),uf.title&&(ff.title=uf.title);var df=lf(ff),gf=this._normalizeItem(uf);return gf.element=ff,af.StoreData(ff,"data",gf),df},cf.prototype.item=function(uf){var ff={};if(ff=af.GetData(uf[0],"data"),ff!=null)return ff;if(uf.is("option"))ff={id:uf.val(),text:uf.text(),disabled:uf.prop("disabled"),selected:uf.prop("selected"),title:uf.prop("title")};else if(uf.is("optgroup")){ff={text:uf.prop("label"),children:[],title:uf.prop("title")};for(var df=uf.children("option"),gf=[],_f=0;_f<df.length;_f++){var xf=lf(df[_f]),Af=this.item(xf);gf.push(Af)}ff.children=gf}return ff=this._normalizeItem(ff),ff.element=uf[0],af.StoreData(uf[0],"data",ff),ff},cf.prototype._normalizeItem=function(uf){uf!==Object(uf)&&(uf={id:uf,text:uf}),uf=lf.extend({},{text:""},uf);var ff={selected:!1,disabled:!1};return uf.id!=null&&(uf.id=uf.id.toString()),uf.text!=null&&(uf.text=uf.text.toString()),uf._resultId==null&&uf.id&&this.container!=null&&(uf._resultId=this.generateResultId(this.container,uf)),lf.extend({},ff,uf)},cf.prototype.matches=function(uf,ff){var df=this.options.get("matcher");return df(uf,ff)},cf}),rf.define("select2/data/array",["./select","../utils","jquery"],function(sf,af,lf){function cf(uf,ff){this._dataToConvert=ff.get("data")||[],cf.__super__.constructor.call(this,uf,ff)}return af.Extend(cf,sf),cf.prototype.bind=function(uf,ff){cf.__super__.bind.call(this,uf,ff),this.addOptions(this.convertToOptions(this._dataToConvert))},cf.prototype.select=function(uf){var ff=this.$element.find("option").filter(function(df,gf){return gf.value==uf.id.toString()});ff.length===0&&(ff=this.option(uf),this.addOptions(ff)),cf.__super__.select.call(this,uf)},cf.prototype.convertToOptions=function(uf){var ff=this,df=this.$element.find("option"),gf=df.map(function(){return ff.item(lf(this)).id}).get(),_f=[];function xf(Tf){return function(){return lf(this).val()==Tf.id}}for(var Af=0;Af<uf.length;Af++){var Df=this._normalizeItem(uf[Af]);if(lf.inArray(Df.id,gf)>=0){var Of=df.filter(xf(Df)),Gf=this.item(Of),Bf=lf.extend(!0,{},Df,Gf),Vf=this.option(Bf);Of.replaceWith(Vf);continue}var Lf=this.option(Df);if(Df.children){var Cf=this.convertToOptions(Df.children);af.appendMany(Lf,Cf)}_f.push(Lf)}return _f},cf}),rf.define("select2/data/ajax",["./array","../utils","jquery"],function(sf,af,lf){function cf(uf,ff){this.ajaxOptions=this._applyDefaults(ff.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),cf.__super__.constructor.call(this,uf,ff)}return af.Extend(cf,sf),cf.prototype._applyDefaults=function(uf){var ff={data:function(df){return lf.extend({},df,{q:df.term})},transport:function(df,gf,_f){var xf=lf.ajax(df);return xf.then(gf),xf.fail(_f),xf}};return lf.extend({},ff,uf,!0)},cf.prototype.processResults=function(uf){return uf},cf.prototype.query=function(uf,ff){var df=this;this._request!=null&&(lf.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var gf=lf.extend({type:"GET"},this.ajaxOptions);typeof gf.url=="function"&&(gf.url=gf.url.call(this.$element,uf)),typeof gf.data=="function"&&(gf.data=gf.data.call(this.$element,uf));function _f(){var xf=gf.transport(gf,function(Af){var Df=df.processResults(Af,uf);df.options.get("debug")&&window.console&&console.error&&(!Df||!Df.results||!lf.isArray(Df.results))&&console.error("Select2: The AJAX results did not return an array in the `results` key of the response."),ff(Df)},function(){"status"in xf&&(xf.status===0||xf.status==="0")||df.trigger("results:message",{message:"errorLoading"})});df._request=xf}this.ajaxOptions.delay&&uf.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(_f,this.ajaxOptions.delay)):_f()},cf}),rf.define("select2/data/tags",["jquery"],function(sf){function af(lf,cf,uf){var ff=uf.get("tags"),df=uf.get("createTag");df!==void 0&&(this.createTag=df);var gf=uf.get("insertTag");if(gf!==void 0&&(this.insertTag=gf),lf.call(this,cf,uf),sf.isArray(ff))for(var _f=0;_f<ff.length;_f++){var xf=ff[_f],Af=this._normalizeItem(xf),Df=this.option(Af);this.$element.append(Df)}}return af.prototype.query=function(lf,cf,uf){var ff=this;if(this._removeOldTags(),cf.term==null||cf.page!=null){lf.call(this,cf,uf);return}function df(gf,_f){for(var xf=gf.results,Af=0;Af<xf.length;Af++){var Df=xf[Af],Of=Df.children!=null&&!df({results:Df.children},!0),Gf=(Df.text||"").toUpperCase(),Bf=(cf.term||"").toUpperCase(),Vf=Gf===Bf;if(Vf||Of){if(_f)return!1;gf.data=xf,uf(gf);return}}if(_f)return!0;var Lf=ff.createTag(cf);if(Lf!=null){var Cf=ff.option(Lf);Cf.attr("data-select2-tag",!0),ff.addOptions([Cf]),ff.insertTag(xf,Lf)}gf.results=xf,uf(gf)}lf.call(this,cf,df)},af.prototype.createTag=function(lf,cf){var uf=sf.trim(cf.term);return uf===""?null:{id:uf,text:uf}},af.prototype.insertTag=function(lf,cf,uf){cf.unshift(uf)},af.prototype._removeOldTags=function(lf){var cf=this.$element.find("option[data-select2-tag]");cf.each(function(){this.selected||sf(this).remove()})},af}),rf.define("select2/data/tokenizer",["jquery"],function(sf){function af(lf,cf,uf){var ff=uf.get("tokenizer");ff!==void 0&&(this.tokenizer=ff),lf.call(this,cf,uf)}return af.prototype.bind=function(lf,cf,uf){lf.call(this,cf,uf),this.$search=cf.dropdown.$search||cf.selection.$search||uf.find(".select2-search__field")},af.prototype.query=function(lf,cf,uf){var ff=this;function df(xf){var Af=ff._normalizeItem(xf),Df=ff.$element.find("option").filter(function(){return sf(this).val()===Af.id});if(!Df.length){var Of=ff.option(Af);Of.attr("data-select2-tag",!0),ff._removeOldTags(),ff.addOptions([Of])}gf(Af)}function gf(xf){ff.trigger("select",{data:xf})}cf.term=cf.term||"";var _f=this.tokenizer(cf,this.options,df);_f.term!==cf.term&&(this.$search.length&&(this.$search.val(_f.term),this.$search.trigger("focus")),cf.term=_f.term),lf.call(this,cf,uf)},af.prototype.tokenizer=function(lf,cf,uf,ff){for(var df=uf.get("tokenSeparators")||[],gf=cf.term,_f=0,xf=this.createTag||function(Bf){return{id:Bf.term,text:Bf.term}};_f<gf.length;){var Af=gf[_f];if(sf.inArray(Af,df)===-1){_f++;continue}var Df=gf.substr(0,_f),Of=sf.extend({},cf,{term:Df}),Gf=xf(Of);if(Gf==null){_f++;continue}ff(Gf),gf=gf.substr(_f+1)||"",_f=0}return{term:gf}},af}),rf.define("select2/data/minimumInputLength",[],function(){function sf(af,lf,cf){this.minimumInputLength=cf.get("minimumInputLength"),af.call(this,lf,cf)}return sf.prototype.query=function(af,lf,cf){if(lf.term=lf.term||"",lf.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:lf.term,params:lf}});return}af.call(this,lf,cf)},sf}),rf.define("select2/data/maximumInputLength",[],function(){function sf(af,lf,cf){this.maximumInputLength=cf.get("maximumInputLength"),af.call(this,lf,cf)}return sf.prototype.query=function(af,lf,cf){if(lf.term=lf.term||"",this.maximumInputLength>0&&lf.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:lf.term,params:lf}});return}af.call(this,lf,cf)},sf}),rf.define("select2/data/maximumSelectionLength",[],function(){function sf(af,lf,cf){this.maximumSelectionLength=cf.get("maximumSelectionLength"),af.call(this,lf,cf)}return sf.prototype.bind=function(af,lf,cf){var uf=this;af.call(this,lf,cf),lf.on("select",function(){uf._checkIfMaximumSelected()})},sf.prototype.query=function(af,lf,cf){var uf=this;this._checkIfMaximumSelected(function(){af.call(uf,lf,cf)})},sf.prototype._checkIfMaximumSelected=function(af,lf){var cf=this;this.current(function(uf){var ff=uf!=null?uf.length:0;if(cf.maximumSelectionLength>0&&ff>=cf.maximumSelectionLength){cf.trigger("results:message",{message:"maximumSelected",args:{maximum:cf.maximumSelectionLength}});return}lf&&lf()})},sf}),rf.define("select2/dropdown",["jquery","./utils"],function(sf,af){function lf(cf,uf){this.$element=cf,this.options=uf,lf.__super__.constructor.call(this)}return af.Extend(lf,af.Observable),lf.prototype.render=function(){var cf=sf('<span class="select2-dropdown"><span class="select2-results"></span></span>');return cf.attr("dir",this.options.get("dir")),this.$dropdown=cf,cf},lf.prototype.bind=function(){},lf.prototype.position=function(cf,uf){},lf.prototype.destroy=function(){this.$dropdown.remove()},lf}),rf.define("select2/dropdown/search",["jquery","../utils"],function(sf,af){function lf(){}return lf.prototype.render=function(cf){var uf=cf.call(this),ff=sf('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=ff,this.$search=ff.find("input"),uf.prepend(ff),uf},lf.prototype.bind=function(cf,uf,ff){var df=this,gf=uf.id+"-results";cf.call(this,uf,ff),this.$search.on("keydown",function(_f){df.trigger("keypress",_f),df._keyUpPrevented=_f.isDefaultPrevented()}),this.$search.on("input",function(_f){sf(this).off("keyup")}),this.$search.on("keyup input",function(_f){df.handleSearch(_f)}),uf.on("open",function(){df.$search.attr("tabindex",0),df.$search.attr("aria-controls",gf),df.$search.trigger("focus"),window.setTimeout(function(){df.$search.trigger("focus")},0)}),uf.on("close",function(){df.$search.attr("tabindex",-1),df.$search.removeAttr("aria-controls"),df.$search.removeAttr("aria-activedescendant"),df.$search.val(""),df.$search.trigger("blur")}),uf.on("focus",function(){uf.isOpen()||df.$search.trigger("focus")}),uf.on("results:all",function(_f){if(_f.query.term==null||_f.query.term===""){var xf=df.showSearch(_f);xf?df.$searchContainer.removeClass("select2-search--hide"):df.$searchContainer.addClass("select2-search--hide")}}),uf.on("results:focus",function(_f){_f.data._resultId?df.$search.attr("aria-activedescendant",_f.data._resultId):df.$search.removeAttr("aria-activedescendant")})},lf.prototype.handleSearch=function(cf){if(!this._keyUpPrevented){var uf=this.$search.val();this.trigger("query",{term:uf})}this._keyUpPrevented=!1},lf.prototype.showSearch=function(cf,uf){return!0},lf}),rf.define("select2/dropdown/hidePlaceholder",[],function(){function sf(af,lf,cf,uf){this.placeholder=this.normalizePlaceholder(cf.get("placeholder")),af.call(this,lf,cf,uf)}return sf.prototype.append=function(af,lf){lf.results=this.removePlaceholder(lf.results),af.call(this,lf)},sf.prototype.normalizePlaceholder=function(af,lf){return typeof lf=="string"&&(lf={id:"",text:lf}),lf},sf.prototype.removePlaceholder=function(af,lf){for(var cf=lf.slice(0),uf=lf.length-1;uf>=0;uf--){var ff=lf[uf];this.placeholder.id===ff.id&&cf.splice(uf,1)}return cf},sf}),rf.define("select2/dropdown/infiniteScroll",["jquery"],function(sf){function af(lf,cf,uf,ff){this.lastParams={},lf.call(this,cf,uf,ff),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return af.prototype.append=function(lf,cf){this.$loadingMore.remove(),this.loading=!1,lf.call(this,cf),this.showLoadingMore(cf)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},af.prototype.bind=function(lf,cf,uf){var ff=this;lf.call(this,cf,uf),cf.on("query",function(df){ff.lastParams=df,ff.loading=!0}),cf.on("query:append",function(df){ff.lastParams=df,ff.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},af.prototype.loadMoreIfNeeded=function(){var lf=sf.contains(document.documentElement,this.$loadingMore[0]);if(!(this.loading||!lf)){var cf=this.$results.offset().top+this.$results.outerHeight(!1),uf=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1);cf+50>=uf&&this.loadMore()}},af.prototype.loadMore=function(){this.loading=!0;var lf=sf.extend({},{page:1},this.lastParams);lf.page++,this.trigger("query:append",lf)},af.prototype.showLoadingMore=function(lf,cf){return cf.pagination&&cf.pagination.more},af.prototype.createLoadingMore=function(){var lf=sf('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),cf=this.options.get("translations").get("loadingMore");return lf.html(cf(this.lastParams)),lf},af}),rf.define("select2/dropdown/attachBody",["jquery","../utils"],function(sf,af){function lf(cf,uf,ff){this.$dropdownParent=sf(ff.get("dropdownParent")||document.body),cf.call(this,uf,ff)}return lf.prototype.bind=function(cf,uf,ff){var df=this;cf.call(this,uf,ff),uf.on("open",function(){df._showDropdown(),df._attachPositioningHandler(uf),df._bindContainerResultHandlers(uf)}),uf.on("close",function(){df._hideDropdown(),df._detachPositioningHandler(uf)}),this.$dropdownContainer.on("mousedown",function(gf){gf.stopPropagation()})},lf.prototype.destroy=function(cf){cf.call(this),this.$dropdownContainer.remove()},lf.prototype.position=function(cf,uf,ff){uf.attr("class",ff.attr("class")),uf.removeClass("select2"),uf.addClass("select2-container--open"),uf.css({position:"absolute",top:-999999}),this.$container=ff},lf.prototype.render=function(cf){var uf=sf("<span></span>"),ff=cf.call(this);return uf.append(ff),this.$dropdownContainer=uf,uf},lf.prototype._hideDropdown=function(cf){this.$dropdownContainer.detach()},lf.prototype._bindContainerResultHandlers=function(cf,uf){if(!this._containerResultsHandlersBound){var ff=this;uf.on("results:all",function(){ff._positionDropdown(),ff._resizeDropdown()}),uf.on("results:append",function(){ff._positionDropdown(),ff._resizeDropdown()}),uf.on("results:message",function(){ff._positionDropdown(),ff._resizeDropdown()}),uf.on("select",function(){ff._positionDropdown(),ff._resizeDropdown()}),uf.on("unselect",function(){ff._positionDropdown(),ff._resizeDropdown()}),this._containerResultsHandlersBound=!0}},lf.prototype._attachPositioningHandler=function(cf,uf){var ff=this,df="scroll.select2."+uf.id,gf="resize.select2."+uf.id,_f="orientationchange.select2."+uf.id,xf=this.$container.parents().filter(af.hasScroll);xf.each(function(){af.StoreData(this,"select2-scroll-position",{x:sf(this).scrollLeft(),y:sf(this).scrollTop()})}),xf.on(df,function(Af){var Df=af.GetData(this,"select2-scroll-position");sf(this).scrollTop(Df.y)}),sf(window).on(df+" "+gf+" "+_f,function(Af){ff._positionDropdown(),ff._resizeDropdown()})},lf.prototype._detachPositioningHandler=function(cf,uf){var ff="scroll.select2."+uf.id,df="resize.select2."+uf.id,gf="orientationchange.select2."+uf.id,_f=this.$container.parents().filter(af.hasScroll);_f.off(ff),sf(window).off(ff+" "+df+" "+gf)},lf.prototype._positionDropdown=function(){var cf=sf(window),uf=this.$dropdown.hasClass("select2-dropdown--above"),ff=this.$dropdown.hasClass("select2-dropdown--below"),df=null,gf=this.$container.offset();gf.bottom=gf.top+this.$container.outerHeight(!1);var _f={height:this.$container.outerHeight(!1)};_f.top=gf.top,_f.bottom=gf.top+_f.height;var xf={height:this.$dropdown.outerHeight(!1)},Af={top:cf.scrollTop(),bottom:cf.scrollTop()+cf.height()},Df=Af.top<gf.top-xf.height,Of=Af.bottom>gf.bottom+xf.height,Gf={left:gf.left,top:_f.bottom},Bf=this.$dropdownParent;Bf.css("position")==="static"&&(Bf=Bf.offsetParent());var Vf={top:0,left:0};(sf.contains(document.body,Bf[0])||Bf[0].isConnected)&&(Vf=Bf.offset()),Gf.top-=Vf.top,Gf.left-=Vf.left,!uf&&!ff&&(df="below"),!Of&&Df&&!uf?df="above":!Df&&Of&&uf&&(df="below"),(df=="above"||uf&&df!=="below")&&(Gf.top=_f.top-Vf.top-xf.height),df!=null&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+df),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+df)),this.$dropdownContainer.css(Gf)},lf.prototype._resizeDropdown=function(){var cf={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(cf.minWidth=cf.width,cf.position="relative",cf.width="auto"),this.$dropdown.css(cf)},lf.prototype._showDropdown=function(cf){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},lf}),rf.define("select2/dropdown/minimumResultsForSearch",[],function(){function sf(lf){for(var cf=0,uf=0;uf<lf.length;uf++){var ff=lf[uf];ff.children?cf+=sf(ff.children):cf++}return cf}function af(lf,cf,uf,ff){this.minimumResultsForSearch=uf.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),lf.call(this,cf,uf,ff)}return af.prototype.showSearch=function(lf,cf){return sf(cf.data.results)<this.minimumResultsForSearch?!1:lf.call(this,cf)},af}),rf.define("select2/dropdown/selectOnClose",["../utils"],function(sf){function af(){}return af.prototype.bind=function(lf,cf,uf){var ff=this;lf.call(this,cf,uf),cf.on("close",function(df){ff._handleSelectOnClose(df)})},af.prototype._handleSelectOnClose=function(lf,cf){if(cf&&cf.originalSelect2Event!=null){var uf=cf.originalSelect2Event;if(uf._type==="select"||uf._type==="unselect")return}var ff=this.getHighlightedResults();if(!(ff.length<1)){var df=sf.GetData(ff[0],"data");df.element!=null&&df.element.selected||df.element==null&&df.selected||this.trigger("select",{data:df})}},af}),rf.define("select2/dropdown/closeOnSelect",[],function(){function sf(){}return sf.prototype.bind=function(af,lf,cf){var uf=this;af.call(this,lf,cf),lf.on("select",function(ff){uf._selectTriggered(ff)}),lf.on("unselect",function(ff){uf._selectTriggered(ff)})},sf.prototype._selectTriggered=function(af,lf){var cf=lf.originalEvent;cf&&(cf.ctrlKey||cf.metaKey)||this.trigger("close",{originalEvent:cf,originalSelect2Event:lf})},sf}),rf.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(sf){var af=sf.input.length-sf.maximum,lf="Please delete "+af+" character";return af!=1&&(lf+="s"),lf},inputTooShort:function(sf){var af=sf.minimum-sf.input.length,lf="Please enter "+af+" or more characters";return lf},loadingMore:function(){return"Loading more results"},maximumSelected:function(sf){var af="You can only select "+sf.maximum+" item";return sf.maximum!=1&&(af+="s"),af},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"}}}),rf.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(sf,af,lf,cf,uf,ff,df,gf,_f,xf,Af,Df,Of,Gf,Bf,Vf,Lf,Cf,Tf,Yf,rh,dh,hh,sh,Hf,Qf,ah,mh,uh){function jf(){this.reset()}jf.prototype.apply=function(of){if(of=sf.extend(!0,{},this.defaults,of),of.dataAdapter==null){if(of.ajax!=null?of.dataAdapter=Bf:of.data!=null?of.dataAdapter=Gf:of.dataAdapter=Of,of.minimumInputLength>0&&(of.dataAdapter=xf.Decorate(of.dataAdapter,Cf)),of.maximumInputLength>0&&(of.dataAdapter=xf.Decorate(of.dataAdapter,Tf)),of.maximumSelectionLength>0&&(of.dataAdapter=xf.Decorate(of.dataAdapter,Yf)),of.tags&&(of.dataAdapter=xf.Decorate(of.dataAdapter,Vf)),(of.tokenSeparators!=null||of.tokenizer!=null)&&(of.dataAdapter=xf.Decorate(of.dataAdapter,Lf)),of.query!=null){var hf=af(of.amdBase+"compat/query");of.dataAdapter=xf.Decorate(of.dataAdapter,hf)}if(of.initSelection!=null){var pf=af(of.amdBase+"compat/initSelection");of.dataAdapter=xf.Decorate(of.dataAdapter,pf)}}if(of.resultsAdapter==null&&(of.resultsAdapter=lf,of.ajax!=null&&(of.resultsAdapter=xf.Decorate(of.resultsAdapter,sh)),of.placeholder!=null&&(of.resultsAdapter=xf.Decorate(of.resultsAdapter,hh)),of.selectOnClose&&(of.resultsAdapter=xf.Decorate(of.resultsAdapter,ah))),of.dropdownAdapter==null){if(of.multiple)of.dropdownAdapter=rh;else{var vf=xf.Decorate(rh,dh);of.dropdownAdapter=vf}if(of.minimumResultsForSearch!==0&&(of.dropdownAdapter=xf.Decorate(of.dropdownAdapter,Qf)),of.closeOnSelect&&(of.dropdownAdapter=xf.Decorate(of.dropdownAdapter,mh)),of.dropdownCssClass!=null||of.dropdownCss!=null||of.adaptDropdownCssClass!=null){var Ef=af(of.amdBase+"compat/dropdownCss");of.dropdownAdapter=xf.Decorate(of.dropdownAdapter,Ef)}of.dropdownAdapter=xf.Decorate(of.dropdownAdapter,Hf)}if(of.selectionAdapter==null){if(of.multiple?of.selectionAdapter=uf:of.selectionAdapter=cf,of.placeholder!=null&&(of.selectionAdapter=xf.Decorate(of.selectionAdapter,ff)),of.allowClear&&(of.selectionAdapter=xf.Decorate(of.selectionAdapter,df)),of.multiple&&(of.selectionAdapter=xf.Decorate(of.selectionAdapter,gf)),of.containerCssClass!=null||of.containerCss!=null||of.adaptContainerCssClass!=null){var Sf=af(of.amdBase+"compat/containerCss");of.selectionAdapter=xf.Decorate(of.selectionAdapter,Sf)}of.selectionAdapter=xf.Decorate(of.selectionAdapter,_f)}of.language=this._resolveLanguage(of.language),of.language.push("en");for(var Ff=[],Uf=0;Uf<of.language.length;Uf++){var Wf=of.language[Uf];Ff.indexOf(Wf)===-1&&Ff.push(Wf)}return of.language=Ff,of.translations=this._processTranslations(of.language,of.debug),of},jf.prototype.reset=function(){function of(pf){function vf(Ef){return Df[Ef]||Ef}return pf.replace(/[^\u0000-\u007E]/g,vf)}function hf(pf,vf){if(sf.trim(pf.term)==="")return vf;if(vf.children&&vf.children.length>0){for(var Ef=sf.extend(!0,{},vf),Sf=vf.children.length-1;Sf>=0;Sf--){var Ff=vf.children[Sf],Uf=hf(pf,Ff);Uf==null&&Ef.children.splice(Sf,1)}return Ef.children.length>0?Ef:hf(pf,Ef)}var Wf=of(vf.text).toUpperCase(),eh=of(pf.term).toUpperCase();return Wf.indexOf(eh)>-1?vf:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:xf.escapeMarkup,language:{},matcher:hf,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(pf){return pf},templateResult:function(pf){return pf.text},templateSelection:function(pf){return pf.text},theme:"default",width:"resolve"}},jf.prototype.applyFromElement=function(of,hf){var pf=of.language,vf=this.defaults.language,Ef=hf.prop("lang"),Sf=hf.closest("[lang]").prop("lang"),Ff=Array.prototype.concat.call(this._resolveLanguage(Ef),this._resolveLanguage(pf),this._resolveLanguage(vf),this._resolveLanguage(Sf));return of.language=Ff,of},jf.prototype._resolveLanguage=function(of){if(!of)return[];if(sf.isEmptyObject(of))return[];if(sf.isPlainObject(of))return[of];var hf;sf.isArray(of)?hf=of:hf=[of];for(var pf=[],vf=0;vf<hf.length;vf++)if(pf.push(hf[vf]),typeof hf[vf]=="string"&&hf[vf].indexOf("-")>0){var Ef=hf[vf].split("-"),Sf=Ef[0];pf.push(Sf)}return pf},jf.prototype._processTranslations=function(of,hf){for(var pf=new Af,vf=0;vf<of.length;vf++){var Ef=new Af,Sf=of[vf];if(typeof Sf=="string")try{Ef=Af.loadPath(Sf)}catch{try{Sf=this.defaults.amdLanguageBase+Sf,Ef=Af.loadPath(Sf)}catch{hf&&window.console&&console.warn&&console.warn('Select2: The language file for "'+Sf+'" could not be automatically loaded. A fallback will be used instead.')}}else sf.isPlainObject(Sf)?Ef=new Af(Sf):Ef=Sf;pf.extend(Ef)}return pf},jf.prototype.set=function(of,hf){var pf=sf.camelCase(of),vf={};vf[pf]=hf;var Ef=xf._convertData(vf);sf.extend(!0,this.defaults,Ef)};var Kf=new jf;return Kf}),rf.define("select2/options",["require","jquery","./defaults","./utils"],function(sf,af,lf,cf){function uf(ff,df){if(this.options=ff,df!=null&&this.fromElement(df),df!=null&&(this.options=lf.applyFromElement(this.options,df)),this.options=lf.apply(this.options),df&&df.is("input")){var gf=sf(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=cf.Decorate(this.options.dataAdapter,gf)}}return uf.prototype.fromElement=function(ff){var df=["select2"];this.options.multiple==null&&(this.options.multiple=ff.prop("multiple")),this.options.disabled==null&&(this.options.disabled=ff.prop("disabled")),this.options.dir==null&&(ff.prop("dir")?this.options.dir=ff.prop("dir"):ff.closest("[dir]").prop("dir")?this.options.dir=ff.closest("[dir]").prop("dir"):this.options.dir="ltr"),ff.prop("disabled",this.options.disabled),ff.prop("multiple",this.options.multiple),cf.GetData(ff[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),cf.StoreData(ff[0],"data",cf.GetData(ff[0],"select2Tags")),cf.StoreData(ff[0],"tags",!0)),cf.GetData(ff[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),ff.attr("ajax--url",cf.GetData(ff[0],"ajaxUrl")),cf.StoreData(ff[0],"ajax-Url",cf.GetData(ff[0],"ajaxUrl")));var gf={};function _f(Cf,Tf){return Tf.toUpperCase()}for(var xf=0;xf<ff[0].attributes.length;xf++){var Af=ff[0].attributes[xf].name,Df="data-";if(Af.substr(0,Df.length)==Df){var Of=Af.substring(Df.length),Gf=cf.GetData(ff[0],Of),Bf=Of.replace(/-([a-z])/g,_f);gf[Bf]=Gf}}af.fn.jquery&&af.fn.jquery.substr(0,2)=="1."&&ff[0].dataset&&(gf=af.extend(!0,{},ff[0].dataset,gf));var Vf=af.extend(!0,{},cf.GetData(ff[0]),gf);Vf=cf._convertData(Vf);for(var Lf in Vf)af.inArray(Lf,df)>-1||(af.isPlainObject(this.options[Lf])?af.extend(this.options[Lf],Vf[Lf]):this.options[Lf]=Vf[Lf]);return this},uf.prototype.get=function(ff){return this.options[ff]},uf.prototype.set=function(ff,df){this.options[ff]=df},uf}),rf.define("select2/core",["jquery","./options","./utils","./keys"],function(sf,af,lf,cf){var uf=function(ff,df){lf.GetData(ff[0],"select2")!=null&&lf.GetData(ff[0],"select2").destroy(),this.$element=ff,this.id=this._generateId(ff),df=df||{},this.options=new af(df,ff),uf.__super__.constructor.call(this);var gf=ff.attr("tabindex")||0;lf.StoreData(ff[0],"old-tabindex",gf),ff.attr("tabindex","-1");var _f=this.options.get("dataAdapter");this.dataAdapter=new _f(ff,this.options);var xf=this.render();this._placeContainer(xf);var Af=this.options.get("selectionAdapter");this.selection=new Af(ff,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,xf);var Df=this.options.get("dropdownAdapter");this.dropdown=new Df(ff,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,xf);var Of=this.options.get("resultsAdapter");this.results=new Of(ff,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var Gf=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(Bf){Gf.trigger("selection:update",{data:Bf})}),ff.addClass("select2-hidden-accessible"),ff.attr("aria-hidden","true"),this._syncAttributes(),lf.StoreData(ff[0],"select2",this),ff.data("select2",this)};return lf.Extend(uf,lf.Observable),uf.prototype._generateId=function(ff){var df="";return ff.attr("id")!=null?df=ff.attr("id"):ff.attr("name")!=null?df=ff.attr("name")+"-"+lf.generateChars(2):df=lf.generateChars(4),df=df.replace(/(:|\.|\[|\]|,)/g,""),df="select2-"+df,df},uf.prototype._placeContainer=function(ff){ff.insertAfter(this.$element);var df=this._resolveWidth(this.$element,this.options.get("width"));df!=null&&ff.css("width",df)},uf.prototype._resolveWidth=function(ff,df){var gf=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(df=="resolve"){var _f=this._resolveWidth(ff,"style");return _f??this._resolveWidth(ff,"element")}if(df=="element"){var xf=ff.outerWidth(!1);return xf<=0?"auto":xf+"px"}if(df=="style"){var Af=ff.attr("style");if(typeof Af!="string")return null;for(var Df=Af.split(";"),Of=0,Gf=Df.length;Of<Gf;Of=Of+1){var Bf=Df[Of].replace(/\s/g,""),Vf=Bf.match(gf);if(Vf!==null&&Vf.length>=1)return Vf[1]}return null}if(df=="computedstyle"){var Lf=window.getComputedStyle(ff[0]);return Lf.width}return df},uf.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},uf.prototype._registerDomEvents=function(){var ff=this;this.$element.on("change.select2",function(){ff.dataAdapter.current(function(gf){ff.trigger("selection:update",{data:gf})})}),this.$element.on("focus.select2",function(gf){ff.trigger("focus",gf)}),this._syncA=lf.bind(this._syncAttributes,this),this._syncS=lf.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var df=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;df!=null?(this._observer=new df(function(gf){ff._syncA(),ff._syncS(null,gf)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",ff._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",ff._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",ff._syncS,!1))},uf.prototype._registerDataEvents=function(){var ff=this;this.dataAdapter.on("*",function(df,gf){ff.trigger(df,gf)})},uf.prototype._registerSelectionEvents=function(){var ff=this,df=["toggle","focus"];this.selection.on("toggle",function(){ff.toggleDropdown()}),this.selection.on("focus",function(gf){ff.focus(gf)}),this.selection.on("*",function(gf,_f){sf.inArray(gf,df)===-1&&ff.trigger(gf,_f)})},uf.prototype._registerDropdownEvents=function(){var ff=this;this.dropdown.on("*",function(df,gf){ff.trigger(df,gf)})},uf.prototype._registerResultsEvents=function(){var ff=this;this.results.on("*",function(df,gf){ff.trigger(df,gf)})},uf.prototype._registerEvents=function(){var ff=this;this.on("open",function(){ff.$container.addClass("select2-container--open")}),this.on("close",function(){ff.$container.removeClass("select2-container--open")}),this.on("enable",function(){ff.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){ff.$container.addClass("select2-container--disabled")}),this.on("blur",function(){ff.$container.removeClass("select2-container--focus")}),this.on("query",function(df){ff.isOpen()||ff.trigger("open",{}),this.dataAdapter.query(df,function(gf){ff.trigger("results:all",{data:gf,query:df})})}),this.on("query:append",function(df){this.dataAdapter.query(df,function(gf){ff.trigger("results:append",{data:gf,query:df})})}),this.on("keypress",function(df){var gf=df.which;ff.isOpen()?gf===cf.ESC||gf===cf.TAB||gf===cf.UP&&df.altKey?(ff.close(df),df.preventDefault()):gf===cf.ENTER?(ff.trigger("results:select",{}),df.preventDefault()):gf===cf.SPACE&&df.ctrlKey?(ff.trigger("results:toggle",{}),df.preventDefault()):gf===cf.UP?(ff.trigger("results:previous",{}),df.preventDefault()):gf===cf.DOWN&&(ff.trigger("results:next",{}),df.preventDefault()):(gf===cf.ENTER||gf===cf.SPACE||gf===cf.DOWN&&df.altKey)&&(ff.open(),df.preventDefault())})},uf.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},uf.prototype._isChangeMutation=function(ff,df){var gf=!1,_f=this;if(!(ff&&ff.target&&ff.target.nodeName!=="OPTION"&&ff.target.nodeName!=="OPTGROUP")){if(!df)gf=!0;else if(df.addedNodes&&df.addedNodes.length>0)for(var xf=0;xf<df.addedNodes.length;xf++){var Af=df.addedNodes[xf];Af.selected&&(gf=!0)}else df.removedNodes&&df.removedNodes.length>0?gf=!0:sf.isArray(df)&&sf.each(df,function(Df,Of){if(_f._isChangeMutation(Df,Of))return gf=!0,!1});return gf}},uf.prototype._syncSubtree=function(ff,df){var gf=this._isChangeMutation(ff,df),_f=this;gf&&this.dataAdapter.current(function(xf){_f.trigger("selection:update",{data:xf})})},uf.prototype.trigger=function(ff,df){var gf=uf.__super__.trigger,_f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(df===void 0&&(df={}),ff in _f){var xf=_f[ff],Af={prevented:!1,name:ff,args:df};if(gf.call(this,xf,Af),Af.prevented){df.prevented=!0;return}}gf.call(this,ff,df)},uf.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},uf.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},uf.prototype.close=function(ff){this.isOpen()&&this.trigger("close",{originalEvent:ff})},uf.prototype.isEnabled=function(){return!this.isDisabled()},uf.prototype.isDisabled=function(){return this.options.get("disabled")},uf.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},uf.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},uf.prototype.focus=function(ff){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},uf.prototype.enable=function(ff){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(ff==null||ff.length===0)&&(ff=[!0]);var df=!ff[0];this.$element.prop("disabled",df)},uf.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var ff=[];return this.dataAdapter.current(function(df){ff=df}),ff},uf.prototype.val=function(ff){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),ff==null||ff.length===0)return this.$element.val();var df=ff[0];sf.isArray(df)&&(df=sf.map(df,function(gf){return gf.toString()})),this.$element.val(df).trigger("input").trigger("change")},uf.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),this._observer!=null?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",lf.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),lf.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},uf.prototype.render=function(){var ff=sf('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return ff.attr("dir",this.options.get("dir")),this.$container=ff,this.$container.addClass("select2-container--"+this.options.get("theme")),lf.StoreData(ff[0],"element",this.$element),ff},uf}),rf.define("jquery-mousewheel",["jquery"],function(sf){return sf}),rf.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(sf,af,lf,cf,uf){if(sf.fn.select2==null){var ff=["open","close","destroy"];sf.fn.select2=function(df){if(df=df||{},typeof df=="object")return this.each(function(){var xf=sf.extend(!0,{},df);new lf(sf(this),xf)}),this;if(typeof df=="string"){var gf,_f=Array.prototype.slice.call(arguments,1);return this.each(function(){var xf=uf.GetData(this,"select2");xf==null&&window.console&&console.error&&console.error("The select2('"+df+"') method was called on an element that is not using Select2."),gf=xf[df].apply(xf,_f)}),sf.inArray(df,ff)>-1?this:gf}else throw new Error("Invalid arguments for Select2: "+df)}}return sf.fn.select2.defaults==null&&(sf.fn.select2.defaults=cf),lf}),{define:rf.define,require:rf.require}}(),nf=tf.require("jquery.select2");return ef.fn.select2.amd=tf,nf})})(select2$1);var select2Exports=select2$1.exports;const select2=getDefaultExportFromCjs(select2Exports);/**
  * multiple-select - Multiple select is a jQuery plugin to select multiple elements with checkboxes :).
  *
  * @version v1.6.0
  * @homepage http://multiple-select.wenzhixin.net.cn
  * @author wenzhixin <wenzhixin2010@gmail.com> (http://wenzhixin.net.cn/)
  * @license MIT
  */function t$1(Qc){return t$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ef){return typeof ef}:function(ef){return ef&&typeof Symbol=="function"&&ef.constructor===Symbol&&ef!==Symbol.prototype?"symbol":typeof ef},t$1(Qc)}function e(Qc,ef){if(!(Qc instanceof ef))throw new TypeError("Cannot call a class as a function")}function n$1(Qc,ef){for(var tf=0;tf<ef.length;tf++){var nf=ef[tf];nf.enumerable=nf.enumerable||!1,nf.configurable=!0,"value"in nf&&(nf.writable=!0),Object.defineProperty(Qc,(rf=nf.key,sf=void 0,typeof(sf=function(af,lf){if(typeof af!="object"||af===null)return af;var cf=af[Symbol.toPrimitive];if(cf!==void 0){var uf=cf.call(af,lf||"default");if(typeof uf!="object")return uf;throw new TypeError("@@toPrimitive must return a primitive value.")}return(lf==="string"?String:Number)(af)}(rf,"string"))=="symbol"?sf:String(sf)),nf)}var rf,sf}function i(Qc,ef,tf){return ef&&n$1(Qc.prototype,ef),tf&&n$1(Qc,tf),Object.defineProperty(Qc,"prototype",{writable:!1}),Qc}function u(Qc,ef){return function(tf){if(Array.isArray(tf))return tf}(Qc)||function(tf,nf){var rf=tf==null?null:typeof Symbol<"u"&&tf[Symbol.iterator]||tf["@@iterator"];if(rf!=null){var sf,af,lf,cf,uf=[],ff=!0,df=!1;try{if(lf=(rf=rf.call(tf)).next,nf===0){if(Object(rf)!==rf)return;ff=!1}else for(;!(ff=(sf=lf.call(rf)).done)&&(uf.push(sf.value),uf.length!==nf);ff=!0);}catch(gf){df=!0,af=gf}finally{try{if(!ff&&rf.return!=null&&(cf=rf.return(),Object(cf)!==cf))return}finally{if(df)throw af}}return uf}}(Qc,ef)||o(Qc,ef)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r(Qc){return function(ef){if(Array.isArray(ef))return s(ef)}(Qc)||function(ef){if(typeof Symbol<"u"&&ef[Symbol.iterator]!=null||ef["@@iterator"]!=null)return Array.from(ef)}(Qc)||o(Qc)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(Qc,ef){if(Qc){if(typeof Qc=="string")return s(Qc,ef);var tf=Object.prototype.toString.call(Qc).slice(8,-1);return tf==="Object"&&Qc.constructor&&(tf=Qc.constructor.name),tf==="Map"||tf==="Set"?Array.from(Qc):tf==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tf)?s(Qc,ef):void 0}}function s(Qc,ef){(ef==null||ef>Qc.length)&&(ef=Qc.length);for(var tf=0,nf=new Array(ef);tf<ef;tf++)nf[tf]=Qc[tf];return nf}function a(Qc,ef){var tf=typeof Symbol<"u"&&Qc[Symbol.iterator]||Qc["@@iterator"];if(!tf){if(Array.isArray(Qc)||(tf=o(Qc))||ef&&Qc&&typeof Qc.length=="number"){tf&&(Qc=tf);var nf=0,rf=function(){};return{s:rf,n:function(){return nf>=Qc.length?{done:!0}:{done:!1,value:Qc[nf++]}},e:function(cf){throw cf},f:rf}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sf,af=!0,lf=!1;return{s:function(){tf=tf.call(Qc)},n:function(){var cf=tf.next();return af=cf.done,cf},e:function(cf){lf=!0,sf=cf},f:function(){try{af||tf.return==null||tf.return()}finally{if(lf)throw sf}}}}var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{},c=function(Qc){return Qc&&Qc.Math==Math&&Qc},h=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof l=="object"&&l)||function(){return this}()||l||Function("return this")(),f$1={},d$1=function(Qc){try{return!!Qc()}catch{return!0}},p=!d$1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),v=!d$1(function(){var Qc=(function(){}).bind();return typeof Qc!="function"||Qc.hasOwnProperty("prototype")}),g=v,E=Function.prototype.call,b=g?E.bind(E):function(){return E.apply(E,arguments)},y={},m={}.propertyIsEnumerable,A=Object.getOwnPropertyDescriptor,C=A&&!m.call({1:2},1);y.f=C?function(Qc){var ef=A(this,Qc);return!!ef&&ef.enumerable}:m;var F,S$2,D=function(Qc,ef){return{enumerable:!(1&Qc),configurable:!(2&Qc),writable:!(4&Qc),value:ef}},k=v,x$1=Function.prototype,O=x$1.call,w=k&&x$1.bind.bind(O,O),B=k?w:function(Qc){return function(){return O.apply(Qc,arguments)}},j=B,T$2=j({}.toString),L=j("".slice),I=function(Qc){return L(T$2(Qc),8,-1)},R=d$1,_=I,M=Object,P=B("".split),N$1=R(function(){return!M("z").propertyIsEnumerable(0)})?function(Qc){return _(Qc)=="String"?P(Qc,""):M(Qc)}:M,H$1=function(Qc){return Qc==null},U=H$1,G$2=TypeError,W$3=function(Qc){if(U(Qc))throw G$2("Can't call method on "+Qc);return Qc},z=N$1,K$2=W$3,V=function(Qc){return z(K$2(Qc))},Y=typeof document=="object"&&document.all,q={all:Y,IS_HTMLDDA:Y===void 0&&Y!==void 0},X=q.all,J=q.IS_HTMLDDA?function(Qc){return typeof Qc=="function"||Qc===X}:function(Qc){return typeof Qc=="function"},Z=J,Q=q.all,tt=q.IS_HTMLDDA?function(Qc){return typeof Qc=="object"?Qc!==null:Z(Qc)||Qc===Q}:function(Qc){return typeof Qc=="object"?Qc!==null:Z(Qc)},et=h,nt=J,it=function(Qc,ef){return arguments.length<2?(tf=et[Qc],nt(tf)?tf:void 0):et[Qc]&&et[Qc][ef];var tf},ut=B({}.isPrototypeOf),rt=h,ot=typeof navigator<"u"&&String(navigator.userAgent)||"",st=rt.process,at=rt.Deno,lt=st&&st.versions||at&&at.version,ct=lt&&lt.v8;ct&&(S$2=(F=ct.split("."))[0]>0&&F[0]<4?1:+(F[0]+F[1])),!S$2&&ot&&(!(F=ot.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=ot.match(/Chrome\/(\d+)/))&&(S$2=+F[1]);var ht=S$2,ft=ht,dt=d$1,pt=h.String,vt=!!Object.getOwnPropertySymbols&&!dt(function(){var Qc=Symbol();return!pt(Qc)||!(Object(Qc)instanceof Symbol)||!Symbol.sham&&ft&&ft<41}),gt=vt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Et=it,bt=J,yt=ut,mt=Object,At=gt?function(Qc){return typeof Qc=="symbol"}:function(Qc){var ef=Et("Symbol");return bt(ef)&&yt(ef.prototype,mt(Qc))},Ct=String,Ft=function(Qc){try{return Ct(Qc)}catch{return"Object"}},St=J,Dt=Ft,kt=TypeError,xt=function(Qc){if(St(Qc))return Qc;throw kt(Dt(Qc)+" is not a function")},$t=xt,Ot=H$1,wt=function(Qc,ef){var tf=Qc[ef];return Ot(tf)?void 0:$t(tf)},Bt=b,jt=J,Tt=tt,Lt=TypeError,It={exports:{}},Rt=h,_t=Object.defineProperty,Mt=function(Qc,ef){try{_t(Rt,Qc,{value:ef,configurable:!0,writable:!0})}catch{Rt[Qc]=ef}return ef},Pt=Mt,Nt="__core-js_shared__",Ht=h[Nt]||Pt(Nt,{}),Ut=Ht;(It.exports=function(Qc,ef){return Ut[Qc]||(Ut[Qc]=ef!==void 0?ef:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Gt=It.exports,Wt=W$3,zt=Object,Kt=function(Qc){return zt(Wt(Qc))},Vt=Kt,Yt=B({}.hasOwnProperty),qt=Object.hasOwn||function(Qc,ef){return Yt(Vt(Qc),ef)},Xt=B,Jt=0,Zt=Math.random(),Qt=Xt(1 .toString),te=function(Qc){return"Symbol("+(Qc===void 0?"":Qc)+")_"+Qt(++Jt+Zt,36)},ee=Gt,ne=qt,ie=te,ue=vt,re=gt,oe=h.Symbol,se=ee("wks"),ae=re?oe.for||oe:oe&&oe.withoutSetter||ie,le=function(Qc){return ne(se,Qc)||(se[Qc]=ue&&ne(oe,Qc)?oe[Qc]:ae("Symbol."+Qc)),se[Qc]},ce=b,he$1=tt,fe=At,de=wt,pe=function(Qc,ef){var tf,nf;if(ef==="string"&&jt(tf=Qc.toString)&&!Tt(nf=Bt(tf,Qc))||jt(tf=Qc.valueOf)&&!Tt(nf=Bt(tf,Qc))||ef!=="string"&&jt(tf=Qc.toString)&&!Tt(nf=Bt(tf,Qc)))return nf;throw Lt("Can't convert object to primitive value")},ve=TypeError,ge=le("toPrimitive"),Ee=function(Qc,ef){if(!he$1(Qc)||fe(Qc))return Qc;var tf,nf=de(Qc,ge);if(nf){if(ef===void 0&&(ef="default"),tf=ce(nf,Qc,ef),!he$1(tf)||fe(tf))return tf;throw ve("Can't convert object to primitive value")}return ef===void 0&&(ef="number"),pe(Qc,ef)},be=At,ye=function(Qc){var ef=Ee(Qc,"string");return be(ef)?ef:ef+""},me=tt,Ae=h.document,Ce=me(Ae)&&me(Ae.createElement),Fe=function(Qc){return Ce?Ae.createElement(Qc):{}},Se=Fe,De=!p&&!d$1(function(){return Object.defineProperty(Se("div"),"a",{get:function(){return 7}}).a!=7}),ke=p,xe=b,$e=y,Oe=D,we=V,Be=ye,je=qt,Te=De,Le=Object.getOwnPropertyDescriptor;f$1.f=ke?Le:function(Qc,ef){if(Qc=we(Qc),ef=Be(ef),Te)try{return Le(Qc,ef)}catch{}if(je(Qc,ef))return Oe(!xe($e.f,Qc,ef),Qc[ef])};var Ie={},Re=p&&d$1(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),_e=tt,Me=String,Pe=TypeError,Ne=function(Qc){if(_e(Qc))return Qc;throw Pe(Me(Qc)+" is not an object")},He=p,Ue=De,Ge=Re,We=Ne,ze=ye,Ke=TypeError,Ve=Object.defineProperty,Ye=Object.getOwnPropertyDescriptor,qe="enumerable",Xe="configurable",Je="writable";Ie.f=He?Ge?function(Qc,ef,tf){if(We(Qc),ef=ze(ef),We(tf),typeof Qc=="function"&&ef==="prototype"&&"value"in tf&&Je in tf&&!tf[Je]){var nf=Ye(Qc,ef);nf&&nf[Je]&&(Qc[ef]=tf.value,tf={configurable:Xe in tf?tf[Xe]:nf[Xe],enumerable:qe in tf?tf[qe]:nf[qe],writable:!1})}return Ve(Qc,ef,tf)}:Ve:function(Qc,ef,tf){if(We(Qc),ef=ze(ef),We(tf),Ue)try{return Ve(Qc,ef,tf)}catch{}if("get"in tf||"set"in tf)throw Ke("Accessors not supported");return"value"in tf&&(Qc[ef]=tf.value),Qc};var Ze=Ie,Qe=D,tn=p?function(Qc,ef,tf){return Ze.f(Qc,ef,Qe(1,tf))}:function(Qc,ef,tf){return Qc[ef]=tf,Qc},en={exports:{}},nn=p,un=qt,rn=Function.prototype,on$1=nn&&Object.getOwnPropertyDescriptor,sn=un(rn,"name"),an={EXISTS:sn,PROPER:sn&&(function(){}).name==="something",CONFIGURABLE:sn&&(!nn||nn&&on$1(rn,"name").configurable)},ln=J,cn=Ht,hn=B(Function.toString);ln(cn.inspectSource)||(cn.inspectSource=function(Qc){return hn(Qc)});var fn,dn,pn,vn=cn.inspectSource,gn=J,En=h.WeakMap,bn=gn(En)&&/native code/.test(String(En)),yn=te,mn=Gt("keys"),An=function(Qc){return mn[Qc]||(mn[Qc]=yn(Qc))},Cn={},Fn=bn,Sn=h,Dn=tt,kn=tn,xn=qt,$n=Ht,On=An,wn=Cn,Bn="Object already initialized",jn=Sn.TypeError,Tn=Sn.WeakMap;if(Fn||$n.state){var Ln=$n.state||($n.state=new Tn);Ln.get=Ln.get,Ln.has=Ln.has,Ln.set=Ln.set,fn=function(Qc,ef){if(Ln.has(Qc))throw jn(Bn);return ef.facade=Qc,Ln.set(Qc,ef),ef},dn=function(Qc){return Ln.get(Qc)||{}},pn=function(Qc){return Ln.has(Qc)}}else{var In=On("state");wn[In]=!0,fn=function(Qc,ef){if(xn(Qc,In))throw jn(Bn);return ef.facade=Qc,kn(Qc,In,ef),ef},dn=function(Qc){return xn(Qc,In)?Qc[In]:{}},pn=function(Qc){return xn(Qc,In)}}var Rn={set:fn,get:dn,has:pn,enforce:function(Qc){return pn(Qc)?dn(Qc):fn(Qc,{})},getterFor:function(Qc){return function(ef){var tf;if(!Dn(ef)||(tf=dn(ef)).type!==Qc)throw jn("Incompatible receiver, "+Qc+" required");return tf}}},_n=B,Mn=d$1,Pn=J,Nn=qt,Hn=p,Un=an.CONFIGURABLE,Gn=vn,Wn=Rn.enforce,zn=Rn.get,Kn=String,Vn=Object.defineProperty,Yn=_n("".slice),qn=_n("".replace),Xn=_n([].join),Jn=Hn&&!Mn(function(){return Vn(function(){},"length",{value:8}).length!==8}),Zn=String(String).split("String"),Qn=en.exports=function(Qc,ef,tf){Yn(Kn(ef),0,7)==="Symbol("&&(ef="["+qn(Kn(ef),/^Symbol\(([^)]*)\)/,"$1")+"]"),tf&&tf.getter&&(ef="get "+ef),tf&&tf.setter&&(ef="set "+ef),(!Nn(Qc,"name")||Un&&Qc.name!==ef)&&(Hn?Vn(Qc,"name",{value:ef,configurable:!0}):Qc.name=ef),Jn&&tf&&Nn(tf,"arity")&&Qc.length!==tf.arity&&Vn(Qc,"length",{value:tf.arity});try{tf&&Nn(tf,"constructor")&&tf.constructor?Hn&&Vn(Qc,"prototype",{writable:!1}):Qc.prototype&&(Qc.prototype=void 0)}catch{}var nf=Wn(Qc);return Nn(nf,"source")||(nf.source=Xn(Zn,typeof ef=="string"?ef:"")),Qc};Function.prototype.toString=Qn(function(){return Pn(this)&&zn(this).source||Gn(this)},"toString");var ti=en.exports,ei=J,ni=Ie,ii=ti,ui=Mt,ri=function(Qc,ef,tf,nf){nf||(nf={});var rf=nf.enumerable,sf=nf.name!==void 0?nf.name:ef;if(ei(tf)&&ii(tf,sf,nf),nf.global)rf?Qc[ef]=tf:ui(ef,tf);else{try{nf.unsafe?Qc[ef]&&(rf=!0):delete Qc[ef]}catch{}rf?Qc[ef]=tf:ni.f(Qc,ef,{value:tf,enumerable:!1,configurable:!nf.nonConfigurable,writable:!nf.nonWritable})}return Qc},oi={},si=Math.ceil,ai=Math.floor,li=Math.trunc||function(Qc){var ef=+Qc;return(ef>0?ai:si)(ef)},ci=function(Qc){var ef=+Qc;return ef!=ef||ef===0?0:li(ef)},hi=ci,fi=Math.max,di=Math.min,pi=function(Qc,ef){var tf=hi(Qc);return tf<0?fi(tf+ef,0):di(tf,ef)},vi=ci,gi=Math.min,Ei=function(Qc){return Qc>0?gi(vi(Qc),9007199254740991):0},bi=Ei,yi=function(Qc){return bi(Qc.length)},mi=V,Ai=pi,Ci=yi,Fi=function(Qc){return function(ef,tf,nf){var rf,sf=mi(ef),af=Ci(sf),lf=Ai(nf,af);if(Qc&&tf!=tf){for(;af>lf;)if((rf=sf[lf++])!=rf)return!0}else for(;af>lf;lf++)if((Qc||lf in sf)&&sf[lf]===tf)return Qc||lf||0;return!Qc&&-1}},Si={includes:Fi(!0),indexOf:Fi(!1)},Di=qt,ki=V,xi$1=Si.indexOf,$i=Cn,Oi=B([].push),wi=function(Qc,ef){var tf,nf=ki(Qc),rf=0,sf=[];for(tf in nf)!Di($i,tf)&&Di(nf,tf)&&Oi(sf,tf);for(;ef.length>rf;)Di(nf,tf=ef[rf++])&&(~xi$1(sf,tf)||Oi(sf,tf));return sf},Bi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ji=wi,Ti=Bi.concat("length","prototype");oi.f=Object.getOwnPropertyNames||function(Qc){return ji(Qc,Ti)};var Li={};Li.f=Object.getOwnPropertySymbols;var Ii=it,Ri=oi,_i=Li,Mi=Ne,Pi=B([].concat),Ni=Ii("Reflect","ownKeys")||function(Qc){var ef=Ri.f(Mi(Qc)),tf=_i.f;return tf?Pi(ef,tf(Qc)):ef},Hi=qt,Ui=Ni,Gi=f$1,Wi=Ie,zi=d$1,Ki=J,Vi=/#|\.prototype\./,Yi=function(Qc,ef){var tf=Xi[qi(Qc)];return tf==Zi||tf!=Ji&&(Ki(ef)?zi(ef):!!ef)},qi=Yi.normalize=function(Qc){return String(Qc).replace(Vi,".").toLowerCase()},Xi=Yi.data={},Ji=Yi.NATIVE="N",Zi=Yi.POLYFILL="P",Qi=Yi,tu=h,eu=f$1.f,nu=tn,iu=ri,uu=Mt,ru=function(Qc,ef,tf){for(var nf=Ui(ef),rf=Wi.f,sf=Gi.f,af=0;af<nf.length;af++){var lf=nf[af];Hi(Qc,lf)||tf&&Hi(tf,lf)||rf(Qc,lf,sf(ef,lf))}},ou=Qi,su=function(Qc,ef){var tf,nf,rf,sf,af,lf=Qc.target,cf=Qc.global,uf=Qc.stat;if(tf=cf?tu:uf?tu[lf]||uu(lf,{}):(tu[lf]||{}).prototype)for(nf in ef){if(sf=ef[nf],rf=Qc.dontCallGetSet?(af=eu(tf,nf))&&af.value:tf[nf],!ou(cf?nf:lf+(uf?".":"#")+nf,Qc.forced)&&rf!==void 0){if(typeof sf==typeof rf)continue;ru(sf,rf)}(Qc.sham||rf&&rf.sham)&&nu(sf,"sham",!0),iu(tf,nf,sf,Qc)}},au={};au[le("toStringTag")]="z";var lu=String(au)==="[object z]",cu=lu,hu=J,fu=I,du=le("toStringTag"),pu=Object,vu=fu(function(){return arguments}())=="Arguments",gu=cu?fu:function(Qc){var ef,tf,nf;return Qc===void 0?"Undefined":Qc===null?"Null":typeof(tf=function(rf,sf){try{return rf[sf]}catch{}}(ef=pu(Qc),du))=="string"?tf:vu?fu(ef):(nf=fu(ef))=="Object"&&hu(ef.callee)?"Arguments":nf},Eu=gu,bu=String,yu=function(Qc){if(Eu(Qc)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return bu(Qc)},mu=Ne,Au=d$1,Cu=h.RegExp,Fu=Au(function(){var Qc=Cu("a","y");return Qc.lastIndex=2,Qc.exec("abcd")!=null}),Su=Fu||Au(function(){return!Cu("a","y").sticky}),Du={BROKEN_CARET:Fu||Au(function(){var Qc=Cu("^r","gy");return Qc.lastIndex=2,Qc.exec("str")!=null}),MISSED_STICKY:Su,UNSUPPORTED_Y:Fu},ku={},xu=wi,$u=Bi,Ou=Object.keys||function(Qc){return xu(Qc,$u)},wu=p,Bu=Re,ju=Ie,Tu=Ne,Lu=V,Iu=Ou;ku.f=wu&&!Bu?Object.defineProperties:function(Qc,ef){Tu(Qc);for(var tf,nf=Lu(ef),rf=Iu(ef),sf=rf.length,af=0;sf>af;)ju.f(Qc,tf=rf[af++],nf[tf]);return Qc};var Ru,_u=it("document","documentElement"),Mu=Ne,Pu=ku,Nu=Bi,Hu=Cn,Uu=_u,Gu=Fe,Wu="prototype",zu="script",Ku=An("IE_PROTO"),Vu=function(){},Yu=function(Qc){return"<"+zu+">"+Qc+"</"+zu+">"},qu=function(Qc){Qc.write(Yu("")),Qc.close();var ef=Qc.parentWindow.Object;return Qc=null,ef},Xu=function(){try{Ru=new ActiveXObject("htmlfile")}catch{}var Qc,ef,tf;Xu=typeof document<"u"?document.domain&&Ru?qu(Ru):(ef=Gu("iframe"),tf="java"+zu+":",ef.style.display="none",Uu.appendChild(ef),ef.src=String(tf),(Qc=ef.contentWindow.document).open(),Qc.write(Yu("document.F=Object")),Qc.close(),Qc.F):qu(Ru);for(var nf=Nu.length;nf--;)delete Xu[Wu][Nu[nf]];return Xu()};Hu[Ku]=!0;var Ju,Zu,Qu=Object.create||function(Qc,ef){var tf;return Qc!==null?(Vu[Wu]=Mu(Qc),tf=new Vu,Vu[Wu]=null,tf[Ku]=Qc):tf=Xu(),ef===void 0?tf:Pu.f(tf,ef)},tr=d$1,er=h.RegExp,nr=tr(function(){var Qc=er(".","s");return!(Qc.dotAll&&Qc.exec(`
`)&&Qc.flags==="s")}),ir=d$1,ur=h.RegExp,rr=ir(function(){var Qc=ur("(?<a>b)","g");return Qc.exec("b").groups.a!=="b"||"b".replace(Qc,"$<a>c")!=="bc"}),or=b,sr=B,ar=yu,lr=function(){var Qc=mu(this),ef="";return Qc.hasIndices&&(ef+="d"),Qc.global&&(ef+="g"),Qc.ignoreCase&&(ef+="i"),Qc.multiline&&(ef+="m"),Qc.dotAll&&(ef+="s"),Qc.unicode&&(ef+="u"),Qc.unicodeSets&&(ef+="v"),Qc.sticky&&(ef+="y"),ef},cr=Du,hr=Qu,fr=Rn.get,dr=nr,pr=rr,vr=Gt("native-string-replace",String.prototype.replace),gr=RegExp.prototype.exec,Er=gr,br=sr("".charAt),yr=sr("".indexOf),mr=sr("".replace),Ar=sr("".slice),Cr=(Zu=/b*/g,or(gr,Ju=/a/,"a"),or(gr,Zu,"a"),Ju.lastIndex!==0||Zu.lastIndex!==0),Fr=cr.BROKEN_CARET,Sr=/()??/.exec("")[1]!==void 0;(Cr||Sr||Fr||dr||pr)&&(Er=function(Qc){var ef,tf,nf,rf,sf,af,lf,cf=this,uf=fr(cf),ff=ar(Qc),df=uf.raw;if(df)return df.lastIndex=cf.lastIndex,ef=or(Er,df,ff),cf.lastIndex=df.lastIndex,ef;var gf=uf.groups,_f=Fr&&cf.sticky,xf=or(lr,cf),Af=cf.source,Df=0,Of=ff;if(_f&&(xf=mr(xf,"y",""),yr(xf,"g")===-1&&(xf+="g"),Of=Ar(ff,cf.lastIndex),cf.lastIndex>0&&(!cf.multiline||cf.multiline&&br(ff,cf.lastIndex-1)!==`
`)&&(Af="(?: "+Af+")",Of=" "+Of,Df++),tf=new RegExp("^(?:"+Af+")",xf)),Sr&&(tf=new RegExp("^"+Af+"$(?!\\s)",xf)),Cr&&(nf=cf.lastIndex),rf=or(gr,_f?tf:cf,Of),_f?rf?(rf.input=Ar(rf.input,Df),rf[0]=Ar(rf[0],Df),rf.index=cf.lastIndex,cf.lastIndex+=rf[0].length):cf.lastIndex=0:Cr&&rf&&(cf.lastIndex=cf.global?rf.index+rf[0].length:nf),Sr&&rf&&rf.length>1&&or(vr,rf[0],tf,function(){for(sf=1;sf<arguments.length-2;sf++)arguments[sf]===void 0&&(rf[sf]=void 0)}),rf&&gf)for(rf.groups=af=hr(null),sf=0;sf<gf.length;sf++)af[(lf=gf[sf])[0]]=rf[lf[1]];return rf});var Dr=Er;su({target:"RegExp",proto:!0,forced:/./.exec!==Dr},{exec:Dr});var kr=I,xr=B,$r=function(Qc){if(kr(Qc)==="Function")return xr(Qc)},Or=$r,wr=ri,Br=Dr,jr=d$1,Tr=le,Lr=tn,Ir=Tr("species"),Rr=RegExp.prototype,_r=function(Qc,ef,tf,nf){var rf=Tr(Qc),sf=!jr(function(){var uf={};return uf[rf]=function(){return 7},""[Qc](uf)!=7}),af=sf&&!jr(function(){var uf=!1,ff=/a/;return Qc==="split"&&((ff={}).constructor={},ff.constructor[Ir]=function(){return ff},ff.flags="",ff[rf]=/./[rf]),ff.exec=function(){return uf=!0,null},ff[rf](""),!uf});if(!sf||!af||tf){var lf=Or(/./[rf]),cf=ef(rf,""[Qc],function(uf,ff,df,gf,_f){var xf=Or(uf),Af=ff.exec;return Af===Br||Af===Rr.exec?sf&&!_f?{done:!0,value:lf(ff,df,gf)}:{done:!0,value:xf(df,ff,gf)}:{done:!1}});wr(String.prototype,Qc,cf[0]),wr(Rr,rf,cf[1])}nf&&Lr(Rr[rf],"sham",!0)},Mr=Object.is||function(Qc,ef){return Qc===ef?Qc!==0||1/Qc==1/ef:Qc!=Qc&&ef!=ef},Pr=b,Nr=Ne,Hr=J,Ur=I,Gr=Dr,Wr=TypeError,zr=function(Qc,ef){var tf=Qc.exec;if(Hr(tf)){var nf=Pr(tf,Qc,ef);return nf!==null&&Nr(nf),nf}if(Ur(Qc)==="RegExp")return Pr(Gr,Qc,ef);throw Wr("RegExp#exec called on incompatible receiver")},Kr=b,Vr=Ne,Yr=H$1,qr=W$3,Xr=Mr,Jr=yu,Zr=wt,Qr=zr;_r("search",function(Qc,ef,tf){return[function(nf){var rf=qr(this),sf=Yr(nf)?void 0:Zr(nf,Qc);return sf?Kr(sf,nf,rf):new RegExp(nf)[Qc](Jr(rf))},function(nf){var rf=Vr(this),sf=Jr(nf),af=tf(ef,rf,sf);if(af.done)return af.value;var lf=rf.lastIndex;Xr(lf,0)||(rf.lastIndex=0);var cf=Qr(rf,sf);return Xr(rf.lastIndex,lf)||(rf.lastIndex=lf),cf===null?-1:cf.index}]});var to=le,eo=Qu,no$1=Ie.f,io=to("unscopables"),uo=Array.prototype;uo[io]==null&&no$1(uo,io,{configurable:!0,value:eo(null)});var ro=function(Qc){uo[io][Qc]=!0},oo=Si.includes,so=ro;su({target:"Array",proto:!0,forced:d$1(function(){return!Array(1).includes()})},{includes:function(Qc){return oo(this,Qc,arguments.length>1?arguments[1]:void 0)}}),so("includes");var ao=tt,lo=I,co=le("match"),ho=function(Qc){var ef;return ao(Qc)&&((ef=Qc[co])!==void 0?!!ef:lo(Qc)=="RegExp")},fo=ho,po=TypeError,vo=le("match"),go=su,Eo=function(Qc){if(fo(Qc))throw po("The method doesn't accept regular expressions");return Qc},bo=W$3,yo=yu,mo=function(Qc){var ef=/./;try{"/./"[Qc](ef)}catch{try{return ef[vo]=!1,"/./"[Qc](ef)}catch{}}return!1},Ao=B("".indexOf);go({target:"String",proto:!0,forced:!mo("includes")},{includes:function(Qc){return!!~Ao(yo(bo(this)),yo(Eo(Qc)),arguments.length>1?arguments[1]:void 0)}});var Co=`	
\v\f\r \u2028\u2029\uFEFF`,Fo=W$3,So=yu,Do=Co,ko=B("".replace),xo=RegExp("^["+Do+"]+"),$o=RegExp("(^|[^"+Do+"])["+Do+"]+$"),Oo=function(Qc){return function(ef){var tf=So(Fo(ef));return 1&Qc&&(tf=ko(tf,xo,"")),2&Qc&&(tf=ko(tf,$o,"$1")),tf}},wo={start:Oo(1),end:Oo(2),trim:Oo(3)},Bo=an.PROPER,jo=d$1,To=Co,Lo=wo.trim;su({target:"String",proto:!0,forced:function(Qc){return jo(function(){return!!To[Qc]()||""[Qc]()!==""||Bo&&To[Qc].name!==Qc})}("trim")},{trim:function(){return Lo(this)}});var Io=I,Ro=Array.isArray||function(Qc){return Io(Qc)=="Array"},_o=TypeError,Mo=ye,Po=Ie,No=D,Ho=function(Qc,ef,tf){var nf=Mo(ef);nf in Qc?Po.f(Qc,nf,No(0,tf)):Qc[nf]=tf},Uo=B,Go=d$1,Wo=J,zo=gu,Ko=vn,Vo=function(){},Yo=[],qo=it("Reflect","construct"),Xo=/^\s*(?:class|function)\b/,Jo=Uo(Xo.exec),Zo=!Xo.exec(Vo),Qo=function(Qc){if(!Wo(Qc))return!1;try{return qo(Vo,Yo,Qc),!0}catch{return!1}},ts=function(Qc){if(!Wo(Qc))return!1;switch(zo(Qc)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Zo||!!Jo(Xo,Ko(Qc))}catch{return!0}};ts.sham=!0;var es=!qo||Go(function(){var Qc;return Qo(Qo.call)||!Qo(Object)||!Qo(function(){Qc=!0})||Qc})?ts:Qo,ns=Ro,is=es,us=tt,rs=le("species"),os=Array,ss=function(Qc){var ef;return ns(Qc)&&(ef=Qc.constructor,(is(ef)&&(ef===os||ns(ef.prototype))||us(ef)&&(ef=ef[rs])===null)&&(ef=void 0)),ef===void 0?os:ef},as=function(Qc,ef){return new(ss(Qc))(ef===0?0:ef)},ls=d$1,cs=ht,hs=le("species"),fs=function(Qc){return cs>=51||!ls(function(){var ef=[];return(ef.constructor={})[hs]=function(){return{foo:1}},ef[Qc](Boolean).foo!==1})},ds=su,ps=d$1,vs=Ro,gs=tt,Es=Kt,bs=yi,ys=function(Qc){if(Qc>9007199254740991)throw _o("Maximum allowed index exceeded");return Qc},ms=Ho,As=as,Cs=fs,Fs=ht,Ss=le("isConcatSpreadable"),Ds=Fs>=51||!ps(function(){var Qc=[];return Qc[Ss]=!1,Qc.concat()[0]!==Qc}),ks=function(Qc){if(!gs(Qc))return!1;var ef=Qc[Ss];return ef!==void 0?!!ef:vs(Qc)};ds({target:"Array",proto:!0,arity:1,forced:!Ds||!Cs("concat")},{concat:function(Qc){var ef,tf,nf,rf,sf,af=Es(this),lf=As(af,0),cf=0;for(ef=-1,nf=arguments.length;ef<nf;ef++)if(ks(sf=ef===-1?af:arguments[ef]))for(rf=bs(sf),ys(cf+rf),tf=0;tf<rf;tf++,cf++)tf in sf&&ms(lf,cf,sf[tf]);else ys(cf+1),ms(lf,cf++,sf);return lf.length=cf,lf}});var xs=p,$s=B,Os=b,ws=d$1,Bs=Ou,js=Li,Ts=y,Ls=Kt,Is=N$1,Rs=Object.assign,_s=Object.defineProperty,Ms=$s([].concat),Ps=!Rs||ws(function(){if(xs&&Rs({b:1},Rs(_s({},"a",{enumerable:!0,get:function(){_s(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Qc={},ef={},tf=Symbol(),nf="abcdefghijklmnopqrst";return Qc[tf]=7,nf.split("").forEach(function(rf){ef[rf]=rf}),Rs({},Qc)[tf]!=7||Bs(Rs({},ef)).join("")!=nf})?function(Qc,ef){for(var tf=Ls(Qc),nf=arguments.length,rf=1,sf=js.f,af=Ts.f;nf>rf;)for(var lf,cf=Is(arguments[rf++]),uf=sf?Ms(Bs(cf),sf(cf)):Bs(cf),ff=uf.length,df=0;ff>df;)lf=uf[df++],xs&&!Os(af,cf,lf)||(tf[lf]=cf[lf]);return tf}:Rs,Ns=Ps;su({target:"Object",stat:!0,arity:2,forced:Object.assign!==Ns},{assign:Ns});var Hs={name:"",placeholder:"",classes:"",classPrefix:"",data:void 0,locale:void 0,selectAll:!0,single:void 0,singleRadio:!1,multiple:!1,hideOptgroupCheckboxes:!1,multipleWidth:80,width:void 0,size:void 0,dropWidth:void 0,maxHeight:250,maxHeightUnit:"px",position:"bottom",displayValues:!1,displayTitle:!1,displayDelimiter:", ",minimumCountSelected:3,ellipsis:!1,isOpen:!1,keepOpen:!1,openOnHover:!1,container:null,filter:!1,filterGroup:!1,filterPlaceholder:"",filterAcceptOnEnter:!1,filterByDataLength:void 0,customFilter:function(Qc){var ef=Qc.text,tf=Qc.label,nf=Qc.search;return(tf||ef).includes(nf)},showClear:!1,animate:void 0,styler:function(){return!1},textTemplate:function(Qc){return Qc[0].innerHTML.trim()},labelTemplate:function(Qc){return Qc[0].getAttribute("label")},onOpen:function(){return!1},onClose:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onFocus:function(){return!1},onBlur:function(){return!1},onOptgroupClick:function(){return!1},onClick:function(){return!1},onFilter:function(){return!1},onClear:function(){return!1},onAfterCreate:function(){return!1}},Us={formatSelectAll:function(){return"[Select all]"},formatAllSelected:function(){return"All selected"},formatCountSelected:function(Qc,ef){return"".concat(Qc," of ").concat(ef," selected")},formatNoMatchesFound:function(){return"No matches found"}};Object.assign(Hs,Us);var Gs={VERSION:"1.6.0",BLOCK_ROWS:500,CLUSTER_BLOCKS:4,DEFAULTS:Hs,METHODS:["getOptions","refreshOptions","getData","getSelects","setSelects","enable","disable","open","close","check","uncheck","checkAll","uncheckAll","checkInvert","focus","blur","refresh","destroy"],LOCALES:{en:Us,"en-US":Us}},Ws=v,zs=Function.prototype,Ks=zs.apply,Vs=zs.call,Ys=typeof Reflect=="object"&&Reflect.apply||(Ws?Vs.bind(Ks):function(){return Vs.apply(Ks,arguments)}),qs=es,Xs=Ft,Js=TypeError,Zs=Ne,Qs=function(Qc){if(qs(Qc))return Qc;throw Js(Xs(Qc)+" is not a constructor")},ta=H$1,ea=le("species"),na=B,ia=ci,ua=yu,ra=W$3,oa=na("".charAt),sa=na("".charCodeAt),aa=na("".slice),la=function(Qc){return function(ef,tf){var nf,rf,sf=ua(ra(ef)),af=ia(tf),lf=sf.length;return af<0||af>=lf?Qc?"":void 0:(nf=sa(sf,af))<55296||nf>56319||af+1===lf||(rf=sa(sf,af+1))<56320||rf>57343?Qc?oa(sf,af):nf:Qc?aa(sf,af,af+2):rf-56320+(nf-55296<<10)+65536}},ca={codeAt:la(!1),charAt:la(!0)}.charAt,ha=function(Qc,ef,tf){return ef+(tf?ca(Qc,ef).length:1)},fa=pi,da=yi,pa=Ho,va=Array,ga=Math.max,Ea=Ys,ba=b,ya=B,ma=_r,Aa=Ne,Ca=H$1,Fa=ho,Sa=W$3,Da=function(Qc,ef){var tf,nf=Zs(Qc).constructor;return nf===void 0||ta(tf=Zs(nf)[ea])?ef:Qs(tf)},ka=ha,xa=Ei,$a=yu,Oa=wt,wa=function(Qc,ef,tf){for(var nf=da(Qc),rf=fa(ef,nf),sf=fa(tf===void 0?nf:tf,nf),af=va(ga(sf-rf,0)),lf=0;rf<sf;rf++,lf++)pa(af,lf,Qc[rf]);return af.length=lf,af},Ba=zr,ja=Dr,Ta=d$1,La=Du.UNSUPPORTED_Y,Ia=4294967295,Ra=Math.min,_a$1=[].push,Ma=ya(/./.exec),Pa=ya(_a$1),Na=ya("".slice);ma("split",function(Qc,ef,tf){var nf;return nf="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(rf,sf){var af=$a(Sa(this)),lf=sf===void 0?Ia:sf>>>0;if(lf===0)return[];if(rf===void 0)return[af];if(!Fa(rf))return ba(ef,af,rf,lf);for(var cf,uf,ff,df=[],gf=(rf.ignoreCase?"i":"")+(rf.multiline?"m":"")+(rf.unicode?"u":"")+(rf.sticky?"y":""),_f=0,xf=new RegExp(rf.source,gf+"g");(cf=ba(ja,xf,af))&&!((uf=xf.lastIndex)>_f&&(Pa(df,Na(af,_f,cf.index)),cf.length>1&&cf.index<af.length&&Ea(_a$1,df,wa(cf,1)),ff=cf[0].length,_f=uf,df.length>=lf));)xf.lastIndex===cf.index&&xf.lastIndex++;return _f===af.length?!ff&&Ma(xf,"")||Pa(df,""):Pa(df,Na(af,_f)),df.length>lf?wa(df,0,lf):df}:"0".split(void 0,0).length?function(rf,sf){return rf===void 0&&sf===0?[]:ba(ef,this,rf,sf)}:ef,[function(rf,sf){var af=Sa(this),lf=Ca(rf)?void 0:Oa(rf,Qc);return lf?ba(lf,rf,af,sf):ba(nf,$a(af),rf,sf)},function(rf,sf){var af=Aa(this),lf=$a(rf),cf=tf(nf,af,lf,sf,nf!==ef);if(cf.done)return cf.value;var uf=Da(af,RegExp),ff=af.unicode,df=(af.ignoreCase?"i":"")+(af.multiline?"m":"")+(af.unicode?"u":"")+(La?"g":"y"),gf=new uf(La?"^(?:"+af.source+")":af,df),_f=sf===void 0?Ia:sf>>>0;if(_f===0)return[];if(lf.length===0)return Ba(gf,lf)===null?[lf]:[];for(var xf=0,Af=0,Df=[];Af<lf.length;){gf.lastIndex=La?0:Af;var Of,Gf=Ba(gf,La?Na(lf,Af):lf);if(Gf===null||(Of=Ra(xa(gf.lastIndex+(La?Af:0)),lf.length))===xf)Af=ka(lf,Af,ff);else{if(Pa(Df,Na(lf,xf,Af)),Df.length===_f)return Df;for(var Bf=1;Bf<=Gf.length-1;Bf++)if(Pa(Df,Gf[Bf]),Df.length===_f)return Df;Af=xf=Of}}return Pa(Df,Na(lf,xf)),Df}]},!!Ta(function(){var Qc=/(?:)/,ef=Qc.exec;Qc.exec=function(){return ef.apply(this,arguments)};var tf="ab".split(Qc);return tf.length!==2||tf[0]!=="a"||tf[1]!=="b"}),La);var Ha=d$1,Ua=function(Qc,ef){var tf=[][Qc];return!!tf&&Ha(function(){tf.call(null,ef||function(){return 1},1)})},Ga=su,Wa=N$1,za=V,Ka=Ua,Va=B([].join);Ga({target:"Array",proto:!0,forced:Wa!=Object||!Ka("join",",")},{join:function(Qc){return Va(za(this),Qc===void 0?",":Qc)}});var Ya=ti,qa=Ie,Xa=p,Ja=an.EXISTS,Za=B,Qa=function(Qc,ef,tf){return tf.get&&Ya(tf.get,ef,{getter:!0}),tf.set&&Ya(tf.set,ef,{setter:!0}),qa.f(Qc,ef,tf)},tl=Function.prototype,el=Za(tl.toString),nl=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,il=Za(nl.exec);Xa&&!Ja&&Qa(tl,"name",{configurable:!0,get:function(){try{return il(nl,el(this))[1]}catch{return""}}});var ul=xt,rl=v,ol=$r($r.bind),sl=function(Qc,ef){return ul(Qc),ef===void 0?Qc:rl?ol(Qc,ef):function(){return Qc.apply(ef,arguments)}},al=N$1,ll=Kt,cl=yi,hl=as,fl=B([].push),dl=function(Qc){var ef=Qc==1,tf=Qc==2,nf=Qc==3,rf=Qc==4,sf=Qc==6,af=Qc==7,lf=Qc==5||sf;return function(cf,uf,ff,df){for(var gf,_f,xf=ll(cf),Af=al(xf),Df=sl(uf,ff),Of=cl(Af),Gf=0,Bf=df||hl,Vf=ef?Bf(cf,Of):tf||af?Bf(cf,0):void 0;Of>Gf;Gf++)if((lf||Gf in Af)&&(_f=Df(gf=Af[Gf],Gf,xf),Qc))if(ef)Vf[Gf]=_f;else if(_f)switch(Qc){case 3:return!0;case 5:return gf;case 6:return Gf;case 2:fl(Vf,gf)}else switch(Qc){case 4:return!1;case 7:fl(Vf,gf)}return sf?-1:nf||rf?rf:Vf}},pl={forEach:dl(0),map:dl(1),filter:dl(2),some:dl(3),every:dl(4),find:dl(5),findIndex:dl(6),filterReject:dl(7)},vl=su,gl=pl.find,El=ro,bl="find",yl=!0;bl in[]&&Array(1)[bl](function(){yl=!1}),vl({target:"Array",proto:!0,forced:yl},{find:function(Qc){return gl(this,Qc,arguments.length>1?arguments[1]:void 0)}}),El(bl);var ml=gu,Al=lu?{}.toString:function(){return"[object "+ml(this)+"]"};lu||ri(Object.prototype,"toString",Al,{unsafe:!0});var Cl=pl.map;su({target:"Array",proto:!0,forced:!fs("map")},{map:function(Qc){return Cl(this,Qc,arguments.length>1?arguments[1]:void 0)}});var Fl=p,Sl=B,Dl=Ou,kl=V,xl=Sl(y.f),$l=Sl([].push),Ol=function(Qc){return function(ef){for(var tf,nf=kl(ef),rf=Dl(nf),sf=rf.length,af=0,lf=[];sf>af;)tf=rf[af++],Fl&&!xl(nf,tf)||$l(lf,Qc?[tf,nf[tf]]:nf[tf]);return lf}},wl={entries:Ol(!0),values:Ol(!1)}.entries;su({target:"Object",stat:!0},{entries:function(Qc){return wl(Qc)}});var Bl=Kt,jl=Ou;su({target:"Object",stat:!0,forced:d$1(function(){jl(1)})},{keys:function(Qc){return jl(Bl(Qc))}});var Tl=pl.filter;su({target:"Array",proto:!0,forced:!fs("filter")},{filter:function(Qc){return Tl(this,Qc,arguments.length>1?arguments[1]:void 0)}});var Ll=Fe("span").classList,Il=Ll&&Ll.constructor&&Ll.constructor.prototype,Rl=Il===Object.prototype?void 0:Il,_l=pl.forEach,Ml=h,Pl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Nl=Rl,Hl=Ua("forEach")?[].forEach:function(Qc){return _l(this,Qc,arguments.length>1?arguments[1]:void 0)},Ul=tn,Gl=function(Qc){if(Qc&&Qc.forEach!==Hl)try{Ul(Qc,"forEach",Hl)}catch{Qc.forEach=Hl}};for(var Wl in Pl)Pl[Wl]&&Gl(Ml[Wl]&&Ml[Wl].prototype);Gl(Nl);var zl=B([].slice),Kl=su,Vl=Ro,Yl=es,ql=tt,Xl=pi,Jl=yi,Zl=V,Ql=Ho,tc=le,ec=zl,nc=fs("slice"),ic=tc("species"),uc=Array,rc=Math.max;Kl({target:"Array",proto:!0,forced:!nc},{slice:function(Qc,ef){var tf,nf,rf,sf=Zl(this),af=Jl(sf),lf=Xl(Qc,af),cf=Xl(ef===void 0?af:ef,af);if(Vl(sf)&&(tf=sf.constructor,(Yl(tf)&&(tf===uc||Vl(tf.prototype))||ql(tf)&&(tf=tf[ic])===null)&&(tf=void 0),tf===uc||tf===void 0))return ec(sf,lf,cf);for(nf=new(tf===void 0?uc:tf)(rc(cf-lf,0)),rf=0;lf<cf;lf++,rf++)lf in sf&&Ql(nf,rf,sf[lf]);return nf.length=rf,nf}});var oc=function(){function Qc(ef){var tf=this;e(this,Qc),this.rows=ef.rows,this.scrollEl=ef.scrollEl,this.contentEl=ef.contentEl,this.callback=ef.callback,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;var nf=function(){tf.lastCluster!==(tf.lastCluster=tf.getNum())&&(tf.initDOM(tf.rows),tf.callback())};this.scrollEl.addEventListener("scroll",nf,!1),this.destroy=function(){tf.contentEl.innerHtml="",tf.scrollEl.removeEventListener("scroll",nf,!1)}}return i(Qc,[{key:"initDOM",value:function(ef){this.clusterHeight===void 0&&(this.cache.scrollTop=this.scrollEl.scrollTop,this.cache.data=this.contentEl.innerHTML=ef[0]+ef[0]+ef[0],this.getRowsHeight(ef));var tf=this.initData(ef,this.getNum()),nf=tf.rows.join(""),rf=this.checkChanges("data",nf),sf=this.checkChanges("top",tf.topOffset),af=this.checkChanges("bottom",tf.bottomOffset),lf=[];rf&&sf?(tf.topOffset&&lf.push(this.getExtra("top",tf.topOffset)),lf.push(nf),tf.bottomOffset&&lf.push(this.getExtra("bottom",tf.bottomOffset)),this.contentEl.innerHTML=lf.join("")):af&&(this.contentEl.lastChild.style.height="".concat(tf.bottomOffset,"px"))}},{key:"getRowsHeight",value:function(){if(this.itemHeight===void 0){var ef=this.contentEl.children,tf=ef[Math.floor(ef.length/2)];this.itemHeight=tf.offsetHeight}this.blockHeight=this.itemHeight*Gs.BLOCK_ROWS,this.clusterRows=Gs.BLOCK_ROWS*Gs.CLUSTER_BLOCKS,this.clusterHeight=this.blockHeight*Gs.CLUSTER_BLOCKS}},{key:"getNum",value:function(){return this.scrollTop=this.scrollEl.scrollTop,Math.floor(this.scrollTop/(this.clusterHeight-this.blockHeight))||0}},{key:"initData",value:function(ef,tf){if(ef.length<Gs.BLOCK_ROWS)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:ef};var nf=Math.max((this.clusterRows-Gs.BLOCK_ROWS)*tf,0),rf=nf+this.clusterRows,sf=Math.max(nf*this.itemHeight,0),af=Math.max((ef.length-rf)*this.itemHeight,0),lf=[],cf=nf;sf<1&&cf++;for(var uf=nf;uf<rf;uf++)ef[uf]&&lf.push(ef[uf]);return this.dataStart=nf,this.dataEnd=rf,{topOffset:sf,bottomOffset:af,rowsAbove:cf,rows:lf}}},{key:"checkChanges",value:function(ef,tf){var nf=tf!==this.cache[ef];return this.cache[ef]=tf,nf}},{key:"getExtra",value:function(ef,tf){var nf=document.createElement("li");return nf.className="virtual-scroll-".concat(ef),tf&&(nf.style.height="".concat(tf,"px")),nf.outerHTML}}]),Qc}(),sc=B,ac=Kt,lc=Math.floor,cc=sc("".charAt),hc=sc("".replace),fc=sc("".slice),dc=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,pc=/\$([$&'`]|\d{1,2})/g,vc=Ys,gc=b,Ec=B,bc=_r,yc=d$1,mc=Ne,Ac=J,Cc=H$1,Fc=ci,Sc=Ei,Dc=yu,kc=W$3,xc=ha,$c=wt,Oc=function(Qc,ef,tf,nf,rf,sf){var af=tf+Qc.length,lf=nf.length,cf=pc;return rf!==void 0&&(rf=ac(rf),cf=dc),hc(sf,cf,function(uf,ff){var df;switch(cc(ff,0)){case"$":return"$";case"&":return Qc;case"`":return fc(ef,0,tf);case"'":return fc(ef,af);case"<":df=rf[fc(ff,1,-1)];break;default:var gf=+ff;if(gf===0)return uf;if(gf>lf){var _f=lc(gf/10);return _f===0?uf:_f<=lf?nf[_f-1]===void 0?cc(ff,1):nf[_f-1]+cc(ff,1):uf}df=nf[gf-1]}return df===void 0?"":df})},wc=zr,Bc=le("replace"),jc=Math.max,Tc=Math.min,Lc=Ec([].concat),Ic=Ec([].push),Rc=Ec("".indexOf),_c=Ec("".slice),Mc="a".replace(/./,"$0")==="$0",Pc=!!/./[Bc]&&/./[Bc]("a","$0")==="";bc("replace",function(Qc,ef,tf){var nf=Pc?"$":"$0";return[function(rf,sf){var af=kc(this),lf=Cc(rf)?void 0:$c(rf,Bc);return lf?gc(lf,rf,af,sf):gc(ef,Dc(af),rf,sf)},function(rf,sf){var af=mc(this),lf=Dc(rf);if(typeof sf=="string"&&Rc(sf,nf)===-1&&Rc(sf,"$<")===-1){var cf=tf(ef,af,lf,sf);if(cf.done)return cf.value}var uf=Ac(sf);uf||(sf=Dc(sf));var ff=af.global;if(ff){var df=af.unicode;af.lastIndex=0}for(var gf=[];;){var _f=wc(af,lf);if(_f===null||(Ic(gf,_f),!ff))break;Dc(_f[0])===""&&(af.lastIndex=xc(lf,Sc(af.lastIndex),df))}for(var xf,Af="",Df=0,Of=0;Of<gf.length;Of++){for(var Gf=Dc((_f=gf[Of])[0]),Bf=jc(Tc(Fc(_f.index),lf.length),0),Vf=[],Lf=1;Lf<_f.length;Lf++)Ic(Vf,(xf=_f[Lf])===void 0?xf:String(xf));var Cf=_f.groups;if(uf){var Tf=Lc([Gf],Vf,Bf,lf);Cf!==void 0&&Ic(Tf,Cf);var Yf=Dc(vc(sf,void 0,Tf))}else Yf=Oc(Gf,lf,Bf,Vf,Cf,sf);Bf>=Df&&(Af+=_c(lf,Df,Bf)+Yf,Df=Bf+Gf.length)}return Af+_c(lf,Df)}]},!!yc(function(){var Qc=/./;return Qc.exec=function(){var ef=[];return ef.groups={a:"7"},ef},"".replace(Qc,"$<a>")!=="7"})||!Mc||Pc);var Nc=xt,Hc=Kt,Uc=N$1,Gc=yi,Wc=TypeError,zc=function(Qc){return function(ef,tf,nf,rf){Nc(tf);var sf=Hc(ef),af=Uc(sf),lf=Gc(sf),cf=Qc?lf-1:0,uf=Qc?-1:1;if(nf<2)for(;;){if(cf in af){rf=af[cf],cf+=uf;break}if(cf+=uf,Qc?cf<0:lf<=cf)throw Wc("Reduce of empty array with no initial value")}for(;Qc?cf>=0:lf>cf;cf+=uf)cf in af&&(rf=tf(rf,af[cf],cf,sf));return rf}},Kc={left:zc(!1),right:zc(!0)},Vc=typeof process<"u"&&I(process)=="process",Yc=Kc.left;su({target:"Array",proto:!0,forced:!Vc&&ht>79&&ht<83||!Ua("reduce")},{reduce:function(Qc){var ef=arguments.length;return Yc(this,Qc,ef,ef>1?arguments[1]:void 0)}});var qc=function(Qc){return Qc.normalize?Qc.normalize("NFD").replace(/[\u0300-\u036F]/g,""):[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}].reduce(function(ef,tf){var nf=tf.letters,rf=tf.base;return ef.replace(nf,rf)},Qc)},Xc=function(Qc,ef,tf){var nf,rf=a(Qc);try{for(rf.s();!(nf=rf.n()).done;){var sf=nf.value;if(sf[ef]===tf||sf[ef]==="".concat(+sf[ef])&&+sf[ef]===tf)return sf;if(sf.type==="optgroup"){var af,lf=a(sf.children);try{for(lf.s();!(af=lf.n()).done;){var cf=af.value;if(cf[ef]===tf||cf[ef]==="".concat(+cf[ef])&&+cf[ef]===tf)return cf}}catch(uf){lf.e(uf)}finally{lf.f()}}}}catch(uf){rf.e(uf)}finally{rf.f()}},Jc=function(Qc){return Object.keys(Qc).forEach(function(ef){return Qc[ef]===void 0?delete Qc[ef]:""}),Qc},Zc=function(){function Qc(ef,tf){e(this,Qc),this.$el=ef,this.options=$.extend({},Gs.DEFAULTS,tf)}return i(Qc,[{key:"init",value:function(){this.initLocale(),this.initContainer(),this.initData(),this.initSelected(!0),this.initFilter(),this.initDrop(),this.initView(),this.options.onAfterCreate()}},{key:"initLocale",value:function(){if(this.options.locale){var ef=$.fn.multipleSelect.locales,tf=this.options.locale.split(/-|_/);tf[0]=tf[0].toLowerCase(),tf[1]&&(tf[1]=tf[1].toUpperCase()),ef[this.options.locale]?$.extend(this.options,ef[this.options.locale]):ef[tf.join("-")]?$.extend(this.options,ef[tf.join("-")]):ef[tf[0]]&&$.extend(this.options,ef[tf[0]])}}},{key:"initContainer",value:function(){var ef=this,tf=this.$el[0],nf=tf.getAttribute("name")||this.options.name||"";this.options.classes&&this.$el.addClass(this.options.classes),this.options.classPrefix&&(this.$el.addClass(this.options.classPrefix),this.options.size&&this.$el.addClass("".concat(this.options.classPrefix,"-").concat(this.options.size))),this.$el.hide(),this.$label=this.$el.closest("label"),!this.$label.length&&this.$el.attr("id")&&(this.$label=$('label[for="'.concat(this.$el.attr("id"),'"]'))),this.$label.find(">input").length&&(this.$label=null),this.options.single===void 0&&(this.options.single=tf.getAttribute("multiple")===null),this.$parent=$(`
      <div class="ms-parent `.concat(tf.getAttribute("class")||""," ").concat(this.options.classes,`"
      title="`).concat(tf.getAttribute("title")||"",`" />
    `)),this.options.placeholder=this.options.placeholder||tf.getAttribute("placeholder")||"",this.tabIndex=tf.getAttribute("tabindex");var rf="";if(this.tabIndex!==null&&(this.$el.attr("tabindex",-1),rf=this.tabIndex&&'tabindex="'.concat(this.tabIndex,'"')),this.$choice=$(`
      <button type="button" class="ms-choice"`.concat(rf,`>
      <span class="placeholder">`).concat(this.options.placeholder,`</span>
      `).concat(this.options.showClear?'<div class="icon-close"></div>':"",`
      <div class="icon-caret"></div>
      </button>
    `)),this.$drop=$('<div class="ms-drop '.concat(this.options.position,'" />')),this.$close=this.$choice.find(".icon-close"),this.options.dropWidth&&this.$drop.css("width",this.options.dropWidth),this.$el.after(this.$parent),this.$parent.append(this.$choice),this.$parent.append(this.$drop),tf.disabled&&this.$choice.addClass("disabled"),this.selectAllName='data-name="selectAll'.concat(nf,'"'),this.selectGroupName='data-name="selectGroup'.concat(nf,'"'),this.selectItemName='data-name="selectItem'.concat(nf,'"'),!this.options.keepOpen){var sf=function(){var af=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return af=af||"".concat(+new Date).concat(~~(1e6*Math.random())),"click.multiple-select-".concat(af)}(this.$el.attr("id"));$(document).off(sf).on(sf,function(af){$(af.target)[0]!==ef.$choice[0]&&$(af.target).parents(".ms-choice")[0]!==ef.$choice[0]&&($(af.target)[0]===ef.$drop[0]||$(af.target).parents(".ms-drop")[0]!==ef.$drop[0]&&af.target!==tf)&&ef.options.isOpen&&ef.close()})}}},{key:"initData",value:function(){var ef=this,tf=[];if(this.options.data){if(Array.isArray(this.options.data))this.data=this.options.data.map(function(cf){return typeof cf=="string"||typeof cf=="number"?{text:cf,value:cf}:cf});else if(t$1(this.options.data)==="object"){for(var nf=0,rf=Object.entries(this.options.data);nf<rf.length;nf++){var sf=u(rf[nf],2),af=sf[0],lf=sf[1];tf.push({value:af,text:lf})}this.data=tf}}else $.each(this.$el.children(),function(cf,uf){ef.initRow(cf,uf)&&tf.push(ef.initRow(cf,uf))}),this.options.data=tf,this.data=tf,this.fromHtml=!0;this.dataTotal=function(cf){var uf=0;return cf.forEach(function(ff,df){ff.type==="optgroup"?(ff._key="group_".concat(df),ff.visible=ff.visible===void 0||ff.visible,ff.children.forEach(function(gf,_f){gf.visible=gf.visible===void 0||gf.visible,gf.divider||(gf._key="option_".concat(df,"_").concat(_f),uf+=1)})):(ff.visible=ff.visible===void 0||ff.visible,ff.divider||(ff._key="option_".concat(df),uf+=1))}),uf}(this.data)}},{key:"initRow",value:function(ef,tf,nf){var rf=this,sf={},af=$(tf);return af.is("option")?(sf.type="option",sf.text=this.options.textTemplate(af),sf.value=tf.value,sf.visible=!0,sf.selected=!!tf.selected,sf.disabled=nf||tf.disabled,sf.classes=tf.getAttribute("class")||"",sf.title=tf.getAttribute("title")||"",af.data("value")&&(sf._value=af.data("value")),Object.keys(af.data()).length&&(sf._data=af.data(),sf._data.divider&&(sf.divider=sf._data.divider)),sf):af.is("optgroup")?(sf.type="optgroup",sf.label=this.options.labelTemplate(af),sf.visible=!0,sf.selected=!!tf.selected,sf.disabled=tf.disabled,sf.children=[],Object.keys(af.data()).length&&(sf._data=af.data()),$.each(af.children(),function(lf,cf){sf.children.push(rf.initRow(lf,cf,sf.disabled))}),sf):null}},{key:"initSelected",value:function(ef){var tf,nf=0,rf=a(this.data);try{for(rf.s();!(tf=rf.n()).done;){var sf=tf.value;if(sf.type==="optgroup"){var af=sf.children.filter(function(lf){return lf.selected&&!lf.disabled&&lf.visible}).length;sf.children.length&&(sf.selected=!this.options.single&&af&&af===sf.children.filter(function(lf){return!lf.disabled&&lf.visible&&!lf.divider}).length),nf+=af}else nf+=sf.selected&&!sf.disabled&&sf.visible?1:0}}catch(lf){rf.e(lf)}finally{rf.f()}this.allSelected=this.data.filter(function(lf){return lf.selected&&!lf.disabled&&lf.visible}).length===this.data.filter(function(lf){return!lf.disabled&&lf.visible&&!lf.divider}).length,ef||(this.allSelected?this.options.onCheckAll():nf===0&&this.options.onUncheckAll())}},{key:"initFilter",value:function(){if(this.filterText="",!this.options.filter&&this.options.filterByDataLength){var ef,tf=0,nf=a(this.data);try{for(nf.s();!(ef=nf.n()).done;){var rf=ef.value;rf.type==="optgroup"?tf+=rf.children.length:tf+=1}}catch(sf){nf.e(sf)}finally{nf.f()}this.options.filter=tf>this.options.filterByDataLength}}},{key:"initDrop",value:function(){var ef=this;this.initList(),this.update(!0),this.options.isOpen&&setTimeout(function(){ef.open()},50),this.options.openOnHover&&this.$parent.hover(function(){ef.open()},function(){ef.close()})}},{key:"initList",value:function(){var ef=[];this.options.filter&&ef.push(`
        <div class="ms-search">
          <input type="text" autocomplete="off" autocorrect="off"
            autocapitalize="off" spellcheck="false"
            placeholder="`.concat(this.options.filterPlaceholder,`">
        </div>
      `)),ef.push("<ul></ul>"),this.$drop.html(ef.join("")),this.$ul=this.$drop.find(">ul"),this.initListItems()}},{key:"initListItems",value:function(){var ef=this,tf=this.getListRows(),nf=0;if(this.options.selectAll&&!this.options.single&&(nf=-1),tf.length>Gs.BLOCK_ROWS*Gs.CLUSTER_BLOCKS){this.virtualScroll&&this.virtualScroll.destroy();var rf=this.$drop.is(":visible");rf||this.$drop.css("left",-1e4).show();var sf=function(){ef.updateDataStart=ef.virtualScroll.dataStart+nf,ef.updateDataEnd=ef.virtualScroll.dataEnd+nf,ef.updateDataStart<0&&(ef.updateDataStart=0),ef.updateDataEnd>ef.data.length&&(ef.updateDataEnd=ef.data.length)};this.virtualScroll=new oc({rows:tf,scrollEl:this.$ul[0],contentEl:this.$ul[0],callback:function(){sf(),ef.events()}}),sf(),rf||this.$drop.css("left",0).hide()}else this.$ul.html(tf.join("")),this.updateDataStart=0,this.updateDataEnd=this.updateData.length,this.virtualScroll=null;this.events()}},{key:"getListRows",value:function(){var ef=this,tf=[];return this.options.selectAll&&!this.options.single&&tf.push(`
        <li class="ms-select-all">
        <label>
        <input type="checkbox" `.concat(this.selectAllName).concat(this.allSelected?' checked="checked"':"",` />
        <span>`).concat(this.options.formatSelectAll(),`</span>
        </label>
        </li>
      `)),this.updateData=[],this.data.forEach(function(nf){tf.push.apply(tf,r(ef.initListItem(nf)))}),tf.push('<li class="ms-no-results">'.concat(this.options.formatNoMatchesFound(),"</li>")),tf}},{key:"initListItem",value:function(ef){var tf=this,nf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rf=ef.title?'title="'.concat(ef.title,'"'):"",sf=this.options.multiple?"multiple":"",af=this.options.single?"radio":"checkbox",lf="";if(!ef.visible)return[];if(this.updateData.push(ef),this.options.single&&!this.options.singleRadio&&(lf="hide-radio "),ef.selected&&(lf+="selected "),ef.type==="optgroup"){var cf=this.options.styler(ef),uf=cf?'style="'.concat(cf,'"'):"",ff=[],df=this.options.hideOptgroupCheckboxes||this.options.single?"<span ".concat(this.selectGroupName,' data-key="').concat(ef._key,'"></span>'):`<input type="checkbox"
          `.concat(this.selectGroupName,`
          data-key="`).concat(ef._key,`"
          `).concat(ef.selected?' checked="checked"':"",`
          `).concat(ef.disabled?' disabled="disabled"':"",`
        >`);return lf.includes("hide-radio")||!this.options.hideOptgroupCheckboxes&&!this.options.single||(lf+="hide-radio "),ff.push(`
        <li class="group `.concat(lf,'" ').concat(uf,`>
        <label class="optgroup`).concat(this.options.single||ef.disabled?" disabled":"",`">
        `).concat(df).concat(ef.label,`
        </label>
        </li>
      `)),ef.children.forEach(function(xf){ff.push.apply(ff,r(tf.initListItem(xf,1)))}),ff}var gf=this.options.styler(ef),_f=gf?'style="'.concat(gf,'"'):"";return lf+=ef.classes||"",nf&&this.options.single&&(lf+="option-level-".concat(nf," ")),ef.divider?'<li class="option-divider"/>':[`
      <li class="`.concat(sf," ").concat(lf,'" ').concat(rf," ").concat(_f,`>
      <label class="`).concat(ef.disabled?"disabled":"",`">
      <input type="`).concat(af,`"
        value="`).concat(ef.value,`"
        data-key="`).concat(ef._key,`"
        `).concat(this.selectItemName,`
        `).concat(ef.selected?' checked="checked"':"",`
        `).concat(ef.disabled?' disabled="disabled"':"",`
      >
      <span>`).concat(ef.text,`</span>
      </label>
      </li>
    `)]}},{key:"events",value:function(){var ef=this;this.$searchInput=this.$drop.find(".ms-search input"),this.$selectAll=this.$drop.find("input[".concat(this.selectAllName,"]")),this.$selectGroups=this.$drop.find("input[".concat(this.selectGroupName,"],span[").concat(this.selectGroupName,"]")),this.$selectItems=this.$drop.find("input[".concat(this.selectItemName,"]:enabled")),this.$disableItems=this.$drop.find("input[".concat(this.selectItemName,"]:disabled")),this.$noResults=this.$drop.find(".ms-no-results");var tf=function(nf){nf.preventDefault(),$(nf.target).hasClass("icon-close")||ef[ef.options.isOpen?"close":"open"]()};this.$label&&this.$label.length&&this.$label.off("click").on("click",function(nf){nf.target.nodeName.toLowerCase()==="label"&&(tf(nf),ef.options.filter&&ef.options.isOpen||ef.focus(),nf.stopPropagation())}),this.$choice.off("click").on("click",tf).off("focus").on("focus",this.options.onFocus).off("blur").on("blur",this.options.onBlur),this.$parent.off("keydown").on("keydown",function(nf){nf.which!==27||ef.options.keepOpen||(ef.close(),ef.$choice.focus())}),this.$close.off("click").on("click",function(nf){nf.preventDefault(),ef._checkAll(!1,!0),ef.initSelected(!1),ef.updateSelected(),ef.update(),ef.options.onClear()}),this.$searchInput.off("keydown").on("keydown",function(nf){nf.keyCode===9&&nf.shiftKey&&ef.close()}).off("keyup").on("keyup",function(nf){if(ef.options.filterAcceptOnEnter&&[13,32].includes(nf.which)&&ef.$searchInput.val()){if(ef.options.single){var rf=ef.$selectItems.closest("li").filter(":visible");rf.length&&ef.setSelects([rf.first().find("input[".concat(ef.selectItemName,"]")).val()])}else ef.$selectAll.click();return ef.close(),void ef.focus()}ef.filter()}),this.$selectAll.off("click").on("click",function(nf){ef._checkAll($(nf.currentTarget).prop("checked"))}),this.$selectGroups.off("click").on("click",function(nf){var rf=$(nf.currentTarget),sf=rf.prop("checked"),af=Xc(ef.data,"_key",rf.data("key"));ef._checkGroup(af,sf),ef.options.onOptgroupClick(Jc({label:af.label,selected:af.selected,data:af._data,children:af.children.map(function(lf){return Jc({text:lf.text,value:lf.value,selected:lf.selected,disabled:lf.disabled,data:lf._data})})}))}),this.$selectItems.off("click").on("click",function(nf){var rf=$(nf.currentTarget),sf=rf.prop("checked"),af=Xc(ef.data,"_key",rf.data("key"));ef._check(af,sf),ef.options.onClick(Jc({text:af.text,value:af.value,selected:af.selected,data:af._data})),ef.options.single&&ef.options.isOpen&&!ef.options.keepOpen&&ef.close()})}},{key:"initView",value:function(){var ef;window.getComputedStyle?(ef=window.getComputedStyle(this.$el[0]).width)==="auto"&&(ef=this.$drop.outerWidth()+20):ef=this.$el.outerWidth()+20,this.$parent.css("width",this.options.width||ef),this.$el.show().addClass("ms-offscreen")}},{key:"open",value:function(){if(!this.$choice.hasClass("disabled")){if(this.options.isOpen=!0,this.$parent.addClass("ms-parent-open"),this.$choice.find(">div").addClass("open"),this.$drop[this.animateMethod("show")](),this.$selectAll.parent().show(),this.$noResults.hide(),this.data.length||(this.$selectAll.parent().hide(),this.$noResults.show()),this.options.container){var ef=this.$drop.offset();this.$drop.appendTo($(this.options.container)),this.$drop.offset({top:ef.top,left:ef.left}).css("min-width","auto").outerWidth(this.$parent.outerWidth())}var tf=this.options.maxHeight;this.options.maxHeightUnit==="row"&&(tf=this.$drop.find(">ul>li").first().outerHeight()*this.options.maxHeight),this.$drop.find(">ul").css("max-height","".concat(tf,"px")),this.$drop.find(".multiple").css("width","".concat(this.options.multipleWidth,"px")),this.data.length&&this.options.filter&&(this.$searchInput.val(""),this.$searchInput.focus(),this.filter(!0)),this.options.onOpen()}}},{key:"close",value:function(){this.options.isOpen=!1,this.$parent.removeClass("ms-parent-open"),this.$choice.find(">div").removeClass("open"),this.$drop[this.animateMethod("hide")](),this.options.container&&(this.$parent.append(this.$drop),this.$drop.css({top:"auto",left:"auto"})),this.options.onClose()}},{key:"animateMethod",value:function(ef){return{show:{fade:"fadeIn",slide:"slideDown"},hide:{fade:"fadeOut",slide:"slideUp"}}[ef][this.options.animate]||ef}},{key:"update",value:function(ef){var tf=this.getSelects(),nf=this.getSelects("text");this.options.displayValues&&(nf=tf);var rf=this.$choice.find(">span"),sf=tf.length,af="";sf===0?rf.addClass("placeholder").html(this.options.placeholder):af=sf<this.options.minimumCountSelected?nf.join(this.options.displayDelimiter):this.options.formatAllSelected()&&sf===this.dataTotal?this.options.formatAllSelected():this.options.ellipsis&&sf>this.options.minimumCountSelected?"".concat(nf.slice(0,this.options.minimumCountSelected).join(this.options.displayDelimiter),"..."):this.options.formatCountSelected()&&sf>this.options.minimumCountSelected?this.options.formatCountSelected(sf,this.dataTotal):nf.join(this.options.displayDelimiter),af&&rf.removeClass("placeholder").html(af),this.options.displayTitle&&rf.prop("title",this.getSelects("text")),this.$el.val(this.getSelects()),ef||this.$el.trigger("change")}},{key:"updateSelected",value:function(){for(var ef=this.updateDataStart;ef<this.updateDataEnd;ef++){var tf=this.updateData[ef];this.$drop.find("input[data-key=".concat(tf._key,"]")).prop("checked",tf.selected).closest("li").toggleClass("selected",tf.selected)}var nf=this.data.filter(function(rf){return rf.visible}).length===0;this.$selectAll.length&&this.$selectAll.prop("checked",this.allSelected).closest("li").toggle(!nf),this.$noResults.toggle(nf),this.virtualScroll&&(this.virtualScroll.rows=this.getListRows())}},{key:"getData",value:function(){return this.options.data}},{key:"getOptions",value:function(){var ef=$.extend({},this.options);return delete ef.data,$.extend(!0,{},ef)}},{key:"refreshOptions",value:function(ef){(function(tf,nf,rf){var sf=Object.keys(tf),af=Object.keys(nf);if(rf&&sf.length!==af.length)return!1;for(var lf=0,cf=sf;lf<cf.length;lf++){var uf=cf[lf];if(af.includes(uf)&&tf[uf]!==nf[uf])return!1}return!0})(this.options,ef,!0)||(this.options=$.extend(this.options,ef),this.destroy(),this.init())}},{key:"getSelects",value:function(){var ef,tf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value",nf=[],rf=a(this.data);try{for(rf.s();!(ef=rf.n()).done;){var sf=ef.value;if(sf.type==="optgroup"){var af=sf.children.filter(function(cf){return cf.selected});if(!af.length)continue;if(tf==="value"||this.options.single)nf.push.apply(nf,r(af.map(function(cf){return tf==="value"&&cf._value||cf[tf]})));else{var lf=[];lf.push("["),lf.push(sf.label),lf.push(": ".concat(af.map(function(cf){return cf[tf]}).join(", "))),lf.push("]"),nf.push(lf.join(""))}}else sf.selected&&nf.push(tf==="value"&&sf._value||sf[tf])}}catch(cf){rf.e(cf)}finally{rf.f()}return nf}},{key:"setSelects",value:function(ef){var tf,nf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",rf=arguments.length>2&&arguments[2]!==void 0&&arguments[2],sf=!1,af=function(uf){var ff,df=a(uf);try{for(df.s();!(ff=df.n()).done;){var gf=ff.value,_f=!1;nf==="text"?_f=ef.includes($("<div>").html(gf.text).text().trim()):(_f=ef.includes(gf._value||gf.value))||gf.value!=="".concat(+gf.value)||(_f=ef.includes(+gf.value)),gf.selected!==_f&&(sf=!0),gf.selected=_f}}catch(xf){df.e(xf)}finally{df.f()}},lf=a(this.data);try{for(lf.s();!(tf=lf.n()).done;){var cf=tf.value;cf.type==="optgroup"?af(cf.children):af([cf])}}catch(uf){lf.e(uf)}finally{lf.f()}sf&&(this.initSelected(rf),this.updateSelected(),this.update(rf))}},{key:"enable",value:function(){this.$choice.removeClass("disabled")}},{key:"disable",value:function(){this.$choice.addClass("disabled")}},{key:"check",value:function(ef){var tf=Xc(this.data,"value",ef);tf&&this._check(tf,!0)}},{key:"uncheck",value:function(ef){var tf=Xc(this.data,"value",ef);tf&&this._check(tf,!1)}},{key:"_check",value:function(ef,tf){this.options.single&&this._checkAll(!1,!0),ef.selected=tf,this.initSelected(),this.updateSelected(),this.update()}},{key:"checkAll",value:function(){this._checkAll(!0)}},{key:"uncheckAll",value:function(){this._checkAll(!1)}},{key:"_checkAll",value:function(ef,tf){var nf,rf=a(this.data);try{for(rf.s();!(nf=rf.n()).done;){var sf=nf.value;sf.type==="optgroup"?this._checkGroup(sf,ef,!0):sf.disabled||sf.divider||!tf&&!sf.visible||(sf.selected=ef)}}catch(af){rf.e(af)}finally{rf.f()}tf||(this.initSelected(),this.updateSelected(),this.update())}},{key:"_checkGroup",value:function(ef,tf,nf){ef.selected=tf,ef.children.forEach(function(rf){rf.disabled||rf.divider||!nf&&!rf.visible||(rf.selected=tf)}),nf||(this.initSelected(),this.updateSelected(),this.update())}},{key:"checkInvert",value:function(){if(!this.options.single){var ef,tf=a(this.data);try{for(tf.s();!(ef=tf.n()).done;){var nf=ef.value;if(nf.type==="optgroup"){var rf,sf=a(nf.children);try{for(sf.s();!(rf=sf.n()).done;){var af=rf.value;af.divider||(af.selected=!af.selected)}}catch(lf){sf.e(lf)}finally{sf.f()}}else nf.divider||(nf.selected=!nf.selected)}}catch(lf){tf.e(lf)}finally{tf.f()}this.initSelected(),this.updateSelected(),this.update()}}},{key:"focus",value:function(){this.$choice.focus(),this.options.onFocus()}},{key:"blur",value:function(){this.$choice.blur(),this.options.onBlur()}},{key:"refresh",value:function(){this.destroy(),this.init()}},{key:"filter",value:function(ef){var tf=$.trim(this.$searchInput.val()),nf=tf.toLowerCase();if(this.filterText!==nf){this.filterText=nf;var rf,sf=a(this.data);try{for(sf.s();!(rf=sf.n()).done;){var af=rf.value;if(af.type==="optgroup")if(this.options.filterGroup){var lf=this.options.customFilter({label:qc(af.label.toLowerCase()),search:qc(nf),originalLabel:af.label,originalSearch:tf,row:af});af.visible=lf;var cf,uf=a(af.children);try{for(uf.s();!(cf=uf.n()).done;)cf.value.visible=lf}catch(_f){uf.e(_f)}finally{uf.f()}}else{var ff,df=a(af.children);try{for(df.s();!(ff=df.n()).done;){var gf=ff.value;gf.visible=this.options.customFilter({text:qc(gf.text.toLowerCase()),search:qc(nf),originalText:gf.text,originalSearch:tf,row:gf,parent:af})}}catch(_f){df.e(_f)}finally{df.f()}af.visible=af.children.filter(function(_f){return _f.visible}).length>0}else af.visible=this.options.customFilter({text:qc(af.text.toLowerCase()),search:qc(nf),originalText:af.text,originalSearch:tf,row:af})}}catch(_f){sf.e(_f)}finally{sf.f()}this.initListItems(),this.initSelected(ef),this.updateSelected(),ef||this.options.onFilter(nf)}}},{key:"destroy",value:function(){this.$parent&&(this.$el.before(this.$parent).removeClass("ms-offscreen"),this.tabIndex!==null&&this.$el.attr("tabindex",this.tabIndex),this.$parent.remove(),this.fromHtml&&(delete this.options.data,this.fromHtml=!1))}}]),Qc}();$.fn.multipleSelect=function(Qc){for(var ef=arguments.length,tf=new Array(ef>1?ef-1:0),nf=1;nf<ef;nf++)tf[nf-1]=arguments[nf];var rf;return this.each(function(sf,af){var lf=$(af),cf=lf.data("multipleSelect"),uf=$.extend({},lf.data(),t$1(Qc)==="object"&&Qc);if(cf||(cf=new Zc(lf,uf),lf.data("multipleSelect",cf)),typeof Qc=="string"){var ff;if($.inArray(Qc,Gs.METHODS)<0)throw new Error("Unknown method: ".concat(Qc));rf=(ff=cf)[Qc].apply(ff,tf),Qc==="destroy"&&lf.removeData("multipleSelect")}else cf.init()}),rf!==void 0?rf:this},$.fn.multipleSelect.defaults=Gs.DEFAULTS,$.fn.multipleSelect.locales=Gs.LOCALES,$.fn.multipleSelect.methods=Gs.METHODS;(function(Qc,ef){typeof exports=="object"&&typeof module<"u"?ef(exports):typeof define=="function"&&define.amd?define(["exports"],ef):ef((Qc=typeof globalThis<"u"?globalThis:Qc||self).noUiSlider={})})(globalThis,function(Qc){function ef(qf){return typeof qf=="object"&&typeof qf.to=="function"}function tf(qf){qf.parentElement.removeChild(qf)}function nf(qf){return qf!=null}function rf(qf){qf.preventDefault()}function sf(qf){return typeof qf=="number"&&!isNaN(qf)&&isFinite(qf)}function af(qf,zf,Th){0<Th&&(ff(qf,zf),setTimeout(function(){df(qf,zf)},Th))}function lf(qf){return Math.max(Math.min(qf,100),0)}function cf(qf){return Array.isArray(qf)?qf:[qf]}function uf(qf){return qf=(qf=String(qf)).split("."),1<qf.length?qf[1].length:0}function ff(qf,zf){qf.classList&&!/\s/.test(zf)?qf.classList.add(zf):qf.className+=" "+zf}function df(qf,zf){qf.classList&&!/\s/.test(zf)?qf.classList.remove(zf):qf.className=qf.className.replace(new RegExp("(^|\\b)"+zf.split(" ").join("|")+"(\\b|$)","gi")," ")}function gf(qf){var zf=window.pageXOffset!==void 0,Th=(qf.compatMode||"")==="CSS1Compat";return{x:zf?window.pageXOffset:(Th?qf.documentElement:qf.body).scrollLeft,y:zf?window.pageYOffset:(Th?qf.documentElement:qf.body).scrollTop}}function _f(qf,zf){return 100/(zf-qf)}function xf(qf,zf,Th){return 100*zf/(qf[Th+1]-qf[Th])}function Af(qf,zf){for(var Th=1;qf>=zf[Th];)Th+=1;return Th}function Df(jh,zf,Th){if(Th>=jh.slice(-1)[0])return 100;var qh=Af(Th,jh),Fh=jh[qh-1],Uh=jh[qh],jh=zf[qh-1],qh=zf[qh];return jh+(Th=Th,xf(Uh=[Fh,Uh],Uh[0]<0?Th+Math.abs(Uh[0]):Th-Uh[0],0)/_f(jh,qh))}function Of(qf,zf,Th,Fh){if(Fh===100)return Fh;var Uh=Af(Fh,qf),jh=qf[Uh-1],qh=qf[Uh];return Th?(qh-jh)/2<Fh-jh?qh:jh:zf[Uh-1]?qf[Uh-1]+(qf=Fh-qf[Uh-1],Uh=zf[Uh-1],Math.round(qf/Uh)*Uh):Fh}Qc.PipsMode=void 0,(gh=Qc.PipsMode||(Qc.PipsMode={})).Range="range",gh.Steps="steps",gh.Positions="positions",gh.Count="count",gh.Values="values",Qc.PipsType=void 0,(gh=Qc.PipsType||(Qc.PipsType={}))[gh.None=-1]="None",gh[gh.NoValue=0]="NoValue",gh[gh.LargeValue=1]="LargeValue",gh[gh.SmallValue=2]="SmallValue";var Gf=(Bf.prototype.getDistance=function(qf){for(var zf=[],Th=0;Th<this.xNumSteps.length-1;Th++)zf[Th]=xf(this.xVal,qf,Th);return zf},Bf.prototype.getAbsoluteDistance=function(qf,zf,Th){var Fh=0;if(qf<this.xPct[this.xPct.length-1])for(;qf>this.xPct[Fh+1];)Fh++;else qf===this.xPct[this.xPct.length-1]&&(Fh=this.xPct.length-2);Th||qf!==this.xPct[Fh+1]||Fh++;for(var Uh,jh=1,qh=(zf=zf===null?[]:zf)[Fh],cd=0,pd=0,Zh=0,kh=Th?(qf-this.xPct[Fh])/(this.xPct[Fh+1]-this.xPct[Fh]):(this.xPct[Fh+1]-qf)/(this.xPct[Fh+1]-this.xPct[Fh]);0<qh;)Uh=this.xPct[Fh+1+Zh]-this.xPct[Fh+Zh],100<zf[Fh+Zh]*jh+100-100*kh?(cd=Uh*kh,jh=(qh-100*kh)/zf[Fh+Zh],kh=1):(cd=zf[Fh+Zh]*Uh/100*jh,jh=0),Th?(pd-=cd,1<=this.xPct.length+Zh&&Zh--):(pd+=cd,1<=this.xPct.length-Zh&&Zh++),qh=zf[Fh+Zh]*jh;return qf+pd},Bf.prototype.toStepping=function(qf){return qf=Df(this.xVal,this.xPct,qf)},Bf.prototype.fromStepping=function(qf){return function(qh,Th,Fh){if(100<=Fh)return qh.slice(-1)[0];var cd=Af(Fh,Th),Uh=qh[cd-1],jh=qh[cd],qh=Th[cd-1],cd=Th[cd];return(Fh-qh)*_f(qh,cd)*((jh=[Uh,jh])[1]-jh[0])/100+jh[0]}(this.xVal,this.xPct,qf)},Bf.prototype.getStep=function(qf){return qf=Of(this.xPct,this.xSteps,this.snap,qf)},Bf.prototype.getDefaultStep=function(qf,zf,Th){var Fh=Af(qf,this.xPct);return(qf===100||zf&&qf===this.xPct[Fh-1])&&(Fh=Math.max(Fh-1,1)),(this.xVal[Fh]-this.xVal[Fh-1])/Th},Bf.prototype.getNearbySteps=function(qf){return qf=Af(qf,this.xPct),{stepBefore:{startValue:this.xVal[qf-2],step:this.xNumSteps[qf-2],highestStep:this.xHighestCompleteStep[qf-2]},thisStep:{startValue:this.xVal[qf-1],step:this.xNumSteps[qf-1],highestStep:this.xHighestCompleteStep[qf-1]},stepAfter:{startValue:this.xVal[qf],step:this.xNumSteps[qf],highestStep:this.xHighestCompleteStep[qf]}}},Bf.prototype.countStepDecimals=function(){var qf=this.xNumSteps.map(uf);return Math.max.apply(null,qf)},Bf.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},Bf.prototype.convert=function(qf){return this.getStep(this.toStepping(qf))},Bf.prototype.handleEntryPoint=function(qf,zf){if(qf=qf==="min"?0:qf==="max"?100:parseFloat(qf),!sf(qf)||!sf(zf[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(qf),this.xVal.push(zf[0]),zf=Number(zf[1]),qf?this.xSteps.push(!isNaN(zf)&&zf):isNaN(zf)||(this.xSteps[0]=zf),this.xHighestCompleteStep.push(0)},Bf.prototype.handleStepPoint=function(qf,zf){zf&&(this.xVal[qf]!==this.xVal[qf+1]?(this.xSteps[qf]=xf([this.xVal[qf],this.xVal[qf+1]],zf,0)/_f(this.xPct[qf],this.xPct[qf+1]),zf=(this.xVal[qf+1]-this.xVal[qf])/this.xNumSteps[qf],zf=Math.ceil(Number(zf.toFixed(3))-1),zf=this.xVal[qf]+this.xNumSteps[qf]*zf,this.xHighestCompleteStep[qf]=zf):this.xSteps[qf]=this.xHighestCompleteStep[qf]=this.xVal[qf])},Bf);function Bf(qf,zf,Th){var Fh;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Th||!1],this.xNumSteps=[!1],this.snap=zf;var Uh=[];for(Object.keys(qf).forEach(function(jh){Uh.push([cf(qf[jh]),jh])}),Uh.sort(function(jh,qh){return jh[0][0]-qh[0][0]}),Fh=0;Fh<Uh.length;Fh++)this.handleEntryPoint(Uh[Fh][1],Uh[Fh][0]);for(this.xNumSteps=this.xSteps.slice(0),Fh=0;Fh<this.xNumSteps.length;Fh++)this.handleStepPoint(Fh,this.xNumSteps[Fh])}var Vf={to:function(qf){return qf===void 0?"":qf.toFixed(2)},from:Number},Lf={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Cf={tooltips:".__tooltips",aria:".__aria"};function Tf(qf,zf){if(!sf(zf))throw new Error("noUiSlider: 'step' is not numeric.");qf.singleStep=zf}function Yf(qf,zf){if(!sf(zf))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");qf.keyboardPageMultiplier=zf}function rh(qf,zf){if(!sf(zf))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");qf.keyboardMultiplier=zf}function dh(qf,zf){if(!sf(zf))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");qf.keyboardDefaultStep=zf}function hh(qf,zf){if(typeof zf!="object"||Array.isArray(zf))throw new Error("noUiSlider: 'range' is not an object.");if(zf.min===void 0||zf.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");qf.spectrum=new Gf(zf,qf.snap||!1,qf.singleStep)}function sh(qf,zf){if(zf=cf(zf),!Array.isArray(zf)||!zf.length)throw new Error("noUiSlider: 'start' option is incorrect.");qf.handles=zf.length,qf.start=zf}function Hf(qf,zf){if(typeof zf!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");qf.snap=zf}function Qf(qf,zf){if(typeof zf!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");qf.animate=zf}function ah(qf,zf){if(typeof zf!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");qf.animationDuration=zf}function mh(qf,zf){var Th,Fh=[!1];if(zf==="lower"?zf=[!0,!1]:zf==="upper"&&(zf=[!1,!0]),zf===!0||zf===!1){for(Th=1;Th<qf.handles;Th++)Fh.push(zf);Fh.push(!1)}else{if(!Array.isArray(zf)||!zf.length||zf.length!==qf.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");Fh=zf}qf.connect=Fh}function uh(qf,zf){switch(zf){case"horizontal":qf.ort=0;break;case"vertical":qf.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function jf(qf,zf){if(!sf(zf))throw new Error("noUiSlider: 'margin' option must be numeric.");zf!==0&&(qf.margin=qf.spectrum.getDistance(zf))}function Kf(qf,zf){if(!sf(zf))throw new Error("noUiSlider: 'limit' option must be numeric.");if(qf.limit=qf.spectrum.getDistance(zf),!qf.limit||qf.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function of(qf,zf){var Th;if(!sf(zf)&&!Array.isArray(zf))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(zf)&&zf.length!==2&&!sf(zf[0])&&!sf(zf[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(zf!==0){for(Array.isArray(zf)||(zf=[zf,zf]),qf.padding=[qf.spectrum.getDistance(zf[0]),qf.spectrum.getDistance(zf[1])],Th=0;Th<qf.spectrum.xNumSteps.length-1;Th++)if(qf.padding[0][Th]<0||qf.padding[1][Th]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var Fh=zf[0]+zf[1],zf=qf.spectrum.xVal[0];if(1<Fh/(qf.spectrum.xVal[qf.spectrum.xVal.length-1]-zf))throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function hf(qf,zf){switch(zf){case"ltr":qf.dir=0;break;case"rtl":qf.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function pf(qf,Zh){if(typeof Zh!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var Th=0<=Zh.indexOf("tap"),Fh=0<=Zh.indexOf("drag"),Uh=0<=Zh.indexOf("fixed"),jh=0<=Zh.indexOf("snap"),qh=0<=Zh.indexOf("hover"),cd=0<=Zh.indexOf("unconstrained"),pd=0<=Zh.indexOf("drag-all"),Zh=0<=Zh.indexOf("smooth-steps");if(Uh){if(qf.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");jf(qf,qf.start[1]-qf.start[0])}if(cd&&(qf.margin||qf.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");qf.events={tap:Th||jh,drag:Fh,dragAll:pd,smoothSteps:Zh,fixed:Uh,snap:jh,hover:qh,unconstrained:cd}}function vf(qf,zf){if(zf!==!1)if(zf===!0||ef(zf)){qf.tooltips=[];for(var Th=0;Th<qf.handles;Th++)qf.tooltips.push(zf)}else{if((zf=cf(zf)).length!==qf.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");zf.forEach(function(Fh){if(typeof Fh!="boolean"&&!ef(Fh))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),qf.tooltips=zf}}function Ef(qf,zf){if(zf.length!==qf.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");qf.handleAttributes=zf}function Sf(qf,zf){if(!ef(zf))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");qf.ariaFormat=zf}function Ff(qf,zf){if(!ef(Th=zf)||typeof Th.from!="function")throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");var Th;qf.format=zf}function Uf(qf,zf){if(typeof zf!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");qf.keyboardSupport=zf}function Wf(qf,zf){qf.documentElement=zf}function eh(qf,zf){if(typeof zf!="string"&&zf!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");qf.cssPrefix=zf}function th(qf,zf){if(typeof zf!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof qf.cssPrefix=="string"?(qf.cssClasses={},Object.keys(zf).forEach(function(Th){qf.cssClasses[Th]=qf.cssPrefix+zf[Th]})):qf.cssClasses=zf}function _h(qf){var zf={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Vf,format:Vf},Th={step:{r:!1,t:Tf},keyboardPageMultiplier:{r:!1,t:Yf},keyboardMultiplier:{r:!1,t:rh},keyboardDefaultStep:{r:!1,t:dh},start:{r:!0,t:sh},connect:{r:!0,t:mh},direction:{r:!0,t:hf},snap:{r:!1,t:Hf},animate:{r:!1,t:Qf},animationDuration:{r:!1,t:ah},range:{r:!0,t:hh},orientation:{r:!1,t:uh},margin:{r:!1,t:jf},limit:{r:!1,t:Kf},padding:{r:!1,t:of},behaviour:{r:!0,t:pf},ariaFormat:{r:!1,t:Sf},format:{r:!1,t:Ff},tooltips:{r:!1,t:vf},keyboardSupport:{r:!0,t:Uf},documentElement:{r:!1,t:Wf},cssPrefix:{r:!0,t:eh},cssClasses:{r:!0,t:th},handleAttributes:{r:!1,t:Ef}},Fh={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Lf,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};qf.format&&!qf.ariaFormat&&(qf.ariaFormat=qf.format),Object.keys(Th).forEach(function(qh){if(nf(qf[qh])||Fh[qh]!==void 0)Th[qh].t(zf,(nf(qf[qh])?qf:Fh)[qh]);else if(Th[qh].r)throw new Error("noUiSlider: '"+qh+"' is required.")}),zf.pips=qf.pips;var jh=document.createElement("div"),Uh=jh.style.msTransform!==void 0,jh=jh.style.transform!==void 0;return zf.transformRule=jh?"transform":Uh?"msTransform":"webkitTransform",zf.style=[["left","top"],["right","bottom"]][zf.dir][zf.ort],zf}function wh(qf,zf,Th){var Fh,Uh,jh,qh,cd,pd,Zh=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},kh=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var yh=!1;try{var Ch=Object.defineProperty({},"passive",{get:function(){yh=!0}});window.addEventListener("test",null,Ch)}catch{}return yh}(),Kh=qf,Jh=zf.spectrum,xh=[],Wh=[],nd=[],Ad=0,ad={},vd=qf.ownerDocument,ld=zf.documentElement||vd.documentElement,Id=vd.body,$d=vd.dir==="rtl"||zf.ort===1?0:100;function yd(yh,Ch){var Ph=vd.createElement("div");return Ch&&ff(Ph,Ch),yh.appendChild(Ph),Ph}function Zd(zh,Ch){var Ph,zh=yd(zh,zf.cssClasses.origin),td=yd(zh,zf.cssClasses.handle);return yd(td,zf.cssClasses.touchArea),td.setAttribute("data-handle",String(Ch)),zf.keyboardSupport&&(td.setAttribute("tabindex","0"),td.addEventListener("keydown",function(dd){return function(Sh,Dh){if(rp()||ep(Dh))return!1;var gp=["Left","Right"],zd=["Down","Up"],Cd=["PageDown","PageUp"],Ap=["Home","End"];zf.dir&&!zf.ort?gp.reverse():zf.ort&&!zf.dir&&(zd.reverse(),Cd.reverse());var Lh=Sh.key.replace("Arrow",""),Yh=Lh===Cd[0],Md=Lh===Cd[1],Cd=Lh===zd[0]||Lh===gp[0]||Yh,zd=Lh===zd[1]||Lh===gp[1]||Md,gp=Lh===Ap[0],Ap=Lh===Ap[1];if(!(Cd||zd||gp||Ap))return!0;if(Sh.preventDefault(),zd||Cd){var Qd=Cd?0:1,Qd=Dd(Dh)[Qd];if(Qd===null)return!1;Qd===!1&&(Qd=Jh.getDefaultStep(Wh[Dh],Cd,zf.keyboardDefaultStep)),Qd*=Md||Yh?zf.keyboardPageMultiplier:zf.keyboardMultiplier,Qd=Math.max(Qd,1e-7),Qd*=Cd?-1:1,Qd=xh[Dh]+Qd}else Qd=Ap?zf.spectrum.xVal[zf.spectrum.xVal.length-1]:zf.spectrum.xVal[0];return Gd(Dh,Jh.toStepping(Qd),!0,!0),gd("slide",Dh),gd("update",Dh),gd("change",Dh),gd("set",Dh),!1}(dd,Ch)})),zf.handleAttributes!==void 0&&(Ph=zf.handleAttributes[Ch],Object.keys(Ph).forEach(function(dd){td.setAttribute(dd,Ph[dd])})),td.setAttribute("role","slider"),td.setAttribute("aria-orientation",zf.ort?"vertical":"horizontal"),Ch===0?ff(td,zf.cssClasses.handleLower):Ch===zf.handles-1&&ff(td,zf.cssClasses.handleUpper),zh.handle=td,zh}function jd(yh,Ch){return!!Ch&&yd(yh,zf.cssClasses.connect)}function pp(yh,Ch){return!(!zf.tooltips||!zf.tooltips[Ch])&&yd(yh.firstChild,zf.cssClasses.tooltip)}function rp(){return Kh.hasAttribute("disabled")}function ep(yh){return Uh[yh].hasAttribute("disabled")}function bp(){cd&&(ed("update"+Cf.tooltips),cd.forEach(function(yh){yh&&tf(yh)}),cd=null)}function Mp(){bp(),cd=Uh.map(pp),$h("update"+Cf.tooltips,function(yh,Ch,Ph){cd&&zf.tooltips&&cd[Ch]!==!1&&(yh=yh[Ch],zf.tooltips[Ch]!==!0&&(yh=zf.tooltips[Ch].to(Ph[Ch])),cd[Ch].innerHTML=yh)})}function fp(yh,Ch){return yh.map(function(Ph){return Jh.fromStepping(Ch?Jh.getStep(Ph):Ph)})}function Xd(yh){var Ch=function(Lh){if(Lh.mode===Qc.PipsMode.Range||Lh.mode===Qc.PipsMode.Steps)return Jh.xVal;if(Lh.mode!==Qc.PipsMode.Count)return Lh.mode===Qc.PipsMode.Positions?fp(Lh.values,Lh.stepped):Lh.mode===Qc.PipsMode.Values?Lh.stepped?Lh.values.map(function(zd){return Jh.fromStepping(Jh.getStep(Jh.toStepping(zd)))}):Lh.values:[];if(Lh.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var Yh=Lh.values-1,Md=100/Yh,Cd=[];Yh--;)Cd[Yh]=Yh*Md;return Cd.push(100),fp(Cd,Lh.stepped)}(yh),Ph={},zh=Jh.xVal[0],td=Jh.xVal[Jh.xVal.length-1],dd=!1,Sh=!1,Dh=0;return(Ch=Ch.slice().sort(function(Lh,Yh){return Lh-Yh}).filter(function(Lh){return!this[Lh]&&(this[Lh]=!0)},{}))[0]!==zh&&(Ch.unshift(zh),dd=!0),Ch[Ch.length-1]!==td&&(Ch.push(td),Sh=!0),Ch.forEach(function(Gp,Yh){var Md,Cd,zd,gp,Ap,Qd,Bp,wp,Gp=Gp,e0=Ch[Yh+1],xp=yh.mode===Qc.PipsMode.Steps,Fp=(Fp=xp?Jh.xNumSteps[Yh]:Fp)||e0-Gp;for(e0===void 0&&(e0=Gp),Fp=Math.max(Fp,1e-7),Md=Gp;Md<=e0;Md=Number((Md+Fp).toFixed(7))){for(Qd=(gp=(zd=Jh.toStepping(Md))-Dh)/(yh.density||1),wp=gp/(Bp=Math.round(Qd)),Cd=1;Cd<=Bp;Cd+=1)Ph[(Ap=Dh+Cd*wp).toFixed(5)]=[Jh.fromStepping(Ap),0];Qd=-1<Ch.indexOf(Md)?Qc.PipsType.LargeValue:xp?Qc.PipsType.SmallValue:Qc.PipsType.NoValue,!Yh&&dd&&Md!==e0&&(Qd=0),Md===e0&&Sh||(Ph[zd.toFixed(5)]=[Md,Qd]),Dh=zd}}),Ph}function Ip(yh,Ch,Ph){var zh,td=vd.createElement("div"),dd=((zh={})[Qc.PipsType.None]="",zh[Qc.PipsType.NoValue]=zf.cssClasses.valueNormal,zh[Qc.PipsType.LargeValue]=zf.cssClasses.valueLarge,zh[Qc.PipsType.SmallValue]=zf.cssClasses.valueSub,zh),Sh=((zh={})[Qc.PipsType.None]="",zh[Qc.PipsType.NoValue]=zf.cssClasses.markerNormal,zh[Qc.PipsType.LargeValue]=zf.cssClasses.markerLarge,zh[Qc.PipsType.SmallValue]=zf.cssClasses.markerSub,zh),Dh=[zf.cssClasses.valueHorizontal,zf.cssClasses.valueVertical],Lh=[zf.cssClasses.markerHorizontal,zf.cssClasses.markerVertical];function Yh(Md,Cd){var zd=Cd===zf.cssClasses.value;return Cd+" "+(zd?Dh:Lh)[zf.ort]+" "+(zd?dd:Sh)[Md]}return ff(td,zf.cssClasses.pips),ff(td,zf.ort===0?zf.cssClasses.pipsHorizontal:zf.cssClasses.pipsVertical),Object.keys(yh).forEach(function(Md){var Cd,zd,gp;zd=yh[Cd=Md][0],gp=yh[Md][1],(gp=Ch?Ch(zd,gp):gp)!==Qc.PipsType.None&&((Md=yd(td,!1)).className=Yh(gp,zf.cssClasses.marker),Md.style[zf.style]=Cd+"%",gp>Qc.PipsType.NoValue&&((Md=yd(td,!1)).className=Yh(gp,zf.cssClasses.value),Md.setAttribute("data-value",String(zd)),Md.style[zf.style]=Cd+"%",Md.innerHTML=String(Ph.to(zd))))}),td}function Ep(){qh&&(tf(qh),qh=null)}function Dp(zh){Ep();var Ch=Xd(zh),Ph=zh.filter,zh=zh.format||{to:function(td){return String(Math.round(td))}};return qh=Kh.appendChild(Ip(Ch,Ph,zh))}function Op(){var yh=Fh.getBoundingClientRect(),Ch="offset"+["Width","Height"][zf.ort];return zf.ort===0?yh.width||Fh[Ch]:yh.height||Fh[Ch]}function hp(yh,Ch,Ph,zh){function td(Sh){var Dh,Lh=function(Yh,Md,Cd){var zd=Yh.type.indexOf("touch")===0,gp=Yh.type.indexOf("mouse")===0,Ap=Yh.type.indexOf("pointer")===0,Qd=0,Bp=0;if(Yh.type.indexOf("MSPointer")===0&&(Ap=!0),Yh.type==="mousedown"&&!Yh.buttons&&!Yh.touches)return!1;if(zd){var wp=function(Gp){return Gp=Gp.target,Gp===Cd||Cd.contains(Gp)||Yh.composed&&Yh.composedPath().shift()===Cd};if(Yh.type==="touchstart"){if(zd=Array.prototype.filter.call(Yh.touches,wp),1<zd.length)return!1;Qd=zd[0].pageX,Bp=zd[0].pageY}else{if(wp=Array.prototype.find.call(Yh.changedTouches,wp),!wp)return!1;Qd=wp.pageX,Bp=wp.pageY}}return Md=Md||gf(vd),(gp||Ap)&&(Qd=Yh.clientX+Md.x,Bp=Yh.clientY+Md.y),Yh.pageOffset=Md,Yh.points=[Qd,Bp],Yh.cursor=gp||Ap,Yh}(Sh,zh.pageOffset,zh.target||Ch);return!!Lh&&!(rp()&&!zh.doNotReject)&&(Dh=Kh,Sh=zf.cssClasses.tap,!((Dh.classList?Dh.classList.contains(Sh):new RegExp("\\b"+Sh+"\\b").test(Dh.className))&&!zh.doNotReject)&&!(yh===Zh.start&&Lh.buttons!==void 0&&1<Lh.buttons)&&(!zh.hover||!Lh.buttons)&&(kh||Lh.preventDefault(),Lh.calcPoint=Lh.points[zf.ort],void Ph(Lh,zh)))}var dd=[];return yh.split(" ").forEach(function(Sh){Ch.addEventListener(Sh,td,!!kh&&{passive:!0}),dd.push([Sh,td])}),dd}function Hh(yh){var Ch,Ph,zh=lf(zh=100*(yh-(zh=Fh,Ch=zf.ort,Ph=zh.getBoundingClientRect(),zh=(yh=zh.ownerDocument).documentElement,yh=gf(yh),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(yh.x=0),Ch?Ph.top+yh.y-zh.clientTop:Ph.left+yh.x-zh.clientLeft))/Op());return zf.dir?100-zh:zh}function ip(yh,Ch){yh.type==="mouseout"&&yh.target.nodeName==="HTML"&&yh.relatedTarget===null&&Hp(yh,Ch)}function sp(yh,Ch){if(navigator.appVersion.indexOf("MSIE 9")===-1&&yh.buttons===0&&Ch.buttonsProperty!==0)return Hp(yh,Ch);yh=(zf.dir?-1:1)*(yh.calcPoint-Ch.startCalcPoint),Bd(0<yh,100*yh/Ch.baseSize,Ch.locations,Ch.handleNumbers,Ch.connect)}function Hp(yh,Ch){Ch.handle&&(df(Ch.handle,zf.cssClasses.active),--Ad),Ch.listeners.forEach(function(Ph){ld.removeEventListener(Ph[0],Ph[1])}),Ad===0&&(df(Kh,zf.cssClasses.drag),Nd(),yh.cursor&&(Id.style.cursor="",Id.removeEventListener("selectstart",rf))),zf.events.smoothSteps&&(Ch.handleNumbers.forEach(function(Ph){Gd(Ph,Wh[Ph],!0,!0,!1,!1)}),Ch.handleNumbers.forEach(function(Ph){gd("update",Ph)})),Ch.handleNumbers.forEach(function(Ph){gd("change",Ph),gd("set",Ph),gd("end",Ph)})}function ih(yh,Ch){var Ph,zh,td,dd;Ch.handleNumbers.some(ep)||(Ch.handleNumbers.length===1&&(dd=Uh[Ch.handleNumbers[0]].children[0],Ad+=1,ff(dd,zf.cssClasses.active)),yh.stopPropagation(),zh=hp(Zh.move,ld,sp,{target:yh.target,handle:dd,connect:Ch.connect,listeners:Ph=[],startCalcPoint:yh.calcPoint,baseSize:Op(),pageOffset:yh.pageOffset,handleNumbers:Ch.handleNumbers,buttonsProperty:yh.buttons,locations:Wh.slice()}),td=hp(Zh.end,ld,Hp,{target:yh.target,handle:dd,listeners:Ph,doNotReject:!0,handleNumbers:Ch.handleNumbers}),dd=hp("mouseout",ld,ip,{target:yh.target,handle:dd,listeners:Ph,doNotReject:!0,handleNumbers:Ch.handleNumbers}),Ph.push.apply(Ph,zh.concat(td,dd)),yh.cursor&&(Id.style.cursor=getComputedStyle(yh.target).cursor,1<Uh.length&&ff(Kh,zf.cssClasses.drag),Id.addEventListener("selectstart",rf,!1)),Ch.handleNumbers.forEach(function(Sh){gd("start",Sh)}))}function lh(yh){yh.stopPropagation();var Ch,Ph,zh,td=Hh(yh.calcPoint),dd=(Ch=td,zh=!(Ph=100),Uh.forEach(function(Sh,Dh){var Lh,Yh;ep(Dh)||(Lh=Wh[Dh],((Yh=Math.abs(Lh-Ch))<Ph||Yh<=Ph&&Lh<Ch||Yh===100&&Ph===100)&&(zh=Dh,Ph=Yh))}),zh);dd!==!1&&(zf.events.snap||af(Kh,zf.cssClasses.tap,zf.animationDuration),Gd(dd,td,!0,!0),Nd(),gd("slide",dd,!0),gd("update",dd,!0),zf.events.snap?ih(yh,{handleNumbers:[dd]}):(gd("change",dd,!0),gd("set",dd,!0)))}function vh(Ch){var Ch=Hh(Ch.calcPoint),Ch=Jh.getStep(Ch),Ph=Jh.fromStepping(Ch);Object.keys(ad).forEach(function(zh){zh.split(".")[0]==="hover"&&ad[zh].forEach(function(td){td.call(vp,Ph)})})}function $h(yh,Ch){ad[yh]=ad[yh]||[],ad[yh].push(Ch),yh.split(".")[0]==="update"&&Uh.forEach(function(Ph,zh){gd("update",zh)})}function ed(yh){var Ch=yh&&yh.split(".")[0],Ph=Ch?yh.substring(Ch.length):yh;Object.keys(ad).forEach(function(zh){var td=zh.split(".")[0],dd=zh.substring(td.length);Ch&&Ch!==td||Ph&&Ph!==dd||((td=dd)!==Cf.aria&&td!==Cf.tooltips||Ph===dd)&&delete ad[zh]})}function gd(yh,Ch,Ph){Object.keys(ad).forEach(function(zh){var td=zh.split(".")[0];yh===td&&ad[zh].forEach(function(dd){dd.call(vp,xh.map(zf.format.to),Ch,xh.slice(),Ph||!1,Wh.slice(),vp)})})}function od(yh,Ch,Ph,zh,td,dd,Sh){var Dh;return 1<Uh.length&&!zf.events.unconstrained&&(zh&&0<Ch&&(Dh=Jh.getAbsoluteDistance(yh[Ch-1],zf.margin,!1),Ph=Math.max(Ph,Dh)),td&&Ch<Uh.length-1&&(Dh=Jh.getAbsoluteDistance(yh[Ch+1],zf.margin,!0),Ph=Math.min(Ph,Dh))),1<Uh.length&&zf.limit&&(zh&&0<Ch&&(Dh=Jh.getAbsoluteDistance(yh[Ch-1],zf.limit,!1),Ph=Math.min(Ph,Dh)),td&&Ch<Uh.length-1&&(Dh=Jh.getAbsoluteDistance(yh[Ch+1],zf.limit,!0),Ph=Math.max(Ph,Dh))),zf.padding&&(Ch===0&&(Dh=Jh.getAbsoluteDistance(0,zf.padding[0],!1),Ph=Math.max(Ph,Dh)),Ch===Uh.length-1&&(Dh=Jh.getAbsoluteDistance(100,zf.padding[1],!0),Ph=Math.min(Ph,Dh))),!((Ph=lf(Ph=Sh?Ph:Jh.getStep(Ph)))===yh[Ch]&&!dd)&&Ph}function ud(yh,Ch){var Ph=zf.ort;return(Ph?Ch:yh)+", "+(Ph?yh:Ch)}function Bd(yh,Ch,Ph,zh,td){var dd=Ph.slice(),Sh=zh[0],Dh=zf.events.smoothSteps,Lh=[!yh,yh],Yh=[yh,!yh];zh=zh.slice(),yh&&zh.reverse(),1<zh.length?zh.forEach(function(Cd,zd){zd=od(dd,Cd,dd[Cd]+Ch,Lh[zd],Yh[zd],!1,Dh),zd===!1?Ch=0:(Ch=zd-dd[Cd],dd[Cd]=zd)}):Lh=Yh=[!0];var Md=!1;zh.forEach(function(Cd,zd){Md=Gd(Cd,Ph[Cd]+Ch,Lh[zd],Yh[zd],!1,Dh)||Md}),Md&&(zh.forEach(function(Cd){gd("update",Cd),gd("slide",Cd)}),td!=null&&gd("drag",Sh))}function kd(yh,Ch){return zf.dir?100-yh-Ch:yh}function Nd(){nd.forEach(function(yh){var Ch=50<Wh[yh]?-1:1,Ch=3+(Uh.length+Ch*yh);Uh[yh].style.zIndex=String(Ch)})}function Gd(yh,Ch,Ph,zh,td,dd){return(Ch=td?Ch:od(Wh,yh,Ch,Ph,zh,!1,dd))!==!1&&(Ch=Ch,Wh[yh=yh]=Ch,xh[yh]=Jh.fromStepping(Ch),Ch="translate("+ud(kd(Ch,0)-$d+"%","0")+")",Uh[yh].style[zf.transformRule]=Ch,ap(yh),ap(yh+1),!0)}function ap(yh){var Ch,Ph;jh[yh]&&(Ph=100,Ch="translate("+ud(kd(Ch=(Ch=0)!==yh?Wh[yh-1]:Ch,Ph=(Ph=yh!==jh.length-1?Wh[yh]:Ph)-Ch)+"%","0")+")",Ph="scale("+ud(Ph/100,"1")+")",jh[yh].style[zf.transformRule]=Ch+" "+Ph)}function rd(yh,Ch){return yh===null||yh===!1||yh===void 0?Wh[Ch]:(typeof yh=="number"&&(yh=String(yh)),(yh=(yh=zf.format.from(yh))!==!1?Jh.toStepping(yh):yh)===!1||isNaN(yh)?Wh[Ch]:yh)}function sd(td,Ch,Ph){var zh=cf(td),td=Wh[0]===void 0;Ch=Ch===void 0||Ch,zf.animate&&!td&&af(Kh,zf.cssClasses.tap,zf.animationDuration),nd.forEach(function(Dh){Gd(Dh,rd(zh[Dh],Dh),!0,!1,Ph)});var dd,Sh=nd.length===1?0:1;for(td&&Jh.hasNoSize()&&(Ph=!0,Wh[0]=0,1<nd.length&&(dd=100/(nd.length-1),nd.forEach(function(Dh){Wh[Dh]=Dh*dd})));Sh<nd.length;++Sh)nd.forEach(function(Dh){Gd(Dh,Wh[Dh],!0,!0,Ph)});Nd(),nd.forEach(function(Dh){gd("update",Dh),zh[Dh]!==null&&Ch&&gd("set",Dh)})}function Ed(yh){return(yh=yh===void 0?!1:yh)?xh.length===1?xh[0]:xh.slice(0):(yh=xh.map(zf.format.to),yh.length===1?yh[0]:yh)}function Dd(dd){var Ch=Wh[dd],Ph=Jh.getNearbySteps(Ch),zh=xh[dd],td=Ph.thisStep.step,dd=null;return zf.snap?[zh-Ph.stepBefore.startValue||null,Ph.stepAfter.startValue-zh||null]:(td!==!1&&zh+td>Ph.stepAfter.startValue&&(td=Ph.stepAfter.startValue-zh),dd=zh>Ph.thisStep.startValue?Ph.thisStep.step:Ph.stepBefore.step!==!1&&zh-Ph.stepBefore.highestStep,Ch===100?td=null:Ch===0&&(dd=null),Ch=Jh.countStepDecimals(),td!==null&&td!==!1&&(td=Number(td.toFixed(Ch))),[dd=dd!==null&&dd!==!1?Number(dd.toFixed(Ch)):dd,td])}ff(qf=Kh,zf.cssClasses.target),zf.dir===0?ff(qf,zf.cssClasses.ltr):ff(qf,zf.cssClasses.rtl),zf.ort===0?ff(qf,zf.cssClasses.horizontal):ff(qf,zf.cssClasses.vertical),ff(qf,getComputedStyle(qf).direction==="rtl"?zf.cssClasses.textDirectionRtl:zf.cssClasses.textDirectionLtr),Fh=yd(qf,zf.cssClasses.base),function(yh,Ch){var Ph=yd(Ch,zf.cssClasses.connects);Uh=[],(jh=[]).push(jd(Ph,yh[0]));for(var zh=0;zh<zf.handles;zh++)Uh.push(Zd(Ch,zh)),nd[zh]=zh,jh.push(jd(Ph,yh[zh+1]))}(zf.connect,Fh),(pd=zf.events).fixed||Uh.forEach(function(yh,Ch){hp(Zh.start,yh.children[0],ih,{handleNumbers:[Ch]})}),pd.tap&&hp(Zh.start,Fh,lh,{}),pd.hover&&hp(Zh.move,Fh,vh,{hover:!0}),pd.drag&&jh.forEach(function(yh,Ch){var Ph,zh,td,dd,Sh;yh!==!1&&Ch!==0&&Ch!==jh.length-1&&(Ph=Uh[Ch-1],zh=Uh[Ch],td=[yh],dd=[Ph,zh],Sh=[Ch-1,Ch],ff(yh,zf.cssClasses.draggable),pd.fixed&&(td.push(Ph.children[0]),td.push(zh.children[0])),pd.dragAll&&(dd=Uh,Sh=nd),td.forEach(function(Dh){hp(Zh.start,Dh,ih,{handles:dd,handleNumbers:Sh,connect:yh})}))}),sd(zf.start),zf.pips&&Dp(zf.pips),zf.tooltips&&Mp(),ed("update"+Cf.aria),$h("update"+Cf.aria,function(yh,Ch,Ph,zh,td){nd.forEach(function(Dh){var Sh=Uh[Dh],Lh=od(Wh,Dh,0,!0,!0,!0),Yh=od(Wh,Dh,100,!0,!0,!0),Md=td[Dh],Dh=String(zf.ariaFormat.to(Ph[Dh])),Lh=Jh.fromStepping(Lh).toFixed(1),Yh=Jh.fromStepping(Yh).toFixed(1),Md=Jh.fromStepping(Md).toFixed(1);Sh.children[0].setAttribute("aria-valuemin",Lh),Sh.children[0].setAttribute("aria-valuemax",Yh),Sh.children[0].setAttribute("aria-valuenow",Md),Sh.children[0].setAttribute("aria-valuetext",Dh)})});var vp={destroy:function(){for(ed(Cf.aria),ed(Cf.tooltips),Object.keys(zf.cssClasses).forEach(function(yh){df(Kh,zf.cssClasses[yh])});Kh.firstChild;)Kh.removeChild(Kh.firstChild);delete Kh.noUiSlider},steps:function(){return nd.map(Dd)},on:$h,off:ed,get:Ed,set:sd,setHandle:function(yh,Ch,Ph,zh){if(!(0<=(yh=Number(yh))&&yh<nd.length))throw new Error("noUiSlider: invalid handle number, got: "+yh);Gd(yh,rd(Ch,yh),!0,!0,zh),gd("update",yh),Ph&&gd("set",yh)},reset:function(yh){sd(zf.start,yh)},disable:function(yh){yh!=null?(Uh[yh].setAttribute("disabled",""),Uh[yh].handle.removeAttribute("tabindex")):(Kh.setAttribute("disabled",""),Uh.forEach(function(Ch){Ch.handle.removeAttribute("tabindex")}))},enable:function(yh){yh!=null?(Uh[yh].removeAttribute("disabled"),Uh[yh].handle.setAttribute("tabindex","0")):(Kh.removeAttribute("disabled"),Uh.forEach(function(Ch){Ch.removeAttribute("disabled"),Ch.handle.setAttribute("tabindex","0")}))},__moveHandles:function(yh,Ch,Ph){Bd(yh,Ch,Wh,Ph)},options:Th,updateOptions:function(yh,Ch){var Ph=Ed(),zh=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];zh.forEach(function(dd){yh[dd]!==void 0&&(Th[dd]=yh[dd])});var td=_h(Th);zh.forEach(function(dd){yh[dd]!==void 0&&(zf[dd]=td[dd])}),Jh=td.spectrum,zf.margin=td.margin,zf.limit=td.limit,zf.padding=td.padding,zf.pips?Dp(zf.pips):Ep(),(zf.tooltips?Mp:bp)(),Wh=[],sd(nf(yh.start)?yh.start:Ph,Ch)},target:Kh,removePips:Ep,removeTooltips:bp,getPositions:function(){return Wh.slice()},getTooltips:function(){return cd},getOrigins:function(){return Uh},pips:Dp};return vp}function oh(qf,zf){if(!qf||!qf.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+qf);if(qf.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");return zf=wh(qf,_h(zf),zf),qf.noUiSlider=zf}var gh={__spectrum:Gf,cssClasses:Lf,create:oh};Qc.create=oh,Qc.cssClasses=Lf,Qc.default=gh,Object.defineProperty(Qc,"__esModule",{value:!0})});(function(Qc){function ef(tf,nf,rf){var sf=this,af=Qc.extend({size:200,roll:0,pitch:0,turn:0,heading:0,vario:0,airspeed:0,altitude:0,pressure:1e3,showBox:!0,img_directory:"img/"},rf),lf={pitch_bound:30,vario_bound:1.95,airspeed_bound_l:0,airspeed_bound_h:160};tf.each(function(){switch(nf){case"heading":Qc(this).html('<div class="instrument heading"><img src="'+af.img_directory+'fi_box.svg" class="background box" alt="" /><div class="heading box"><img src="'+af.img_directory+'heading_yaw.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+af.img_directory+'heading_mechanics.svg" class="box" alt="" /><img src="'+af.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>'),ff(af.heading);break;case"variometer":Qc(this).html('<div class="instrument vario"><img src="'+af.img_directory+'fi_box.svg" class="background box" alt="" /><img src="'+af.img_directory+'vertical_mechanics.svg" class="box" alt="" /><div class="vario box"><img src="'+af.img_directory+'fi_needle.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+af.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>'),gf(af.vario);break;case"turn_coordinator":Qc(this).html('<div class="instrument turn_coordinator"><img src="'+af.img_directory+'fi_box.svg" class="background box" alt="" /><img src="'+af.img_directory+'turn_coordinator.svg" class="box" alt="" /><div class="turn box"><img src="'+af.img_directory+'fi_tc_airplane.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+af.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>'),df(af.turn);break;case"airspeed":Qc(this).html('<div class="instrument airspeed"><img src="'+af.img_directory+'fi_box.svg" class="background box" alt="" /><img src="'+af.img_directory+'speed_mechanics.svg" class="box" alt="" /><div class="speed box"><img src="'+af.img_directory+'fi_needle.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+af.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>'),_f(af.airspeed);break;case"altimeter":Qc(this).html('<div class="instrument altimeter"><img src="'+af.img_directory+'fi_box.svg" class="background box" alt="" /><div class="pressure box"><img src="'+af.img_directory+'altitude_pressure.svg" class="box" alt="" /></div><img src="'+af.img_directory+'altitude_ticks.svg" class="box" alt="" /><div class="needleSmall box"><img src="'+af.img_directory+'fi_needle_small.svg" class="box" alt="" /></div><div class="needle box"><img src="'+af.img_directory+'fi_needle.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+af.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>'),xf(af.altitude),Af(af.pressure);break;default:Qc(this).html('<div class="instrument attitude"><img src="'+af.img_directory+'fi_box.svg" class="background box" alt="" /><div class="roll box"><img src="'+af.img_directory+'horizon_back.svg" class="box" alt="" /><div class="pitch box"><img src="'+af.img_directory+'horizon_ball.svg" class="box" alt="" /></div><img src="'+af.img_directory+'horizon_circle.svg" class="box" alt="" /></div><div class="mechanics box"><img src="'+af.img_directory+'horizon_mechanics.svg" class="box" alt="" /><img src="'+af.img_directory+'fi_circle.svg" class="box" alt="" /></div></div>'),cf(af.roll),uf(af.pitch)}Qc(this).find("div.instrument").css({height:af.size,width:af.size}),Qc(this).find("div.instrument img.box.background").toggle(af.showBox)});function cf(Bf){tf.each(function(){Qc(this).find("div.instrument.attitude div.roll").css("transform","rotate("+Bf+"deg)")})}function uf(Bf){Bf>lf.pitch_bound?Bf=lf.pitch_bound:Bf<-lf.pitch_bound&&(Bf=-lf.pitch_bound),tf.each(function(){Qc(this).find("div.instrument.attitude div.roll div.pitch").css("top",Bf*.7+"%")})}function ff(Bf){tf.each(function(){Qc(this).find("div.instrument.heading div.heading").css("transform","rotate("+-Bf+"deg)")})}function df(Bf){tf.each(function(){Qc(this).find("div.instrument.turn_coordinator div.turn").css("transform","rotate("+Bf+"deg)")})}function gf(Bf){Bf>lf.vario_bound?Bf=lf.vario_bound:Bf<-lf.vario_bound&&(Bf=-lf.vario_bound),Bf=Bf*90,tf.each(function(){Qc(this).find("div.instrument.vario div.vario").css("transform","rotate("+Bf+"deg)")})}function _f(Bf){Bf>lf.airspeed_bound_h?Bf=lf.airspeed_bound_h:Bf<lf.airspeed_bound_l&&(Bf=lf.airspeed_bound_l),Bf=90+Bf*2,tf.each(function(){Qc(this).find("div.instrument.airspeed div.speed").css("transform","rotate("+Bf+"deg)")})}function xf(Bf){var Vf=90+Bf%1e3*360/1e3,Lf=Bf/1e4*360;tf.each(function(){Qc(this).find("div.instrument.altimeter div.needle").css("transform","rotate("+Vf+"deg)"),Qc(this).find("div.instrument.altimeter div.needleSmall").css("transform","rotate("+Lf+"deg)")})}function Af(Bf){Bf=2*Bf-1980,tf.each(function(){Qc(this).find("div.instrument.altimeter div.pressure").css("transform","rotate("+Bf+"deg)")})}function Df(Bf){tf.each(function(){Qc(this).find("div.instrument").css({height:Bf,width:Bf})})}function Of(){tf.each(function(){Qc(this).find("img.box.background").show()})}function Gf(){tf.each(function(){Qc(this).find("img.box.background").hide()})}return this.setRoll=function(Bf){cf(Bf)},this.setPitch=function(Bf){uf(Bf)},this.setHeading=function(Bf){ff(Bf)},this.setTurn=function(Bf){df(Bf)},this.setVario=function(Bf){gf(Bf)},this.setAirSpeed=function(Bf){_f(Bf)},this.setAltitude=function(Bf){xf(Bf)},this.setPressure=function(Bf){Af(Bf)},this.resize=function(Bf){Df(Bf)},this.showBox=function(){Of()},this.hideBox=function(){Gf()},sf}Qc.flightIndicator=function(tf,nf,rf){var sf=new ef(Qc(tf),nf,rf);return sf},Qc.fn.flightIndicator=function(tf,nf,rf){return this.each(function(){Qc.flightIndicator(this,nf,rf)})}})(jQuery);select2(jQuery);const jBox_min="",nouislider_min="",flightindicators="",theme="",main="",static_tab="",landing="",setup="",help="",ports="",configuration="",pid_tuning="",receiver="",servos="",gps="",motors="",led_strip="",sensors="",cli="",presets="",PresetTitlePanel="",PresetsDetailedDialog="",SourcesDialog="",SourcePanel="",logging="",onboard_logging="",firmware_flasher="",adjustments="",auxiliary="",failsafe="",osd$2="",vtx="",power="",transponder="",privacy_policy="",options="",fonts="",style_lists="",switchery_min="",switchery_custom="",all="",Styles$1="",select2_custom="",select2_min="",multipleSelect_min="",Styles="",darkTheme="",scriptRel="modulepreload",assetsURL=function(Qc){return"/"+Qc},seen={},__vitePreload=function(ef,tf,nf){if(!tf||tf.length===0)return ef();const rf=document.getElementsByTagName("link");return Promise.all(tf.map(sf=>{if(sf=assetsURL(sf),sf in seen)return;seen[sf]=!0;const af=sf.endsWith(".css"),lf=af?'[rel="stylesheet"]':"";if(!!nf)for(let ff=rf.length-1;ff>=0;ff--){const df=rf[ff];if(df.href===sf&&(!af||df.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${sf}"]${lf}`))return;const uf=document.createElement("link");if(uf.rel=af?"stylesheet":scriptRel,af||(uf.as="script",uf.crossOrigin=""),uf.href=sf,document.head.appendChild(uf),af)return new Promise((ff,df)=>{uf.addEventListener("load",ff),uf.addEventListener("error",()=>df(new Error(`Unable to preload CSS for ${sf}`)))})})).then(()=>ef()).catch(sf=>{const af=new Event("vite:preloadError",{cancelable:!0});if(af.payload=sf,window.dispatchEvent(af),!af.defaultPrevented)throw sf})};var jBox_all_min={exports:{}},jquery={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */var hasRequiredJquery;function requireJquery(){return hasRequiredJquery||(hasRequiredJquery=1,function(Qc){(function(ef,tf){Qc.exports=ef.document?tf(ef,!0):function(nf){if(!nf.document)throw new Error("jQuery requires a window with a document");return tf(nf)}})(typeof window<"u"?window:commonjsGlobal,function(ef,tf){var nf=[],rf=Object.getPrototypeOf,sf=nf.slice,af=nf.flat?function(bf){return nf.flat.call(bf)}:function(bf){return nf.concat.apply([],bf)},lf=nf.push,cf=nf.indexOf,uf={},ff=uf.toString,df=uf.hasOwnProperty,gf=df.toString,_f=gf.call(Object),xf={},Af=function(Mf){return typeof Mf=="function"&&typeof Mf.nodeType!="number"&&typeof Mf.item!="function"},Df=function(Mf){return Mf!=null&&Mf===Mf.window},Of=ef.document,Gf={type:!0,src:!0,nonce:!0,noModule:!0};function Bf(bf,Mf,Rf){Rf=Rf||Of;var Pf,Xf,mf=Rf.createElement("script");if(mf.text=bf,Mf)for(Pf in Gf)Xf=Mf[Pf]||Mf.getAttribute&&Mf.getAttribute(Pf),Xf&&mf.setAttribute(Pf,Xf);Rf.head.appendChild(mf).parentNode.removeChild(mf)}function Vf(bf){return bf==null?bf+"":typeof bf=="object"||typeof bf=="function"?uf[ff.call(bf)]||"object":typeof bf}var Lf="3.6.3",Cf=function(bf,Mf){return new Cf.fn.init(bf,Mf)};Cf.fn=Cf.prototype={jquery:Lf,constructor:Cf,length:0,toArray:function(){return sf.call(this)},get:function(bf){return bf==null?sf.call(this):bf<0?this[bf+this.length]:this[bf]},pushStack:function(bf){var Mf=Cf.merge(this.constructor(),bf);return Mf.prevObject=this,Mf},each:function(bf){return Cf.each(this,bf)},map:function(bf){return this.pushStack(Cf.map(this,function(Mf,Rf){return bf.call(Mf,Rf,Mf)}))},slice:function(){return this.pushStack(sf.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Cf.grep(this,function(bf,Mf){return(Mf+1)%2}))},odd:function(){return this.pushStack(Cf.grep(this,function(bf,Mf){return Mf%2}))},eq:function(bf){var Mf=this.length,Rf=+bf+(bf<0?Mf:0);return this.pushStack(Rf>=0&&Rf<Mf?[this[Rf]]:[])},end:function(){return this.prevObject||this.constructor()},push:lf,sort:nf.sort,splice:nf.splice},Cf.extend=Cf.fn.extend=function(){var bf,Mf,Rf,Pf,Xf,mf,yf=arguments[0]||{},wf=1,If=arguments.length,Nf=!1;for(typeof yf=="boolean"&&(Nf=yf,yf=arguments[wf]||{},wf++),typeof yf!="object"&&!Af(yf)&&(yf={}),wf===If&&(yf=this,wf--);wf<If;wf++)if((bf=arguments[wf])!=null)for(Mf in bf)Pf=bf[Mf],!(Mf==="__proto__"||yf===Pf)&&(Nf&&Pf&&(Cf.isPlainObject(Pf)||(Xf=Array.isArray(Pf)))?(Rf=yf[Mf],Xf&&!Array.isArray(Rf)?mf=[]:!Xf&&!Cf.isPlainObject(Rf)?mf={}:mf=Rf,Xf=!1,yf[Mf]=Cf.extend(Nf,mf,Pf)):Pf!==void 0&&(yf[Mf]=Pf));return yf},Cf.extend({expando:"jQuery"+(Lf+Math.random()).replace(/\D/g,""),isReady:!0,error:function(bf){throw new Error(bf)},noop:function(){},isPlainObject:function(bf){var Mf,Rf;return!bf||ff.call(bf)!=="[object Object]"?!1:(Mf=rf(bf),Mf?(Rf=df.call(Mf,"constructor")&&Mf.constructor,typeof Rf=="function"&&gf.call(Rf)===_f):!0)},isEmptyObject:function(bf){var Mf;for(Mf in bf)return!1;return!0},globalEval:function(bf,Mf,Rf){Bf(bf,{nonce:Mf&&Mf.nonce},Rf)},each:function(bf,Mf){var Rf,Pf=0;if(Tf(bf))for(Rf=bf.length;Pf<Rf&&Mf.call(bf[Pf],Pf,bf[Pf])!==!1;Pf++);else for(Pf in bf)if(Mf.call(bf[Pf],Pf,bf[Pf])===!1)break;return bf},makeArray:function(bf,Mf){var Rf=Mf||[];return bf!=null&&(Tf(Object(bf))?Cf.merge(Rf,typeof bf=="string"?[bf]:bf):lf.call(Rf,bf)),Rf},inArray:function(bf,Mf,Rf){return Mf==null?-1:cf.call(Mf,bf,Rf)},merge:function(bf,Mf){for(var Rf=+Mf.length,Pf=0,Xf=bf.length;Pf<Rf;Pf++)bf[Xf++]=Mf[Pf];return bf.length=Xf,bf},grep:function(bf,Mf,Rf){for(var Pf,Xf=[],mf=0,yf=bf.length,wf=!Rf;mf<yf;mf++)Pf=!Mf(bf[mf],mf),Pf!==wf&&Xf.push(bf[mf]);return Xf},map:function(bf,Mf,Rf){var Pf,Xf,mf=0,yf=[];if(Tf(bf))for(Pf=bf.length;mf<Pf;mf++)Xf=Mf(bf[mf],mf,Rf),Xf!=null&&yf.push(Xf);else for(mf in bf)Xf=Mf(bf[mf],mf,Rf),Xf!=null&&yf.push(Xf);return af(yf)},guid:1,support:xf}),typeof Symbol=="function"&&(Cf.fn[Symbol.iterator]=nf[Symbol.iterator]),Cf.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(bf,Mf){uf["[object "+Mf+"]"]=Mf.toLowerCase()});function Tf(bf){var Mf=!!bf&&"length"in bf&&bf.length,Rf=Vf(bf);return Af(bf)||Df(bf)?!1:Rf==="array"||Mf===0||typeof Mf=="number"&&Mf>0&&Mf-1 in bf}var Yf=function(bf){var Mf,Rf,Pf,Xf,mf,yf,wf,If,Nf,kf,$f,Jf,Zf,ph,Mh,Ih,Oh,Xh,wd,Td="sizzle"+1*new Date,hd=bf.document,op=0,Rd=0,np=c0(),Rp=c0(),Yd=c0(),Cp=c0(),qd=function(nh,fh){return nh===fh&&($f=!0),0},up={}.hasOwnProperty,Sp=[],Kp=Sp.pop,yp=Sp.push,Up=Sp.push,zp=Sp.slice,Np=function(nh,fh){for(var bh=0,Bh=nh.length;bh<Bh;bh++)if(nh[bh]===fh)return bh;return-1},Jp="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Wd="[\\x20\\t\\r\\n\\f]",Qp="(?:\\\\[\\da-fA-F]{1,6}"+Wd+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Zp="\\["+Wd+"*("+Qp+")(?:"+Wd+"*([*^$|!~]?=)"+Wd+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Qp+"))|)"+Wd+"*\\]",Wp=":("+Qp+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Zp+")*)|.*)\\)|)",Q0=new RegExp(Wd+"+","g"),v0=new RegExp("^"+Wd+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Wd+"+$","g"),em=new RegExp("^"+Wd+"*,"+Wd+"*"),lp=new RegExp("^"+Wd+"*([>+~]|"+Wd+")"+Wd+"*"),_0=new RegExp(Wd+"|>"),jp=new RegExp(Wp),l0=new RegExp("^"+Qp+"$"),y0={ID:new RegExp("^#("+Qp+")"),CLASS:new RegExp("^\\.("+Qp+")"),TAG:new RegExp("^("+Qp+"|[*])"),ATTR:new RegExp("^"+Zp),PSEUDO:new RegExp("^"+Wp),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Wd+"*(even|odd|(([+-]|)(\\d*)n|)"+Wd+"*(?:([+-]|)"+Wd+"*(\\d+)|))"+Wd+"*\\)|)","i"),bool:new RegExp("^(?:"+Jp+")$","i"),needsContext:new RegExp("^"+Wd+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Wd+"*((?:-\\d)?\\d*)"+Wd+"*\\)|)(?=[^-]|$)","i")},tm=/HTML$/i,$0=/^(?:input|select|textarea|button)$/i,s0=/^h\d$/i,a0=/^[^{]+\{\s*\[native \w/,i0=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,x0=/[+~]/,kp=new RegExp("\\\\[\\da-fA-F]{1,6}"+Wd+"?|\\\\([^\\r\\n\\f])","g"),Vp=function(nh,fh){var bh="0x"+nh.slice(1)-65536;return fh||(bh<0?String.fromCharCode(bh+65536):String.fromCharCode(bh>>10|55296,bh&1023|56320))},d0=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,b0=function(nh,fh){return fh?nh==="\0"?"":nh.slice(0,-1)+"\\"+nh.charCodeAt(nh.length-1).toString(16)+" ":"\\"+nh},z0=function(){Jf()},E0=_d(function(nh){return nh.disabled===!0&&nh.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Up.apply(Sp=zp.call(hd.childNodes),hd.childNodes),Sp[hd.childNodes.length].nodeType}catch{Up={apply:Sp.length?function(fh,bh){yp.apply(fh,zp.call(bh))}:function(fh,bh){for(var Bh=fh.length,Ah=0;fh[Bh++]=bh[Ah++];);fh.length=Bh-1}}}function cp(nh,fh,bh,Bh){var Ah,Gh,Qh,md,bd,Pd,Fd,Hd=fh&&fh.ownerDocument,tp=fh?fh.nodeType:9;if(bh=bh||[],typeof nh!="string"||!nh||tp!==1&&tp!==9&&tp!==11)return bh;if(!Bh&&(Jf(fh),fh=fh||Zf,Mh)){if(tp!==11&&(bd=i0.exec(nh)))if(Ah=bd[1]){if(tp===9)if(Qh=fh.getElementById(Ah)){if(Qh.id===Ah)return bh.push(Qh),bh}else return bh;else if(Hd&&(Qh=Hd.getElementById(Ah))&&wd(fh,Qh)&&Qh.id===Ah)return bh.push(Qh),bh}else{if(bd[2])return Up.apply(bh,fh.getElementsByTagName(nh)),bh;if((Ah=bd[3])&&Rf.getElementsByClassName&&fh.getElementsByClassName)return Up.apply(bh,fh.getElementsByClassName(Ah)),bh}if(Rf.qsa&&!Cp[nh+" "]&&(!Ih||!Ih.test(nh))&&(tp!==1||fh.nodeName.toLowerCase()!=="object")){if(Fd=nh,Hd=fh,tp===1&&(_0.test(nh)||lp.test(nh))){for(Hd=x0.test(nh)&&fd(fh.parentNode)||fh,(Hd!==fh||!Rf.scope)&&((md=fh.getAttribute("id"))?md=md.replace(d0,b0):fh.setAttribute("id",md=Td)),Pd=yf(nh),Gh=Pd.length;Gh--;)Pd[Gh]=(md?"#"+md:":scope")+" "+Sd(Pd[Gh]);Fd=Pd.join(",")}try{if(Rf.cssSupportsSelector&&!CSS.supports("selector(:is("+Fd+"))"))throw new Error;return Up.apply(bh,Hd.querySelectorAll(Fd)),bh}catch{Cp(nh,!0)}finally{md===Td&&fh.removeAttribute("id")}}}return If(nh.replace(v0,"$1"),fh,bh,Bh)}function c0(){var nh=[];function fh(bh,Bh){return nh.push(bh+" ")>Pf.cacheLength&&delete fh[nh.shift()],fh[bh+" "]=Bh}return fh}function Xp(nh){return nh[Td]=!0,nh}function Pp(nh){var fh=Zf.createElement("fieldset");try{return!!nh(fh)}catch{return!1}finally{fh.parentNode&&fh.parentNode.removeChild(fh),fh=null}}function C0(nh,fh){for(var bh=nh.split("|"),Bh=bh.length;Bh--;)Pf.attrHandle[bh[Bh]]=fh}function ch(nh,fh){var bh=fh&&nh,Bh=bh&&nh.nodeType===1&&fh.nodeType===1&&nh.sourceIndex-fh.sourceIndex;if(Bh)return Bh;if(bh){for(;bh=bh.nextSibling;)if(bh===fh)return-1}return nh?1:-1}function Eh(nh){return function(fh){var bh=fh.nodeName.toLowerCase();return bh==="input"&&fh.type===nh}}function Rh(nh){return function(fh){var bh=fh.nodeName.toLowerCase();return(bh==="input"||bh==="button")&&fh.type===nh}}function Nh(nh){return function(fh){return"form"in fh?fh.parentNode&&fh.disabled===!1?"label"in fh?"label"in fh.parentNode?fh.parentNode.disabled===nh:fh.disabled===nh:fh.isDisabled===nh||fh.isDisabled!==!nh&&E0(fh)===nh:fh.disabled===nh:"label"in fh?fh.disabled===nh:!1}}function Vh(nh){return Xp(function(fh){return fh=+fh,Xp(function(bh,Bh){for(var Ah,Gh=nh([],bh.length,fh),Qh=Gh.length;Qh--;)bh[Ah=Gh[Qh]]&&(bh[Ah]=!(Bh[Ah]=bh[Ah]))})})}function fd(nh){return nh&&typeof nh.getElementsByTagName<"u"&&nh}Rf=cp.support={},mf=cp.isXML=function(nh){var fh=nh&&nh.namespaceURI,bh=nh&&(nh.ownerDocument||nh).documentElement;return!tm.test(fh||bh&&bh.nodeName||"HTML")},Jf=cp.setDocument=function(nh){var fh,bh,Bh=nh?nh.ownerDocument||nh:hd;return Bh==Zf||Bh.nodeType!==9||!Bh.documentElement||(Zf=Bh,ph=Zf.documentElement,Mh=!mf(Zf),hd!=Zf&&(bh=Zf.defaultView)&&bh.top!==bh&&(bh.addEventListener?bh.addEventListener("unload",z0,!1):bh.attachEvent&&bh.attachEvent("onunload",z0)),Rf.scope=Pp(function(Ah){return ph.appendChild(Ah).appendChild(Zf.createElement("div")),typeof Ah.querySelectorAll<"u"&&!Ah.querySelectorAll(":scope fieldset div").length}),Rf.cssSupportsSelector=Pp(function(){return CSS.supports("selector(*)")&&Zf.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),Rf.attributes=Pp(function(Ah){return Ah.className="i",!Ah.getAttribute("className")}),Rf.getElementsByTagName=Pp(function(Ah){return Ah.appendChild(Zf.createComment("")),!Ah.getElementsByTagName("*").length}),Rf.getElementsByClassName=a0.test(Zf.getElementsByClassName),Rf.getById=Pp(function(Ah){return ph.appendChild(Ah).id=Td,!Zf.getElementsByName||!Zf.getElementsByName(Td).length}),Rf.getById?(Pf.filter.ID=function(Ah){var Gh=Ah.replace(kp,Vp);return function(Qh){return Qh.getAttribute("id")===Gh}},Pf.find.ID=function(Ah,Gh){if(typeof Gh.getElementById<"u"&&Mh){var Qh=Gh.getElementById(Ah);return Qh?[Qh]:[]}}):(Pf.filter.ID=function(Ah){var Gh=Ah.replace(kp,Vp);return function(Qh){var md=typeof Qh.getAttributeNode<"u"&&Qh.getAttributeNode("id");return md&&md.value===Gh}},Pf.find.ID=function(Ah,Gh){if(typeof Gh.getElementById<"u"&&Mh){var Qh,md,bd,Pd=Gh.getElementById(Ah);if(Pd){if(Qh=Pd.getAttributeNode("id"),Qh&&Qh.value===Ah)return[Pd];for(bd=Gh.getElementsByName(Ah),md=0;Pd=bd[md++];)if(Qh=Pd.getAttributeNode("id"),Qh&&Qh.value===Ah)return[Pd]}return[]}}),Pf.find.TAG=Rf.getElementsByTagName?function(Ah,Gh){if(typeof Gh.getElementsByTagName<"u")return Gh.getElementsByTagName(Ah);if(Rf.qsa)return Gh.querySelectorAll(Ah)}:function(Ah,Gh){var Qh,md=[],bd=0,Pd=Gh.getElementsByTagName(Ah);if(Ah==="*"){for(;Qh=Pd[bd++];)Qh.nodeType===1&&md.push(Qh);return md}return Pd},Pf.find.CLASS=Rf.getElementsByClassName&&function(Ah,Gh){if(typeof Gh.getElementsByClassName<"u"&&Mh)return Gh.getElementsByClassName(Ah)},Oh=[],Ih=[],(Rf.qsa=a0.test(Zf.querySelectorAll))&&(Pp(function(Ah){var Gh;ph.appendChild(Ah).innerHTML="<a id='"+Td+"'></a><select id='"+Td+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ah.querySelectorAll("[msallowcapture^='']").length&&Ih.push("[*^$]="+Wd+`*(?:''|"")`),Ah.querySelectorAll("[selected]").length||Ih.push("\\["+Wd+"*(?:value|"+Jp+")"),Ah.querySelectorAll("[id~="+Td+"-]").length||Ih.push("~="),Gh=Zf.createElement("input"),Gh.setAttribute("name",""),Ah.appendChild(Gh),Ah.querySelectorAll("[name='']").length||Ih.push("\\["+Wd+"*name"+Wd+"*="+Wd+`*(?:''|"")`),Ah.querySelectorAll(":checked").length||Ih.push(":checked"),Ah.querySelectorAll("a#"+Td+"+*").length||Ih.push(".#.+[+~]"),Ah.querySelectorAll("\\\f"),Ih.push("[\\r\\n\\f]")}),Pp(function(Ah){Ah.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Gh=Zf.createElement("input");Gh.setAttribute("type","hidden"),Ah.appendChild(Gh).setAttribute("name","D"),Ah.querySelectorAll("[name=d]").length&&Ih.push("name"+Wd+"*[*^$|!~]?="),Ah.querySelectorAll(":enabled").length!==2&&Ih.push(":enabled",":disabled"),ph.appendChild(Ah).disabled=!0,Ah.querySelectorAll(":disabled").length!==2&&Ih.push(":enabled",":disabled"),Ah.querySelectorAll("*,:x"),Ih.push(",.*:")})),(Rf.matchesSelector=a0.test(Xh=ph.matches||ph.webkitMatchesSelector||ph.mozMatchesSelector||ph.oMatchesSelector||ph.msMatchesSelector))&&Pp(function(Ah){Rf.disconnectedMatch=Xh.call(Ah,"*"),Xh.call(Ah,"[s!='']:x"),Oh.push("!=",Wp)}),Rf.cssSupportsSelector||Ih.push(":has"),Ih=Ih.length&&new RegExp(Ih.join("|")),Oh=Oh.length&&new RegExp(Oh.join("|")),fh=a0.test(ph.compareDocumentPosition),wd=fh||a0.test(ph.contains)?function(Ah,Gh){var Qh=Ah.nodeType===9&&Ah.documentElement||Ah,md=Gh&&Gh.parentNode;return Ah===md||!!(md&&md.nodeType===1&&(Qh.contains?Qh.contains(md):Ah.compareDocumentPosition&&Ah.compareDocumentPosition(md)&16))}:function(Ah,Gh){if(Gh){for(;Gh=Gh.parentNode;)if(Gh===Ah)return!0}return!1},qd=fh?function(Ah,Gh){if(Ah===Gh)return $f=!0,0;var Qh=!Ah.compareDocumentPosition-!Gh.compareDocumentPosition;return Qh||(Qh=(Ah.ownerDocument||Ah)==(Gh.ownerDocument||Gh)?Ah.compareDocumentPosition(Gh):1,Qh&1||!Rf.sortDetached&&Gh.compareDocumentPosition(Ah)===Qh?Ah==Zf||Ah.ownerDocument==hd&&wd(hd,Ah)?-1:Gh==Zf||Gh.ownerDocument==hd&&wd(hd,Gh)?1:kf?Np(kf,Ah)-Np(kf,Gh):0:Qh&4?-1:1)}:function(Ah,Gh){if(Ah===Gh)return $f=!0,0;var Qh,md=0,bd=Ah.parentNode,Pd=Gh.parentNode,Fd=[Ah],Hd=[Gh];if(!bd||!Pd)return Ah==Zf?-1:Gh==Zf?1:bd?-1:Pd?1:kf?Np(kf,Ah)-Np(kf,Gh):0;if(bd===Pd)return ch(Ah,Gh);for(Qh=Ah;Qh=Qh.parentNode;)Fd.unshift(Qh);for(Qh=Gh;Qh=Qh.parentNode;)Hd.unshift(Qh);for(;Fd[md]===Hd[md];)md++;return md?ch(Fd[md],Hd[md]):Fd[md]==hd?-1:Hd[md]==hd?1:0}),Zf},cp.matches=function(nh,fh){return cp(nh,null,null,fh)},cp.matchesSelector=function(nh,fh){if(Jf(nh),Rf.matchesSelector&&Mh&&!Cp[fh+" "]&&(!Oh||!Oh.test(fh))&&(!Ih||!Ih.test(fh)))try{var bh=Xh.call(nh,fh);if(bh||Rf.disconnectedMatch||nh.document&&nh.document.nodeType!==11)return bh}catch{Cp(fh,!0)}return cp(fh,Zf,null,[nh]).length>0},cp.contains=function(nh,fh){return(nh.ownerDocument||nh)!=Zf&&Jf(nh),wd(nh,fh)},cp.attr=function(nh,fh){(nh.ownerDocument||nh)!=Zf&&Jf(nh);var bh=Pf.attrHandle[fh.toLowerCase()],Bh=bh&&up.call(Pf.attrHandle,fh.toLowerCase())?bh(nh,fh,!Mh):void 0;return Bh!==void 0?Bh:Rf.attributes||!Mh?nh.getAttribute(fh):(Bh=nh.getAttributeNode(fh))&&Bh.specified?Bh.value:null},cp.escape=function(nh){return(nh+"").replace(d0,b0)},cp.error=function(nh){throw new Error("Syntax error, unrecognized expression: "+nh)},cp.uniqueSort=function(nh){var fh,bh=[],Bh=0,Ah=0;if($f=!Rf.detectDuplicates,kf=!Rf.sortStable&&nh.slice(0),nh.sort(qd),$f){for(;fh=nh[Ah++];)fh===nh[Ah]&&(Bh=bh.push(Ah));for(;Bh--;)nh.splice(bh[Bh],1)}return kf=null,nh},Xf=cp.getText=function(nh){var fh,bh="",Bh=0,Ah=nh.nodeType;if(Ah){if(Ah===1||Ah===9||Ah===11){if(typeof nh.textContent=="string")return nh.textContent;for(nh=nh.firstChild;nh;nh=nh.nextSibling)bh+=Xf(nh)}else if(Ah===3||Ah===4)return nh.nodeValue}else for(;fh=nh[Bh++];)bh+=Xf(fh);return bh},Pf=cp.selectors={cacheLength:50,createPseudo:Xp,match:y0,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(nh){return nh[1]=nh[1].replace(kp,Vp),nh[3]=(nh[3]||nh[4]||nh[5]||"").replace(kp,Vp),nh[2]==="~="&&(nh[3]=" "+nh[3]+" "),nh.slice(0,4)},CHILD:function(nh){return nh[1]=nh[1].toLowerCase(),nh[1].slice(0,3)==="nth"?(nh[3]||cp.error(nh[0]),nh[4]=+(nh[4]?nh[5]+(nh[6]||1):2*(nh[3]==="even"||nh[3]==="odd")),nh[5]=+(nh[7]+nh[8]||nh[3]==="odd")):nh[3]&&cp.error(nh[0]),nh},PSEUDO:function(nh){var fh,bh=!nh[6]&&nh[2];return y0.CHILD.test(nh[0])?null:(nh[3]?nh[2]=nh[4]||nh[5]||"":bh&&jp.test(bh)&&(fh=yf(bh,!0))&&(fh=bh.indexOf(")",bh.length-fh)-bh.length)&&(nh[0]=nh[0].slice(0,fh),nh[2]=bh.slice(0,fh)),nh.slice(0,3))}},filter:{TAG:function(nh){var fh=nh.replace(kp,Vp).toLowerCase();return nh==="*"?function(){return!0}:function(bh){return bh.nodeName&&bh.nodeName.toLowerCase()===fh}},CLASS:function(nh){var fh=np[nh+" "];return fh||(fh=new RegExp("(^|"+Wd+")"+nh+"("+Wd+"|$)"))&&np(nh,function(bh){return fh.test(typeof bh.className=="string"&&bh.className||typeof bh.getAttribute<"u"&&bh.getAttribute("class")||"")})},ATTR:function(nh,fh,bh){return function(Bh){var Ah=cp.attr(Bh,nh);return Ah==null?fh==="!=":fh?(Ah+="",fh==="="?Ah===bh:fh==="!="?Ah!==bh:fh==="^="?bh&&Ah.indexOf(bh)===0:fh==="*="?bh&&Ah.indexOf(bh)>-1:fh==="$="?bh&&Ah.slice(-bh.length)===bh:fh==="~="?(" "+Ah.replace(Q0," ")+" ").indexOf(bh)>-1:fh==="|="?Ah===bh||Ah.slice(0,bh.length+1)===bh+"-":!1):!0}},CHILD:function(nh,fh,bh,Bh,Ah){var Gh=nh.slice(0,3)!=="nth",Qh=nh.slice(-4)!=="last",md=fh==="of-type";return Bh===1&&Ah===0?function(bd){return!!bd.parentNode}:function(bd,Pd,Fd){var Hd,tp,mp,Ld,Tp,Lp,Yp=Gh!==Qh?"nextSibling":"previousSibling",_p=bd.parentNode,R0=md&&bd.nodeName.toLowerCase(),N0=!Fd&&!md,qp=!1;if(_p){if(Gh){for(;Yp;){for(Ld=bd;Ld=Ld[Yp];)if(md?Ld.nodeName.toLowerCase()===R0:Ld.nodeType===1)return!1;Lp=Yp=nh==="only"&&!Lp&&"nextSibling"}return!0}if(Lp=[Qh?_p.firstChild:_p.lastChild],Qh&&N0){for(Ld=_p,mp=Ld[Td]||(Ld[Td]={}),tp=mp[Ld.uniqueID]||(mp[Ld.uniqueID]={}),Hd=tp[nh]||[],Tp=Hd[0]===op&&Hd[1],qp=Tp&&Hd[2],Ld=Tp&&_p.childNodes[Tp];Ld=++Tp&&Ld&&Ld[Yp]||(qp=Tp=0)||Lp.pop();)if(Ld.nodeType===1&&++qp&&Ld===bd){tp[nh]=[op,Tp,qp];break}}else if(N0&&(Ld=bd,mp=Ld[Td]||(Ld[Td]={}),tp=mp[Ld.uniqueID]||(mp[Ld.uniqueID]={}),Hd=tp[nh]||[],Tp=Hd[0]===op&&Hd[1],qp=Tp),qp===!1)for(;(Ld=++Tp&&Ld&&Ld[Yp]||(qp=Tp=0)||Lp.pop())&&!((md?Ld.nodeName.toLowerCase()===R0:Ld.nodeType===1)&&++qp&&(N0&&(mp=Ld[Td]||(Ld[Td]={}),tp=mp[Ld.uniqueID]||(mp[Ld.uniqueID]={}),tp[nh]=[op,qp]),Ld===bd)););return qp-=Ah,qp===Bh||qp%Bh===0&&qp/Bh>=0}}},PSEUDO:function(nh,fh){var bh,Bh=Pf.pseudos[nh]||Pf.setFilters[nh.toLowerCase()]||cp.error("unsupported pseudo: "+nh);return Bh[Td]?Bh(fh):Bh.length>1?(bh=[nh,nh,"",fh],Pf.setFilters.hasOwnProperty(nh.toLowerCase())?Xp(function(Ah,Gh){for(var Qh,md=Bh(Ah,fh),bd=md.length;bd--;)Qh=Np(Ah,md[bd]),Ah[Qh]=!(Gh[Qh]=md[bd])}):function(Ah){return Bh(Ah,0,bh)}):Bh}},pseudos:{not:Xp(function(nh){var fh=[],bh=[],Bh=wf(nh.replace(v0,"$1"));return Bh[Td]?Xp(function(Ah,Gh,Qh,md){for(var bd,Pd=Bh(Ah,null,md,[]),Fd=Ah.length;Fd--;)(bd=Pd[Fd])&&(Ah[Fd]=!(Gh[Fd]=bd))}):function(Ah,Gh,Qh){return fh[0]=Ah,Bh(fh,null,Qh,bh),fh[0]=null,!bh.pop()}}),has:Xp(function(nh){return function(fh){return cp(nh,fh).length>0}}),contains:Xp(function(nh){return nh=nh.replace(kp,Vp),function(fh){return(fh.textContent||Xf(fh)).indexOf(nh)>-1}}),lang:Xp(function(nh){return l0.test(nh||"")||cp.error("unsupported lang: "+nh),nh=nh.replace(kp,Vp).toLowerCase(),function(fh){var bh;do if(bh=Mh?fh.lang:fh.getAttribute("xml:lang")||fh.getAttribute("lang"))return bh=bh.toLowerCase(),bh===nh||bh.indexOf(nh+"-")===0;while((fh=fh.parentNode)&&fh.nodeType===1);return!1}}),target:function(nh){var fh=bf.location&&bf.location.hash;return fh&&fh.slice(1)===nh.id},root:function(nh){return nh===ph},focus:function(nh){return nh===Zf.activeElement&&(!Zf.hasFocus||Zf.hasFocus())&&!!(nh.type||nh.href||~nh.tabIndex)},enabled:Nh(!1),disabled:Nh(!0),checked:function(nh){var fh=nh.nodeName.toLowerCase();return fh==="input"&&!!nh.checked||fh==="option"&&!!nh.selected},selected:function(nh){return nh.parentNode&&nh.parentNode.selectedIndex,nh.selected===!0},empty:function(nh){for(nh=nh.firstChild;nh;nh=nh.nextSibling)if(nh.nodeType<6)return!1;return!0},parent:function(nh){return!Pf.pseudos.empty(nh)},header:function(nh){return s0.test(nh.nodeName)},input:function(nh){return $0.test(nh.nodeName)},button:function(nh){var fh=nh.nodeName.toLowerCase();return fh==="input"&&nh.type==="button"||fh==="button"},text:function(nh){var fh;return nh.nodeName.toLowerCase()==="input"&&nh.type==="text"&&((fh=nh.getAttribute("type"))==null||fh.toLowerCase()==="text")},first:Vh(function(){return[0]}),last:Vh(function(nh,fh){return[fh-1]}),eq:Vh(function(nh,fh,bh){return[bh<0?bh+fh:bh]}),even:Vh(function(nh,fh){for(var bh=0;bh<fh;bh+=2)nh.push(bh);return nh}),odd:Vh(function(nh,fh){for(var bh=1;bh<fh;bh+=2)nh.push(bh);return nh}),lt:Vh(function(nh,fh,bh){for(var Bh=bh<0?bh+fh:bh>fh?fh:bh;--Bh>=0;)nh.push(Bh);return nh}),gt:Vh(function(nh,fh,bh){for(var Bh=bh<0?bh+fh:bh;++Bh<fh;)nh.push(Bh);return nh})}},Pf.pseudos.nth=Pf.pseudos.eq;for(Mf in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Pf.pseudos[Mf]=Eh(Mf);for(Mf in{submit:!0,reset:!0})Pf.pseudos[Mf]=Rh(Mf);function xd(){}xd.prototype=Pf.filters=Pf.pseudos,Pf.setFilters=new xd,yf=cp.tokenize=function(nh,fh){var bh,Bh,Ah,Gh,Qh,md,bd,Pd=Rp[nh+" "];if(Pd)return fh?0:Pd.slice(0);for(Qh=nh,md=[],bd=Pf.preFilter;Qh;){(!bh||(Bh=em.exec(Qh)))&&(Bh&&(Qh=Qh.slice(Bh[0].length)||Qh),md.push(Ah=[])),bh=!1,(Bh=lp.exec(Qh))&&(bh=Bh.shift(),Ah.push({value:bh,type:Bh[0].replace(v0," ")}),Qh=Qh.slice(bh.length));for(Gh in Pf.filter)(Bh=y0[Gh].exec(Qh))&&(!bd[Gh]||(Bh=bd[Gh](Bh)))&&(bh=Bh.shift(),Ah.push({value:bh,type:Gh,matches:Bh}),Qh=Qh.slice(bh.length));if(!bh)break}return fh?Qh.length:Qh?cp.error(nh):Rp(nh,md).slice(0)};function Sd(nh){for(var fh=0,bh=nh.length,Bh="";fh<bh;fh++)Bh+=nh[fh].value;return Bh}function _d(nh,fh,bh){var Bh=fh.dir,Ah=fh.next,Gh=Ah||Bh,Qh=bh&&Gh==="parentNode",md=Rd++;return fh.first?function(bd,Pd,Fd){for(;bd=bd[Bh];)if(bd.nodeType===1||Qh)return nh(bd,Pd,Fd);return!1}:function(bd,Pd,Fd){var Hd,tp,mp,Ld=[op,md];if(Fd){for(;bd=bd[Bh];)if((bd.nodeType===1||Qh)&&nh(bd,Pd,Fd))return!0}else for(;bd=bd[Bh];)if(bd.nodeType===1||Qh)if(mp=bd[Td]||(bd[Td]={}),tp=mp[bd.uniqueID]||(mp[bd.uniqueID]={}),Ah&&Ah===bd.nodeName.toLowerCase())bd=bd[Bh]||bd;else{if((Hd=tp[Gh])&&Hd[0]===op&&Hd[1]===md)return Ld[2]=Hd[2];if(tp[Gh]=Ld,Ld[2]=nh(bd,Pd,Fd))return!0}return!1}}function Kd(nh){return nh.length>1?function(fh,bh,Bh){for(var Ah=nh.length;Ah--;)if(!nh[Ah](fh,bh,Bh))return!1;return!0}:nh[0]}function Ud(nh,fh,bh){for(var Bh=0,Ah=fh.length;Bh<Ah;Bh++)cp(nh,fh[Bh],bh);return bh}function Vd(nh,fh,bh,Bh,Ah){for(var Gh,Qh=[],md=0,bd=nh.length,Pd=fh!=null;md<bd;md++)(Gh=nh[md])&&(!bh||bh(Gh,Bh,Ah))&&(Qh.push(Gh),Pd&&fh.push(md));return Qh}function Jd(nh,fh,bh,Bh,Ah,Gh){return Bh&&!Bh[Td]&&(Bh=Jd(Bh)),Ah&&!Ah[Td]&&(Ah=Jd(Ah,Gh)),Xp(function(Qh,md,bd,Pd){var Fd,Hd,tp,mp=[],Ld=[],Tp=md.length,Lp=Qh||Ud(fh||"*",bd.nodeType?[bd]:bd,[]),Yp=nh&&(Qh||!fh)?Vd(Lp,mp,nh,bd,Pd):Lp,_p=bh?Ah||(Qh?nh:Tp||Bh)?[]:md:Yp;if(bh&&bh(Yp,_p,bd,Pd),Bh)for(Fd=Vd(_p,Ld),Bh(Fd,[],bd,Pd),Hd=Fd.length;Hd--;)(tp=Fd[Hd])&&(_p[Ld[Hd]]=!(Yp[Ld[Hd]]=tp));if(Qh){if(Ah||nh){if(Ah){for(Fd=[],Hd=_p.length;Hd--;)(tp=_p[Hd])&&Fd.push(Yp[Hd]=tp);Ah(null,_p=[],Fd,Pd)}for(Hd=_p.length;Hd--;)(tp=_p[Hd])&&(Fd=Ah?Np(Qh,tp):mp[Hd])>-1&&(Qh[Fd]=!(md[Fd]=tp))}}else _p=Vd(_p===md?_p.splice(Tp,_p.length):_p),Ah?Ah(null,md,_p,Pd):Up.apply(md,_p)})}function Od(nh){for(var fh,bh,Bh,Ah=nh.length,Gh=Pf.relative[nh[0].type],Qh=Gh||Pf.relative[" "],md=Gh?1:0,bd=_d(function(Hd){return Hd===fh},Qh,!0),Pd=_d(function(Hd){return Np(fh,Hd)>-1},Qh,!0),Fd=[function(Hd,tp,mp){var Ld=!Gh&&(mp||tp!==Nf)||((fh=tp).nodeType?bd(Hd,tp,mp):Pd(Hd,tp,mp));return fh=null,Ld}];md<Ah;md++)if(bh=Pf.relative[nh[md].type])Fd=[_d(Kd(Fd),bh)];else{if(bh=Pf.filter[nh[md].type].apply(null,nh[md].matches),bh[Td]){for(Bh=++md;Bh<Ah&&!Pf.relative[nh[Bh].type];Bh++);return Jd(md>1&&Kd(Fd),md>1&&Sd(nh.slice(0,md-1).concat({value:nh[md-2].type===" "?"*":""})).replace(v0,"$1"),bh,md<Bh&&Od(nh.slice(md,Bh)),Bh<Ah&&Od(nh=nh.slice(Bh)),Bh<Ah&&Sd(nh))}Fd.push(bh)}return Kd(Fd)}function dp(nh,fh){var bh=fh.length>0,Bh=nh.length>0,Ah=function(Gh,Qh,md,bd,Pd){var Fd,Hd,tp,mp=0,Ld="0",Tp=Gh&&[],Lp=[],Yp=Nf,_p=Gh||Bh&&Pf.find.TAG("*",Pd),R0=op+=Yp==null?1:Math.random()||.1,N0=_p.length;for(Pd&&(Nf=Qh==Zf||Qh||Pd);Ld!==N0&&(Fd=_p[Ld])!=null;Ld++){if(Bh&&Fd){for(Hd=0,!Qh&&Fd.ownerDocument!=Zf&&(Jf(Fd),md=!Mh);tp=nh[Hd++];)if(tp(Fd,Qh||Zf,md)){bd.push(Fd);break}Pd&&(op=R0)}bh&&((Fd=!tp&&Fd)&&mp--,Gh&&Tp.push(Fd))}if(mp+=Ld,bh&&Ld!==mp){for(Hd=0;tp=fh[Hd++];)tp(Tp,Lp,Qh,md);if(Gh){if(mp>0)for(;Ld--;)Tp[Ld]||Lp[Ld]||(Lp[Ld]=Kp.call(bd));Lp=Vd(Lp)}Up.apply(bd,Lp),Pd&&!Gh&&Lp.length>0&&mp+fh.length>1&&cp.uniqueSort(bd)}return Pd&&(op=R0,Nf=Yp),Tp};return bh?Xp(Ah):Ah}return wf=cp.compile=function(nh,fh){var bh,Bh=[],Ah=[],Gh=Yd[nh+" "];if(!Gh){for(fh||(fh=yf(nh)),bh=fh.length;bh--;)Gh=Od(fh[bh]),Gh[Td]?Bh.push(Gh):Ah.push(Gh);Gh=Yd(nh,dp(Ah,Bh)),Gh.selector=nh}return Gh},If=cp.select=function(nh,fh,bh,Bh){var Ah,Gh,Qh,md,bd,Pd=typeof nh=="function"&&nh,Fd=!Bh&&yf(nh=Pd.selector||nh);if(bh=bh||[],Fd.length===1){if(Gh=Fd[0]=Fd[0].slice(0),Gh.length>2&&(Qh=Gh[0]).type==="ID"&&fh.nodeType===9&&Mh&&Pf.relative[Gh[1].type]){if(fh=(Pf.find.ID(Qh.matches[0].replace(kp,Vp),fh)||[])[0],fh)Pd&&(fh=fh.parentNode);else return bh;nh=nh.slice(Gh.shift().value.length)}for(Ah=y0.needsContext.test(nh)?0:Gh.length;Ah--&&(Qh=Gh[Ah],!Pf.relative[md=Qh.type]);)if((bd=Pf.find[md])&&(Bh=bd(Qh.matches[0].replace(kp,Vp),x0.test(Gh[0].type)&&fd(fh.parentNode)||fh))){if(Gh.splice(Ah,1),nh=Bh.length&&Sd(Gh),!nh)return Up.apply(bh,Bh),bh;break}}return(Pd||wf(nh,Fd))(Bh,fh,!Mh,bh,!fh||x0.test(nh)&&fd(fh.parentNode)||fh),bh},Rf.sortStable=Td.split("").sort(qd).join("")===Td,Rf.detectDuplicates=!!$f,Jf(),Rf.sortDetached=Pp(function(nh){return nh.compareDocumentPosition(Zf.createElement("fieldset"))&1}),Pp(function(nh){return nh.innerHTML="<a href='#'></a>",nh.firstChild.getAttribute("href")==="#"})||C0("type|href|height|width",function(nh,fh,bh){if(!bh)return nh.getAttribute(fh,fh.toLowerCase()==="type"?1:2)}),(!Rf.attributes||!Pp(function(nh){return nh.innerHTML="<input/>",nh.firstChild.setAttribute("value",""),nh.firstChild.getAttribute("value")===""}))&&C0("value",function(nh,fh,bh){if(!bh&&nh.nodeName.toLowerCase()==="input")return nh.defaultValue}),Pp(function(nh){return nh.getAttribute("disabled")==null})||C0(Jp,function(nh,fh,bh){var Bh;if(!bh)return nh[fh]===!0?fh.toLowerCase():(Bh=nh.getAttributeNode(fh))&&Bh.specified?Bh.value:null}),cp}(ef);Cf.find=Yf,Cf.expr=Yf.selectors,Cf.expr[":"]=Cf.expr.pseudos,Cf.uniqueSort=Cf.unique=Yf.uniqueSort,Cf.text=Yf.getText,Cf.isXMLDoc=Yf.isXML,Cf.contains=Yf.contains,Cf.escapeSelector=Yf.escape;var rh=function(bf,Mf,Rf){for(var Pf=[],Xf=Rf!==void 0;(bf=bf[Mf])&&bf.nodeType!==9;)if(bf.nodeType===1){if(Xf&&Cf(bf).is(Rf))break;Pf.push(bf)}return Pf},dh=function(bf,Mf){for(var Rf=[];bf;bf=bf.nextSibling)bf.nodeType===1&&bf!==Mf&&Rf.push(bf);return Rf},hh=Cf.expr.match.needsContext;function sh(bf,Mf){return bf.nodeName&&bf.nodeName.toLowerCase()===Mf.toLowerCase()}var Hf=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Qf(bf,Mf,Rf){return Af(Mf)?Cf.grep(bf,function(Pf,Xf){return!!Mf.call(Pf,Xf,Pf)!==Rf}):Mf.nodeType?Cf.grep(bf,function(Pf){return Pf===Mf!==Rf}):typeof Mf!="string"?Cf.grep(bf,function(Pf){return cf.call(Mf,Pf)>-1!==Rf}):Cf.filter(Mf,bf,Rf)}Cf.filter=function(bf,Mf,Rf){var Pf=Mf[0];return Rf&&(bf=":not("+bf+")"),Mf.length===1&&Pf.nodeType===1?Cf.find.matchesSelector(Pf,bf)?[Pf]:[]:Cf.find.matches(bf,Cf.grep(Mf,function(Xf){return Xf.nodeType===1}))},Cf.fn.extend({find:function(bf){var Mf,Rf,Pf=this.length,Xf=this;if(typeof bf!="string")return this.pushStack(Cf(bf).filter(function(){for(Mf=0;Mf<Pf;Mf++)if(Cf.contains(Xf[Mf],this))return!0}));for(Rf=this.pushStack([]),Mf=0;Mf<Pf;Mf++)Cf.find(bf,Xf[Mf],Rf);return Pf>1?Cf.uniqueSort(Rf):Rf},filter:function(bf){return this.pushStack(Qf(this,bf||[],!1))},not:function(bf){return this.pushStack(Qf(this,bf||[],!0))},is:function(bf){return!!Qf(this,typeof bf=="string"&&hh.test(bf)?Cf(bf):bf||[],!1).length}});var ah,mh=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,uh=Cf.fn.init=function(bf,Mf,Rf){var Pf,Xf;if(!bf)return this;if(Rf=Rf||ah,typeof bf=="string")if(bf[0]==="<"&&bf[bf.length-1]===">"&&bf.length>=3?Pf=[null,bf,null]:Pf=mh.exec(bf),Pf&&(Pf[1]||!Mf))if(Pf[1]){if(Mf=Mf instanceof Cf?Mf[0]:Mf,Cf.merge(this,Cf.parseHTML(Pf[1],Mf&&Mf.nodeType?Mf.ownerDocument||Mf:Of,!0)),Hf.test(Pf[1])&&Cf.isPlainObject(Mf))for(Pf in Mf)Af(this[Pf])?this[Pf](Mf[Pf]):this.attr(Pf,Mf[Pf]);return this}else return Xf=Of.getElementById(Pf[2]),Xf&&(this[0]=Xf,this.length=1),this;else return!Mf||Mf.jquery?(Mf||Rf).find(bf):this.constructor(Mf).find(bf);else{if(bf.nodeType)return this[0]=bf,this.length=1,this;if(Af(bf))return Rf.ready!==void 0?Rf.ready(bf):bf(Cf)}return Cf.makeArray(bf,this)};uh.prototype=Cf.fn,ah=Cf(Of);var jf=/^(?:parents|prev(?:Until|All))/,Kf={children:!0,contents:!0,next:!0,prev:!0};Cf.fn.extend({has:function(bf){var Mf=Cf(bf,this),Rf=Mf.length;return this.filter(function(){for(var Pf=0;Pf<Rf;Pf++)if(Cf.contains(this,Mf[Pf]))return!0})},closest:function(bf,Mf){var Rf,Pf=0,Xf=this.length,mf=[],yf=typeof bf!="string"&&Cf(bf);if(!hh.test(bf)){for(;Pf<Xf;Pf++)for(Rf=this[Pf];Rf&&Rf!==Mf;Rf=Rf.parentNode)if(Rf.nodeType<11&&(yf?yf.index(Rf)>-1:Rf.nodeType===1&&Cf.find.matchesSelector(Rf,bf))){mf.push(Rf);break}}return this.pushStack(mf.length>1?Cf.uniqueSort(mf):mf)},index:function(bf){return bf?typeof bf=="string"?cf.call(Cf(bf),this[0]):cf.call(this,bf.jquery?bf[0]:bf):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(bf,Mf){return this.pushStack(Cf.uniqueSort(Cf.merge(this.get(),Cf(bf,Mf))))},addBack:function(bf){return this.add(bf==null?this.prevObject:this.prevObject.filter(bf))}});function of(bf,Mf){for(;(bf=bf[Mf])&&bf.nodeType!==1;);return bf}Cf.each({parent:function(bf){var Mf=bf.parentNode;return Mf&&Mf.nodeType!==11?Mf:null},parents:function(bf){return rh(bf,"parentNode")},parentsUntil:function(bf,Mf,Rf){return rh(bf,"parentNode",Rf)},next:function(bf){return of(bf,"nextSibling")},prev:function(bf){return of(bf,"previousSibling")},nextAll:function(bf){return rh(bf,"nextSibling")},prevAll:function(bf){return rh(bf,"previousSibling")},nextUntil:function(bf,Mf,Rf){return rh(bf,"nextSibling",Rf)},prevUntil:function(bf,Mf,Rf){return rh(bf,"previousSibling",Rf)},siblings:function(bf){return dh((bf.parentNode||{}).firstChild,bf)},children:function(bf){return dh(bf.firstChild)},contents:function(bf){return bf.contentDocument!=null&&rf(bf.contentDocument)?bf.contentDocument:(sh(bf,"template")&&(bf=bf.content||bf),Cf.merge([],bf.childNodes))}},function(bf,Mf){Cf.fn[bf]=function(Rf,Pf){var Xf=Cf.map(this,Mf,Rf);return bf.slice(-5)!=="Until"&&(Pf=Rf),Pf&&typeof Pf=="string"&&(Xf=Cf.filter(Pf,Xf)),this.length>1&&(Kf[bf]||Cf.uniqueSort(Xf),jf.test(bf)&&Xf.reverse()),this.pushStack(Xf)}});var hf=/[^\x20\t\r\n\f]+/g;function pf(bf){var Mf={};return Cf.each(bf.match(hf)||[],function(Rf,Pf){Mf[Pf]=!0}),Mf}Cf.Callbacks=function(bf){bf=typeof bf=="string"?pf(bf):Cf.extend({},bf);var Mf,Rf,Pf,Xf,mf=[],yf=[],wf=-1,If=function(){for(Xf=Xf||bf.once,Pf=Mf=!0;yf.length;wf=-1)for(Rf=yf.shift();++wf<mf.length;)mf[wf].apply(Rf[0],Rf[1])===!1&&bf.stopOnFalse&&(wf=mf.length,Rf=!1);bf.memory||(Rf=!1),Mf=!1,Xf&&(Rf?mf=[]:mf="")},Nf={add:function(){return mf&&(Rf&&!Mf&&(wf=mf.length-1,yf.push(Rf)),function kf($f){Cf.each($f,function(Jf,Zf){Af(Zf)?(!bf.unique||!Nf.has(Zf))&&mf.push(Zf):Zf&&Zf.length&&Vf(Zf)!=="string"&&kf(Zf)})}(arguments),Rf&&!Mf&&If()),this},remove:function(){return Cf.each(arguments,function(kf,$f){for(var Jf;(Jf=Cf.inArray($f,mf,Jf))>-1;)mf.splice(Jf,1),Jf<=wf&&wf--}),this},has:function(kf){return kf?Cf.inArray(kf,mf)>-1:mf.length>0},empty:function(){return mf&&(mf=[]),this},disable:function(){return Xf=yf=[],mf=Rf="",this},disabled:function(){return!mf},lock:function(){return Xf=yf=[],!Rf&&!Mf&&(mf=Rf=""),this},locked:function(){return!!Xf},fireWith:function(kf,$f){return Xf||($f=$f||[],$f=[kf,$f.slice?$f.slice():$f],yf.push($f),Mf||If()),this},fire:function(){return Nf.fireWith(this,arguments),this},fired:function(){return!!Pf}};return Nf};function vf(bf){return bf}function Ef(bf){throw bf}function Sf(bf,Mf,Rf,Pf){var Xf;try{bf&&Af(Xf=bf.promise)?Xf.call(bf).done(Mf).fail(Rf):bf&&Af(Xf=bf.then)?Xf.call(bf,Mf,Rf):Mf.apply(void 0,[bf].slice(Pf))}catch(mf){Rf.apply(void 0,[mf])}}Cf.extend({Deferred:function(bf){var Mf=[["notify","progress",Cf.Callbacks("memory"),Cf.Callbacks("memory"),2],["resolve","done",Cf.Callbacks("once memory"),Cf.Callbacks("once memory"),0,"resolved"],["reject","fail",Cf.Callbacks("once memory"),Cf.Callbacks("once memory"),1,"rejected"]],Rf="pending",Pf={state:function(){return Rf},always:function(){return Xf.done(arguments).fail(arguments),this},catch:function(mf){return Pf.then(null,mf)},pipe:function(){var mf=arguments;return Cf.Deferred(function(yf){Cf.each(Mf,function(wf,If){var Nf=Af(mf[If[4]])&&mf[If[4]];Xf[If[1]](function(){var kf=Nf&&Nf.apply(this,arguments);kf&&Af(kf.promise)?kf.promise().progress(yf.notify).done(yf.resolve).fail(yf.reject):yf[If[0]+"With"](this,Nf?[kf]:arguments)})}),mf=null}).promise()},then:function(mf,yf,wf){var If=0;function Nf(kf,$f,Jf,Zf){return function(){var ph=this,Mh=arguments,Ih=function(){var Xh,wd;if(!(kf<If)){if(Xh=Jf.apply(ph,Mh),Xh===$f.promise())throw new TypeError("Thenable self-resolution");wd=Xh&&(typeof Xh=="object"||typeof Xh=="function")&&Xh.then,Af(wd)?Zf?wd.call(Xh,Nf(If,$f,vf,Zf),Nf(If,$f,Ef,Zf)):(If++,wd.call(Xh,Nf(If,$f,vf,Zf),Nf(If,$f,Ef,Zf),Nf(If,$f,vf,$f.notifyWith))):(Jf!==vf&&(ph=void 0,Mh=[Xh]),(Zf||$f.resolveWith)(ph,Mh))}},Oh=Zf?Ih:function(){try{Ih()}catch(Xh){Cf.Deferred.exceptionHook&&Cf.Deferred.exceptionHook(Xh,Oh.stackTrace),kf+1>=If&&(Jf!==Ef&&(ph=void 0,Mh=[Xh]),$f.rejectWith(ph,Mh))}};kf?Oh():(Cf.Deferred.getStackHook&&(Oh.stackTrace=Cf.Deferred.getStackHook()),ef.setTimeout(Oh))}}return Cf.Deferred(function(kf){Mf[0][3].add(Nf(0,kf,Af(wf)?wf:vf,kf.notifyWith)),Mf[1][3].add(Nf(0,kf,Af(mf)?mf:vf)),Mf[2][3].add(Nf(0,kf,Af(yf)?yf:Ef))}).promise()},promise:function(mf){return mf!=null?Cf.extend(mf,Pf):Pf}},Xf={};return Cf.each(Mf,function(mf,yf){var wf=yf[2],If=yf[5];Pf[yf[1]]=wf.add,If&&wf.add(function(){Rf=If},Mf[3-mf][2].disable,Mf[3-mf][3].disable,Mf[0][2].lock,Mf[0][3].lock),wf.add(yf[3].fire),Xf[yf[0]]=function(){return Xf[yf[0]+"With"](this===Xf?void 0:this,arguments),this},Xf[yf[0]+"With"]=wf.fireWith}),Pf.promise(Xf),bf&&bf.call(Xf,Xf),Xf},when:function(bf){var Mf=arguments.length,Rf=Mf,Pf=Array(Rf),Xf=sf.call(arguments),mf=Cf.Deferred(),yf=function(wf){return function(If){Pf[wf]=this,Xf[wf]=arguments.length>1?sf.call(arguments):If,--Mf||mf.resolveWith(Pf,Xf)}};if(Mf<=1&&(Sf(bf,mf.done(yf(Rf)).resolve,mf.reject,!Mf),mf.state()==="pending"||Af(Xf[Rf]&&Xf[Rf].then)))return mf.then();for(;Rf--;)Sf(Xf[Rf],yf(Rf),mf.reject);return mf.promise()}});var Ff=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Cf.Deferred.exceptionHook=function(bf,Mf){ef.console&&ef.console.warn&&bf&&Ff.test(bf.name)&&ef.console.warn("jQuery.Deferred exception: "+bf.message,bf.stack,Mf)},Cf.readyException=function(bf){ef.setTimeout(function(){throw bf})};var Uf=Cf.Deferred();Cf.fn.ready=function(bf){return Uf.then(bf).catch(function(Mf){Cf.readyException(Mf)}),this},Cf.extend({isReady:!1,readyWait:1,ready:function(bf){(bf===!0?--Cf.readyWait:Cf.isReady)||(Cf.isReady=!0,!(bf!==!0&&--Cf.readyWait>0)&&Uf.resolveWith(Of,[Cf]))}}),Cf.ready.then=Uf.then;function Wf(){Of.removeEventListener("DOMContentLoaded",Wf),ef.removeEventListener("load",Wf),Cf.ready()}Of.readyState==="complete"||Of.readyState!=="loading"&&!Of.documentElement.doScroll?ef.setTimeout(Cf.ready):(Of.addEventListener("DOMContentLoaded",Wf),ef.addEventListener("load",Wf));var eh=function(bf,Mf,Rf,Pf,Xf,mf,yf){var wf=0,If=bf.length,Nf=Rf==null;if(Vf(Rf)==="object"){Xf=!0;for(wf in Rf)eh(bf,Mf,wf,Rf[wf],!0,mf,yf)}else if(Pf!==void 0&&(Xf=!0,Af(Pf)||(yf=!0),Nf&&(yf?(Mf.call(bf,Pf),Mf=null):(Nf=Mf,Mf=function(kf,$f,Jf){return Nf.call(Cf(kf),Jf)})),Mf))for(;wf<If;wf++)Mf(bf[wf],Rf,yf?Pf:Pf.call(bf[wf],wf,Mf(bf[wf],Rf)));return Xf?bf:Nf?Mf.call(bf):If?Mf(bf[0],Rf):mf},th=/^-ms-/,_h=/-([a-z])/g;function wh(bf,Mf){return Mf.toUpperCase()}function oh(bf){return bf.replace(th,"ms-").replace(_h,wh)}var gh=function(bf){return bf.nodeType===1||bf.nodeType===9||!+bf.nodeType};function qf(){this.expando=Cf.expando+qf.uid++}qf.uid=1,qf.prototype={cache:function(bf){var Mf=bf[this.expando];return Mf||(Mf={},gh(bf)&&(bf.nodeType?bf[this.expando]=Mf:Object.defineProperty(bf,this.expando,{value:Mf,configurable:!0}))),Mf},set:function(bf,Mf,Rf){var Pf,Xf=this.cache(bf);if(typeof Mf=="string")Xf[oh(Mf)]=Rf;else for(Pf in Mf)Xf[oh(Pf)]=Mf[Pf];return Xf},get:function(bf,Mf){return Mf===void 0?this.cache(bf):bf[this.expando]&&bf[this.expando][oh(Mf)]},access:function(bf,Mf,Rf){return Mf===void 0||Mf&&typeof Mf=="string"&&Rf===void 0?this.get(bf,Mf):(this.set(bf,Mf,Rf),Rf!==void 0?Rf:Mf)},remove:function(bf,Mf){var Rf,Pf=bf[this.expando];if(Pf!==void 0){if(Mf!==void 0)for(Array.isArray(Mf)?Mf=Mf.map(oh):(Mf=oh(Mf),Mf=Mf in Pf?[Mf]:Mf.match(hf)||[]),Rf=Mf.length;Rf--;)delete Pf[Mf[Rf]];(Mf===void 0||Cf.isEmptyObject(Pf))&&(bf.nodeType?bf[this.expando]=void 0:delete bf[this.expando])}},hasData:function(bf){var Mf=bf[this.expando];return Mf!==void 0&&!Cf.isEmptyObject(Mf)}};var zf=new qf,Th=new qf,Fh=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Uh=/[A-Z]/g;function jh(bf){return bf==="true"?!0:bf==="false"?!1:bf==="null"?null:bf===+bf+""?+bf:Fh.test(bf)?JSON.parse(bf):bf}function qh(bf,Mf,Rf){var Pf;if(Rf===void 0&&bf.nodeType===1)if(Pf="data-"+Mf.replace(Uh,"-$&").toLowerCase(),Rf=bf.getAttribute(Pf),typeof Rf=="string"){try{Rf=jh(Rf)}catch{}Th.set(bf,Mf,Rf)}else Rf=void 0;return Rf}Cf.extend({hasData:function(bf){return Th.hasData(bf)||zf.hasData(bf)},data:function(bf,Mf,Rf){return Th.access(bf,Mf,Rf)},removeData:function(bf,Mf){Th.remove(bf,Mf)},_data:function(bf,Mf,Rf){return zf.access(bf,Mf,Rf)},_removeData:function(bf,Mf){zf.remove(bf,Mf)}}),Cf.fn.extend({data:function(bf,Mf){var Rf,Pf,Xf,mf=this[0],yf=mf&&mf.attributes;if(bf===void 0){if(this.length&&(Xf=Th.get(mf),mf.nodeType===1&&!zf.get(mf,"hasDataAttrs"))){for(Rf=yf.length;Rf--;)yf[Rf]&&(Pf=yf[Rf].name,Pf.indexOf("data-")===0&&(Pf=oh(Pf.slice(5)),qh(mf,Pf,Xf[Pf])));zf.set(mf,"hasDataAttrs",!0)}return Xf}return typeof bf=="object"?this.each(function(){Th.set(this,bf)}):eh(this,function(wf){var If;if(mf&&wf===void 0)return If=Th.get(mf,bf),If!==void 0||(If=qh(mf,bf),If!==void 0)?If:void 0;this.each(function(){Th.set(this,bf,wf)})},null,Mf,arguments.length>1,null,!0)},removeData:function(bf){return this.each(function(){Th.remove(this,bf)})}}),Cf.extend({queue:function(bf,Mf,Rf){var Pf;if(bf)return Mf=(Mf||"fx")+"queue",Pf=zf.get(bf,Mf),Rf&&(!Pf||Array.isArray(Rf)?Pf=zf.access(bf,Mf,Cf.makeArray(Rf)):Pf.push(Rf)),Pf||[]},dequeue:function(bf,Mf){Mf=Mf||"fx";var Rf=Cf.queue(bf,Mf),Pf=Rf.length,Xf=Rf.shift(),mf=Cf._queueHooks(bf,Mf),yf=function(){Cf.dequeue(bf,Mf)};Xf==="inprogress"&&(Xf=Rf.shift(),Pf--),Xf&&(Mf==="fx"&&Rf.unshift("inprogress"),delete mf.stop,Xf.call(bf,yf,mf)),!Pf&&mf&&mf.empty.fire()},_queueHooks:function(bf,Mf){var Rf=Mf+"queueHooks";return zf.get(bf,Rf)||zf.access(bf,Rf,{empty:Cf.Callbacks("once memory").add(function(){zf.remove(bf,[Mf+"queue",Rf])})})}}),Cf.fn.extend({queue:function(bf,Mf){var Rf=2;return typeof bf!="string"&&(Mf=bf,bf="fx",Rf--),arguments.length<Rf?Cf.queue(this[0],bf):Mf===void 0?this:this.each(function(){var Pf=Cf.queue(this,bf,Mf);Cf._queueHooks(this,bf),bf==="fx"&&Pf[0]!=="inprogress"&&Cf.dequeue(this,bf)})},dequeue:function(bf){return this.each(function(){Cf.dequeue(this,bf)})},clearQueue:function(bf){return this.queue(bf||"fx",[])},promise:function(bf,Mf){var Rf,Pf=1,Xf=Cf.Deferred(),mf=this,yf=this.length,wf=function(){--Pf||Xf.resolveWith(mf,[mf])};for(typeof bf!="string"&&(Mf=bf,bf=void 0),bf=bf||"fx";yf--;)Rf=zf.get(mf[yf],bf+"queueHooks"),Rf&&Rf.empty&&(Pf++,Rf.empty.add(wf));return wf(),Xf.promise(Mf)}});var cd=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pd=new RegExp("^(?:([+-])=|)("+cd+")([a-z%]*)$","i"),Zh=["Top","Right","Bottom","Left"],kh=Of.documentElement,Kh=function(bf){return Cf.contains(bf.ownerDocument,bf)},Jh={composed:!0};kh.getRootNode&&(Kh=function(bf){return Cf.contains(bf.ownerDocument,bf)||bf.getRootNode(Jh)===bf.ownerDocument});var xh=function(bf,Mf){return bf=Mf||bf,bf.style.display==="none"||bf.style.display===""&&Kh(bf)&&Cf.css(bf,"display")==="none"};function Wh(bf,Mf,Rf,Pf){var Xf,mf,yf=20,wf=Pf?function(){return Pf.cur()}:function(){return Cf.css(bf,Mf,"")},If=wf(),Nf=Rf&&Rf[3]||(Cf.cssNumber[Mf]?"":"px"),kf=bf.nodeType&&(Cf.cssNumber[Mf]||Nf!=="px"&&+If)&&pd.exec(Cf.css(bf,Mf));if(kf&&kf[3]!==Nf){for(If=If/2,Nf=Nf||kf[3],kf=+If||1;yf--;)Cf.style(bf,Mf,kf+Nf),(1-mf)*(1-(mf=wf()/If||.5))<=0&&(yf=0),kf=kf/mf;kf=kf*2,Cf.style(bf,Mf,kf+Nf),Rf=Rf||[]}return Rf&&(kf=+kf||+If||0,Xf=Rf[1]?kf+(Rf[1]+1)*Rf[2]:+Rf[2],Pf&&(Pf.unit=Nf,Pf.start=kf,Pf.end=Xf)),Xf}var nd={};function Ad(bf){var Mf,Rf=bf.ownerDocument,Pf=bf.nodeName,Xf=nd[Pf];return Xf||(Mf=Rf.body.appendChild(Rf.createElement(Pf)),Xf=Cf.css(Mf,"display"),Mf.parentNode.removeChild(Mf),Xf==="none"&&(Xf="block"),nd[Pf]=Xf,Xf)}function ad(bf,Mf){for(var Rf,Pf,Xf=[],mf=0,yf=bf.length;mf<yf;mf++)Pf=bf[mf],Pf.style&&(Rf=Pf.style.display,Mf?(Rf==="none"&&(Xf[mf]=zf.get(Pf,"display")||null,Xf[mf]||(Pf.style.display="")),Pf.style.display===""&&xh(Pf)&&(Xf[mf]=Ad(Pf))):Rf!=="none"&&(Xf[mf]="none",zf.set(Pf,"display",Rf)));for(mf=0;mf<yf;mf++)Xf[mf]!=null&&(bf[mf].style.display=Xf[mf]);return bf}Cf.fn.extend({show:function(){return ad(this,!0)},hide:function(){return ad(this)},toggle:function(bf){return typeof bf=="boolean"?bf?this.show():this.hide():this.each(function(){xh(this)?Cf(this).show():Cf(this).hide()})}});var vd=/^(?:checkbox|radio)$/i,ld=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Id=/^$|^module$|\/(?:java|ecma)script/i;(function(){var bf=Of.createDocumentFragment(),Mf=bf.appendChild(Of.createElement("div")),Rf=Of.createElement("input");Rf.setAttribute("type","radio"),Rf.setAttribute("checked","checked"),Rf.setAttribute("name","t"),Mf.appendChild(Rf),xf.checkClone=Mf.cloneNode(!0).cloneNode(!0).lastChild.checked,Mf.innerHTML="<textarea>x</textarea>",xf.noCloneChecked=!!Mf.cloneNode(!0).lastChild.defaultValue,Mf.innerHTML="<option></option>",xf.option=!!Mf.lastChild})();var $d={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$d.tbody=$d.tfoot=$d.colgroup=$d.caption=$d.thead,$d.th=$d.td,xf.option||($d.optgroup=$d.option=[1,"<select multiple='multiple'>","</select>"]);function yd(bf,Mf){var Rf;return typeof bf.getElementsByTagName<"u"?Rf=bf.getElementsByTagName(Mf||"*"):typeof bf.querySelectorAll<"u"?Rf=bf.querySelectorAll(Mf||"*"):Rf=[],Mf===void 0||Mf&&sh(bf,Mf)?Cf.merge([bf],Rf):Rf}function Zd(bf,Mf){for(var Rf=0,Pf=bf.length;Rf<Pf;Rf++)zf.set(bf[Rf],"globalEval",!Mf||zf.get(Mf[Rf],"globalEval"))}var jd=/<|&#?\w+;/;function pp(bf,Mf,Rf,Pf,Xf){for(var mf,yf,wf,If,Nf,kf,$f=Mf.createDocumentFragment(),Jf=[],Zf=0,ph=bf.length;Zf<ph;Zf++)if(mf=bf[Zf],mf||mf===0)if(Vf(mf)==="object")Cf.merge(Jf,mf.nodeType?[mf]:mf);else if(!jd.test(mf))Jf.push(Mf.createTextNode(mf));else{for(yf=yf||$f.appendChild(Mf.createElement("div")),wf=(ld.exec(mf)||["",""])[1].toLowerCase(),If=$d[wf]||$d._default,yf.innerHTML=If[1]+Cf.htmlPrefilter(mf)+If[2],kf=If[0];kf--;)yf=yf.lastChild;Cf.merge(Jf,yf.childNodes),yf=$f.firstChild,yf.textContent=""}for($f.textContent="",Zf=0;mf=Jf[Zf++];){if(Pf&&Cf.inArray(mf,Pf)>-1){Xf&&Xf.push(mf);continue}if(Nf=Kh(mf),yf=yd($f.appendChild(mf),"script"),Nf&&Zd(yf),Rf)for(kf=0;mf=yf[kf++];)Id.test(mf.type||"")&&Rf.push(mf)}return $f}var rp=/^([^.]*)(?:\.(.+)|)/;function ep(){return!0}function bp(){return!1}function Mp(bf,Mf){return bf===fp()==(Mf==="focus")}function fp(){try{return Of.activeElement}catch{}}function Xd(bf,Mf,Rf,Pf,Xf,mf){var yf,wf;if(typeof Mf=="object"){typeof Rf!="string"&&(Pf=Pf||Rf,Rf=void 0);for(wf in Mf)Xd(bf,wf,Rf,Pf,Mf[wf],mf);return bf}if(Pf==null&&Xf==null?(Xf=Rf,Pf=Rf=void 0):Xf==null&&(typeof Rf=="string"?(Xf=Pf,Pf=void 0):(Xf=Pf,Pf=Rf,Rf=void 0)),Xf===!1)Xf=bp;else if(!Xf)return bf;return mf===1&&(yf=Xf,Xf=function(If){return Cf().off(If),yf.apply(this,arguments)},Xf.guid=yf.guid||(yf.guid=Cf.guid++)),bf.each(function(){Cf.event.add(this,Mf,Xf,Pf,Rf)})}Cf.event={global:{},add:function(bf,Mf,Rf,Pf,Xf){var mf,yf,wf,If,Nf,kf,$f,Jf,Zf,ph,Mh,Ih=zf.get(bf);if(gh(bf))for(Rf.handler&&(mf=Rf,Rf=mf.handler,Xf=mf.selector),Xf&&Cf.find.matchesSelector(kh,Xf),Rf.guid||(Rf.guid=Cf.guid++),(If=Ih.events)||(If=Ih.events=Object.create(null)),(yf=Ih.handle)||(yf=Ih.handle=function(Oh){return typeof Cf<"u"&&Cf.event.triggered!==Oh.type?Cf.event.dispatch.apply(bf,arguments):void 0}),Mf=(Mf||"").match(hf)||[""],Nf=Mf.length;Nf--;)wf=rp.exec(Mf[Nf])||[],Zf=Mh=wf[1],ph=(wf[2]||"").split(".").sort(),Zf&&($f=Cf.event.special[Zf]||{},Zf=(Xf?$f.delegateType:$f.bindType)||Zf,$f=Cf.event.special[Zf]||{},kf=Cf.extend({type:Zf,origType:Mh,data:Pf,handler:Rf,guid:Rf.guid,selector:Xf,needsContext:Xf&&Cf.expr.match.needsContext.test(Xf),namespace:ph.join(".")},mf),(Jf=If[Zf])||(Jf=If[Zf]=[],Jf.delegateCount=0,(!$f.setup||$f.setup.call(bf,Pf,ph,yf)===!1)&&bf.addEventListener&&bf.addEventListener(Zf,yf)),$f.add&&($f.add.call(bf,kf),kf.handler.guid||(kf.handler.guid=Rf.guid)),Xf?Jf.splice(Jf.delegateCount++,0,kf):Jf.push(kf),Cf.event.global[Zf]=!0)},remove:function(bf,Mf,Rf,Pf,Xf){var mf,yf,wf,If,Nf,kf,$f,Jf,Zf,ph,Mh,Ih=zf.hasData(bf)&&zf.get(bf);if(!(!Ih||!(If=Ih.events))){for(Mf=(Mf||"").match(hf)||[""],Nf=Mf.length;Nf--;){if(wf=rp.exec(Mf[Nf])||[],Zf=Mh=wf[1],ph=(wf[2]||"").split(".").sort(),!Zf){for(Zf in If)Cf.event.remove(bf,Zf+Mf[Nf],Rf,Pf,!0);continue}for($f=Cf.event.special[Zf]||{},Zf=(Pf?$f.delegateType:$f.bindType)||Zf,Jf=If[Zf]||[],wf=wf[2]&&new RegExp("(^|\\.)"+ph.join("\\.(?:.*\\.|)")+"(\\.|$)"),yf=mf=Jf.length;mf--;)kf=Jf[mf],(Xf||Mh===kf.origType)&&(!Rf||Rf.guid===kf.guid)&&(!wf||wf.test(kf.namespace))&&(!Pf||Pf===kf.selector||Pf==="**"&&kf.selector)&&(Jf.splice(mf,1),kf.selector&&Jf.delegateCount--,$f.remove&&$f.remove.call(bf,kf));yf&&!Jf.length&&((!$f.teardown||$f.teardown.call(bf,ph,Ih.handle)===!1)&&Cf.removeEvent(bf,Zf,Ih.handle),delete If[Zf])}Cf.isEmptyObject(If)&&zf.remove(bf,"handle events")}},dispatch:function(bf){var Mf,Rf,Pf,Xf,mf,yf,wf=new Array(arguments.length),If=Cf.event.fix(bf),Nf=(zf.get(this,"events")||Object.create(null))[If.type]||[],kf=Cf.event.special[If.type]||{};for(wf[0]=If,Mf=1;Mf<arguments.length;Mf++)wf[Mf]=arguments[Mf];if(If.delegateTarget=this,!(kf.preDispatch&&kf.preDispatch.call(this,If)===!1)){for(yf=Cf.event.handlers.call(this,If,Nf),Mf=0;(Xf=yf[Mf++])&&!If.isPropagationStopped();)for(If.currentTarget=Xf.elem,Rf=0;(mf=Xf.handlers[Rf++])&&!If.isImmediatePropagationStopped();)(!If.rnamespace||mf.namespace===!1||If.rnamespace.test(mf.namespace))&&(If.handleObj=mf,If.data=mf.data,Pf=((Cf.event.special[mf.origType]||{}).handle||mf.handler).apply(Xf.elem,wf),Pf!==void 0&&(If.result=Pf)===!1&&(If.preventDefault(),If.stopPropagation()));return kf.postDispatch&&kf.postDispatch.call(this,If),If.result}},handlers:function(bf,Mf){var Rf,Pf,Xf,mf,yf,wf=[],If=Mf.delegateCount,Nf=bf.target;if(If&&Nf.nodeType&&!(bf.type==="click"&&bf.button>=1)){for(;Nf!==this;Nf=Nf.parentNode||this)if(Nf.nodeType===1&&!(bf.type==="click"&&Nf.disabled===!0)){for(mf=[],yf={},Rf=0;Rf<If;Rf++)Pf=Mf[Rf],Xf=Pf.selector+" ",yf[Xf]===void 0&&(yf[Xf]=Pf.needsContext?Cf(Xf,this).index(Nf)>-1:Cf.find(Xf,this,null,[Nf]).length),yf[Xf]&&mf.push(Pf);mf.length&&wf.push({elem:Nf,handlers:mf})}}return Nf=this,If<Mf.length&&wf.push({elem:Nf,handlers:Mf.slice(If)}),wf},addProp:function(bf,Mf){Object.defineProperty(Cf.Event.prototype,bf,{enumerable:!0,configurable:!0,get:Af(Mf)?function(){if(this.originalEvent)return Mf(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[bf]},set:function(Rf){Object.defineProperty(this,bf,{enumerable:!0,configurable:!0,writable:!0,value:Rf})}})},fix:function(bf){return bf[Cf.expando]?bf:new Cf.Event(bf)},special:{load:{noBubble:!0},click:{setup:function(bf){var Mf=this||bf;return vd.test(Mf.type)&&Mf.click&&sh(Mf,"input")&&Ip(Mf,"click",ep),!1},trigger:function(bf){var Mf=this||bf;return vd.test(Mf.type)&&Mf.click&&sh(Mf,"input")&&Ip(Mf,"click"),!0},_default:function(bf){var Mf=bf.target;return vd.test(Mf.type)&&Mf.click&&sh(Mf,"input")&&zf.get(Mf,"click")||sh(Mf,"a")}},beforeunload:{postDispatch:function(bf){bf.result!==void 0&&bf.originalEvent&&(bf.originalEvent.returnValue=bf.result)}}}};function Ip(bf,Mf,Rf){if(!Rf){zf.get(bf,Mf)===void 0&&Cf.event.add(bf,Mf,ep);return}zf.set(bf,Mf,!1),Cf.event.add(bf,Mf,{namespace:!1,handler:function(Pf){var Xf,mf,yf=zf.get(this,Mf);if(Pf.isTrigger&1&&this[Mf]){if(yf.length)(Cf.event.special[Mf]||{}).delegateType&&Pf.stopPropagation();else if(yf=sf.call(arguments),zf.set(this,Mf,yf),Xf=Rf(this,Mf),this[Mf](),mf=zf.get(this,Mf),yf!==mf||Xf?zf.set(this,Mf,!1):mf={},yf!==mf)return Pf.stopImmediatePropagation(),Pf.preventDefault(),mf&&mf.value}else yf.length&&(zf.set(this,Mf,{value:Cf.event.trigger(Cf.extend(yf[0],Cf.Event.prototype),yf.slice(1),this)}),Pf.stopImmediatePropagation())}})}Cf.removeEvent=function(bf,Mf,Rf){bf.removeEventListener&&bf.removeEventListener(Mf,Rf)},Cf.Event=function(bf,Mf){if(!(this instanceof Cf.Event))return new Cf.Event(bf,Mf);bf&&bf.type?(this.originalEvent=bf,this.type=bf.type,this.isDefaultPrevented=bf.defaultPrevented||bf.defaultPrevented===void 0&&bf.returnValue===!1?ep:bp,this.target=bf.target&&bf.target.nodeType===3?bf.target.parentNode:bf.target,this.currentTarget=bf.currentTarget,this.relatedTarget=bf.relatedTarget):this.type=bf,Mf&&Cf.extend(this,Mf),this.timeStamp=bf&&bf.timeStamp||Date.now(),this[Cf.expando]=!0},Cf.Event.prototype={constructor:Cf.Event,isDefaultPrevented:bp,isPropagationStopped:bp,isImmediatePropagationStopped:bp,isSimulated:!1,preventDefault:function(){var bf=this.originalEvent;this.isDefaultPrevented=ep,bf&&!this.isSimulated&&bf.preventDefault()},stopPropagation:function(){var bf=this.originalEvent;this.isPropagationStopped=ep,bf&&!this.isSimulated&&bf.stopPropagation()},stopImmediatePropagation:function(){var bf=this.originalEvent;this.isImmediatePropagationStopped=ep,bf&&!this.isSimulated&&bf.stopImmediatePropagation(),this.stopPropagation()}},Cf.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Cf.event.addProp),Cf.each({focus:"focusin",blur:"focusout"},function(bf,Mf){Cf.event.special[bf]={setup:function(){return Ip(this,bf,Mp),!1},trigger:function(){return Ip(this,bf),!0},_default:function(Rf){return zf.get(Rf.target,bf)},delegateType:Mf}}),Cf.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(bf,Mf){Cf.event.special[bf]={delegateType:Mf,bindType:Mf,handle:function(Rf){var Pf,Xf=this,mf=Rf.relatedTarget,yf=Rf.handleObj;return(!mf||mf!==Xf&&!Cf.contains(Xf,mf))&&(Rf.type=yf.origType,Pf=yf.handler.apply(this,arguments),Rf.type=Mf),Pf}}}),Cf.fn.extend({on:function(bf,Mf,Rf,Pf){return Xd(this,bf,Mf,Rf,Pf)},one:function(bf,Mf,Rf,Pf){return Xd(this,bf,Mf,Rf,Pf,1)},off:function(bf,Mf,Rf){var Pf,Xf;if(bf&&bf.preventDefault&&bf.handleObj)return Pf=bf.handleObj,Cf(bf.delegateTarget).off(Pf.namespace?Pf.origType+"."+Pf.namespace:Pf.origType,Pf.selector,Pf.handler),this;if(typeof bf=="object"){for(Xf in bf)this.off(Xf,Mf,bf[Xf]);return this}return(Mf===!1||typeof Mf=="function")&&(Rf=Mf,Mf=void 0),Rf===!1&&(Rf=bp),this.each(function(){Cf.event.remove(this,bf,Rf,Mf)})}});var Ep=/<script|<style|<link/i,Dp=/checked\s*(?:[^=]|=\s*.checked.)/i,Op=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function hp(bf,Mf){return sh(bf,"table")&&sh(Mf.nodeType!==11?Mf:Mf.firstChild,"tr")&&Cf(bf).children("tbody")[0]||bf}function Hh(bf){return bf.type=(bf.getAttribute("type")!==null)+"/"+bf.type,bf}function ip(bf){return(bf.type||"").slice(0,5)==="true/"?bf.type=bf.type.slice(5):bf.removeAttribute("type"),bf}function sp(bf,Mf){var Rf,Pf,Xf,mf,yf,wf,If;if(Mf.nodeType===1){if(zf.hasData(bf)&&(mf=zf.get(bf),If=mf.events,If)){zf.remove(Mf,"handle events");for(Xf in If)for(Rf=0,Pf=If[Xf].length;Rf<Pf;Rf++)Cf.event.add(Mf,Xf,If[Xf][Rf])}Th.hasData(bf)&&(yf=Th.access(bf),wf=Cf.extend({},yf),Th.set(Mf,wf))}}function Hp(bf,Mf){var Rf=Mf.nodeName.toLowerCase();Rf==="input"&&vd.test(bf.type)?Mf.checked=bf.checked:(Rf==="input"||Rf==="textarea")&&(Mf.defaultValue=bf.defaultValue)}function ih(bf,Mf,Rf,Pf){Mf=af(Mf);var Xf,mf,yf,wf,If,Nf,kf=0,$f=bf.length,Jf=$f-1,Zf=Mf[0],ph=Af(Zf);if(ph||$f>1&&typeof Zf=="string"&&!xf.checkClone&&Dp.test(Zf))return bf.each(function(Mh){var Ih=bf.eq(Mh);ph&&(Mf[0]=Zf.call(this,Mh,Ih.html())),ih(Ih,Mf,Rf,Pf)});if($f&&(Xf=pp(Mf,bf[0].ownerDocument,!1,bf,Pf),mf=Xf.firstChild,Xf.childNodes.length===1&&(Xf=mf),mf||Pf)){for(yf=Cf.map(yd(Xf,"script"),Hh),wf=yf.length;kf<$f;kf++)If=Xf,kf!==Jf&&(If=Cf.clone(If,!0,!0),wf&&Cf.merge(yf,yd(If,"script"))),Rf.call(bf[kf],If,kf);if(wf)for(Nf=yf[yf.length-1].ownerDocument,Cf.map(yf,ip),kf=0;kf<wf;kf++)If=yf[kf],Id.test(If.type||"")&&!zf.access(If,"globalEval")&&Cf.contains(Nf,If)&&(If.src&&(If.type||"").toLowerCase()!=="module"?Cf._evalUrl&&!If.noModule&&Cf._evalUrl(If.src,{nonce:If.nonce||If.getAttribute("nonce")},Nf):Bf(If.textContent.replace(Op,""),If,Nf))}return bf}function lh(bf,Mf,Rf){for(var Pf,Xf=Mf?Cf.filter(Mf,bf):bf,mf=0;(Pf=Xf[mf])!=null;mf++)!Rf&&Pf.nodeType===1&&Cf.cleanData(yd(Pf)),Pf.parentNode&&(Rf&&Kh(Pf)&&Zd(yd(Pf,"script")),Pf.parentNode.removeChild(Pf));return bf}Cf.extend({htmlPrefilter:function(bf){return bf},clone:function(bf,Mf,Rf){var Pf,Xf,mf,yf,wf=bf.cloneNode(!0),If=Kh(bf);if(!xf.noCloneChecked&&(bf.nodeType===1||bf.nodeType===11)&&!Cf.isXMLDoc(bf))for(yf=yd(wf),mf=yd(bf),Pf=0,Xf=mf.length;Pf<Xf;Pf++)Hp(mf[Pf],yf[Pf]);if(Mf)if(Rf)for(mf=mf||yd(bf),yf=yf||yd(wf),Pf=0,Xf=mf.length;Pf<Xf;Pf++)sp(mf[Pf],yf[Pf]);else sp(bf,wf);return yf=yd(wf,"script"),yf.length>0&&Zd(yf,!If&&yd(bf,"script")),wf},cleanData:function(bf){for(var Mf,Rf,Pf,Xf=Cf.event.special,mf=0;(Rf=bf[mf])!==void 0;mf++)if(gh(Rf)){if(Mf=Rf[zf.expando]){if(Mf.events)for(Pf in Mf.events)Xf[Pf]?Cf.event.remove(Rf,Pf):Cf.removeEvent(Rf,Pf,Mf.handle);Rf[zf.expando]=void 0}Rf[Th.expando]&&(Rf[Th.expando]=void 0)}}}),Cf.fn.extend({detach:function(bf){return lh(this,bf,!0)},remove:function(bf){return lh(this,bf)},text:function(bf){return eh(this,function(Mf){return Mf===void 0?Cf.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=Mf)})},null,bf,arguments.length)},append:function(){return ih(this,arguments,function(bf){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Mf=hp(this,bf);Mf.appendChild(bf)}})},prepend:function(){return ih(this,arguments,function(bf){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Mf=hp(this,bf);Mf.insertBefore(bf,Mf.firstChild)}})},before:function(){return ih(this,arguments,function(bf){this.parentNode&&this.parentNode.insertBefore(bf,this)})},after:function(){return ih(this,arguments,function(bf){this.parentNode&&this.parentNode.insertBefore(bf,this.nextSibling)})},empty:function(){for(var bf,Mf=0;(bf=this[Mf])!=null;Mf++)bf.nodeType===1&&(Cf.cleanData(yd(bf,!1)),bf.textContent="");return this},clone:function(bf,Mf){return bf=bf??!1,Mf=Mf??bf,this.map(function(){return Cf.clone(this,bf,Mf)})},html:function(bf){return eh(this,function(Mf){var Rf=this[0]||{},Pf=0,Xf=this.length;if(Mf===void 0&&Rf.nodeType===1)return Rf.innerHTML;if(typeof Mf=="string"&&!Ep.test(Mf)&&!$d[(ld.exec(Mf)||["",""])[1].toLowerCase()]){Mf=Cf.htmlPrefilter(Mf);try{for(;Pf<Xf;Pf++)Rf=this[Pf]||{},Rf.nodeType===1&&(Cf.cleanData(yd(Rf,!1)),Rf.innerHTML=Mf);Rf=0}catch{}}Rf&&this.empty().append(Mf)},null,bf,arguments.length)},replaceWith:function(){var bf=[];return ih(this,arguments,function(Mf){var Rf=this.parentNode;Cf.inArray(this,bf)<0&&(Cf.cleanData(yd(this)),Rf&&Rf.replaceChild(Mf,this))},bf)}}),Cf.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(bf,Mf){Cf.fn[bf]=function(Rf){for(var Pf,Xf=[],mf=Cf(Rf),yf=mf.length-1,wf=0;wf<=yf;wf++)Pf=wf===yf?this:this.clone(!0),Cf(mf[wf])[Mf](Pf),lf.apply(Xf,Pf.get());return this.pushStack(Xf)}});var vh=new RegExp("^("+cd+")(?!px)[a-z%]+$","i"),$h=/^--/,ed=function(bf){var Mf=bf.ownerDocument.defaultView;return(!Mf||!Mf.opener)&&(Mf=ef),Mf.getComputedStyle(bf)},gd=function(bf,Mf,Rf){var Pf,Xf,mf={};for(Xf in Mf)mf[Xf]=bf.style[Xf],bf.style[Xf]=Mf[Xf];Pf=Rf.call(bf);for(Xf in Mf)bf.style[Xf]=mf[Xf];return Pf},od=new RegExp(Zh.join("|"),"i"),ud="[\\x20\\t\\r\\n\\f]",Bd=new RegExp("^"+ud+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ud+"+$","g");(function(){function bf(){if(Nf){If.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Nf.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",kh.appendChild(If).appendChild(Nf);var kf=ef.getComputedStyle(Nf);Rf=kf.top!=="1%",wf=Mf(kf.marginLeft)===12,Nf.style.right="60%",mf=Mf(kf.right)===36,Pf=Mf(kf.width)===36,Nf.style.position="absolute",Xf=Mf(Nf.offsetWidth/3)===12,kh.removeChild(If),Nf=null}}function Mf(kf){return Math.round(parseFloat(kf))}var Rf,Pf,Xf,mf,yf,wf,If=Of.createElement("div"),Nf=Of.createElement("div");Nf.style&&(Nf.style.backgroundClip="content-box",Nf.cloneNode(!0).style.backgroundClip="",xf.clearCloneStyle=Nf.style.backgroundClip==="content-box",Cf.extend(xf,{boxSizingReliable:function(){return bf(),Pf},pixelBoxStyles:function(){return bf(),mf},pixelPosition:function(){return bf(),Rf},reliableMarginLeft:function(){return bf(),wf},scrollboxSize:function(){return bf(),Xf},reliableTrDimensions:function(){var kf,$f,Jf,Zf;return yf==null&&(kf=Of.createElement("table"),$f=Of.createElement("tr"),Jf=Of.createElement("div"),kf.style.cssText="position:absolute;left:-11111px;border-collapse:separate",$f.style.cssText="border:1px solid",$f.style.height="1px",Jf.style.height="9px",Jf.style.display="block",kh.appendChild(kf).appendChild($f).appendChild(Jf),Zf=ef.getComputedStyle($f),yf=parseInt(Zf.height,10)+parseInt(Zf.borderTopWidth,10)+parseInt(Zf.borderBottomWidth,10)===$f.offsetHeight,kh.removeChild(kf)),yf}}))})();function kd(bf,Mf,Rf){var Pf,Xf,mf,yf,wf=$h.test(Mf),If=bf.style;return Rf=Rf||ed(bf),Rf&&(yf=Rf.getPropertyValue(Mf)||Rf[Mf],wf&&yf&&(yf=yf.replace(Bd,"$1")||void 0),yf===""&&!Kh(bf)&&(yf=Cf.style(bf,Mf)),!xf.pixelBoxStyles()&&vh.test(yf)&&od.test(Mf)&&(Pf=If.width,Xf=If.minWidth,mf=If.maxWidth,If.minWidth=If.maxWidth=If.width=yf,yf=Rf.width,If.width=Pf,If.minWidth=Xf,If.maxWidth=mf)),yf!==void 0?yf+"":yf}function Nd(bf,Mf){return{get:function(){if(bf()){delete this.get;return}return(this.get=Mf).apply(this,arguments)}}}var Gd=["Webkit","Moz","ms"],ap=Of.createElement("div").style,rd={};function sd(bf){for(var Mf=bf[0].toUpperCase()+bf.slice(1),Rf=Gd.length;Rf--;)if(bf=Gd[Rf]+Mf,bf in ap)return bf}function Ed(bf){var Mf=Cf.cssProps[bf]||rd[bf];return Mf||(bf in ap?bf:rd[bf]=sd(bf)||bf)}var Dd=/^(none|table(?!-c[ea]).+)/,vp={position:"absolute",visibility:"hidden",display:"block"},yh={letterSpacing:"0",fontWeight:"400"};function Ch(bf,Mf,Rf){var Pf=pd.exec(Mf);return Pf?Math.max(0,Pf[2]-(Rf||0))+(Pf[3]||"px"):Mf}function Ph(bf,Mf,Rf,Pf,Xf,mf){var yf=Mf==="width"?1:0,wf=0,If=0;if(Rf===(Pf?"border":"content"))return 0;for(;yf<4;yf+=2)Rf==="margin"&&(If+=Cf.css(bf,Rf+Zh[yf],!0,Xf)),Pf?(Rf==="content"&&(If-=Cf.css(bf,"padding"+Zh[yf],!0,Xf)),Rf!=="margin"&&(If-=Cf.css(bf,"border"+Zh[yf]+"Width",!0,Xf))):(If+=Cf.css(bf,"padding"+Zh[yf],!0,Xf),Rf!=="padding"?If+=Cf.css(bf,"border"+Zh[yf]+"Width",!0,Xf):wf+=Cf.css(bf,"border"+Zh[yf]+"Width",!0,Xf));return!Pf&&mf>=0&&(If+=Math.max(0,Math.ceil(bf["offset"+Mf[0].toUpperCase()+Mf.slice(1)]-mf-If-wf-.5))||0),If}function zh(bf,Mf,Rf){var Pf=ed(bf),Xf=!xf.boxSizingReliable()||Rf,mf=Xf&&Cf.css(bf,"boxSizing",!1,Pf)==="border-box",yf=mf,wf=kd(bf,Mf,Pf),If="offset"+Mf[0].toUpperCase()+Mf.slice(1);if(vh.test(wf)){if(!Rf)return wf;wf="auto"}return(!xf.boxSizingReliable()&&mf||!xf.reliableTrDimensions()&&sh(bf,"tr")||wf==="auto"||!parseFloat(wf)&&Cf.css(bf,"display",!1,Pf)==="inline")&&bf.getClientRects().length&&(mf=Cf.css(bf,"boxSizing",!1,Pf)==="border-box",yf=If in bf,yf&&(wf=bf[If])),wf=parseFloat(wf)||0,wf+Ph(bf,Mf,Rf||(mf?"border":"content"),yf,Pf,wf)+"px"}Cf.extend({cssHooks:{opacity:{get:function(bf,Mf){if(Mf){var Rf=kd(bf,"opacity");return Rf===""?"1":Rf}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(bf,Mf,Rf,Pf){if(!(!bf||bf.nodeType===3||bf.nodeType===8||!bf.style)){var Xf,mf,yf,wf=oh(Mf),If=$h.test(Mf),Nf=bf.style;if(If||(Mf=Ed(wf)),yf=Cf.cssHooks[Mf]||Cf.cssHooks[wf],Rf!==void 0){if(mf=typeof Rf,mf==="string"&&(Xf=pd.exec(Rf))&&Xf[1]&&(Rf=Wh(bf,Mf,Xf),mf="number"),Rf==null||Rf!==Rf)return;mf==="number"&&!If&&(Rf+=Xf&&Xf[3]||(Cf.cssNumber[wf]?"":"px")),!xf.clearCloneStyle&&Rf===""&&Mf.indexOf("background")===0&&(Nf[Mf]="inherit"),(!yf||!("set"in yf)||(Rf=yf.set(bf,Rf,Pf))!==void 0)&&(If?Nf.setProperty(Mf,Rf):Nf[Mf]=Rf)}else return yf&&"get"in yf&&(Xf=yf.get(bf,!1,Pf))!==void 0?Xf:Nf[Mf]}},css:function(bf,Mf,Rf,Pf){var Xf,mf,yf,wf=oh(Mf),If=$h.test(Mf);return If||(Mf=Ed(wf)),yf=Cf.cssHooks[Mf]||Cf.cssHooks[wf],yf&&"get"in yf&&(Xf=yf.get(bf,!0,Rf)),Xf===void 0&&(Xf=kd(bf,Mf,Pf)),Xf==="normal"&&Mf in yh&&(Xf=yh[Mf]),Rf===""||Rf?(mf=parseFloat(Xf),Rf===!0||isFinite(mf)?mf||0:Xf):Xf}}),Cf.each(["height","width"],function(bf,Mf){Cf.cssHooks[Mf]={get:function(Rf,Pf,Xf){if(Pf)return Dd.test(Cf.css(Rf,"display"))&&(!Rf.getClientRects().length||!Rf.getBoundingClientRect().width)?gd(Rf,vp,function(){return zh(Rf,Mf,Xf)}):zh(Rf,Mf,Xf)},set:function(Rf,Pf,Xf){var mf,yf=ed(Rf),wf=!xf.scrollboxSize()&&yf.position==="absolute",If=wf||Xf,Nf=If&&Cf.css(Rf,"boxSizing",!1,yf)==="border-box",kf=Xf?Ph(Rf,Mf,Xf,Nf,yf):0;return Nf&&wf&&(kf-=Math.ceil(Rf["offset"+Mf[0].toUpperCase()+Mf.slice(1)]-parseFloat(yf[Mf])-Ph(Rf,Mf,"border",!1,yf)-.5)),kf&&(mf=pd.exec(Pf))&&(mf[3]||"px")!=="px"&&(Rf.style[Mf]=Pf,Pf=Cf.css(Rf,Mf)),Ch(Rf,Pf,kf)}}}),Cf.cssHooks.marginLeft=Nd(xf.reliableMarginLeft,function(bf,Mf){if(Mf)return(parseFloat(kd(bf,"marginLeft"))||bf.getBoundingClientRect().left-gd(bf,{marginLeft:0},function(){return bf.getBoundingClientRect().left}))+"px"}),Cf.each({margin:"",padding:"",border:"Width"},function(bf,Mf){Cf.cssHooks[bf+Mf]={expand:function(Rf){for(var Pf=0,Xf={},mf=typeof Rf=="string"?Rf.split(" "):[Rf];Pf<4;Pf++)Xf[bf+Zh[Pf]+Mf]=mf[Pf]||mf[Pf-2]||mf[0];return Xf}},bf!=="margin"&&(Cf.cssHooks[bf+Mf].set=Ch)}),Cf.fn.extend({css:function(bf,Mf){return eh(this,function(Rf,Pf,Xf){var mf,yf,wf={},If=0;if(Array.isArray(Pf)){for(mf=ed(Rf),yf=Pf.length;If<yf;If++)wf[Pf[If]]=Cf.css(Rf,Pf[If],!1,mf);return wf}return Xf!==void 0?Cf.style(Rf,Pf,Xf):Cf.css(Rf,Pf)},bf,Mf,arguments.length>1)}});function td(bf,Mf,Rf,Pf,Xf){return new td.prototype.init(bf,Mf,Rf,Pf,Xf)}Cf.Tween=td,td.prototype={constructor:td,init:function(bf,Mf,Rf,Pf,Xf,mf){this.elem=bf,this.prop=Rf,this.easing=Xf||Cf.easing._default,this.options=Mf,this.start=this.now=this.cur(),this.end=Pf,this.unit=mf||(Cf.cssNumber[Rf]?"":"px")},cur:function(){var bf=td.propHooks[this.prop];return bf&&bf.get?bf.get(this):td.propHooks._default.get(this)},run:function(bf){var Mf,Rf=td.propHooks[this.prop];return this.options.duration?this.pos=Mf=Cf.easing[this.easing](bf,this.options.duration*bf,0,1,this.options.duration):this.pos=Mf=bf,this.now=(this.end-this.start)*Mf+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Rf&&Rf.set?Rf.set(this):td.propHooks._default.set(this),this}},td.prototype.init.prototype=td.prototype,td.propHooks={_default:{get:function(bf){var Mf;return bf.elem.nodeType!==1||bf.elem[bf.prop]!=null&&bf.elem.style[bf.prop]==null?bf.elem[bf.prop]:(Mf=Cf.css(bf.elem,bf.prop,""),!Mf||Mf==="auto"?0:Mf)},set:function(bf){Cf.fx.step[bf.prop]?Cf.fx.step[bf.prop](bf):bf.elem.nodeType===1&&(Cf.cssHooks[bf.prop]||bf.elem.style[Ed(bf.prop)]!=null)?Cf.style(bf.elem,bf.prop,bf.now+bf.unit):bf.elem[bf.prop]=bf.now}}},td.propHooks.scrollTop=td.propHooks.scrollLeft={set:function(bf){bf.elem.nodeType&&bf.elem.parentNode&&(bf.elem[bf.prop]=bf.now)}},Cf.easing={linear:function(bf){return bf},swing:function(bf){return .5-Math.cos(bf*Math.PI)/2},_default:"swing"},Cf.fx=td.prototype.init,Cf.fx.step={};var dd,Sh,Dh=/^(?:toggle|show|hide)$/,Lh=/queueHooks$/;function Yh(){Sh&&(Of.hidden===!1&&ef.requestAnimationFrame?ef.requestAnimationFrame(Yh):ef.setTimeout(Yh,Cf.fx.interval),Cf.fx.tick())}function Md(){return ef.setTimeout(function(){dd=void 0}),dd=Date.now()}function Cd(bf,Mf){var Rf,Pf=0,Xf={height:bf};for(Mf=Mf?1:0;Pf<4;Pf+=2-Mf)Rf=Zh[Pf],Xf["margin"+Rf]=Xf["padding"+Rf]=bf;return Mf&&(Xf.opacity=Xf.width=bf),Xf}function zd(bf,Mf,Rf){for(var Pf,Xf=(Qd.tweeners[Mf]||[]).concat(Qd.tweeners["*"]),mf=0,yf=Xf.length;mf<yf;mf++)if(Pf=Xf[mf].call(Rf,Mf,bf))return Pf}function gp(bf,Mf,Rf){var Pf,Xf,mf,yf,wf,If,Nf,kf,$f="width"in Mf||"height"in Mf,Jf=this,Zf={},ph=bf.style,Mh=bf.nodeType&&xh(bf),Ih=zf.get(bf,"fxshow");Rf.queue||(yf=Cf._queueHooks(bf,"fx"),yf.unqueued==null&&(yf.unqueued=0,wf=yf.empty.fire,yf.empty.fire=function(){yf.unqueued||wf()}),yf.unqueued++,Jf.always(function(){Jf.always(function(){yf.unqueued--,Cf.queue(bf,"fx").length||yf.empty.fire()})}));for(Pf in Mf)if(Xf=Mf[Pf],Dh.test(Xf)){if(delete Mf[Pf],mf=mf||Xf==="toggle",Xf===(Mh?"hide":"show"))if(Xf==="show"&&Ih&&Ih[Pf]!==void 0)Mh=!0;else continue;Zf[Pf]=Ih&&Ih[Pf]||Cf.style(bf,Pf)}if(If=!Cf.isEmptyObject(Mf),!(!If&&Cf.isEmptyObject(Zf))){$f&&bf.nodeType===1&&(Rf.overflow=[ph.overflow,ph.overflowX,ph.overflowY],Nf=Ih&&Ih.display,Nf==null&&(Nf=zf.get(bf,"display")),kf=Cf.css(bf,"display"),kf==="none"&&(Nf?kf=Nf:(ad([bf],!0),Nf=bf.style.display||Nf,kf=Cf.css(bf,"display"),ad([bf]))),(kf==="inline"||kf==="inline-block"&&Nf!=null)&&Cf.css(bf,"float")==="none"&&(If||(Jf.done(function(){ph.display=Nf}),Nf==null&&(kf=ph.display,Nf=kf==="none"?"":kf)),ph.display="inline-block")),Rf.overflow&&(ph.overflow="hidden",Jf.always(function(){ph.overflow=Rf.overflow[0],ph.overflowX=Rf.overflow[1],ph.overflowY=Rf.overflow[2]})),If=!1;for(Pf in Zf)If||(Ih?"hidden"in Ih&&(Mh=Ih.hidden):Ih=zf.access(bf,"fxshow",{display:Nf}),mf&&(Ih.hidden=!Mh),Mh&&ad([bf],!0),Jf.done(function(){Mh||ad([bf]),zf.remove(bf,"fxshow");for(Pf in Zf)Cf.style(bf,Pf,Zf[Pf])})),If=zd(Mh?Ih[Pf]:0,Pf,Jf),Pf in Ih||(Ih[Pf]=If.start,Mh&&(If.end=If.start,If.start=0))}}function Ap(bf,Mf){var Rf,Pf,Xf,mf,yf;for(Rf in bf)if(Pf=oh(Rf),Xf=Mf[Pf],mf=bf[Rf],Array.isArray(mf)&&(Xf=mf[1],mf=bf[Rf]=mf[0]),Rf!==Pf&&(bf[Pf]=mf,delete bf[Rf]),yf=Cf.cssHooks[Pf],yf&&"expand"in yf){mf=yf.expand(mf),delete bf[Pf];for(Rf in mf)Rf in bf||(bf[Rf]=mf[Rf],Mf[Rf]=Xf)}else Mf[Pf]=Xf}function Qd(bf,Mf,Rf){var Pf,Xf,mf=0,yf=Qd.prefilters.length,wf=Cf.Deferred().always(function(){delete If.elem}),If=function(){if(Xf)return!1;for(var $f=dd||Md(),Jf=Math.max(0,Nf.startTime+Nf.duration-$f),Zf=Jf/Nf.duration||0,ph=1-Zf,Mh=0,Ih=Nf.tweens.length;Mh<Ih;Mh++)Nf.tweens[Mh].run(ph);return wf.notifyWith(bf,[Nf,ph,Jf]),ph<1&&Ih?Jf:(Ih||wf.notifyWith(bf,[Nf,1,0]),wf.resolveWith(bf,[Nf]),!1)},Nf=wf.promise({elem:bf,props:Cf.extend({},Mf),opts:Cf.extend(!0,{specialEasing:{},easing:Cf.easing._default},Rf),originalProperties:Mf,originalOptions:Rf,startTime:dd||Md(),duration:Rf.duration,tweens:[],createTween:function($f,Jf){var Zf=Cf.Tween(bf,Nf.opts,$f,Jf,Nf.opts.specialEasing[$f]||Nf.opts.easing);return Nf.tweens.push(Zf),Zf},stop:function($f){var Jf=0,Zf=$f?Nf.tweens.length:0;if(Xf)return this;for(Xf=!0;Jf<Zf;Jf++)Nf.tweens[Jf].run(1);return $f?(wf.notifyWith(bf,[Nf,1,0]),wf.resolveWith(bf,[Nf,$f])):wf.rejectWith(bf,[Nf,$f]),this}}),kf=Nf.props;for(Ap(kf,Nf.opts.specialEasing);mf<yf;mf++)if(Pf=Qd.prefilters[mf].call(Nf,bf,kf,Nf.opts),Pf)return Af(Pf.stop)&&(Cf._queueHooks(Nf.elem,Nf.opts.queue).stop=Pf.stop.bind(Pf)),Pf;return Cf.map(kf,zd,Nf),Af(Nf.opts.start)&&Nf.opts.start.call(bf,Nf),Nf.progress(Nf.opts.progress).done(Nf.opts.done,Nf.opts.complete).fail(Nf.opts.fail).always(Nf.opts.always),Cf.fx.timer(Cf.extend(If,{elem:bf,anim:Nf,queue:Nf.opts.queue})),Nf}Cf.Animation=Cf.extend(Qd,{tweeners:{"*":[function(bf,Mf){var Rf=this.createTween(bf,Mf);return Wh(Rf.elem,bf,pd.exec(Mf),Rf),Rf}]},tweener:function(bf,Mf){Af(bf)?(Mf=bf,bf=["*"]):bf=bf.match(hf);for(var Rf,Pf=0,Xf=bf.length;Pf<Xf;Pf++)Rf=bf[Pf],Qd.tweeners[Rf]=Qd.tweeners[Rf]||[],Qd.tweeners[Rf].unshift(Mf)},prefilters:[gp],prefilter:function(bf,Mf){Mf?Qd.prefilters.unshift(bf):Qd.prefilters.push(bf)}}),Cf.speed=function(bf,Mf,Rf){var Pf=bf&&typeof bf=="object"?Cf.extend({},bf):{complete:Rf||!Rf&&Mf||Af(bf)&&bf,duration:bf,easing:Rf&&Mf||Mf&&!Af(Mf)&&Mf};return Cf.fx.off?Pf.duration=0:typeof Pf.duration!="number"&&(Pf.duration in Cf.fx.speeds?Pf.duration=Cf.fx.speeds[Pf.duration]:Pf.duration=Cf.fx.speeds._default),(Pf.queue==null||Pf.queue===!0)&&(Pf.queue="fx"),Pf.old=Pf.complete,Pf.complete=function(){Af(Pf.old)&&Pf.old.call(this),Pf.queue&&Cf.dequeue(this,Pf.queue)},Pf},Cf.fn.extend({fadeTo:function(bf,Mf,Rf,Pf){return this.filter(xh).css("opacity",0).show().end().animate({opacity:Mf},bf,Rf,Pf)},animate:function(bf,Mf,Rf,Pf){var Xf=Cf.isEmptyObject(bf),mf=Cf.speed(Mf,Rf,Pf),yf=function(){var wf=Qd(this,Cf.extend({},bf),mf);(Xf||zf.get(this,"finish"))&&wf.stop(!0)};return yf.finish=yf,Xf||mf.queue===!1?this.each(yf):this.queue(mf.queue,yf)},stop:function(bf,Mf,Rf){var Pf=function(Xf){var mf=Xf.stop;delete Xf.stop,mf(Rf)};return typeof bf!="string"&&(Rf=Mf,Mf=bf,bf=void 0),Mf&&this.queue(bf||"fx",[]),this.each(function(){var Xf=!0,mf=bf!=null&&bf+"queueHooks",yf=Cf.timers,wf=zf.get(this);if(mf)wf[mf]&&wf[mf].stop&&Pf(wf[mf]);else for(mf in wf)wf[mf]&&wf[mf].stop&&Lh.test(mf)&&Pf(wf[mf]);for(mf=yf.length;mf--;)yf[mf].elem===this&&(bf==null||yf[mf].queue===bf)&&(yf[mf].anim.stop(Rf),Xf=!1,yf.splice(mf,1));(Xf||!Rf)&&Cf.dequeue(this,bf)})},finish:function(bf){return bf!==!1&&(bf=bf||"fx"),this.each(function(){var Mf,Rf=zf.get(this),Pf=Rf[bf+"queue"],Xf=Rf[bf+"queueHooks"],mf=Cf.timers,yf=Pf?Pf.length:0;for(Rf.finish=!0,Cf.queue(this,bf,[]),Xf&&Xf.stop&&Xf.stop.call(this,!0),Mf=mf.length;Mf--;)mf[Mf].elem===this&&mf[Mf].queue===bf&&(mf[Mf].anim.stop(!0),mf.splice(Mf,1));for(Mf=0;Mf<yf;Mf++)Pf[Mf]&&Pf[Mf].finish&&Pf[Mf].finish.call(this);delete Rf.finish})}}),Cf.each(["toggle","show","hide"],function(bf,Mf){var Rf=Cf.fn[Mf];Cf.fn[Mf]=function(Pf,Xf,mf){return Pf==null||typeof Pf=="boolean"?Rf.apply(this,arguments):this.animate(Cd(Mf,!0),Pf,Xf,mf)}}),Cf.each({slideDown:Cd("show"),slideUp:Cd("hide"),slideToggle:Cd("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(bf,Mf){Cf.fn[bf]=function(Rf,Pf,Xf){return this.animate(Mf,Rf,Pf,Xf)}}),Cf.timers=[],Cf.fx.tick=function(){var bf,Mf=0,Rf=Cf.timers;for(dd=Date.now();Mf<Rf.length;Mf++)bf=Rf[Mf],!bf()&&Rf[Mf]===bf&&Rf.splice(Mf--,1);Rf.length||Cf.fx.stop(),dd=void 0},Cf.fx.timer=function(bf){Cf.timers.push(bf),Cf.fx.start()},Cf.fx.interval=13,Cf.fx.start=function(){Sh||(Sh=!0,Yh())},Cf.fx.stop=function(){Sh=null},Cf.fx.speeds={slow:600,fast:200,_default:400},Cf.fn.delay=function(bf,Mf){return bf=Cf.fx&&Cf.fx.speeds[bf]||bf,Mf=Mf||"fx",this.queue(Mf,function(Rf,Pf){var Xf=ef.setTimeout(Rf,bf);Pf.stop=function(){ef.clearTimeout(Xf)}})},function(){var bf=Of.createElement("input"),Mf=Of.createElement("select"),Rf=Mf.appendChild(Of.createElement("option"));bf.type="checkbox",xf.checkOn=bf.value!=="",xf.optSelected=Rf.selected,bf=Of.createElement("input"),bf.value="t",bf.type="radio",xf.radioValue=bf.value==="t"}();var Bp,wp=Cf.expr.attrHandle;Cf.fn.extend({attr:function(bf,Mf){return eh(this,Cf.attr,bf,Mf,arguments.length>1)},removeAttr:function(bf){return this.each(function(){Cf.removeAttr(this,bf)})}}),Cf.extend({attr:function(bf,Mf,Rf){var Pf,Xf,mf=bf.nodeType;if(!(mf===3||mf===8||mf===2)){if(typeof bf.getAttribute>"u")return Cf.prop(bf,Mf,Rf);if((mf!==1||!Cf.isXMLDoc(bf))&&(Xf=Cf.attrHooks[Mf.toLowerCase()]||(Cf.expr.match.bool.test(Mf)?Bp:void 0)),Rf!==void 0){if(Rf===null){Cf.removeAttr(bf,Mf);return}return Xf&&"set"in Xf&&(Pf=Xf.set(bf,Rf,Mf))!==void 0?Pf:(bf.setAttribute(Mf,Rf+""),Rf)}return Xf&&"get"in Xf&&(Pf=Xf.get(bf,Mf))!==null?Pf:(Pf=Cf.find.attr(bf,Mf),Pf??void 0)}},attrHooks:{type:{set:function(bf,Mf){if(!xf.radioValue&&Mf==="radio"&&sh(bf,"input")){var Rf=bf.value;return bf.setAttribute("type",Mf),Rf&&(bf.value=Rf),Mf}}}},removeAttr:function(bf,Mf){var Rf,Pf=0,Xf=Mf&&Mf.match(hf);if(Xf&&bf.nodeType===1)for(;Rf=Xf[Pf++];)bf.removeAttribute(Rf)}}),Bp={set:function(bf,Mf,Rf){return Mf===!1?Cf.removeAttr(bf,Rf):bf.setAttribute(Rf,Rf),Rf}},Cf.each(Cf.expr.match.bool.source.match(/\w+/g),function(bf,Mf){var Rf=wp[Mf]||Cf.find.attr;wp[Mf]=function(Pf,Xf,mf){var yf,wf,If=Xf.toLowerCase();return mf||(wf=wp[If],wp[If]=yf,yf=Rf(Pf,Xf,mf)!=null?If:null,wp[If]=wf),yf}});var Gp=/^(?:input|select|textarea|button)$/i,e0=/^(?:a|area)$/i;Cf.fn.extend({prop:function(bf,Mf){return eh(this,Cf.prop,bf,Mf,arguments.length>1)},removeProp:function(bf){return this.each(function(){delete this[Cf.propFix[bf]||bf]})}}),Cf.extend({prop:function(bf,Mf,Rf){var Pf,Xf,mf=bf.nodeType;if(!(mf===3||mf===8||mf===2))return(mf!==1||!Cf.isXMLDoc(bf))&&(Mf=Cf.propFix[Mf]||Mf,Xf=Cf.propHooks[Mf]),Rf!==void 0?Xf&&"set"in Xf&&(Pf=Xf.set(bf,Rf,Mf))!==void 0?Pf:bf[Mf]=Rf:Xf&&"get"in Xf&&(Pf=Xf.get(bf,Mf))!==null?Pf:bf[Mf]},propHooks:{tabIndex:{get:function(bf){var Mf=Cf.find.attr(bf,"tabindex");return Mf?parseInt(Mf,10):Gp.test(bf.nodeName)||e0.test(bf.nodeName)&&bf.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xf.optSelected||(Cf.propHooks.selected={get:function(bf){var Mf=bf.parentNode;return Mf&&Mf.parentNode&&Mf.parentNode.selectedIndex,null},set:function(bf){var Mf=bf.parentNode;Mf&&(Mf.selectedIndex,Mf.parentNode&&Mf.parentNode.selectedIndex)}}),Cf.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Cf.propFix[this.toLowerCase()]=this});function xp(bf){var Mf=bf.match(hf)||[];return Mf.join(" ")}function Fp(bf){return bf.getAttribute&&bf.getAttribute("class")||""}function r0(bf){return Array.isArray(bf)?bf:typeof bf=="string"?bf.match(hf)||[]:[]}Cf.fn.extend({addClass:function(bf){var Mf,Rf,Pf,Xf,mf,yf;return Af(bf)?this.each(function(wf){Cf(this).addClass(bf.call(this,wf,Fp(this)))}):(Mf=r0(bf),Mf.length?this.each(function(){if(Pf=Fp(this),Rf=this.nodeType===1&&" "+xp(Pf)+" ",Rf){for(mf=0;mf<Mf.length;mf++)Xf=Mf[mf],Rf.indexOf(" "+Xf+" ")<0&&(Rf+=Xf+" ");yf=xp(Rf),Pf!==yf&&this.setAttribute("class",yf)}}):this)},removeClass:function(bf){var Mf,Rf,Pf,Xf,mf,yf;return Af(bf)?this.each(function(wf){Cf(this).removeClass(bf.call(this,wf,Fp(this)))}):arguments.length?(Mf=r0(bf),Mf.length?this.each(function(){if(Pf=Fp(this),Rf=this.nodeType===1&&" "+xp(Pf)+" ",Rf){for(mf=0;mf<Mf.length;mf++)for(Xf=Mf[mf];Rf.indexOf(" "+Xf+" ")>-1;)Rf=Rf.replace(" "+Xf+" "," ");yf=xp(Rf),Pf!==yf&&this.setAttribute("class",yf)}}):this):this.attr("class","")},toggleClass:function(bf,Mf){var Rf,Pf,Xf,mf,yf=typeof bf,wf=yf==="string"||Array.isArray(bf);return Af(bf)?this.each(function(If){Cf(this).toggleClass(bf.call(this,If,Fp(this),Mf),Mf)}):typeof Mf=="boolean"&&wf?Mf?this.addClass(bf):this.removeClass(bf):(Rf=r0(bf),this.each(function(){if(wf)for(mf=Cf(this),Xf=0;Xf<Rf.length;Xf++)Pf=Rf[Xf],mf.hasClass(Pf)?mf.removeClass(Pf):mf.addClass(Pf);else(bf===void 0||yf==="boolean")&&(Pf=Fp(this),Pf&&zf.set(this,"__className__",Pf),this.setAttribute&&this.setAttribute("class",Pf||bf===!1?"":zf.get(this,"__className__")||""))}))},hasClass:function(bf){var Mf,Rf,Pf=0;for(Mf=" "+bf+" ";Rf=this[Pf++];)if(Rf.nodeType===1&&(" "+xp(Fp(Rf))+" ").indexOf(Mf)>-1)return!0;return!1}});var W0=/\r/g;Cf.fn.extend({val:function(bf){var Mf,Rf,Pf,Xf=this[0];return arguments.length?(Pf=Af(bf),this.each(function(mf){var yf;this.nodeType===1&&(Pf?yf=bf.call(this,mf,Cf(this).val()):yf=bf,yf==null?yf="":typeof yf=="number"?yf+="":Array.isArray(yf)&&(yf=Cf.map(yf,function(wf){return wf==null?"":wf+""})),Mf=Cf.valHooks[this.type]||Cf.valHooks[this.nodeName.toLowerCase()],(!Mf||!("set"in Mf)||Mf.set(this,yf,"value")===void 0)&&(this.value=yf))})):Xf?(Mf=Cf.valHooks[Xf.type]||Cf.valHooks[Xf.nodeName.toLowerCase()],Mf&&"get"in Mf&&(Rf=Mf.get(Xf,"value"))!==void 0?Rf:(Rf=Xf.value,typeof Rf=="string"?Rf.replace(W0,""):Rf??"")):void 0}}),Cf.extend({valHooks:{option:{get:function(bf){var Mf=Cf.find.attr(bf,"value");return Mf??xp(Cf.text(bf))}},select:{get:function(bf){var Mf,Rf,Pf,Xf=bf.options,mf=bf.selectedIndex,yf=bf.type==="select-one",wf=yf?null:[],If=yf?mf+1:Xf.length;for(mf<0?Pf=If:Pf=yf?mf:0;Pf<If;Pf++)if(Rf=Xf[Pf],(Rf.selected||Pf===mf)&&!Rf.disabled&&(!Rf.parentNode.disabled||!sh(Rf.parentNode,"optgroup"))){if(Mf=Cf(Rf).val(),yf)return Mf;wf.push(Mf)}return wf},set:function(bf,Mf){for(var Rf,Pf,Xf=bf.options,mf=Cf.makeArray(Mf),yf=Xf.length;yf--;)Pf=Xf[yf],(Pf.selected=Cf.inArray(Cf.valHooks.option.get(Pf),mf)>-1)&&(Rf=!0);return Rf||(bf.selectedIndex=-1),mf}}}}),Cf.each(["radio","checkbox"],function(){Cf.valHooks[this]={set:function(bf,Mf){if(Array.isArray(Mf))return bf.checked=Cf.inArray(Cf(bf).val(),Mf)>-1}},xf.checkOn||(Cf.valHooks[this].get=function(bf){return bf.getAttribute("value")===null?"on":bf.value})}),xf.focusin="onfocusin"in ef;var P0=/^(?:focusinfocus|focusoutblur)$/,t0=function(bf){bf.stopPropagation()};Cf.extend(Cf.event,{trigger:function(bf,Mf,Rf,Pf){var Xf,mf,yf,wf,If,Nf,kf,$f,Jf=[Rf||Of],Zf=df.call(bf,"type")?bf.type:bf,ph=df.call(bf,"namespace")?bf.namespace.split("."):[];if(mf=$f=yf=Rf=Rf||Of,!(Rf.nodeType===3||Rf.nodeType===8)&&!P0.test(Zf+Cf.event.triggered)&&(Zf.indexOf(".")>-1&&(ph=Zf.split("."),Zf=ph.shift(),ph.sort()),If=Zf.indexOf(":")<0&&"on"+Zf,bf=bf[Cf.expando]?bf:new Cf.Event(Zf,typeof bf=="object"&&bf),bf.isTrigger=Pf?2:3,bf.namespace=ph.join("."),bf.rnamespace=bf.namespace?new RegExp("(^|\\.)"+ph.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,bf.result=void 0,bf.target||(bf.target=Rf),Mf=Mf==null?[bf]:Cf.makeArray(Mf,[bf]),kf=Cf.event.special[Zf]||{},!(!Pf&&kf.trigger&&kf.trigger.apply(Rf,Mf)===!1))){if(!Pf&&!kf.noBubble&&!Df(Rf)){for(wf=kf.delegateType||Zf,P0.test(wf+Zf)||(mf=mf.parentNode);mf;mf=mf.parentNode)Jf.push(mf),yf=mf;yf===(Rf.ownerDocument||Of)&&Jf.push(yf.defaultView||yf.parentWindow||ef)}for(Xf=0;(mf=Jf[Xf++])&&!bf.isPropagationStopped();)$f=mf,bf.type=Xf>1?wf:kf.bindType||Zf,Nf=(zf.get(mf,"events")||Object.create(null))[bf.type]&&zf.get(mf,"handle"),Nf&&Nf.apply(mf,Mf),Nf=If&&mf[If],Nf&&Nf.apply&&gh(mf)&&(bf.result=Nf.apply(mf,Mf),bf.result===!1&&bf.preventDefault());return bf.type=Zf,!Pf&&!bf.isDefaultPrevented()&&(!kf._default||kf._default.apply(Jf.pop(),Mf)===!1)&&gh(Rf)&&If&&Af(Rf[Zf])&&!Df(Rf)&&(yf=Rf[If],yf&&(Rf[If]=null),Cf.event.triggered=Zf,bf.isPropagationStopped()&&$f.addEventListener(Zf,t0),Rf[Zf](),bf.isPropagationStopped()&&$f.removeEventListener(Zf,t0),Cf.event.triggered=void 0,yf&&(Rf[If]=yf)),bf.result}},simulate:function(bf,Mf,Rf){var Pf=Cf.extend(new Cf.Event,Rf,{type:bf,isSimulated:!0});Cf.event.trigger(Pf,null,Mf)}}),Cf.fn.extend({trigger:function(bf,Mf){return this.each(function(){Cf.event.trigger(bf,Mf,this)})},triggerHandler:function(bf,Mf){var Rf=this[0];if(Rf)return Cf.event.trigger(bf,Mf,Rf,!0)}}),xf.focusin||Cf.each({focus:"focusin",blur:"focusout"},function(bf,Mf){var Rf=function(Pf){Cf.event.simulate(Mf,Pf.target,Cf.event.fix(Pf))};Cf.event.special[Mf]={setup:function(){var Pf=this.ownerDocument||this.document||this,Xf=zf.access(Pf,Mf);Xf||Pf.addEventListener(bf,Rf,!0),zf.access(Pf,Mf,(Xf||0)+1)},teardown:function(){var Pf=this.ownerDocument||this.document||this,Xf=zf.access(Pf,Mf)-1;Xf?zf.access(Pf,Mf,Xf):(Pf.removeEventListener(bf,Rf,!0),zf.remove(Pf,Mf))}}});var $p=ef.location,p0={guid:Date.now()},S0=/\?/;Cf.parseXML=function(bf){var Mf,Rf;if(!bf||typeof bf!="string")return null;try{Mf=new ef.DOMParser().parseFromString(bf,"text/xml")}catch{}return Rf=Mf&&Mf.getElementsByTagName("parsererror")[0],(!Mf||Rf)&&Cf.error("Invalid XML: "+(Rf?Cf.map(Rf.childNodes,function(Pf){return Pf.textContent}).join(`
`):bf)),Mf};var u0=/\[\]$/,T0=/\r?\n/g,A0=/^(?:submit|button|image|reset|file)$/i,L0=/^(?:input|select|textarea|keygen)/i;function m0(bf,Mf,Rf,Pf){var Xf;if(Array.isArray(Mf))Cf.each(Mf,function(mf,yf){Rf||u0.test(bf)?Pf(bf,yf):m0(bf+"["+(typeof yf=="object"&&yf!=null?mf:"")+"]",yf,Rf,Pf)});else if(!Rf&&Vf(Mf)==="object")for(Xf in Mf)m0(bf+"["+Xf+"]",Mf[Xf],Rf,Pf);else Pf(bf,Mf)}Cf.param=function(bf,Mf){var Rf,Pf=[],Xf=function(mf,yf){var wf=Af(yf)?yf():yf;Pf[Pf.length]=encodeURIComponent(mf)+"="+encodeURIComponent(wf??"")};if(bf==null)return"";if(Array.isArray(bf)||bf.jquery&&!Cf.isPlainObject(bf))Cf.each(bf,function(){Xf(this.name,this.value)});else for(Rf in bf)m0(Rf,bf[Rf],Mf,Xf);return Pf.join("&")},Cf.fn.extend({serialize:function(){return Cf.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var bf=Cf.prop(this,"elements");return bf?Cf.makeArray(bf):this}).filter(function(){var bf=this.type;return this.name&&!Cf(this).is(":disabled")&&L0.test(this.nodeName)&&!A0.test(bf)&&(this.checked||!vd.test(bf))}).map(function(bf,Mf){var Rf=Cf(this).val();return Rf==null?null:Array.isArray(Rf)?Cf.map(Rf,function(Pf){return{name:Mf.name,value:Pf.replace(T0,`\r
`)}}):{name:Mf.name,value:Rf.replace(T0,`\r
`)}}).get()}});var j0=/%20/g,B0=/#.*$/,X0=/([?&])_=[^&]*/,Y0=/^(.*?):[ \t]*([^\r\n]*)$/mg,w0=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,q0=/^(?:GET|HEAD)$/,K0=/^\/\//,k0={},M0={},G0="*/".concat("*"),I0=Of.createElement("a");I0.href=$p.href;function U0(bf){return function(Mf,Rf){typeof Mf!="string"&&(Rf=Mf,Mf="*");var Pf,Xf=0,mf=Mf.toLowerCase().match(hf)||[];if(Af(Rf))for(;Pf=mf[Xf++];)Pf[0]==="+"?(Pf=Pf.slice(1)||"*",(bf[Pf]=bf[Pf]||[]).unshift(Rf)):(bf[Pf]=bf[Pf]||[]).push(Rf)}}function D0(bf,Mf,Rf,Pf){var Xf={},mf=bf===M0;function yf(wf){var If;return Xf[wf]=!0,Cf.each(bf[wf]||[],function(Nf,kf){var $f=kf(Mf,Rf,Pf);if(typeof $f=="string"&&!mf&&!Xf[$f])return Mf.dataTypes.unshift($f),yf($f),!1;if(mf)return!(If=$f)}),If}return yf(Mf.dataTypes[0])||!Xf["*"]&&yf("*")}function f0(bf,Mf){var Rf,Pf,Xf=Cf.ajaxSettings.flatOptions||{};for(Rf in Mf)Mf[Rf]!==void 0&&((Xf[Rf]?bf:Pf||(Pf={}))[Rf]=Mf[Rf]);return Pf&&Cf.extend(!0,bf,Pf),bf}function V0(bf,Mf,Rf){for(var Pf,Xf,mf,yf,wf=bf.contents,If=bf.dataTypes;If[0]==="*";)If.shift(),Pf===void 0&&(Pf=bf.mimeType||Mf.getResponseHeader("Content-Type"));if(Pf){for(Xf in wf)if(wf[Xf]&&wf[Xf].test(Pf)){If.unshift(Xf);break}}if(If[0]in Rf)mf=If[0];else{for(Xf in Rf){if(!If[0]||bf.converters[Xf+" "+If[0]]){mf=Xf;break}yf||(yf=Xf)}mf=mf||yf}if(mf)return mf!==If[0]&&If.unshift(mf),Rf[mf]}function O0(bf,Mf,Rf,Pf){var Xf,mf,yf,wf,If,Nf={},kf=bf.dataTypes.slice();if(kf[1])for(yf in bf.converters)Nf[yf.toLowerCase()]=bf.converters[yf];for(mf=kf.shift();mf;)if(bf.responseFields[mf]&&(Rf[bf.responseFields[mf]]=Mf),!If&&Pf&&bf.dataFilter&&(Mf=bf.dataFilter(Mf,bf.dataType)),If=mf,mf=kf.shift(),mf){if(mf==="*")mf=If;else if(If!=="*"&&If!==mf){if(yf=Nf[If+" "+mf]||Nf["* "+mf],!yf){for(Xf in Nf)if(wf=Xf.split(" "),wf[1]===mf&&(yf=Nf[If+" "+wf[0]]||Nf["* "+wf[0]],yf)){yf===!0?yf=Nf[Xf]:Nf[Xf]!==!0&&(mf=wf[0],kf.unshift(wf[1]));break}}if(yf!==!0)if(yf&&bf.throws)Mf=yf(Mf);else try{Mf=yf(Mf)}catch($f){return{state:"parsererror",error:yf?$f:"No conversion from "+If+" to "+mf}}}}return{state:"success",data:Mf}}Cf.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$p.href,type:"GET",isLocal:w0.test($p.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":G0,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Cf.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(bf,Mf){return Mf?f0(f0(bf,Cf.ajaxSettings),Mf):f0(Cf.ajaxSettings,bf)},ajaxPrefilter:U0(k0),ajaxTransport:U0(M0),ajax:function(bf,Mf){typeof bf=="object"&&(Mf=bf,bf=void 0),Mf=Mf||{};var Rf,Pf,Xf,mf,yf,wf,If,Nf,kf,$f,Jf=Cf.ajaxSetup({},Mf),Zf=Jf.context||Jf,ph=Jf.context&&(Zf.nodeType||Zf.jquery)?Cf(Zf):Cf.event,Mh=Cf.Deferred(),Ih=Cf.Callbacks("once memory"),Oh=Jf.statusCode||{},Xh={},wd={},Td="canceled",hd={readyState:0,getResponseHeader:function(Rd){var np;if(If){if(!mf)for(mf={};np=Y0.exec(Xf);)mf[np[1].toLowerCase()+" "]=(mf[np[1].toLowerCase()+" "]||[]).concat(np[2]);np=mf[Rd.toLowerCase()+" "]}return np==null?null:np.join(", ")},getAllResponseHeaders:function(){return If?Xf:null},setRequestHeader:function(Rd,np){return If==null&&(Rd=wd[Rd.toLowerCase()]=wd[Rd.toLowerCase()]||Rd,Xh[Rd]=np),this},overrideMimeType:function(Rd){return If==null&&(Jf.mimeType=Rd),this},statusCode:function(Rd){var np;if(Rd)if(If)hd.always(Rd[hd.status]);else for(np in Rd)Oh[np]=[Oh[np],Rd[np]];return this},abort:function(Rd){var np=Rd||Td;return Rf&&Rf.abort(np),op(0,np),this}};if(Mh.promise(hd),Jf.url=((bf||Jf.url||$p.href)+"").replace(K0,$p.protocol+"//"),Jf.type=Mf.method||Mf.type||Jf.method||Jf.type,Jf.dataTypes=(Jf.dataType||"*").toLowerCase().match(hf)||[""],Jf.crossDomain==null){wf=Of.createElement("a");try{wf.href=Jf.url,wf.href=wf.href,Jf.crossDomain=I0.protocol+"//"+I0.host!=wf.protocol+"//"+wf.host}catch{Jf.crossDomain=!0}}if(Jf.data&&Jf.processData&&typeof Jf.data!="string"&&(Jf.data=Cf.param(Jf.data,Jf.traditional)),D0(k0,Jf,Mf,hd),If)return hd;Nf=Cf.event&&Jf.global,Nf&&Cf.active++===0&&Cf.event.trigger("ajaxStart"),Jf.type=Jf.type.toUpperCase(),Jf.hasContent=!q0.test(Jf.type),Pf=Jf.url.replace(B0,""),Jf.hasContent?Jf.data&&Jf.processData&&(Jf.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Jf.data=Jf.data.replace(j0,"+")):($f=Jf.url.slice(Pf.length),Jf.data&&(Jf.processData||typeof Jf.data=="string")&&(Pf+=(S0.test(Pf)?"&":"?")+Jf.data,delete Jf.data),Jf.cache===!1&&(Pf=Pf.replace(X0,"$1"),$f=(S0.test(Pf)?"&":"?")+"_="+p0.guid+++$f),Jf.url=Pf+$f),Jf.ifModified&&(Cf.lastModified[Pf]&&hd.setRequestHeader("If-Modified-Since",Cf.lastModified[Pf]),Cf.etag[Pf]&&hd.setRequestHeader("If-None-Match",Cf.etag[Pf])),(Jf.data&&Jf.hasContent&&Jf.contentType!==!1||Mf.contentType)&&hd.setRequestHeader("Content-Type",Jf.contentType),hd.setRequestHeader("Accept",Jf.dataTypes[0]&&Jf.accepts[Jf.dataTypes[0]]?Jf.accepts[Jf.dataTypes[0]]+(Jf.dataTypes[0]!=="*"?", "+G0+"; q=0.01":""):Jf.accepts["*"]);for(kf in Jf.headers)hd.setRequestHeader(kf,Jf.headers[kf]);if(Jf.beforeSend&&(Jf.beforeSend.call(Zf,hd,Jf)===!1||If))return hd.abort();if(Td="abort",Ih.add(Jf.complete),hd.done(Jf.success),hd.fail(Jf.error),Rf=D0(M0,Jf,Mf,hd),!Rf)op(-1,"No Transport");else{if(hd.readyState=1,Nf&&ph.trigger("ajaxSend",[hd,Jf]),If)return hd;Jf.async&&Jf.timeout>0&&(yf=ef.setTimeout(function(){hd.abort("timeout")},Jf.timeout));try{If=!1,Rf.send(Xh,op)}catch(Rd){if(If)throw Rd;op(-1,Rd)}}function op(Rd,np,Rp,Yd){var Cp,qd,up,Sp,Kp,yp=np;If||(If=!0,yf&&ef.clearTimeout(yf),Rf=void 0,Xf=Yd||"",hd.readyState=Rd>0?4:0,Cp=Rd>=200&&Rd<300||Rd===304,Rp&&(Sp=V0(Jf,hd,Rp)),!Cp&&Cf.inArray("script",Jf.dataTypes)>-1&&Cf.inArray("json",Jf.dataTypes)<0&&(Jf.converters["text script"]=function(){}),Sp=O0(Jf,Sp,hd,Cp),Cp?(Jf.ifModified&&(Kp=hd.getResponseHeader("Last-Modified"),Kp&&(Cf.lastModified[Pf]=Kp),Kp=hd.getResponseHeader("etag"),Kp&&(Cf.etag[Pf]=Kp)),Rd===204||Jf.type==="HEAD"?yp="nocontent":Rd===304?yp="notmodified":(yp=Sp.state,qd=Sp.data,up=Sp.error,Cp=!up)):(up=yp,(Rd||!yp)&&(yp="error",Rd<0&&(Rd=0))),hd.status=Rd,hd.statusText=(np||yp)+"",Cp?Mh.resolveWith(Zf,[qd,yp,hd]):Mh.rejectWith(Zf,[hd,yp,up]),hd.statusCode(Oh),Oh=void 0,Nf&&ph.trigger(Cp?"ajaxSuccess":"ajaxError",[hd,Jf,Cp?qd:up]),Ih.fireWith(Zf,[hd,yp]),Nf&&(ph.trigger("ajaxComplete",[hd,Jf]),--Cf.active||Cf.event.trigger("ajaxStop")))}return hd},getJSON:function(bf,Mf,Rf){return Cf.get(bf,Mf,Rf,"json")},getScript:function(bf,Mf){return Cf.get(bf,void 0,Mf,"script")}}),Cf.each(["get","post"],function(bf,Mf){Cf[Mf]=function(Rf,Pf,Xf,mf){return Af(Pf)&&(mf=mf||Xf,Xf=Pf,Pf=void 0),Cf.ajax(Cf.extend({url:Rf,type:Mf,dataType:mf,data:Pf,success:Xf},Cf.isPlainObject(Rf)&&Rf))}}),Cf.ajaxPrefilter(function(bf){var Mf;for(Mf in bf.headers)Mf.toLowerCase()==="content-type"&&(bf.contentType=bf.headers[Mf]||"")}),Cf._evalUrl=function(bf,Mf,Rf){return Cf.ajax({url:bf,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Pf){Cf.globalEval(Pf,Mf,Rf)}})},Cf.fn.extend({wrapAll:function(bf){var Mf;return this[0]&&(Af(bf)&&(bf=bf.call(this[0])),Mf=Cf(bf,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Mf.insertBefore(this[0]),Mf.map(function(){for(var Rf=this;Rf.firstElementChild;)Rf=Rf.firstElementChild;return Rf}).append(this)),this},wrapInner:function(bf){return Af(bf)?this.each(function(Mf){Cf(this).wrapInner(bf.call(this,Mf))}):this.each(function(){var Mf=Cf(this),Rf=Mf.contents();Rf.length?Rf.wrapAll(bf):Mf.append(bf)})},wrap:function(bf){var Mf=Af(bf);return this.each(function(Rf){Cf(this).wrapAll(Mf?bf.call(this,Rf):bf)})},unwrap:function(bf){return this.parent(bf).not("body").each(function(){Cf(this).replaceWith(this.childNodes)}),this}}),Cf.expr.pseudos.hidden=function(bf){return!Cf.expr.pseudos.visible(bf)},Cf.expr.pseudos.visible=function(bf){return!!(bf.offsetWidth||bf.offsetHeight||bf.getClientRects().length)},Cf.ajaxSettings.xhr=function(){try{return new ef.XMLHttpRequest}catch{}};var H0={0:200,1223:204},o0=Cf.ajaxSettings.xhr();xf.cors=!!o0&&"withCredentials"in o0,xf.ajax=o0=!!o0,Cf.ajaxTransport(function(bf){var Mf,Rf;if(xf.cors||o0&&!bf.crossDomain)return{send:function(Pf,Xf){var mf,yf=bf.xhr();if(yf.open(bf.type,bf.url,bf.async,bf.username,bf.password),bf.xhrFields)for(mf in bf.xhrFields)yf[mf]=bf.xhrFields[mf];bf.mimeType&&yf.overrideMimeType&&yf.overrideMimeType(bf.mimeType),!bf.crossDomain&&!Pf["X-Requested-With"]&&(Pf["X-Requested-With"]="XMLHttpRequest");for(mf in Pf)yf.setRequestHeader(mf,Pf[mf]);Mf=function(wf){return function(){Mf&&(Mf=Rf=yf.onload=yf.onerror=yf.onabort=yf.ontimeout=yf.onreadystatechange=null,wf==="abort"?yf.abort():wf==="error"?typeof yf.status!="number"?Xf(0,"error"):Xf(yf.status,yf.statusText):Xf(H0[yf.status]||yf.status,yf.statusText,(yf.responseType||"text")!=="text"||typeof yf.responseText!="string"?{binary:yf.response}:{text:yf.responseText},yf.getAllResponseHeaders()))}},yf.onload=Mf(),Rf=yf.onerror=yf.ontimeout=Mf("error"),yf.onabort!==void 0?yf.onabort=Rf:yf.onreadystatechange=function(){yf.readyState===4&&ef.setTimeout(function(){Mf&&Rf()})},Mf=Mf("abort");try{yf.send(bf.hasContent&&bf.data||null)}catch(wf){if(Mf)throw wf}},abort:function(){Mf&&Mf()}}}),Cf.ajaxPrefilter(function(bf){bf.crossDomain&&(bf.contents.script=!1)}),Cf.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(bf){return Cf.globalEval(bf),bf}}}),Cf.ajaxPrefilter("script",function(bf){bf.cache===void 0&&(bf.cache=!1),bf.crossDomain&&(bf.type="GET")}),Cf.ajaxTransport("script",function(bf){if(bf.crossDomain||bf.scriptAttrs){var Mf,Rf;return{send:function(Pf,Xf){Mf=Cf("<script>").attr(bf.scriptAttrs||{}).prop({charset:bf.scriptCharset,src:bf.url}).on("load error",Rf=function(mf){Mf.remove(),Rf=null,mf&&Xf(mf.type==="error"?404:200,mf.type)}),Of.head.appendChild(Mf[0])},abort:function(){Rf&&Rf()}}}});var g0=[],F0=/(=)\?(?=&|$)|\?\?/;Cf.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var bf=g0.pop()||Cf.expando+"_"+p0.guid++;return this[bf]=!0,bf}}),Cf.ajaxPrefilter("json jsonp",function(bf,Mf,Rf){var Pf,Xf,mf,yf=bf.jsonp!==!1&&(F0.test(bf.url)?"url":typeof bf.data=="string"&&(bf.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&F0.test(bf.data)&&"data");if(yf||bf.dataTypes[0]==="jsonp")return Pf=bf.jsonpCallback=Af(bf.jsonpCallback)?bf.jsonpCallback():bf.jsonpCallback,yf?bf[yf]=bf[yf].replace(F0,"$1"+Pf):bf.jsonp!==!1&&(bf.url+=(S0.test(bf.url)?"&":"?")+bf.jsonp+"="+Pf),bf.converters["script json"]=function(){return mf||Cf.error(Pf+" was not called"),mf[0]},bf.dataTypes[0]="json",Xf=ef[Pf],ef[Pf]=function(){mf=arguments},Rf.always(function(){Xf===void 0?Cf(ef).removeProp(Pf):ef[Pf]=Xf,bf[Pf]&&(bf.jsonpCallback=Mf.jsonpCallback,g0.push(Pf)),mf&&Af(Xf)&&Xf(mf[0]),mf=Xf=void 0}),"script"}),xf.createHTMLDocument=function(){var bf=Of.implementation.createHTMLDocument("").body;return bf.innerHTML="<form></form><form></form>",bf.childNodes.length===2}(),Cf.parseHTML=function(bf,Mf,Rf){if(typeof bf!="string")return[];typeof Mf=="boolean"&&(Rf=Mf,Mf=!1);var Pf,Xf,mf;return Mf||(xf.createHTMLDocument?(Mf=Of.implementation.createHTMLDocument(""),Pf=Mf.createElement("base"),Pf.href=Of.location.href,Mf.head.appendChild(Pf)):Mf=Of),Xf=Hf.exec(bf),mf=!Rf&&[],Xf?[Mf.createElement(Xf[1])]:(Xf=pp([bf],Mf,mf),mf&&mf.length&&Cf(mf).remove(),Cf.merge([],Xf.childNodes))},Cf.fn.load=function(bf,Mf,Rf){var Pf,Xf,mf,yf=this,wf=bf.indexOf(" ");return wf>-1&&(Pf=xp(bf.slice(wf)),bf=bf.slice(0,wf)),Af(Mf)?(Rf=Mf,Mf=void 0):Mf&&typeof Mf=="object"&&(Xf="POST"),yf.length>0&&Cf.ajax({url:bf,type:Xf||"GET",dataType:"html",data:Mf}).done(function(If){mf=arguments,yf.html(Pf?Cf("<div>").append(Cf.parseHTML(If)).find(Pf):If)}).always(Rf&&function(If,Nf){yf.each(function(){Rf.apply(this,mf||[If.responseText,Nf,If])})}),this},Cf.expr.pseudos.animated=function(bf){return Cf.grep(Cf.timers,function(Mf){return bf===Mf.elem}).length},Cf.offset={setOffset:function(bf,Mf,Rf){var Pf,Xf,mf,yf,wf,If,Nf,kf=Cf.css(bf,"position"),$f=Cf(bf),Jf={};kf==="static"&&(bf.style.position="relative"),wf=$f.offset(),mf=Cf.css(bf,"top"),If=Cf.css(bf,"left"),Nf=(kf==="absolute"||kf==="fixed")&&(mf+If).indexOf("auto")>-1,Nf?(Pf=$f.position(),yf=Pf.top,Xf=Pf.left):(yf=parseFloat(mf)||0,Xf=parseFloat(If)||0),Af(Mf)&&(Mf=Mf.call(bf,Rf,Cf.extend({},wf))),Mf.top!=null&&(Jf.top=Mf.top-wf.top+yf),Mf.left!=null&&(Jf.left=Mf.left-wf.left+Xf),"using"in Mf?Mf.using.call(bf,Jf):$f.css(Jf)}},Cf.fn.extend({offset:function(bf){if(arguments.length)return bf===void 0?this:this.each(function(Xf){Cf.offset.setOffset(this,bf,Xf)});var Mf,Rf,Pf=this[0];if(Pf)return Pf.getClientRects().length?(Mf=Pf.getBoundingClientRect(),Rf=Pf.ownerDocument.defaultView,{top:Mf.top+Rf.pageYOffset,left:Mf.left+Rf.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var bf,Mf,Rf,Pf=this[0],Xf={top:0,left:0};if(Cf.css(Pf,"position")==="fixed")Mf=Pf.getBoundingClientRect();else{for(Mf=this.offset(),Rf=Pf.ownerDocument,bf=Pf.offsetParent||Rf.documentElement;bf&&(bf===Rf.body||bf===Rf.documentElement)&&Cf.css(bf,"position")==="static";)bf=bf.parentNode;bf&&bf!==Pf&&bf.nodeType===1&&(Xf=Cf(bf).offset(),Xf.top+=Cf.css(bf,"borderTopWidth",!0),Xf.left+=Cf.css(bf,"borderLeftWidth",!0))}return{top:Mf.top-Xf.top-Cf.css(Pf,"marginTop",!0),left:Mf.left-Xf.left-Cf.css(Pf,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var bf=this.offsetParent;bf&&Cf.css(bf,"position")==="static";)bf=bf.offsetParent;return bf||kh})}}),Cf.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(bf,Mf){var Rf=Mf==="pageYOffset";Cf.fn[bf]=function(Pf){return eh(this,function(Xf,mf,yf){var wf;if(Df(Xf)?wf=Xf:Xf.nodeType===9&&(wf=Xf.defaultView),yf===void 0)return wf?wf[Mf]:Xf[mf];wf?wf.scrollTo(Rf?wf.pageXOffset:yf,Rf?yf:wf.pageYOffset):Xf[mf]=yf},bf,Pf,arguments.length)}}),Cf.each(["top","left"],function(bf,Mf){Cf.cssHooks[Mf]=Nd(xf.pixelPosition,function(Rf,Pf){if(Pf)return Pf=kd(Rf,Mf),vh.test(Pf)?Cf(Rf).position()[Mf]+"px":Pf})}),Cf.each({Height:"height",Width:"width"},function(bf,Mf){Cf.each({padding:"inner"+bf,content:Mf,"":"outer"+bf},function(Rf,Pf){Cf.fn[Pf]=function(Xf,mf){var yf=arguments.length&&(Rf||typeof Xf!="boolean"),wf=Rf||(Xf===!0||mf===!0?"margin":"border");return eh(this,function(If,Nf,kf){var $f;return Df(If)?Pf.indexOf("outer")===0?If["inner"+bf]:If.document.documentElement["client"+bf]:If.nodeType===9?($f=If.documentElement,Math.max(If.body["scroll"+bf],$f["scroll"+bf],If.body["offset"+bf],$f["offset"+bf],$f["client"+bf])):kf===void 0?Cf.css(If,Nf,wf):Cf.style(If,Nf,kf,wf)},Mf,yf?Xf:void 0,yf)}})}),Cf.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(bf,Mf){Cf.fn[Mf]=function(Rf){return this.on(Mf,Rf)}}),Cf.fn.extend({bind:function(bf,Mf,Rf){return this.on(bf,null,Mf,Rf)},unbind:function(bf,Mf){return this.off(bf,null,Mf)},delegate:function(bf,Mf,Rf,Pf){return this.on(Mf,bf,Rf,Pf)},undelegate:function(bf,Mf,Rf){return arguments.length===1?this.off(bf,"**"):this.off(Mf,bf||"**",Rf)},hover:function(bf,Mf){return this.mouseenter(bf).mouseleave(Mf||bf)}}),Cf.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(bf,Mf){Cf.fn[Mf]=function(Rf,Pf){return arguments.length>0?this.on(Mf,null,Rf,Pf):this.trigger(Mf)}});var J0=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;Cf.proxy=function(bf,Mf){var Rf,Pf,Xf;if(typeof Mf=="string"&&(Rf=bf[Mf],Mf=bf,bf=Rf),!!Af(bf))return Pf=sf.call(arguments,2),Xf=function(){return bf.apply(Mf||this,Pf.concat(sf.call(arguments)))},Xf.guid=bf.guid=bf.guid||Cf.guid++,Xf},Cf.holdReady=function(bf){bf?Cf.readyWait++:Cf.ready(!0)},Cf.isArray=Array.isArray,Cf.parseJSON=JSON.parse,Cf.nodeName=sh,Cf.isFunction=Af,Cf.isWindow=Df,Cf.camelCase=oh,Cf.type=Vf,Cf.now=Date.now,Cf.isNumeric=function(bf){var Mf=Cf.type(bf);return(Mf==="number"||Mf==="string")&&!isNaN(bf-parseFloat(bf))},Cf.trim=function(bf){return bf==null?"":(bf+"").replace(J0,"$1")};var Z0=ef.jQuery,h0=ef.$;return Cf.noConflict=function(bf){return ef.$===Cf&&(ef.$=h0),bf&&ef.jQuery===Cf&&(ef.jQuery=Z0),Cf},typeof tf>"u"&&(ef.jQuery=ef.$=Cf),Cf})}(jquery)),jquery.exports}(function(module){function jBoxWrapper(Qc){function ef(rf,sf){return this.options={id:null,width:"auto",height:"auto",minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,responsiveWidth:!0,responsiveHeight:!0,responsiveMinWidth:100,responsiveMinHeight:100,attach:null,trigger:"click",preventDefault:!1,content:null,getContent:null,title:null,getTitle:null,footer:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getURL:"data-url",getData:"data-ajax",setContent:!0,loadingClass:!0,spinner:!0,spinnerDelay:300,spinnerReposition:!0},cancelAjaxOnClose:!0,target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},fixed:!1,adjustPosition:!0,adjustTracker:!1,adjustDistance:5,reposition:!0,repositionOnOpen:!0,repositionOnContent:!0,holdPosition:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:null,overlay:!1,overlayClass:null,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,appendTo:Qc("body"),createOnInit:!1,blockScroll:!1,blockScrollAdjust:!0,draggable:!1,dragOver:!0,autoClose:!1,delayOnHover:!1,showCountdown:!1,preloadAudio:!0,audio:null,volume:100,onInit:null,onAttach:null,onPosition:null,onCreated:null,onOpen:null,onOpenComplete:null,onClose:null,onCloseComplete:null,onDragStart:null,onDragEnd:null},this._pluginOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0},Mouse:{responsiveWidth:!1,responsiveHeight:!1,adjustPosition:"flip",target:"mouse",trigger:"mouseenter",position:{x:"right",y:"bottom"},outside:"xy",offset:5},Modal:{target:Qc(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomIn"}},this.options=Qc.extend(!0,this.options,this._pluginOptions[rf]||ef._pluginOptions[rf],sf),Qc.type(rf)=="string"&&(this.type=rf),this.isTouchDevice=function(){var lf=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var af,lf=["(",lf.join("touch-enabled),("),"heartz",")"].join("");return af=lf,window.matchMedia(af).matches}(),this.isTouchDevice&&this.options.trigger==="mouseenter"&&this.options.closeOnClick===!1&&(this.options.closeOnClick="body"),this._fireEvent=function(af,lf){this.options["_"+af]&&this.options["_"+af].bind(this)(lf),this.options[af]&&this.options[af].bind(this)(lf)},this.options.id===null&&(this.options.id="jBox"+ef._getUniqueID()),this.id=this.options.id,(this.options.position.x=="center"&&this.options.outside=="x"||this.options.position.y=="center"&&this.options.outside=="y")&&(this.options.outside=null),this.options.pointTo!="target"||this.options.outside&&this.options.outside!="xy"||(this.options.pointer=!1),Qc.type(this.options.offset)!="object"?this.options.offset={x:this.options.offset,y:this.options.offset}:this.options.offset=Qc.extend({x:0,y:0},this.options.offset),Qc.type(this.options.adjustDistance)!="object"?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=Qc.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.outside=!(!this.options.outside||this.options.outside=="xy")&&this.options.position[this.options.outside],this.align=this.outside||(this.options.position.y!="center"&&Qc.type(this.options.position.y)!="number"?this.options.position.x:this.options.position.x!="center"&&Qc.type(this.options.position.x)!="number"?this.options.position.y:this.options.attributes.x),ef.zIndexMax=Math.max(ef.zIndexMax||0,this.options.zIndex==="auto"?1e4:this.options.zIndex),this.options.zIndex==="auto"&&(this.adjustZIndexOnOpen=!0,this.options.zIndex=ef.zIndexMax+=2,this.trueModal=this.options.overlay),this._getOpp=function(af){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[af]},this._getXY=function(af){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[af]},this._getTL=function(af){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[af]},this._getInt=function(af,lf){return af=="auto"?"auto":af&&Qc.type(af)=="string"&&af.slice(-1)=="%"?Qc(window)[lf=="height"?"innerHeight":"innerWidth"]()*parseInt(af.replace("%",""))/100:af},this._createSVG=function(af,lf){var cf=document.createElementNS("http://www.w3.org/2000/svg",af);return Qc.each(lf,function(uf,ff){cf.setAttribute(ff[0],ff[1]||"")}),cf},this._isolateScroll=function(af){af&&af.length&&af.on("DOMMouseScroll.jBoxIsolateScroll mousewheel.jBoxIsolateScroll",function(lf){var cf=lf.wheelDelta||lf.originalEvent&&lf.originalEvent.wheelDelta||-lf.detail,uf=0<=this.scrollTop+af.outerHeight()-this.scrollHeight,ff=this.scrollTop<=0;(cf<0&&uf||0<cf&&ff)&&lf.preventDefault()})},this._setTitleWidth=function(){if(!this.titleContainer||this.content[0].style.width=="auto"&&!this.content[0].style.maxWidth)return null;var af;this.wrapper.css("display")=="none"?(this.wrapper.css("display","block"),af=this.content.outerWidth(),this.wrapper.css("display","none")):af=this.content.outerWidth(),this.titleContainer.css({maxWidth:Math.max(af,parseInt(this.content[0].style.maxWidth))||null})},this._draggable=function(){if(!this.options.draggable)return!1;var af=this.options.draggable=="title"?this.titleContainer:this.options.draggable instanceof Qc?this.options.draggable:Qc.type(this.options.draggable)=="string"?Qc(this.options.draggable):this.wrapper;return!(!(af&&af instanceof Qc&&af.length)||af.data("jBox-draggable"))&&(af.addClass("jBox-draggable").data("jBox-draggable",!0).on("touchstart mousedown",(function(lf){var cf,uf,ff,df,gf,_f;lf.button==2||Qc(lf.target).hasClass("jBox-noDrag")||Qc(lf.target).parents(".jBox-noDrag").length?lf.type=="touchstart"&&(Qc(lf.target).hasClass("jBox-closeButton")||Qc(lf.target).parents(".jBox-closeButton").length)&&this.close({ignoreDelay:!0}):(uf=lf.type=="touchstart"&&lf.touches&&lf.touches[0]?(cf=lf.touches[0].pageX,lf.touches[0].pageY):(cf=lf.pageX,lf.pageY),this.draggingStartX=cf,this.draggingStartY=uf,this.options.dragOver&&!this.trueModal&&parseInt(this.wrapper.css("zIndex"),10)<=ef.zIndexMaxDragover&&(ef.zIndexMaxDragover+=1,this.wrapper.css("zIndex",ef.zIndexMaxDragover)),ff=this.wrapper.outerHeight(),df=this.wrapper.outerWidth(),gf=this.wrapper.offset().top+ff-uf,_f=this.wrapper.offset().left+df-cf,Qc(document).on("touchmove.jBox-draggable-"+this.id+" mousemove.jBox-draggable-"+this.id,(function(Df){var Af,Df=Df.type=="touchmove"&&Df.touches&&Df.touches[0]?(Af=Df.touches[0].pageX,Df.touches[0].pageY):(Af=Df.pageX,Df.pageY);this.dragging||this.draggingStartX==Af||this.draggingStartY==Df||(this._fireEvent("onDragStart"),this.dragging=!0),this.wrapper.offset({top:Df+gf-ff,left:Af+_f-df})}).bind(this)),lf.preventDefault())}).bind(this)).on("touchend mouseup",(function(){var lf;Qc(document).off("touchmove.jBox-draggable-"+this.id+" mousemove.jBox-draggable-"+this.id),this.dragging&&this._fireEvent("onDragEnd"),this.dragging=!1,this.type!="Modal"&&this.type!="Confirm"||!this.options.holdPosition||(lf={x:(lf=Qc("#"+this.id).offset()).left-Qc(document).scrollLeft(),y:lf.top-Qc(document).scrollTop()},this.position({position:lf,offset:{x:0,y:0}}))}).bind(this)),this.trueModal||(ef.zIndexMaxDragover=ef.zIndexMaxDragover?Math.max(ef.zIndexMaxDragover,this.options.zIndex):this.options.zIndex),this)},this._create=function(){var af;this.wrapper||(this.wrapper=Qc("<div/>",{id:this.id,class:"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.on("mouseleave",(function(lf){!this.source||lf.relatedTarget!=this.source[0]&&Qc.inArray(this.source[0],Qc(lf.relatedTarget).parents("*"))===-1&&this.close()}).bind(this)),this.options.closeOnClick=="box"&&this.wrapper.on("click tap",(function(){this.close({ignoreDelay:!0})}).bind(this)),this.container=Qc('<div class="jBox-container"/>').appendTo(this.wrapper),this.content=Qc('<div class="jBox-content"/>').appendTo(this.container),this.options.footer&&(this.footer=Qc('<div class="jBox-footer"/>').append(this.options.footer).appendTo(this.container)),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton&&((af=this._createSVG("svg",[["viewBox","0 0 24 24"]])).appendChild(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]])),this.closeButton=Qc('<div class="jBox-closeButton jBox-noDrag"/>').on("click tap",(function(lf){this.close({ignoreDelay:!0})}).bind(this)).append(af),this.options.closeButton!="box"&&(this.options.closeButton!==!0||this.options.overlay||this.options.title||this.options.getTitle)||(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))),this.wrapper.appendTo(this.options.appendTo),this.wrapper.find(".jBox-closeButton").length&&Qc.each(["top","right","bottom","left"],(function(lf,cf){this.wrapper.find(".jBox-closeButton").css(cf)&&this.wrapper.find(".jBox-closeButton").css(cf)!="auto"&&(this.options.adjustDistance[cf]=Math.max(this.options.adjustDistance[cf],this.options.adjustDistance[cf]+-1*((parseInt(this.wrapper.find(".jBox-closeButton").css(cf))||0)+(parseInt(this.container.css("border-"+cf+"-width"))||0))))}).bind(this)),this.options.pointer&&(this.pointer={position:this.options.pointTo!="target"?this.options.pointTo:this._getOpp(this.outside),xy:this.options.pointTo!="target"?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=Qc('<div class="jBox-pointer jBox-pointer-'+this.pointer.position+'"/>').appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},Qc.type(this.options.pointer)=="string"&&((af=this.options.pointer.split(":"))[0]&&(this.pointer.align=af[0]),af[1]&&(this.pointer.offset=parseInt(af[1]))),this.pointer.alignAttribute=this.pointer.xy=="x"?this.pointer.align=="bottom"?"bottom":"top":this.pointer.align=="right"?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,this.pointer.align=="center"?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,this.pointer.align=="center"&&this.pointer.element.css("transform","translate("+(this.pointer.xy=="y"?-.5*this.pointer.dimensions.x+"px":0)+", "+(this.pointer.xy=="x"?-.5*this.pointer.dimensions.y+"px":0)+")"),this.pointer.element.css(this.pointer.xy=="x"?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)),this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable&&this._draggable(),this._fireEvent("onCreated"))},this.options.createOnInit&&this._create(),this.options.attach&&this.attach(),this._attachEvents=function(){this.options.delayOnHover&&Qc("#"+this.id).on("mouseenter",(function(af){this.isHovered=!0}).bind(this)),this.options.delayOnHover&&Qc("#"+this.id).on("mouseleave",(function(af){this.isHovered=!1}).bind(this)),(this.options.adjustPosition||this.options.reposition)&&!this.fixed&&this.outside&&(this.options.adjustTracker&&Qc(window).on("scroll.jBox-"+this.id,(function(af){this.position()}).bind(this)),(this.options.adjustPosition||this.options.reposition)&&Qc(window).on("resize.jBox-"+this.id,(function(af){this.position()}).bind(this))),this.options.target=="mouse"&&Qc("body").on("mousemove.jBox-"+this.id,(function(af){this.position({mouseTarget:{top:af.pageY,left:af.pageX}})}).bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&Qc(document).off("keyup.jBox-"+this.id),this.options.closeOnClick!==!0&&this.options.closeOnClick!="body"||Qc(document).off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.options.adjustTracker&&Qc(window).off("scroll.jBox-"+this.id),(this.options.adjustPosition||this.options.reposition)&&Qc(window).off("resize.jBox-"+this.id),this.options.target=="mouse"&&Qc("body").off("mousemove.jBox-"+this.id)},this._showOverlay=function(){this.overlay||(this.overlay=Qc('<div id="'+this.id+'-overlay"/>').addClass("jBox-overlay"+(this.type?" jBox-overlay-"+this.type:"")).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(this.options.appendTo),this.options.overlayClass&&this.overlay.addClass(this.options.overlayClass),this.options.closeButton!="overlay"&&this.options.closeButton!==!0||this.overlay.append(this.closeButton),this.options.closeOnClick=="overlay"&&this.overlay.on("click tap",(function(){this.close({ignoreDelay:!0})}).bind(this)),Qc("#"+this.id+"-overlay .jBox-closeButton").length&&(this.options.adjustDistance.top=Math.max(Qc("#"+this.id+"-overlay .jBox-closeButton").outerHeight(),this.options.adjustDistance.top))),this.adjustZIndexOnOpen===!0&&this.overlay.css("zIndex",parseInt(this.wrapper.css("zIndex"),10)-1),this.overlay.css("display")!="block"&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:(function(){this.overlay.css({display:"block"})}).bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._hideOverlay=function(){this.overlay&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:(function(){this.overlay.css({display:"none"})}).bind(this)}):this.overlay.css({display:"none",opacity:0}))},this._exposeDimensions=function(){this.wrapper.css({top:-1e4,left:-1e4,right:"auto",bottom:"auto"});var af={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()};return this.wrapper.css({top:"auto",left:"auto"}),af},this._generateAnimationCSS=function(){if(Qc.type(this.options.animation)!="object"&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),!this.options.animation)return null;this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open[1]||null,this.options.animation.closeDirection=this.options.animation.close[1]||null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var af={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};Qc.each(["pulse","tada"],function(cf,uf){af[uf+"Open"]=af[uf+"Close"]=af[uf]});var lf=(function(cf,uf){var ff="@keyframes jBox-"+this.id+"-animation-"+this.options.animation[cf]+"-"+cf+(uf?"-"+uf:"")+" {";return Qc.each(af[this.options.animation[cf]].css,(function(df,gf){var _f=uf?gf[1].replace("%XY",this._getXY(uf).toUpperCase()):gf[1];af[this.options.animation[cf]].positions&&(_f=_f.replace("%V",af[this.options.animation[cf]].positions[uf][gf[0]])),ff+=gf[0]+" {transform:"+_f+";}"}).bind(this)),ff+="}",ff+=".jBox-"+this.id+"-animation-"+this.options.animation[cf]+"-"+cf+(uf?"-"+uf:"")+" {",ff+="animation-duration: "+af[this.options.animation[cf]].duration+"ms;",ff+="animation-name: jBox-"+this.id+"-animation-"+this.options.animation[cf]+"-"+cf+(uf?"-"+uf:"")+";",ff+=af[this.options.animation[cf]].timing?"animation-timing-function: "+af[this.options.animation[cf]].timing+";":"",ff+="}"}).bind(this);this._animationCSS="",Qc.each(["open","close"],(function(cf,uf){if(!this.options.animation[uf]||!af[this.options.animation[uf]]||uf=="close"&&!this.options.fade)return"";af[this.options.animation[uf]].positions?Qc.each(["top","right","bottom","left"],(function(ff,df){this._animationCSS+=lf(uf,df)}).bind(this)):this._animationCSS+=lf(uf)}).bind(this))},this.options.animation&&this._generateAnimationCSS(),this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout((function(){this.blockBodyClick=!1}).bind(this),10)},this._animate=function(af){if(af=af||(this.isOpen?"open":"close"),!this.options.fade&&af=="close")return null;var lf=this.options.animation[af+"Direction"]||(this.align!="center"?this.align:this.options.attributes.x);this.flipped&&this._getXY(lf)==this._getXY(this.align)&&(lf=this._getOpp(lf));var cf="jBox-"+this.id+"-animation-"+this.options.animation[af]+"-"+af+" jBox-"+this.id+"-animation-"+this.options.animation[af]+"-"+af+"-"+lf;this.wrapper.addClass(cf),lf=1e3*parseFloat(this.wrapper.css("animation-duration")),af=="close"&&(lf=Math.min(lf,this.options.fade)),setTimeout((function(){this.wrapper&&this.wrapper.removeClass(cf)}).bind(this),lf)},this._abortAnimation=function(){var af=this.wrapper.attr("class").split(" ").filter((function(lf){return lf.lastIndexOf("jBox-"+this.id+"-animation",0)!==0}).bind(this));this.wrapper.attr("class",af.join(" "))},(this.options.responsiveWidth||this.options.responsiveHeight)&&Qc(window).on("resize.responsivejBox-"+this.id,(function(af){this.isOpen&&this.position()}).bind(this)),Qc.type(this.options.preloadAudio)==="string"&&(this.options.preloadAudio=[this.options.preloadAudio]),Qc.type(this.options.audio)==="string"&&(this.options.audio={open:this.options.audio}),Qc.type(this.options.volume)==="number"&&(this.options.volume={open:this.options.volume,close:this.options.volume}),this.options.preloadAudio===!0&&this.options.audio&&(this.options.preloadAudio=[],Qc.each(this.options.audio,(function(af,lf){this.options.preloadAudio.push(lf+".mp3"),this.options.preloadAudio.push(lf+".ogg")}).bind(this))),this.options.preloadAudio.length&&Qc.each(this.options.preloadAudio,function(af,lf){var cf=new Audio;cf.src=lf,cf.preload="auto"}),this._fireEvent("onInit"),this}var tf,nf;return ef.prototype.attach=function(rf,sf){return rf=rf||this.options.attach,Qc.type(rf)=="string"&&(rf=Qc(rf)),sf=sf||this.options.trigger,rf&&rf.length&&Qc.each(rf,(function(af,lf){(lf=Qc(lf)).data("jBox-attached-"+this.id)||(this.options.getContent=="title"&&lf.attr("title")!=null&&lf.data("jBox-getContent",lf.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(lf[0]),lf.on(sf+".jBox-attach-"+this.id,(function(cf){var uf;this.timer&&clearTimeout(this.timer),sf=="mouseenter"&&this.isOpen&&this.source[0]==lf[0]||(this.isOpen&&this.source&&this.source[0]!=lf[0]&&(uf=!0),this.source=lf,this.options.target||(this.target=lf),sf=="click"&&this.options.preventDefault&&cf.preventDefault(),this[sf!="click"||uf?"open":"toggle"]())}).bind(this)),this.options.trigger=="mouseenter"&&lf.on("mouseleave",(function(cf){if(!this.wrapper)return null;this.options.closeOnMouseleave&&(cf.relatedTarget==this.wrapper[0]||Qc(cf.relatedTarget).parents("#"+this.id).length)||this.close()}).bind(this)),lf.data("jBox-attached-"+this.id,sf),this._fireEvent("onAttach",lf))}).bind(this)),this},ef.prototype.detach=function(rf){return(rf=rf||this.attachedElements||[])&&rf.length&&Qc.each(rf,(function(sf,af){(af=Qc(af)).data("jBox-attached-"+this.id)&&(af.off(af.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),af.data("jBox-attached-"+this.id,null)),this.attachedElements=Qc.grep(this.attachedElements,function(lf){return lf!=af[0]})}).bind(this)),this},ef.prototype.setTitle=function(rf,sf){if(rf==null||rf==null)return this;this.wrapper||this._create();var af=this.wrapper.outerHeight(),lf=this.wrapper.outerWidth();return this.title||(this.titleContainer=Qc('<div class="jBox-title"/>'),this.title=Qc("<div/>").appendTo(this.titleContainer),this.options.closeButton!="title"&&(this.options.closeButton!==!0||this.options.overlay)||(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content),this._setTitleWidth()),this.wrapper[rf?"addClass":"removeClass"]("jBox-hasTitle"),this.title.html(rf),lf!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),sf||!this.options.repositionOnContent||af==this.wrapper.outerHeight()&&lf==this.wrapper.outerWidth()||this.position(),this},ef.prototype.setContent=function(rf,sf){if(rf==null||rf==null)return this;this.wrapper||this._create();var af=this.wrapper.outerHeight(),lf=this.wrapper.outerWidth();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),Qc.type(rf)){case"string":this.content.html(rf);break;case"object":rf&&(rf instanceof Qc||rf.constructor.prototype.jquery)?(this.content.html(""),rf.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})):this.content.html(JSON.stringify(rf))}return lf!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),sf||!this.options.repositionOnContent||af==this.wrapper.outerHeight()&&lf==this.wrapper.outerWidth()||this.position(),this},ef.prototype.setDimensions=function(rf,sf,af){this.wrapper||this._create(),this.content.css(rf,this._getInt(sf=sf??"auto")),rf=="width"&&this._setTitleWidth(),this.options[rf]=sf,af!=null&&!af||this.position()},ef.prototype.setWidth=function(rf,sf){this.setDimensions("width",rf,sf)},ef.prototype.setHeight=function(rf,sf){this.setDimensions("height",rf,sf)},ef.prototype.position=function(rf){if(rf=Qc.extend(!0,this.options,rf=rf||{}),this.target=rf.target||this.target||Qc(window),this.target instanceof Qc||this.target=="mouse"||(this.target=Qc(this.target)),!this.target.length)return this;this.content.css({width:this._getInt(rf.width,"width"),height:this._getInt(rf.height,"height"),minWidth:this._getInt(rf.minWidth,"width"),minHeight:this._getInt(rf.minHeight,"height"),maxWidth:this._getInt(rf.maxWidth,"width"),maxHeight:this._getInt(rf.maxHeight,"height")}),this._setTitleWidth();var sf=this._exposeDimensions();this.target=="mouse"||this.target.data("jBox-"+this.id+"-fixed")||this.target.data("jBox-"+this.id+"-fixed",this.target[0]!=Qc(window)[0]&&(this.target.css("position")=="fixed"||0<this.target.parents().filter(function(){return Qc(this).css("position")=="fixed"}).length)?"fixed":"static");var af={x:Qc(window).outerWidth(),y:Qc(window).outerHeight(),top:rf.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:Qc(window).scrollTop(),left:rf.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:Qc(window).scrollLeft()};af.bottom=af.top+af.y,af.right=af.left+af.x;try{var lf=this.target.offset()}catch{lf={top:0,left:0}}this.target!="mouse"&&this.target.data("jBox-"+this.id+"-fixed")=="fixed"&&rf.fixed&&(lf.top=lf.top-Qc(window).scrollTop(),lf.left=lf.left-Qc(window).scrollLeft());var cf={x:this.target=="mouse"?12:this.target.outerWidth(),y:this.target=="mouse"?20:this.target.outerHeight(),top:this.target=="mouse"&&rf.mouseTarget?rf.mouseTarget.top:lf?lf.top:0,left:this.target=="mouse"&&rf.mouseTarget?rf.mouseTarget.left:lf?lf.left:0},uf=rf.outside&&!(rf.position.x=="center"&&rf.position.y=="center"),ff={x:af.x-rf.adjustDistance.left-rf.adjustDistance.right,y:af.y-rf.adjustDistance.top-rf.adjustDistance.bottom,left:uf?cf.left-Qc(window).scrollLeft()-rf.adjustDistance.left:0,right:uf?af.x-cf.left+Qc(window).scrollLeft()-cf.x-rf.adjustDistance.right:0,top:uf?cf.top-Qc(window).scrollTop()-this.options.adjustDistance.top:0,bottom:uf?af.y-cf.top+Qc(window).scrollTop()-cf.y-rf.adjustDistance.bottom:0},df={x:rf.outside!="x"&&rf.outside!="xy"||Qc.type(rf.position.x)=="number"?null:rf.position.x,y:rf.outside!="y"&&rf.outside!="xy"||Qc.type(rf.position.y)=="number"?null:rf.position.y},gf={x:!1,y:!1};df.x&&sf.x>ff[df.x]&&ff[this._getOpp(df.x)]>ff[df.x]&&(df.x=this._getOpp(df.x))&&(gf.x=!0),df.y&&sf.y>ff[df.y]&&ff[this._getOpp(df.y)]>ff[df.y]&&(df.y=this._getOpp(df.y))&&(gf.y=!0),(rf.responsiveWidth||rf.responsiveHeight)&&(Bf=(function(){var Tf;rf.responsiveWidth&&sf.x>ff[df.x||"x"]&&(Tf=ff[df.x||"x"]-(this.pointer&&uf&&rf.outside=="x"?this.pointer.dimensions.x:0)-parseInt(this.container.css("border-left-width"))-parseInt(this.container.css("border-right-width")),this.content.css({width:Tf>this.options.responsiveMinWidth?Tf:null,minWidth:Tf<parseInt(this.content.css("minWidth"))?0:null}),this._setTitleWidth()),sf=this._exposeDimensions()}).bind(this),rf.responsiveWidth&&Bf(),rf.responsiveWidth&&!gf.y&&df.y&&sf.y>ff[df.y]&&ff[this._getOpp(df.y)]>ff[df.y]&&(df.y=this._getOpp(df.y))&&(gf.y=!0),Vf=(function(){var Tf;rf.responsiveHeight&&sf.y>ff[df.y||"y"]&&(Tf=(function(){return this.titleContainer||this.footer?(this.wrapper.css("display")=="none"?(this.wrapper.css("display","block"),Yf=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0),this.wrapper.css("display","none")):Yf=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0),Yf||0):0;var Yf}).bind(this),Tf=ff[df.y||"y"]-(this.pointer&&uf&&rf.outside=="y"?this.pointer.dimensions.y:0)-Tf()-parseInt(this.container.css("border-top-width"))-parseInt(this.container.css("border-bottom-width")),this.content.css({height:Tf>this.options.responsiveMinHeight?Tf:null}),this._setTitleWidth()),sf=this._exposeDimensions()}).bind(this),rf.responsiveHeight&&Vf(),rf.responsiveHeight&&!gf.x&&df.x&&sf.x>ff[df.x]&&ff[this._getOpp(df.x)]>ff[df.x]&&(df.x=this._getOpp(df.x))&&(gf.x=!0),rf.adjustPosition&&rf.adjustPosition!="move"&&(gf.x&&Bf(),gf.y&&Vf()));var _f={},xf=(function(Tf){if(Qc.type(rf.position[Tf])!="number"){var Yf=rf.attributes[Tf]=Tf=="x"?"left":"top";if(_f[Yf]=cf[Yf],rf.position[Tf]=="center")return _f[Yf]+=Math.ceil((cf[Tf]-sf[Tf])/2),void(this.target!="mouse"&&this.target[0]&&this.target[0]==Qc(window)[0]&&(_f[Yf]+=.5*(rf.adjustDistance[Yf]-rf.adjustDistance[this._getOpp(Yf)])));Yf!=rf.position[Tf]&&(_f[Yf]+=cf[Tf]-sf[Tf]),rf.outside!=Tf&&rf.outside!="xy"||(_f[Yf]+=sf[Tf]*(Yf!=rf.position[Tf]?1:-1))}else _f[rf.attributes[Tf]]=rf.position[Tf]}).bind(this);if(xf("x"),xf("y"),this.pointer&&rf.pointTo=="target"&&Qc.type(rf.position.x)!="number"&&Qc.type(rf.position.y)!="number"&&(Lf=0,this.pointer.align==="center"?rf.position[this._getOpp(rf.outside)]!="center"&&(Lf+=sf[this._getOpp(rf.outside)]/2):rf.position[this._getOpp(rf.outside)]==="center"?Lf+=(sf[this._getOpp(rf.outside)]/2-this.pointer.dimensions[this._getOpp(rf.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1):Lf+=this.pointer.align!=rf.position[this._getOpp(rf.outside)]?sf[this._getOpp(rf.outside)]*(Qc.inArray(this.pointer.align,["top","left"])!==-1?1:-1)+this.pointer.dimensions[this._getOpp(rf.outside)]/2*(Qc.inArray(this.pointer.align,["top","left"])!==-1?-1:1):this.pointer.dimensions[this._getOpp(rf.outside)]/2*(Qc.inArray(this.pointer.align,["top","left"])!==-1?1:-1),Lf*=rf.position[this._getOpp(rf.outside)]==this.pointer.alignAttribute?-1:1,Lf+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),_f[this._getTL(this._getOpp(this.pointer.xy))]+=Lf),_f[rf.attributes.x]+=rf.offset.x,_f[rf.attributes.y]+=rf.offset.y,this.wrapper.css(_f),rf.adjustPosition){this.positionAdjusted&&(this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var Af=af.top>_f.top-(rf.adjustDistance.top||0),Df=af.right<_f.left+sf.x+(rf.adjustDistance.right||0),Of=af.bottom<_f.top+sf.y+(rf.adjustDistance.bottom||0),Gf=af.left>_f.left-(rf.adjustDistance.left||0),lf=Gf?"left":Df?"right":null,Bf=Af?"top":Of?"bottom":null;if(lf||Bf){if((this.type=="Modal"||this.type=="Confirm")&&Qc.type(this.options.position.x)=="number"&&Qc.type(this.options.position.y)=="number"){var Vf=0,Lf=0;return this.options.holdPosition&&(Gf?Vf=af.left-(_f.left-(rf.adjustDistance.left||0)):Df&&(Vf=af.right-(_f.left+sf.x+(rf.adjustDistance.right||0))),Af?Lf=af.top-(_f.top-(rf.adjustDistance.top||0)):Of&&(Lf=af.bottom-(_f.top+sf.y+(rf.adjustDistance.bottom||0))),this.options.position.x=Math.max(af.top,this.options.position.x+Vf),this.options.position.y=Math.max(af.left,this.options.position.y+Lf),xf("x"),xf("y"),this.wrapper.css(_f)),this._fireEvent("onPosition"),this}rf.adjustPosition!==!0&&rf.adjustPosition!=="flip"||(Cf=(function(Yf){this.wrapper.css(this._getTL(Yf),_f[this._getTL(Yf)]+(sf[this._getXY(Yf)]+rf.offset[this._getXY(Yf)]*(Yf=="top"||Yf=="left"?-2:2)+cf[this._getXY(Yf)])*(Yf=="top"||Yf=="left"?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+Yf,this.pointer.dimensions[this._getXY(Yf)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+Yf),this.positionAdjusted=!0,this.flipped=!0}).bind(this),gf.x&&Cf(this.options.position.x),gf.y&&Cf(this.options.position.y));var Cf=this._getXY(this.outside)=="x"?Bf:lf;this.pointer&&rf.pointTo=="target"&&rf.adjustPosition!="flip"&&this._getXY(Cf)==this._getOpp(this._getXY(this.outside))&&(Bf=this.pointer.align=="center"?sf[this._getXY(Cf)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(Cf!=this._getTL(Cf)?-1:1):Cf==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):sf[this._getXY(Cf)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(Cf)],lf=Cf==this._getTL(Cf)?af[this._getTL(Cf)]-_f[this._getTL(Cf)]+rf.adjustDistance[Cf]:-1*(af[this._getOpp(this._getTL(Cf))]-_f[this._getTL(Cf)]-rf.adjustDistance[Cf]-sf[this._getXY(Cf)]),Cf==this._getOpp(this._getTL(Cf))&&_f[this._getTL(Cf)]-lf<af[this._getTL(Cf)]+rf.adjustDistance[this._getTL(Cf)]&&(lf-=af[this._getTL(Cf)]+rf.adjustDistance[this._getTL(Cf)]-(_f[this._getTL(Cf)]-lf)),(lf=Math.min(lf,Bf))<=Bf&&0<lf&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-lf*(Cf!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(Cf),_f[this._getTL(Cf)]+lf*(Cf!=this._getTL(Cf)?-1:1)),this.positionAdjusted=!0))}}return this._fireEvent("onPosition"),this},(ef.prototype.unscroll=function(rf){if(this.set=function(gf,_f){window.unscrollStore||(window.unscrollStore={}),window.unscrollStore[gf]=_f},this.get=function(gf){return window.unscrollStore?window.unscrollStore[gf]:null},this.getScrollbarWidth=function(){if(this.get("scrollbarWidth"))return this.get("scrollbarWidth")+"px";var gf=document.createElement("div");gf.style.width="100px",gf.style.height="100px",gf.style.overflow="scroll",gf.style.position="absolute",gf.style.top="-10000",document.body.appendChild(gf);var _f=gf.offsetWidth-gf.clientWidth;return document.body.removeChild(gf),this.set("scrollbarWidth",_f),_f+"px"},this.getElementsToAdjust=function(gf){(gf=typeof(gf=gf||[])=="string"?[[gf,"padding-right"]]:gf).forEach(function(Af,Df){typeof Af=="string"&&(gf[Df]=[Af,"padding-right"])});for(var _f=!1,xf=0;xf<gf.length;xf++)gf[xf][0].indexOf("body")!==-1&&(_f=!0);return _f===!1&&gf.push(["body","padding-right"]),gf},this.pageHasScrollbar=function(){return this.getScrollbarWidth()&&document.body.offsetHeight>window.innerHeight},this.pageHasScrollbar()){rf=this.getElementsToAdjust(rf);for(var sf=0;sf<rf.length;sf++)for(var af=document.querySelectorAll(rf[sf][0]),lf=0;lf<af.length;lf++){if(af[lf].getAttribute("data-unscroll"))return;var cf=rf[sf][1],uf=window.getComputedStyle(af[lf]).getPropertyValue(cf);af[lf].setAttribute("data-unscroll",cf),af[lf].style[cf]="calc("+(uf=uf||"0px")+" "+(cf=="padding-right"||cf=="right"?"+":"-")+" "+this.getScrollbarWidth()+")"}}var ff,df;document.getElementById("unscroll-class-name")||(ff=document.head||document.getElementsByTagName("head")[0],(df=document.createElement("style")).type="text/css",df.setAttribute("id","unscroll-class-name"),df.appendChild(document.createTextNode(".unscrollable { overflow: hidden !important; }")),ff.appendChild(df)),document.body.classList.add("unscrollable")}).reset=function(){for(var rf=document.querySelectorAll("[data-unscroll]"),sf=0;sf<rf.length;sf++){var af=rf[sf].getAttribute("data-unscroll");rf[sf].style[af]=null,rf[sf].removeAttribute("data-unscroll")}document.body.classList.remove("unscrollable")},ef.prototype.open=function(rf){if(rf=rf||{},this.isDestroyed)return this;if(this.wrapper||this._create(),this._styles||(this._styles=Qc("<style/>").append(this._animationCSS).appendTo(Qc("head"))),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;this.options.closeOnEsc&&Qc(document).on("keyup.jBox-"+this.id,(function(af){af.keyCode==27&&this.close({ignoreDelay:!0})}).bind(this)),this.options.closeOnClick!==!0&&this.options.closeOnClick!=="body"||(Qc("body").on("click.jBox-"+this.id+" tap.jBox-"+this.id,(function(af){this.blockBodyClick||this.options.closeOnClick=="body"&&(af.target==this.wrapper[0]||this.wrapper.has(af.target).length)||this.close({ignoreDelay:!0})}).bind(this)),this.isTouchDevice&&Qc("body > *").on("click.jBox-"+this.id+" tap.jBox-"+this.id,function(){return!0}));var sf=(function(){this.adjustZIndexOnOpen===!0&&(ef.zIndexMax=Math.max(parseInt(this.wrapper.css("zIndex"),10),this.options.zIndex,ef.zIndexMax||0,ef.zIndexMaxDragover||0)+2,this.wrapper.css("zIndex",ef.zIndexMax),this.options.zIndex=ef.zIndexMax),this.source&&this.options.getTitle&&this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle),!0),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):this.options.getContent=="html"&&this.setContent(this.source.html(),!0)),this._fireEvent("onOpen"),(this.options.ajax&&(this.options.ajax.url||this.source&&this.source.attr(this.options.ajax.getURL))&&(!this.ajaxLoaded||this.options.ajax.reload)||rf.ajax&&(rf.ajax.url||rf.ajax.data))&&(this.options.ajax.reload=="strict"||!this.source||!this.source.data("jBox-ajax-data")||rf.ajax&&(rf.ajax.url||rf.ajax.data)?this.ajax(rf.ajax||null,!0):this.setContent(this.source.data("jBox-ajax-data"))),this.positionedOnOpen&&!this.options.repositionOnOpen||!this.position(rf)||(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this.options.autoClose&&(this.options.delayClose=this.options.autoClose)&&this.close(),this._attachEvents(),this.options.blockScroll&&(this.options.blockScrollAdjust?ef.blockScrollScopes?ef.blockScrollScopes++:(ef.blockScrollScopes=1,this.unscroll(Array.isArray(this.options.blockScrollAdjust)||typeof this.options.blockScrollAdjust=="string"?this.options.blockScrollAdjust:null)):Qc("body").addClass("jBox-blockScroll-"+this.id)),this.options.overlay&&(this._showOverlay(),this.position()),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.audio&&this.options.audio.open&&this.audio(this.options.audio.open,this.options.volume.open),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:(function(){this.isOpening=!0,this.wrapper.css({display:"block"})}).bind(this),complete:(function(){this._fireEvent("onOpenComplete")}).bind(this),always:(function(){this.isOpening=!1,setTimeout((function(){this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)}).bind(this),10)}).bind(this)}):(this.wrapper.css({display:"block",opacity:1}),this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1),this._fireEvent("onOpenComplete")))}).bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||rf.ignoreDelay?sf():this.timer=setTimeout(sf,this.options.delayOpen),this},ef.prototype.close=function(rf){if(rf=rf||{},Qc("body").off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.isTouchDevice&&Qc("body > *").off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.isDestroyed||this.isClosing)return this;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var sf,af,lf,cf=(function(){var uf;this._fireEvent("onClose"),this.options.cancelAjaxOnClose&&this.cancelAjax(),this.isOpen&&(this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&(this.options.blockScrollAdjust?(ef.blockScrollScopes=ef.blockScrollScopes?--ef.blockScrollScopes:0)||this.unscroll.reset():Qc("body").removeClass("jBox-blockScroll-"+this.id)),this.options.overlay&&this._hideOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.audio&&this.options.audio.close&&this.audio(this.options.audio.close,this.options.volume.close),(uf=this.isTouchDevice&&this.options.target=="mouse"?0:this.options.fade)?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:uf,start:(function(){this.isClosing=!0}).bind(this),complete:(function(){this.wrapper.css({display:"none"}),this._fireEvent("onCloseComplete")}).bind(this),always:(function(){this.isClosing=!1}).bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this._fireEvent("onCloseComplete")))}).bind(this);return rf.ignoreDelay||this.isTouchDevice&&this.options.target=="mouse"?cf():(this.options.delayOnHover||this.options.showCountdown)&&10<this.options.delayClose?(af=(sf=this).options.delayClose,lf=Date.now(),this.options.showCountdown&&!this.inner&&(rf=Qc('<div class="jBox-countdown" />'),this.inner=Qc('<div class="jBox-countdown-inner" />'),rf.prepend(this.inner),Qc("#"+this.id).append(rf)),this.countdown=function(){var uf=Date.now();sf.isHovered||(af-=uf-lf),lf=uf,0<af?(sf.options.showCountdown&&sf.inner.css("width",100*af/sf.options.delayClose+"%"),window.requestAnimationFrame(sf.countdown)):cf()},window.requestAnimationFrame(this.countdown)):this.timer=setTimeout(cf,Math.max(this.options.delayClose,10)),this},ef.prototype.toggle=function(rf){return this[this.isOpen?"close":"open"](rf),this},ef.prototype.disable=function(){return this.isDisabled=!0,this},ef.prototype.enable=function(){return this.isDisabled=!1,this},ef.prototype.hide=function(){return this.disable(),this.wrapper&&(this.cacheWrapperDisplay=this.wrapper.css("display"),this.wrapper.css({display:"none"})),this.overlay&&(this.cacheOverlayDisplay=this.overlay.css("display"),this.overlay.css({display:"none"})),this},ef.prototype.show=function(){return this.enable(),this.wrapper&&this.cacheWrapperDisplay&&(this.wrapper.css({display:this.cacheWrapperDisplay}),this.cacheWrapperDisplay=null),this.overlay&&this.cacheOverlayDisplay&&(this.overlay.css({display:this.cacheOverlayDisplay}),this.cacheOverlayDisplay=null),this},ef.prototype.ajax=function(rf,sf){rf=rf||{},Qc.each([["getData","data"],["getURL","url"]],(function(gf,_f){this.options.ajax[_f[0]]&&!rf[_f[1]]&&this.source&&this.source.attr(this.options.ajax[_f[0]])!=null&&(rf[_f[1]]=this.source.attr(this.options.ajax[_f[0]])||"")}).bind(this));var af=Qc.extend(!0,{},this.options.ajax);this.cancelAjax();var lf=rf.beforeSend||af.beforeSend||function(){},cf=rf.complete||af.complete||function(){},uf=rf.success||af.success||function(){},ff=rf.error||af.error||function(){},df=Qc.extend(!0,af,rf);return df.beforeSend=(function(gf){df.loadingClass&&this.wrapper.addClass(df.loadingClass===!0?"jBox-loading":df.loadingClass),df.spinner&&(this.spinnerDelay=setTimeout((function(){this.wrapper.addClass("jBox-loading-spinner"),df.spinnerReposition&&(sf?this.positionOnFadeComplete=!0:this.position()),this.spinner=Qc(df.spinner!==!0?df.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container),this.titleContainer&&this.spinner.css("position")=="absolute"&&this.spinner.css({transform:"translateY("+.5*this.titleContainer.outerHeight()+"px)"})}).bind(this),this.content.html()!=""&&df.spinnerDelay||0)),lf.bind(this)(gf)}).bind(this),df.complete=(function(gf){this.spinnerDelay&&clearTimeout(this.spinnerDelay),this.wrapper.removeClass("jBox-loading jBox-loading-spinner jBox-loading-spinner-delay"),this.spinner&&this.spinner.length&&this.spinner.remove()&&df.spinnerReposition&&(sf?this.positionOnFadeComplete=!0:this.position()),this.ajaxLoaded=!0,cf.bind(this)(gf)}).bind(this),df.success=(function(gf){df.setContent&&this.setContent(gf,!0)&&(sf?this.positionOnFadeComplete=!0:this.position()),df.setContent&&this.source&&this.source.data("jBox-ajax-data",gf),uf.bind(this)(gf)}).bind(this),df.error=(function(gf){ff.bind(this)(gf)}).bind(this),this.ajaxRequest=Qc.ajax(df),this},ef.prototype.cancelAjax=function(){this.ajaxRequest&&(this.ajaxRequest.abort(),this.ajaxLoaded=!1)},ef.prototype.audio=function(rf,sf){if(!rf)return this;var af;(ef._audio=ef._audio?ef._audio:{})[rf]||(af=Qc("<audio/>"),Qc("<source/>",{src:rf+".mp3"}).appendTo(af),Qc("<source/>",{src:rf+".ogg"}).appendTo(af),ef._audio[rf]=af[0]),ef._audio[rf].volume=Math.min((sf??100)/100,1);try{ef._audio[rf].pause(),ef._audio[rf].currentTime=0}catch{}return ef._audio[rf].play(),this},ef._animationSpeeds={tada:1e3,tadaSmall:1e3,flash:500,shake:400,pulseUp:250,pulseDown:250,popIn:250,popOut:250,fadeIn:200,fadeOut:200,slideUp:400,slideRight:400,slideLeft:400,slideDown:400},ef.prototype.animate=function(rf,sf){sf=sf||{},this.animationTimeout||(this.animationTimeout={}),sf.element||(sf.element=this.wrapper),sf.element.data("jBox-animating-id")||sf.element.data("jBox-animating-id",ef._getUniqueElementID()),sf.element.data("jBox-animating")&&(sf.element.removeClass(sf.element.data("jBox-animating")).data("jBox-animating",null),this.animationTimeout[sf.element.data("jBox-animating-id")]&&clearTimeout(this.animationTimeout[sf.element.data("jBox-animating-id")])),sf.element.addClass("jBox-animated-"+rf).data("jBox-animating","jBox-animated-"+rf),this.animationTimeout[sf.element.data("jBox-animating-id")]=setTimeout(function(){sf.element.removeClass(sf.element.data("jBox-animating")).data("jBox-animating",null),sf.complete&&sf.complete()},ef._animationSpeeds[rf])},ef.prototype.swipeDetector=function(rf,sf){var af=0,lf=0,cf=0,uf=0,ff=0;function df(xf){sf.useOnlyTouch&&!xf.originalEvent.touches||(xf.originalEvent.touches&&(xf=xf.originalEvent.touches[0]),af===0&&(af=1,lf=xf.clientX,cf=xf.clientY))}function gf(xf){af===2&&(af=0,Math.abs(uf)>Math.abs(ff)&&Math.abs(uf)>sf.swipeThreshold?uf<0?rf.trigger(Qc.Event("swipeLeft.sd")):rf.trigger(Qc.Event("swipeRight.sd")):Math.abs(ff)>sf.swipeThreshold&&(ff<0?rf.trigger(Qc.Event("swipeUp.sd")):rf.trigger(Qc.Event("swipeDown.sd"))))}function _f(xf){var Af;af===1&&(Af=(xf=xf.originalEvent.touches?xf.originalEvent.touches[0]:xf).clientX-lf,xf=xf.clientY-cf,(Math.abs(Af)>sf.swipeThreshold||Math.abs(xf)>sf.swipeThreshold)&&(af=2,uf=Af,ff=xf))}return sf=Qc.extend({swipeThreshold:70,useOnlyTouch:!1},sf),rf.on("mousedown touchstart",df),Qc("html").on("mouseup touchend",gf),Qc("html").on("mousemove touchmove",_f),rf},ef.prototype.destroy=function(){return this.detach(),this.isOpen&&this.close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.overlay&&this.overlay.remove(),this._styles&&this._styles.remove(),this.isDestroyed=!0,this},ef._getUniqueID=(tf=1,function(){return tf++}),ef._getUniqueElementID=(nf=1,function(){return nf++}),ef._pluginOptions={},ef.plugin=function(rf,sf){ef._pluginOptions[rf]=sf},Qc.fn.jBox=function(rf,sf){return new ef(rf=rf||{},Qc.extend(sf=sf||{},{attach:this}))},ef}function jBoxConfirmWrapper(jBox,jQuery){new jBox.plugin("Confirm",{confirmButton:"Submit",cancelButton:"Cancel",confirm:null,cancel:null,closeOnConfirm:!0,target:window,fixed:!0,attach:"[data-confirm]",getContent:"data-confirm",content:"Do you really want to do this?",minWidth:360,maxWidth:500,blockScroll:!0,closeOnEsc:!0,closeOnClick:!1,closeButton:!1,overlay:!0,animation:"zoomIn",preventDefault:!0,_onAttach:function(Qc){var ef;this.options.confirm||(ef=Qc.attr("onclick")?Qc.attr("onclick"):Qc.attr("href")?Qc.attr("target")?'window.open("'+Qc.attr("href")+'", "'+Qc.attr("target")+'");':'window.location.href = "'+Qc.attr("href")+'";':"",Qc.prop("onclick",null).data("jBox-Confirm-submit",ef))},_onCreated:function(){this.wrapper.addClass("jBox-Modal"),this.footer=jQuery('<div class="jBox-Confirm-footer"/>'),jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-cancel"/>').html(this.options.cancelButton).on("click tap",(function(){this.options.cancel&&this.options.cancel(this.source),this.close()}).bind(this)).appendTo(this.footer),this.submitButton=jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-submit"/>').html(this.options.confirmButton).appendTo(this.footer),this.footer.appendTo(this.container)},_onOpen:function(){this.submitButton.off("click.jBox-Confirm"+this.id+" tap.jBox-Confirm"+this.id).on("click.jBox-Confirm"+this.id+" tap.jBox-Confirm"+this.id,(function(){this.options.confirm?this.options.confirm(this.source):eval(this.source.data("jBox-Confirm-submit")),this.options.closeOnConfirm&&this.close()}).bind(this))}})}function jBoxImageWrapper(Qc,ef){new Qc.plugin("Image",{src:"href",gallery:"data-jbox-image",imageLabel:"title",imageFade:360,imageSize:"contain",imageCounter:!1,imageCounterSeparator:"/",downloadButton:!1,downloadButtonText:null,downloadButtonUrl:null,mobileImageAttr:null,mobileImageBreakpoint:null,preloadFirstImage:!1,target:window,attach:"[data-jbox-image]",fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"button",closeButton:!0,overlay:!0,animation:"zoomIn",preventDefault:!0,width:"100%",height:"100%",adjustDistance:{top:40,right:0,bottom:40,left:0},_onInit:function(){this.images=this.currentImage={},this.imageZIndex=1,this.initImage=(function(rf){var sf,af;(rf=ef(rf)).data("jBox-image-gallery")||(sf=rf.attr(this.options.src),this.options.mobileImageAttr&&this.options.mobileImageBreakpoint&&rf.attr(this.options.mobileImageAttr)&&ef(window).width()<=this.options.mobileImageBreakpoint&&(sf=rf.attr(this.options.mobileImageAttr)),af=rf.attr(this.options.gallery)||"default",this.images[af]||(this.images[af]=[]),this.images[af].push({src:sf,label:rf.attr(this.options.imageLabel)||"",downloadUrl:this.options.downloadButtonUrl&&rf.attr(this.options.downloadButtonUrl)?rf.attr(this.options.downloadButtonUrl):null}),this.options.imageLabel=="title"&&rf.removeAttr("title"),rf.data("jBox-image-gallery",af),rf.data("jBox-image-id",this.images[af].length-1))}).bind(this),this.attachedElements&&this.attachedElements.length&&ef.each(this.attachedElements,(function(rf,sf){this.initImage(sf)}).bind(this));var tf=(function(rf,sf,af,lf){if(!ef("#jBox-image-"+rf+"-"+sf).length){var cf=ef("<div/>",{id:"jBox-image-"+rf+"-"+sf,class:"jBox-image-container"+(af?" jBox-image-"+rf+"-current":"")}).css({backgroundSize:this.options.imageSize,opacity:lf?1:0,zIndex:af?this.imageZIndex++:0}).appendTo(this.content);return this.swipeDetector(cf).on("swipeLeft.sd swipeRight.sd",(function(uf){uf.type==="swipeLeft"?this.showImage("next"):uf.type==="swipeRight"&&this.showImage("prev")}).bind(this)),ef("<div/>",{id:"jBox-image-label-"+rf+"-"+sf,class:"jBox-image-label"+(af?" active":"")}).html(this.images[rf][sf].label).on("click tap",function(){ef(this).toggleClass("expanded")}).appendTo(this.imageLabelContainer),af&&cf.animate({opacity:1},lf?0:this.options.imageFade),cf}}).bind(this);this.downloadImage=function(rf){var sf=document.createElement("a");sf.href=rf,sf.setAttribute("download",rf.substring(rf.lastIndexOf("/")+1)),document.body.appendChild(sf),sf.click()};var nf=(function(rf,sf,af,lf){var cf=tf(rf,sf,af,lf);cf.addClass("jBox-image-loading"),ef('<img src="'+this.images[rf][sf].src+'" />').each((function(){var uf=new Image;uf.onload=(function(){cf.removeClass("jBox-image-loading"),cf.css({backgroundImage:'url("'+this.images[rf][sf].src+'")'})}).bind(this),uf.onerror=(function(){cf.removeClass("jBox-image-loading"),cf.addClass("jBox-image-not-found")}).bind(this),uf.src=this.images[rf][sf].src}).bind(this))}).bind(this);this.showImage=function(rf){var sf,af,lf;if(rf!="open")sf=this.currentImage.gallery,lf=(lf=this.currentImage.id+(+(rf=="prev")?-1:1))>this.images[sf].length-1?0:lf<0?this.images[sf].length-1:lf;else{if(this.source)sf=this.source.data("jBox-image-gallery"),lf=this.source.data("jBox-image-id");else{if(!this.attachedElements||!this.attachedElements.length)return;sf=ef(this.attachedElements[0]).data("jBox-image-gallery"),lf=ef(this.attachedElements[0]).data("jBox-image-id")}this.images&&this.images[sf]&&ef(".jBox-image-pointer-prev, .jBox-image-pointer-next").css({display:1<this.images[sf].length?"block":"none"})}ef(".jBox-image-"+sf+"-current").length&&ef(".jBox-image-"+sf+"-current").removeClass("jBox-image-"+sf+"-current").animate({opacity:0},rf=="open"?0:this.options.imageFade),this.currentImage={gallery:sf,id:lf},ef("#jBox-image-"+sf+"-"+lf).length?ef("#jBox-image-"+sf+"-"+lf).addClass("jBox-image-"+sf+"-current").css({zIndex:this.imageZIndex++,opacity:0}).animate({opacity:1},rf=="open"?0:this.options.imageFade):nf(sf,lf,!0,rf==="open"),af=sf,rf=lf,ef(".jBox-image-label.active").removeClass("active expanded"),ef("#jBox-image-label-"+af+"-"+rf).addClass("active"),this.imageCounter&&(this.images[sf]&&1<this.images[sf].length?(this.wrapper.addClass("jBox-image-has-counter"),this.imageCounter.find(".jBox-image-counter-all").html(this.images[sf].length),this.imageCounter.find(".jBox-image-counter-current").html(lf+1)):this.wrapper.removeClass("jBox-image-has-counter")),this.images[sf]&&this.images[sf].length-1&&(lf=(lf=lf+1)>this.images[sf].length-1?0:lf<0?this.images[sf].length-1:lf,ef("#jBox-image-"+sf+"-"+lf).length||nf(sf,lf,!1,!1))},this.options.preloadFirstImage&&ef(window).on("load",(function(){this.showImage("open")}).bind(this))},_onAttach:function(tf){this.initImage&&this.initImage(tf)},_onCreated:function(){this.imageLabelWrapper=ef('<div class="jBox-image-label-wrapper"/>').appendTo(this.wrapper),this.imagePrevButton=ef('<div class="jBox-image-pointer-prev"/>').on("click tap",(function(){this.showImage("prev")}).bind(this)),this.imageNextButton=ef('<div class="jBox-image-pointer-next"/>').on("click tap",(function(){this.showImage("next")}).bind(this)),this.imageLabelContainer=ef('<div class="jBox-image-label-container"/>'),this.imageLabelWrapper.append(this.imagePrevButton).append(this.imageLabelContainer).append(this.imageNextButton),this.options.downloadButton&&(this.downloadButton=ef("<div/>",{class:"jBox-image-download-button-wrapper"}).appendTo(this.wrapper).append(this.options.downloadButtonText?ef("<div/>",{class:"jBox-image-download-button-text"}).html(this.options.downloadButtonText):null).append(ef("<div/>",{class:"jBox-image-download-button-icon"})).on("click tap",(function(){var tf;tf=this.images[this.currentImage.gallery][this.currentImage.id].downloadUrl||this.wrapper.find(".jBox-image-"+this.currentImage.gallery+"-current")[0].style.backgroundImage.slice(4,-1).replace(/["']/g,""),this.downloadImage(tf)}).bind(this))),this.options.imageCounter&&(this.imageCounter=ef("<div/>",{class:"jBox-image-counter-container"}).insertAfter(this.imageLabelContainer),this.imageCounter.append(ef("<span/>",{class:"jBox-image-counter-current"})).append(ef("<span/>").html(this.options.imageCounterSeparator)).append(ef("<span/>",{class:"jBox-image-counter-all"})))},_onOpen:function(){ef(document).on("keyup.jBox-Image-"+this.id,(function(tf){tf.keyCode==37&&this.showImage("prev"),tf.keyCode==39&&this.showImage("next")}).bind(this)),this.showImage("open")},_onClose:function(){ef(document).off("keyup.jBox-Image-"+this.id)},_onCloseComplete:function(){this.wrapper.find(".jBox-image-container").css("opacity",0)}})}function jBoxNoticeWrapper(Qc,ef){new Qc.plugin("Notice",{color:null,stack:!0,stackSpacing:10,autoClose:6e3,attributes:{x:"right",y:"top"},position:{x:15,y:15},responsivePositions:{500:{x:5,y:5},768:{x:10,y:10}},target:window,fixed:!0,animation:"zoomIn",closeOnClick:"box",zIndex:12e3,_onInit:function(){this.defaultNoticePosition=ef.extend({},this.options.position),this._adjustNoticePositon=function(){var tf=ef(window),nf=tf.width();tf.height(),this.options.position=ef.extend({},this.defaultNoticePosition),ef.each(this.options.responsivePositions,(function(rf,sf){if(nf<=rf)return this.options.position=sf,!1}).bind(this)),this.options.adjustDistance={top:this.options.position.y,right:this.options.position.x,bottom:this.options.position.y,left:this.options.position.x}},this.options.content instanceof ef&&(this.options.content=this.options.content.clone().attr("id","")),ef(window).on("resize.responsivejBoxNotice-"+this.id,(function(tf){this.isOpen&&this._adjustNoticePositon()}).bind(this)),this.open()},_onCreated:function(){this.wrapper.addClass("jBox-Notice-color jBox-Notice-"+(this.options.color||"gray")),this.wrapper.data("jBox-Notice-position",this.options.attributes.x+"-"+this.options.attributes.y)},_onOpen:function(){this.options.stack||(this._adjustNoticePositon(),ef.each(ef(".jBox-Notice"),(function(tf,nf){(nf=ef(nf)).attr("id")!=this.id&&nf.data("jBox-Notice-position")==this.options.attributes.x+"-"+this.options.attributes.y&&(this.options.stack||nf.data("jBox").close({ignoreDelay:!0}))}).bind(this)))},_onPosition:function(){var tf,nf={};for(tf in ef.each(ef(".jBox-Notice"),function(cf,uf){var ff=(uf=ef(uf)).data("jBox-Notice-position");nf[ff]||(nf[ff]=[]),nf[ff].push(uf)}),nf){var rf=tf.split("-")[1];nf[tf].reverse();var sf,af=0;for(sf in nf[tf]){var lf=ef(nf[tf][sf]);lf.css("margin-"+rf,af),af+=lf.outerHeight()+this.options.stackSpacing}}},_onCloseComplete:function(){this.destroy(),this.options._onPosition.bind(this).call()}})}(function(Qc,ef){module.exports?module.exports=Qc.jBox=ef(requireJquery()):Qc.jBox=ef(Qc.jQuery)})(commonjsGlobal,function(Qc){var ef=jBoxWrapper(Qc);try{jBoxConfirmWrapper!==void 0&&jBoxConfirmWrapper&&jBoxConfirmWrapper(ef,Qc)}catch(tf){console.error(tf)}try{jBoxImageWrapper!==void 0&&jBoxImageWrapper&&jBoxImageWrapper(ef,Qc)}catch(tf){console.error(tf)}try{jBoxNoticeWrapper!==void 0&&jBoxNoticeWrapper&&jBoxNoticeWrapper(ef,Qc)}catch(tf){console.error(tf)}return ef})})(jBox_all_min);var jBox_all_minExports=jBox_all_min.exports;const jBox=getDefaultExportFromCjs(jBox_all_minExports);function _typeof(Qc){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ef){return typeof ef}:function(ef){return ef&&typeof Symbol=="function"&&ef.constructor===Symbol&&ef!==Symbol.prototype?"symbol":typeof ef},_typeof(Qc)}function _toPrimitive(Qc,ef){if(_typeof(Qc)!=="object"||Qc===null)return Qc;var tf=Qc[Symbol.toPrimitive];if(tf!==void 0){var nf=tf.call(Qc,ef||"default");if(_typeof(nf)!=="object")return nf;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ef==="string"?String:Number)(Qc)}function _toPropertyKey(Qc){var ef=_toPrimitive(Qc,"string");return _typeof(ef)==="symbol"?ef:String(ef)}function _defineProperty(Qc,ef,tf){return ef=_toPropertyKey(ef),ef in Qc?Object.defineProperty(Qc,ef,{value:tf,enumerable:!0,configurable:!0,writable:!0}):Qc[ef]=tf,Qc}function _objectSpread(Qc){for(var ef=1;ef<arguments.length;ef++){var tf=arguments[ef]!=null?Object(arguments[ef]):{},nf=Object.keys(tf);typeof Object.getOwnPropertySymbols=="function"&&nf.push.apply(nf,Object.getOwnPropertySymbols(tf).filter(function(rf){return Object.getOwnPropertyDescriptor(tf,rf).enumerable})),nf.forEach(function(rf){_defineProperty(Qc,rf,tf[rf])})}return Qc}function _classCallCheck(Qc,ef){if(!(Qc instanceof ef))throw new TypeError("Cannot call a class as a function")}function _defineProperties(Qc,ef){for(var tf=0;tf<ef.length;tf++){var nf=ef[tf];nf.enumerable=nf.enumerable||!1,nf.configurable=!0,"value"in nf&&(nf.writable=!0),Object.defineProperty(Qc,_toPropertyKey(nf.key),nf)}}function _createClass(Qc,ef,tf){return ef&&_defineProperties(Qc.prototype,ef),tf&&_defineProperties(Qc,tf),Object.defineProperty(Qc,"prototype",{writable:!1}),Qc}function _assertThisInitialized(Qc){if(Qc===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qc}function _possibleConstructorReturn(Qc,ef){if(ef&&(_typeof(ef)==="object"||typeof ef=="function"))return ef;if(ef!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Qc)}function _getPrototypeOf(Qc){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(tf){return tf.__proto__||Object.getPrototypeOf(tf)},_getPrototypeOf(Qc)}function _setPrototypeOf(Qc,ef){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nf,rf){return nf.__proto__=rf,nf},_setPrototypeOf(Qc,ef)}function _inherits(Qc,ef){if(typeof ef!="function"&&ef!==null)throw new TypeError("Super expression must either be null or a function");Qc.prototype=Object.create(ef&&ef.prototype,{constructor:{value:Qc,writable:!0,configurable:!0}}),Object.defineProperty(Qc,"prototype",{writable:!1}),ef&&_setPrototypeOf(Qc,ef)}var consoleLogger={type:"logger",log:function Qc(ef){this.output("log",ef)},warn:function Qc(ef){this.output("warn",ef)},error:function Qc(ef){this.output("error",ef)},output:function Qc(ef,tf){console&&console[ef]&&console[ef].apply(console,tf)}},Logger=function(){function Qc(ef){var tf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck(this,Qc),this.init(ef,tf)}return _createClass(Qc,[{key:"init",value:function(tf){var nf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=nf.prefix||"i18next:",this.logger=tf||consoleLogger,this.options=nf,this.debug=nf.debug}},{key:"setDebug",value:function(tf){this.debug=tf}},{key:"log",value:function(){for(var tf=arguments.length,nf=new Array(tf),rf=0;rf<tf;rf++)nf[rf]=arguments[rf];return this.forward(nf,"log","",!0)}},{key:"warn",value:function(){for(var tf=arguments.length,nf=new Array(tf),rf=0;rf<tf;rf++)nf[rf]=arguments[rf];return this.forward(nf,"warn","",!0)}},{key:"error",value:function(){for(var tf=arguments.length,nf=new Array(tf),rf=0;rf<tf;rf++)nf[rf]=arguments[rf];return this.forward(nf,"error","")}},{key:"deprecate",value:function(){for(var tf=arguments.length,nf=new Array(tf),rf=0;rf<tf;rf++)nf[rf]=arguments[rf];return this.forward(nf,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(tf,nf,rf,sf){return sf&&!this.debug?null:(typeof tf[0]=="string"&&(tf[0]="".concat(rf).concat(this.prefix," ").concat(tf[0])),this.logger[nf](tf))}},{key:"create",value:function(tf){return new Qc(this.logger,_objectSpread({},{prefix:"".concat(this.prefix,":").concat(tf,":")},this.options))}}]),Qc}(),baseLogger=new Logger,EventEmitter=function(){function Qc(){_classCallCheck(this,Qc),this.observers={}}return _createClass(Qc,[{key:"on",value:function(tf,nf){var rf=this;return tf.split(" ").forEach(function(sf){rf.observers[sf]=rf.observers[sf]||[],rf.observers[sf].push(nf)}),this}},{key:"off",value:function(tf,nf){if(this.observers[tf]){if(!nf){delete this.observers[tf];return}this.observers[tf]=this.observers[tf].filter(function(rf){return rf!==nf})}}},{key:"emit",value:function(tf){for(var nf=arguments.length,rf=new Array(nf>1?nf-1:0),sf=1;sf<nf;sf++)rf[sf-1]=arguments[sf];if(this.observers[tf]){var af=[].concat(this.observers[tf]);af.forEach(function(cf){cf.apply(void 0,rf)})}if(this.observers["*"]){var lf=[].concat(this.observers["*"]);lf.forEach(function(cf){cf.apply(cf,[tf].concat(rf))})}}}]),Qc}();function defer(){var Qc,ef,tf=new Promise(function(nf,rf){Qc=nf,ef=rf});return tf.resolve=Qc,tf.reject=ef,tf}function makeString(Qc){return Qc==null?"":""+Qc}function copy(Qc,ef,tf){Qc.forEach(function(nf){ef[nf]&&(tf[nf]=ef[nf])})}function getLastOfPath(Qc,ef,tf){function nf(lf){return lf&&lf.indexOf("###")>-1?lf.replace(/###/g,"."):lf}function rf(){return!Qc||typeof Qc=="string"}for(var sf=typeof ef!="string"?[].concat(ef):ef.split(".");sf.length>1;){if(rf())return{};var af=nf(sf.shift());!Qc[af]&&tf&&(Qc[af]=new tf),Object.prototype.hasOwnProperty.call(Qc,af)?Qc=Qc[af]:Qc={}}return rf()?{}:{obj:Qc,k:nf(sf.shift())}}function setPath(Qc,ef,tf){var nf=getLastOfPath(Qc,ef,Object),rf=nf.obj,sf=nf.k;rf[sf]=tf}function pushPath(Qc,ef,tf,nf){var rf=getLastOfPath(Qc,ef,Object),sf=rf.obj,af=rf.k;sf[af]=sf[af]||[],nf&&(sf[af]=sf[af].concat(tf)),nf||sf[af].push(tf)}function getPath(Qc,ef){var tf=getLastOfPath(Qc,ef),nf=tf.obj,rf=tf.k;if(nf)return nf[rf]}function getPathWithDefaults(Qc,ef,tf){var nf=getPath(Qc,tf);return nf!==void 0?nf:getPath(ef,tf)}function deepExtend(Qc,ef,tf){for(var nf in ef)nf!=="__proto__"&&nf!=="constructor"&&(nf in Qc?typeof Qc[nf]=="string"||Qc[nf]instanceof String||typeof ef[nf]=="string"||ef[nf]instanceof String?tf&&(Qc[nf]=ef[nf]):deepExtend(Qc[nf],ef[nf],tf):Qc[nf]=ef[nf]);return Qc}function regexEscape(Qc){return Qc.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(Qc){return typeof Qc=="string"?Qc.replace(/[&<>"'\/]/g,function(ef){return _entityMap[ef]}):Qc}var isIE10=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ResourceStore=function(Qc){_inherits(ef,Qc);function ef(tf){var nf,rf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck(this,ef),nf=_possibleConstructorReturn(this,_getPrototypeOf(ef).call(this)),isIE10&&EventEmitter.call(_assertThisInitialized(nf)),nf.data=tf||{},nf.options=rf,nf.options.keySeparator===void 0&&(nf.options.keySeparator="."),nf}return _createClass(ef,[{key:"addNamespaces",value:function(nf){this.options.ns.indexOf(nf)<0&&this.options.ns.push(nf)}},{key:"removeNamespaces",value:function(nf){var rf=this.options.ns.indexOf(nf);rf>-1&&this.options.ns.splice(rf,1)}},{key:"getResource",value:function(nf,rf,sf){var af=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},lf=af.keySeparator!==void 0?af.keySeparator:this.options.keySeparator,cf=[nf,rf];return sf&&typeof sf!="string"&&(cf=cf.concat(sf)),sf&&typeof sf=="string"&&(cf=cf.concat(lf?sf.split(lf):sf)),nf.indexOf(".")>-1&&(cf=nf.split(".")),getPath(this.data,cf)}},{key:"addResource",value:function(nf,rf,sf,af){var lf=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},cf=this.options.keySeparator;cf===void 0&&(cf=".");var uf=[nf,rf];sf&&(uf=uf.concat(cf?sf.split(cf):sf)),nf.indexOf(".")>-1&&(uf=nf.split("."),af=rf,rf=uf[1]),this.addNamespaces(rf),setPath(this.data,uf,af),lf.silent||this.emit("added",nf,rf,sf,af)}},{key:"addResources",value:function(nf,rf,sf){var af=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var lf in sf)(typeof sf[lf]=="string"||Object.prototype.toString.apply(sf[lf])==="[object Array]")&&this.addResource(nf,rf,lf,sf[lf],{silent:!0});af.silent||this.emit("added",nf,rf,sf)}},{key:"addResourceBundle",value:function(nf,rf,sf,af,lf){var cf=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},uf=[nf,rf];nf.indexOf(".")>-1&&(uf=nf.split("."),af=sf,sf=rf,rf=uf[1]),this.addNamespaces(rf);var ff=getPath(this.data,uf)||{};af?deepExtend(ff,sf,lf):ff=_objectSpread({},ff,sf),setPath(this.data,uf,ff),cf.silent||this.emit("added",nf,rf,sf)}},{key:"removeResourceBundle",value:function(nf,rf){this.hasResourceBundle(nf,rf)&&delete this.data[nf][rf],this.removeNamespaces(rf),this.emit("removed",nf,rf)}},{key:"hasResourceBundle",value:function(nf,rf){return this.getResource(nf,rf)!==void 0}},{key:"getResourceBundle",value:function(nf,rf){return rf||(rf=this.options.defaultNS),this.options.compatibilityAPI==="v1"?_objectSpread({},{},this.getResource(nf,rf)):this.getResource(nf,rf)}},{key:"getDataByLanguage",value:function(nf){return this.data[nf]}},{key:"toJSON",value:function(){return this.data}}]),ef}(EventEmitter),postProcessor={processors:{},addPostProcessor:function Qc(ef){this.processors[ef.name]=ef},handle:function Qc(ef,tf,nf,rf,sf){var af=this;return ef.forEach(function(lf){af.processors[lf]&&(tf=af.processors[lf].process(tf,nf,rf,sf))}),tf}},checkedLoadedFor={},Translator=function(Qc){_inherits(ef,Qc);function ef(tf){var nf,rf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _classCallCheck(this,ef),nf=_possibleConstructorReturn(this,_getPrototypeOf(ef).call(this)),isIE10&&EventEmitter.call(_assertThisInitialized(nf)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],tf,_assertThisInitialized(nf)),nf.options=rf,nf.options.keySeparator===void 0&&(nf.options.keySeparator="."),nf.logger=baseLogger.create("translator"),nf}return _createClass(ef,[{key:"changeLanguage",value:function(nf){nf&&(this.language=nf)}},{key:"exists",value:function(nf){var rf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},sf=this.resolve(nf,rf);return sf&&sf.res!==void 0}},{key:"extractFromKey",value:function(nf,rf){var sf=rf.nsSeparator!==void 0?rf.nsSeparator:this.options.nsSeparator;sf===void 0&&(sf=":");var af=rf.keySeparator!==void 0?rf.keySeparator:this.options.keySeparator,lf=rf.ns||this.options.defaultNS;if(sf&&nf.indexOf(sf)>-1){var cf=nf.match(this.interpolator.nestingRegexp);if(cf&&cf.length>0)return{key:nf,namespaces:lf};var uf=nf.split(sf);(sf!==af||sf===af&&this.options.ns.indexOf(uf[0])>-1)&&(lf=uf.shift()),nf=uf.join(af)}return typeof lf=="string"&&(lf=[lf]),{key:nf,namespaces:lf}}},{key:"translate",value:function(nf,rf,sf){var af=this;if(_typeof(rf)!=="object"&&this.options.overloadTranslationOptionHandler&&(rf=this.options.overloadTranslationOptionHandler(arguments)),rf||(rf={}),nf==null)return"";Array.isArray(nf)||(nf=[String(nf)]);var lf=rf.keySeparator!==void 0?rf.keySeparator:this.options.keySeparator,cf=this.extractFromKey(nf[nf.length-1],rf),uf=cf.key,ff=cf.namespaces,df=ff[ff.length-1],gf=rf.lng||this.language,_f=rf.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(gf&&gf.toLowerCase()==="cimode"){if(_f){var xf=rf.nsSeparator||this.options.nsSeparator;return df+xf+uf}return uf}var Af=this.resolve(nf,rf),Df=Af&&Af.res,Of=Af&&Af.usedKey||uf,Gf=Af&&Af.exactUsedKey||uf,Bf=Object.prototype.toString.apply(Df),Vf=["[object Number]","[object Function]","[object RegExp]"],Lf=rf.joinArrays!==void 0?rf.joinArrays:this.options.joinArrays,Cf=!this.i18nFormat||this.i18nFormat.handleAsObject,Tf=typeof Df!="string"&&typeof Df!="boolean"&&typeof Df!="number";if(Cf&&Df&&Tf&&Vf.indexOf(Bf)<0&&!(typeof Lf=="string"&&Bf==="[object Array]")){if(!rf.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(Of,Df,rf):"key '".concat(uf," (").concat(this.language,")' returned an object instead of string.");if(lf){var Yf=Bf==="[object Array]",rh=Yf?[]:{},dh=Yf?Gf:Of;for(var hh in Df)if(Object.prototype.hasOwnProperty.call(Df,hh)){var sh="".concat(dh).concat(lf).concat(hh);rh[hh]=this.translate(sh,_objectSpread({},rf,{joinArrays:!1,ns:ff})),rh[hh]===sh&&(rh[hh]=Df[hh])}Df=rh}}else if(Cf&&typeof Lf=="string"&&Bf==="[object Array]")Df=Df.join(Lf),Df&&(Df=this.extendTranslation(Df,nf,rf,sf));else{var Hf=!1,Qf=!1,ah=rf.count!==void 0&&typeof rf.count!="string",mh=ef.hasDefaultValue(rf),uh=ah?this.pluralResolver.getSuffix(gf,rf.count):"",jf=rf["defaultValue".concat(uh)]||rf.defaultValue;!this.isValidLookup(Df)&&mh&&(Hf=!0,Df=jf),this.isValidLookup(Df)||(Qf=!0,Df=uf);var Kf=mh&&jf!==Df&&this.options.updateMissing;if(Qf||Hf||Kf){if(this.logger.log(Kf?"updateKey":"missingKey",gf,df,uf,Kf?jf:Df),lf){var of=this.resolve(uf,_objectSpread({},rf,{keySeparator:!1}));of&&of.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var hf=[],pf=this.languageUtils.getFallbackCodes(this.options.fallbackLng,rf.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pf&&pf[0])for(var vf=0;vf<pf.length;vf++)hf.push(pf[vf]);else this.options.saveMissingTo==="all"?hf=this.languageUtils.toResolveHierarchy(rf.lng||this.language):hf.push(rf.lng||this.language);var Ef=function(Ff,Uf,Wf){af.options.missingKeyHandler?af.options.missingKeyHandler(Ff,df,Uf,Kf?Wf:Df,Kf,rf):af.backendConnector&&af.backendConnector.saveMissing&&af.backendConnector.saveMissing(Ff,df,Uf,Kf?Wf:Df,Kf,rf),af.emit("missingKey",Ff,df,Uf,Df)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ah?hf.forEach(function(Sf){af.pluralResolver.getSuffixes(Sf).forEach(function(Ff){Ef([Sf],uf+Ff,rf["defaultValue".concat(Ff)]||jf)})}):Ef(hf,uf,jf))}Df=this.extendTranslation(Df,nf,rf,Af,sf),Qf&&Df===uf&&this.options.appendNamespaceToMissingKey&&(Df="".concat(df,":").concat(uf)),Qf&&this.options.parseMissingKeyHandler&&(Df=this.options.parseMissingKeyHandler(Df))}return Df}},{key:"extendTranslation",value:function(nf,rf,sf,af,lf){var cf=this;if(this.i18nFormat&&this.i18nFormat.parse)nf=this.i18nFormat.parse(nf,sf,af.usedLng,af.usedNS,af.usedKey,{resolved:af});else if(!sf.skipInterpolation){sf.interpolation&&this.interpolator.init(_objectSpread({},sf,{interpolation:_objectSpread({},this.options.interpolation,sf.interpolation)}));var uf=sf.interpolation&&sf.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,ff;if(uf){var df=nf.match(this.interpolator.nestingRegexp);ff=df&&df.length}var gf=sf.replace&&typeof sf.replace!="string"?sf.replace:sf;if(this.options.interpolation.defaultVariables&&(gf=_objectSpread({},this.options.interpolation.defaultVariables,gf)),nf=this.interpolator.interpolate(nf,gf,sf.lng||this.language,sf),uf){var _f=nf.match(this.interpolator.nestingRegexp),xf=_f&&_f.length;ff<xf&&(sf.nest=!1)}sf.nest!==!1&&(nf=this.interpolator.nest(nf,function(){for(var Of=arguments.length,Gf=new Array(Of),Bf=0;Bf<Of;Bf++)Gf[Bf]=arguments[Bf];return lf&&lf[0]===Gf[0]&&!sf.context?(cf.logger.warn("It seems you are nesting recursively key: ".concat(Gf[0]," in key: ").concat(rf[0])),null):cf.translate.apply(cf,Gf.concat([rf]))},sf)),sf.interpolation&&this.interpolator.reset()}var Af=sf.postProcess||this.options.postProcess,Df=typeof Af=="string"?[Af]:Af;return nf!=null&&Df&&Df.length&&sf.applyPostProcessor!==!1&&(nf=postProcessor.handle(Df,nf,rf,this.options&&this.options.postProcessPassResolved?_objectSpread({i18nResolved:af},sf):sf,this)),nf}},{key:"resolve",value:function(nf){var rf=this,sf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},af,lf,cf,uf,ff;return typeof nf=="string"&&(nf=[nf]),nf.forEach(function(df){if(!rf.isValidLookup(af)){var gf=rf.extractFromKey(df,sf),_f=gf.key;lf=_f;var xf=gf.namespaces;rf.options.fallbackNS&&(xf=xf.concat(rf.options.fallbackNS));var Af=sf.count!==void 0&&typeof sf.count!="string",Df=sf.context!==void 0&&typeof sf.context=="string"&&sf.context!=="",Of=sf.lngs?sf.lngs:rf.languageUtils.toResolveHierarchy(sf.lng||rf.language,sf.fallbackLng);xf.forEach(function(Gf){rf.isValidLookup(af)||(ff=Gf,!checkedLoadedFor["".concat(Of[0],"-").concat(Gf)]&&rf.utils&&rf.utils.hasLoadedNamespace&&!rf.utils.hasLoadedNamespace(ff)&&(checkedLoadedFor["".concat(Of[0],"-").concat(Gf)]=!0,rf.logger.warn('key "'.concat(lf,'" for languages "').concat(Of.join(", "),`" won't get resolved as namespace "`).concat(ff,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Of.forEach(function(Bf){if(!rf.isValidLookup(af)){uf=Bf;var Vf=_f,Lf=[Vf];if(rf.i18nFormat&&rf.i18nFormat.addLookupKeys)rf.i18nFormat.addLookupKeys(Lf,_f,Bf,Gf,sf);else{var Cf;Af&&(Cf=rf.pluralResolver.getSuffix(Bf,sf.count)),Af&&Df&&Lf.push(Vf+Cf),Df&&Lf.push(Vf+="".concat(rf.options.contextSeparator).concat(sf.context)),Af&&Lf.push(Vf+=Cf)}for(var Tf;Tf=Lf.pop();)rf.isValidLookup(af)||(cf=Tf,af=rf.getResource(Bf,Gf,Tf,sf))}}))})}}),{res:af,usedKey:lf,exactUsedKey:cf,usedLng:uf,usedNS:ff}}},{key:"isValidLookup",value:function(nf){return nf!==void 0&&!(!this.options.returnNull&&nf===null)&&!(!this.options.returnEmptyString&&nf==="")}},{key:"getResource",value:function(nf,rf,sf){var af=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(nf,rf,sf,af):this.resourceStore.getResource(nf,rf,sf,af)}}],[{key:"hasDefaultValue",value:function(nf){var rf="defaultValue";for(var sf in nf)if(Object.prototype.hasOwnProperty.call(nf,sf)&&rf===sf.substring(0,rf.length)&&nf[sf]!==void 0)return!0;return!1}}]),ef}(EventEmitter);function capitalize$1(Qc){return Qc.charAt(0).toUpperCase()+Qc.slice(1)}var LanguageUtil=function(){function Qc(ef){_classCallCheck(this,Qc),this.options=ef,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}return _createClass(Qc,[{key:"getScriptPartFromCode",value:function(tf){if(!tf||tf.indexOf("-")<0)return null;var nf=tf.split("-");return nf.length===2||(nf.pop(),nf[nf.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(nf.join("-"))}},{key:"getLanguagePartFromCode",value:function(tf){if(!tf||tf.indexOf("-")<0)return tf;var nf=tf.split("-");return this.formatLanguageCode(nf[0])}},{key:"formatLanguageCode",value:function(tf){if(typeof tf=="string"&&tf.indexOf("-")>-1){var nf=["hans","hant","latn","cyrl","cans","mong","arab"],rf=tf.split("-");return this.options.lowerCaseLng?rf=rf.map(function(sf){return sf.toLowerCase()}):rf.length===2?(rf[0]=rf[0].toLowerCase(),rf[1]=rf[1].toUpperCase(),nf.indexOf(rf[1].toLowerCase())>-1&&(rf[1]=capitalize$1(rf[1].toLowerCase()))):rf.length===3&&(rf[0]=rf[0].toLowerCase(),rf[1].length===2&&(rf[1]=rf[1].toUpperCase()),rf[0]!=="sgn"&&rf[2].length===2&&(rf[2]=rf[2].toUpperCase()),nf.indexOf(rf[1].toLowerCase())>-1&&(rf[1]=capitalize$1(rf[1].toLowerCase())),nf.indexOf(rf[2].toLowerCase())>-1&&(rf[2]=capitalize$1(rf[2].toLowerCase()))),rf.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?tf.toLowerCase():tf}},{key:"isWhitelisted",value:function(tf){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(tf)}},{key:"isSupportedCode",value:function(tf){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(tf=this.getLanguagePartFromCode(tf)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(tf)>-1}},{key:"getBestMatchFromCodes",value:function(tf){var nf=this;if(!tf)return null;var rf;return tf.forEach(function(sf){if(!rf){var af=nf.formatLanguageCode(sf);(!nf.options.supportedLngs||nf.isSupportedCode(af))&&(rf=af)}}),!rf&&this.options.supportedLngs&&tf.forEach(function(sf){if(!rf){var af=nf.getLanguagePartFromCode(sf);if(nf.isSupportedCode(af))return rf=af;rf=nf.options.supportedLngs.find(function(lf){if(lf.indexOf(af)===0)return lf})}}),rf||(rf=this.getFallbackCodes(this.options.fallbackLng)[0]),rf}},{key:"getFallbackCodes",value:function(tf,nf){if(!tf)return[];if(typeof tf=="function"&&(tf=tf(nf)),typeof tf=="string"&&(tf=[tf]),Object.prototype.toString.apply(tf)==="[object Array]")return tf;if(!nf)return tf.default||[];var rf=tf[nf];return rf||(rf=tf[this.getScriptPartFromCode(nf)]),rf||(rf=tf[this.formatLanguageCode(nf)]),rf||(rf=tf[this.getLanguagePartFromCode(nf)]),rf||(rf=tf.default),rf||[]}},{key:"toResolveHierarchy",value:function(tf,nf){var rf=this,sf=this.getFallbackCodes(nf||this.options.fallbackLng||[],tf),af=[],lf=function(uf){uf&&(rf.isSupportedCode(uf)?af.push(uf):rf.logger.warn("rejecting language code not found in supportedLngs: ".concat(uf)))};return typeof tf=="string"&&tf.indexOf("-")>-1?(this.options.load!=="languageOnly"&&lf(this.formatLanguageCode(tf)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&lf(this.getScriptPartFromCode(tf)),this.options.load!=="currentOnly"&&lf(this.getLanguagePartFromCode(tf))):typeof tf=="string"&&lf(this.formatLanguageCode(tf)),sf.forEach(function(cf){af.indexOf(cf)<0&&lf(rf.formatLanguageCode(cf))}),af}}]),Qc}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function Qc(ef){return+(ef>1)},2:function Qc(ef){return+(ef!=1)},3:function Qc(ef){return 0},4:function Qc(ef){return ef%10==1&&ef%100!=11?0:ef%10>=2&&ef%10<=4&&(ef%100<10||ef%100>=20)?1:2},5:function Qc(ef){return ef==0?0:ef==1?1:ef==2?2:ef%100>=3&&ef%100<=10?3:ef%100>=11?4:5},6:function Qc(ef){return ef==1?0:ef>=2&&ef<=4?1:2},7:function Qc(ef){return ef==1?0:ef%10>=2&&ef%10<=4&&(ef%100<10||ef%100>=20)?1:2},8:function Qc(ef){return ef==1?0:ef==2?1:ef!=8&&ef!=11?2:3},9:function Qc(ef){return+(ef>=2)},10:function Qc(ef){return ef==1?0:ef==2?1:ef<7?2:ef<11?3:4},11:function Qc(ef){return ef==1||ef==11?0:ef==2||ef==12?1:ef>2&&ef<20?2:3},12:function Qc(ef){return+(ef%10!=1||ef%100==11)},13:function Qc(ef){return+(ef!==0)},14:function Qc(ef){return ef==1?0:ef==2?1:ef==3?2:3},15:function Qc(ef){return ef%10==1&&ef%100!=11?0:ef%10>=2&&(ef%100<10||ef%100>=20)?1:2},16:function Qc(ef){return ef%10==1&&ef%100!=11?0:ef!==0?1:2},17:function Qc(ef){return ef==1||ef%10==1&&ef%100!=11?0:1},18:function Qc(ef){return ef==0?0:ef==1?1:2},19:function Qc(ef){return ef==1?0:ef==0||ef%100>1&&ef%100<11?1:ef%100>10&&ef%100<20?2:3},20:function Qc(ef){return ef==1?0:ef==0||ef%100>0&&ef%100<20?1:2},21:function Qc(ef){return ef%100==1?1:ef%100==2?2:ef%100==3||ef%100==4?3:0},22:function Qc(ef){return ef==1?0:ef==2?1:(ef<0||ef>10)&&ef%10==0?2:3}};function createRules(){var Qc={};return sets.forEach(function(ef){ef.lngs.forEach(function(tf){Qc[tf]={numbers:ef.nr,plurals:_rulesPluralsTypes[ef.fc]}})}),Qc}var PluralResolver=function(){function Qc(ef){var tf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck(this,Qc),this.languageUtils=ef,this.options=tf,this.logger=baseLogger.create("pluralResolver"),this.rules=createRules()}return _createClass(Qc,[{key:"addRule",value:function(tf,nf){this.rules[tf]=nf}},{key:"getRule",value:function(tf){return this.rules[tf]||this.rules[this.languageUtils.getLanguagePartFromCode(tf)]}},{key:"needsPlural",value:function(tf){var nf=this.getRule(tf);return nf&&nf.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(tf,nf){return this.getSuffixes(tf).map(function(rf){return nf+rf})}},{key:"getSuffixes",value:function(tf){var nf=this,rf=this.getRule(tf);return rf?rf.numbers.map(function(sf){return nf.getSuffix(tf,sf)}):[]}},{key:"getSuffix",value:function(tf,nf){var rf=this,sf=this.getRule(tf);if(sf){var af=sf.noAbs?sf.plurals(nf):sf.plurals(Math.abs(nf)),lf=sf.numbers[af];this.options.simplifyPluralSuffix&&sf.numbers.length===2&&sf.numbers[0]===1&&(lf===2?lf="plural":lf===1&&(lf=""));var cf=function(){return rf.options.prepend&&lf.toString()?rf.options.prepend+lf.toString():lf.toString()};return this.options.compatibilityJSON==="v1"?lf===1?"":typeof lf=="number"?"_plural_".concat(lf.toString()):cf():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&sf.numbers.length===2&&sf.numbers[0]===1?cf():this.options.prepend&&af.toString()?this.options.prepend+af.toString():af.toString()}return this.logger.warn("no plural rule found for: ".concat(tf)),""}}]),Qc}(),Interpolator=function(){function Qc(){var ef=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck(this,Qc),this.logger=baseLogger.create("interpolator"),this.options=ef,this.format=ef.interpolation&&ef.interpolation.format||function(tf){return tf},this.init(ef)}return _createClass(Qc,[{key:"init",value:function(){var tf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tf.interpolation||(tf.interpolation={escapeValue:!0});var nf=tf.interpolation;this.escape=nf.escape!==void 0?nf.escape:escape$1,this.escapeValue=nf.escapeValue!==void 0?nf.escapeValue:!0,this.useRawValueToEscape=nf.useRawValueToEscape!==void 0?nf.useRawValueToEscape:!1,this.prefix=nf.prefix?regexEscape(nf.prefix):nf.prefixEscaped||"{{",this.suffix=nf.suffix?regexEscape(nf.suffix):nf.suffixEscaped||"}}",this.formatSeparator=nf.formatSeparator?nf.formatSeparator:nf.formatSeparator||",",this.unescapePrefix=nf.unescapeSuffix?"":nf.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":nf.unescapeSuffix||"",this.nestingPrefix=nf.nestingPrefix?regexEscape(nf.nestingPrefix):nf.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=nf.nestingSuffix?regexEscape(nf.nestingSuffix):nf.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=nf.nestingOptionsSeparator?nf.nestingOptionsSeparator:nf.nestingOptionsSeparator||",",this.maxReplaces=nf.maxReplaces?nf.maxReplaces:1e3,this.alwaysFormat=nf.alwaysFormat!==void 0?nf.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var tf="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(tf,"g");var nf="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(nf,"g");var rf="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(rf,"g")}},{key:"interpolate",value:function(tf,nf,rf,sf){var af=this,lf,cf,uf,ff=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function df(Df){return Df.replace(/\$/g,"$$$$")}var gf=function(Of){if(Of.indexOf(af.formatSeparator)<0){var Gf=getPathWithDefaults(nf,ff,Of);return af.alwaysFormat?af.format(Gf,void 0,rf):Gf}var Bf=Of.split(af.formatSeparator),Vf=Bf.shift().trim(),Lf=Bf.join(af.formatSeparator).trim();return af.format(getPathWithDefaults(nf,ff,Vf),Lf,rf,sf)};this.resetRegExp();var _f=sf&&sf.missingInterpolationHandler||this.options.missingInterpolationHandler,xf=sf&&sf.interpolation&&sf.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,Af=[{regex:this.regexpUnescape,safeValue:function(Of){return df(Of)}},{regex:this.regexp,safeValue:function(Of){return af.escapeValue?df(af.escape(Of)):df(Of)}}];return Af.forEach(function(Df){for(uf=0;lf=Df.regex.exec(tf);){if(cf=gf(lf[1].trim()),cf===void 0)if(typeof _f=="function"){var Of=_f(tf,lf,sf);cf=typeof Of=="string"?Of:""}else if(xf){cf=lf[0];continue}else af.logger.warn("missed to pass in variable ".concat(lf[1]," for interpolating ").concat(tf)),cf="";else typeof cf!="string"&&!af.useRawValueToEscape&&(cf=makeString(cf));if(tf=tf.replace(lf[0],Df.safeValue(cf)),Df.regex.lastIndex=0,uf++,uf>=af.maxReplaces)break}}),tf}},{key:"nest",value:function(tf,nf){var rf=this,sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},af,lf,cf=_objectSpread({},sf);cf.applyPostProcessor=!1,delete cf.defaultValue;function uf(_f,xf){var Af=this.nestingOptionsSeparator;if(_f.indexOf(Af)<0)return _f;var Df=_f.split(new RegExp("".concat(Af,"[ ]*{"))),Of="{".concat(Df[1]);_f=Df[0],Of=this.interpolate(Of,cf),Of=Of.replace(/'/g,'"');try{cf=JSON.parse(Of),xf&&(cf=_objectSpread({},xf,cf))}catch(Gf){return this.logger.warn("failed parsing options string in nesting for key ".concat(_f),Gf),"".concat(_f).concat(Af).concat(Of)}return delete cf.defaultValue,_f}for(;af=this.nestingRegexp.exec(tf);){var ff=[],df=!1;if(af[0].includes(this.formatSeparator)&&!/{.*}/.test(af[1])){var gf=af[1].split(this.formatSeparator).map(function(_f){return _f.trim()});af[1]=gf.shift(),ff=gf,df=!0}if(lf=nf(uf.call(this,af[1].trim(),cf),cf),lf&&af[0]===tf&&typeof lf!="string")return lf;typeof lf!="string"&&(lf=makeString(lf)),lf||(this.logger.warn("missed to resolve ".concat(af[1]," for nesting ").concat(tf)),lf=""),df&&(lf=ff.reduce(function(_f,xf){return rf.format(_f,xf,sf.lng,sf)},lf.trim())),tf=tf.replace(af[0],lf),this.regexp.lastIndex=0}return tf}}]),Qc}();function remove$5(Qc,ef){for(var tf=Qc.indexOf(ef);tf!==-1;)Qc.splice(tf,1),tf=Qc.indexOf(ef)}var Connector=function(Qc){_inherits(ef,Qc);function ef(tf,nf,rf){var sf,af=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return _classCallCheck(this,ef),sf=_possibleConstructorReturn(this,_getPrototypeOf(ef).call(this)),isIE10&&EventEmitter.call(_assertThisInitialized(sf)),sf.backend=tf,sf.store=nf,sf.services=rf,sf.languageUtils=rf.languageUtils,sf.options=af,sf.logger=baseLogger.create("backendConnector"),sf.state={},sf.queue=[],sf.backend&&sf.backend.init&&sf.backend.init(rf,af.backend,af),sf}return _createClass(ef,[{key:"queueLoad",value:function(nf,rf,sf,af){var lf=this,cf=[],uf=[],ff=[],df=[];return nf.forEach(function(gf){var _f=!0;rf.forEach(function(xf){var Af="".concat(gf,"|").concat(xf);!sf.reload&&lf.store.hasResourceBundle(gf,xf)?lf.state[Af]=2:lf.state[Af]<0||(lf.state[Af]===1?uf.indexOf(Af)<0&&uf.push(Af):(lf.state[Af]=1,_f=!1,uf.indexOf(Af)<0&&uf.push(Af),cf.indexOf(Af)<0&&cf.push(Af),df.indexOf(xf)<0&&df.push(xf)))}),_f||ff.push(gf)}),(cf.length||uf.length)&&this.queue.push({pending:uf,loaded:{},errors:[],callback:af}),{toLoad:cf,pending:uf,toLoadLanguages:ff,toLoadNamespaces:df}}},{key:"loaded",value:function(nf,rf,sf){var af=nf.split("|"),lf=af[0],cf=af[1];rf&&this.emit("failedLoading",lf,cf,rf),sf&&this.store.addResourceBundle(lf,cf,sf),this.state[nf]=rf?-1:2;var uf={};this.queue.forEach(function(ff){pushPath(ff.loaded,[lf],cf),remove$5(ff.pending,nf),rf&&ff.errors.push(rf),ff.pending.length===0&&!ff.done&&(Object.keys(ff.loaded).forEach(function(df){uf[df]||(uf[df]=[]),ff.loaded[df].length&&ff.loaded[df].forEach(function(gf){uf[df].indexOf(gf)<0&&uf[df].push(gf)})}),ff.done=!0,ff.errors.length?ff.callback(ff.errors):ff.callback())}),this.emit("loaded",uf),this.queue=this.queue.filter(function(ff){return!ff.done})}},{key:"read",value:function(nf,rf,sf){var af=this,lf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,cf=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,uf=arguments.length>5?arguments[5]:void 0;return nf.length?this.backend[sf](nf,rf,function(ff,df){if(ff&&df&&lf<5){setTimeout(function(){af.read.call(af,nf,rf,sf,lf+1,cf*2,uf)},cf);return}uf(ff,df)}):uf(null,{})}},{key:"prepareLoading",value:function(nf,rf){var sf=this,af=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},lf=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),lf&&lf();typeof nf=="string"&&(nf=this.languageUtils.toResolveHierarchy(nf)),typeof rf=="string"&&(rf=[rf]);var cf=this.queueLoad(nf,rf,af,lf);if(!cf.toLoad.length)return cf.pending.length||lf(),null;cf.toLoad.forEach(function(uf){sf.loadOne(uf)})}},{key:"load",value:function(nf,rf,sf){this.prepareLoading(nf,rf,{},sf)}},{key:"reload",value:function(nf,rf,sf){this.prepareLoading(nf,rf,{reload:!0},sf)}},{key:"loadOne",value:function(nf){var rf=this,sf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",af=nf.split("|"),lf=af[0],cf=af[1];this.read(lf,cf,"read",void 0,void 0,function(uf,ff){uf&&rf.logger.warn("".concat(sf,"loading namespace ").concat(cf," for language ").concat(lf," failed"),uf),!uf&&ff&&rf.logger.log("".concat(sf,"loaded namespace ").concat(cf," for language ").concat(lf),ff),rf.loaded(nf,uf,ff)})}},{key:"saveMissing",value:function(nf,rf,sf,af,lf){var cf=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(rf)){this.logger.warn('did not save key "'.concat(sf,'" as the namespace "').concat(rf,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}sf==null||sf===""||(this.backend&&this.backend.create&&this.backend.create(nf,rf,sf,af,null,_objectSpread({},cf,{isUpdate:lf})),!(!nf||!nf[0])&&this.store.addResource(nf[0],rf,sf,af))}}]),ef}(EventEmitter);function get$4(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(ef){var tf={};if(_typeof(ef[1])==="object"&&(tf=ef[1]),typeof ef[1]=="string"&&(tf.defaultValue=ef[1]),typeof ef[2]=="string"&&(tf.tDescription=ef[2]),_typeof(ef[2])==="object"||_typeof(ef[3])==="object"){var nf=ef[3]||ef[2];Object.keys(nf).forEach(function(rf){tf[rf]=nf[rf]})}return tf},interpolation:{escapeValue:!0,format:function(ef,tf,nf,rf){return ef},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function transformOptions(Qc){return typeof Qc.ns=="string"&&(Qc.ns=[Qc.ns]),typeof Qc.fallbackLng=="string"&&(Qc.fallbackLng=[Qc.fallbackLng]),typeof Qc.fallbackNS=="string"&&(Qc.fallbackNS=[Qc.fallbackNS]),Qc.whitelist&&(Qc.whitelist&&Qc.whitelist.indexOf("cimode")<0&&(Qc.whitelist=Qc.whitelist.concat(["cimode"])),Qc.supportedLngs=Qc.whitelist),Qc.nonExplicitWhitelist&&(Qc.nonExplicitSupportedLngs=Qc.nonExplicitWhitelist),Qc.supportedLngs&&Qc.supportedLngs.indexOf("cimode")<0&&(Qc.supportedLngs=Qc.supportedLngs.concat(["cimode"])),Qc}function noop$2(){}var I18n=function(Qc){_inherits(ef,Qc);function ef(){var tf,nf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rf=arguments.length>1?arguments[1]:void 0;if(_classCallCheck(this,ef),tf=_possibleConstructorReturn(this,_getPrototypeOf(ef).call(this)),isIE10&&EventEmitter.call(_assertThisInitialized(tf)),tf.options=transformOptions(nf),tf.services={},tf.logger=baseLogger,tf.modules={external:[]},rf&&!tf.isInitialized&&!nf.isClone){if(!tf.options.initImmediate)return tf.init(nf,rf),_possibleConstructorReturn(tf,_assertThisInitialized(tf));setTimeout(function(){tf.init(nf,rf)},0)}return tf}return _createClass(ef,[{key:"init",value:function(){var nf=this,rf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sf=arguments.length>1?arguments[1]:void 0;typeof rf=="function"&&(sf=rf,rf={}),rf.whitelist&&!rf.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),rf.nonExplicitWhitelist&&!rf.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=_objectSpread({},get$4(),this.options,transformOptions(rf)),this.format=this.options.interpolation.format,sf||(sf=noop$2);function af(xf){return xf?typeof xf=="function"?new xf:xf:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(af(this.modules.logger),this.options):baseLogger.init(null,this.options);var lf=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var cf=this.services;cf.logger=baseLogger,cf.resourceStore=this.store,cf.languageUtils=lf,cf.pluralResolver=new PluralResolver(lf,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),cf.interpolator=new Interpolator(this.options),cf.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},cf.backendConnector=new Connector(af(this.modules.backend),cf.resourceStore,cf,this.options),cf.backendConnector.on("*",function(xf){for(var Af=arguments.length,Df=new Array(Af>1?Af-1:0),Of=1;Of<Af;Of++)Df[Of-1]=arguments[Of];nf.emit.apply(nf,[xf].concat(Df))}),this.modules.languageDetector&&(cf.languageDetector=af(this.modules.languageDetector),cf.languageDetector.init(cf,this.options.detection,this.options)),this.modules.i18nFormat&&(cf.i18nFormat=af(this.modules.i18nFormat),cf.i18nFormat.init&&cf.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(xf){for(var Af=arguments.length,Df=new Array(Af>1?Af-1:0),Of=1;Of<Af;Of++)Df[Of-1]=arguments[Of];nf.emit.apply(nf,[xf].concat(Df))}),this.modules.external.forEach(function(xf){xf.init&&xf.init(nf)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var uf=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);uf.length>0&&uf[0]!=="dev"&&(this.options.lng=uf[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var ff=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];ff.forEach(function(xf){nf[xf]=function(){var Af;return(Af=nf.store)[xf].apply(Af,arguments)}});var df=["addResource","addResources","addResourceBundle","removeResourceBundle"];df.forEach(function(xf){nf[xf]=function(){var Af;return(Af=nf.store)[xf].apply(Af,arguments),nf}});var gf=defer(),_f=function(){var Af=function(Of,Gf){nf.isInitialized&&nf.logger.warn("init: i18next is already initialized. You should call init just once!"),nf.isInitialized=!0,nf.options.isClone||nf.logger.log("initialized",nf.options),nf.emit("initialized",nf.options),gf.resolve(Gf),sf(Of,Gf)};if(nf.languages&&nf.options.compatibilityAPI!=="v1"&&!nf.isInitialized)return Af(null,nf.t.bind(nf));nf.changeLanguage(nf.options.lng,Af)};return this.options.resources||!this.options.initImmediate?_f():setTimeout(_f,0),gf}},{key:"loadResources",value:function(nf){var rf=this,sf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2,af=sf,lf=typeof nf=="string"?nf:this.language;if(typeof nf=="function"&&(af=nf),!this.options.resources||this.options.partialBundledLanguages){if(lf&&lf.toLowerCase()==="cimode")return af();var cf=[],uf=function(gf){if(gf){var _f=rf.services.languageUtils.toResolveHierarchy(gf);_f.forEach(function(xf){cf.indexOf(xf)<0&&cf.push(xf)})}};if(lf)uf(lf);else{var ff=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ff.forEach(function(df){return uf(df)})}this.options.preload&&this.options.preload.forEach(function(df){return uf(df)}),this.services.backendConnector.load(cf,this.options.ns,af)}else af(null)}},{key:"reloadResources",value:function(nf,rf,sf){var af=defer();return nf||(nf=this.languages),rf||(rf=this.options.ns),sf||(sf=noop$2),this.services.backendConnector.reload(nf,rf,function(lf){af.resolve(),sf(lf)}),af}},{key:"use",value:function(nf){if(!nf)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!nf.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return nf.type==="backend"&&(this.modules.backend=nf),(nf.type==="logger"||nf.log&&nf.warn&&nf.error)&&(this.modules.logger=nf),nf.type==="languageDetector"&&(this.modules.languageDetector=nf),nf.type==="i18nFormat"&&(this.modules.i18nFormat=nf),nf.type==="postProcessor"&&postProcessor.addPostProcessor(nf),nf.type==="3rdParty"&&this.modules.external.push(nf),this}},{key:"changeLanguage",value:function(nf,rf){var sf=this;this.isLanguageChangingTo=nf;var af=defer();this.emit("languageChanging",nf);var lf=function(ff,df){df?(sf.language=df,sf.languages=sf.services.languageUtils.toResolveHierarchy(df),sf.translator.changeLanguage(df),sf.isLanguageChangingTo=void 0,sf.emit("languageChanged",df),sf.logger.log("languageChanged",df)):sf.isLanguageChangingTo=void 0,af.resolve(function(){return sf.t.apply(sf,arguments)}),rf&&rf(ff,function(){return sf.t.apply(sf,arguments)})},cf=function(ff){var df=typeof ff=="string"?ff:sf.services.languageUtils.getBestMatchFromCodes(ff);df&&(sf.language||(sf.language=df,sf.languages=sf.services.languageUtils.toResolveHierarchy(df)),sf.translator.language||sf.translator.changeLanguage(df),sf.services.languageDetector&&sf.services.languageDetector.cacheUserLanguage(df)),sf.loadResources(df,function(gf){lf(gf,df)})};return!nf&&this.services.languageDetector&&!this.services.languageDetector.async?cf(this.services.languageDetector.detect()):!nf&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(cf):cf(nf),af}},{key:"getFixedT",value:function(nf,rf){var sf=this,af=function lf(cf,uf){var ff;if(_typeof(uf)!=="object"){for(var df=arguments.length,gf=new Array(df>2?df-2:0),_f=2;_f<df;_f++)gf[_f-2]=arguments[_f];ff=sf.options.overloadTranslationOptionHandler([cf,uf].concat(gf))}else ff=_objectSpread({},uf);return ff.lng=ff.lng||lf.lng,ff.lngs=ff.lngs||lf.lngs,ff.ns=ff.ns||lf.ns,sf.t(cf,ff)};return typeof nf=="string"?af.lng=nf:af.lngs=nf,af.ns=rf,af}},{key:"t",value:function(){var nf;return this.translator&&(nf=this.translator).translate.apply(nf,arguments)}},{key:"exists",value:function(){var nf;return this.translator&&(nf=this.translator).exists.apply(nf,arguments)}},{key:"setDefaultNamespace",value:function(nf){this.options.defaultNS=nf}},{key:"hasLoadedNamespace",value:function(nf){var rf=this,sf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var af=this.languages[0],lf=this.options?this.options.fallbackLng:!1,cf=this.languages[this.languages.length-1];if(af.toLowerCase()==="cimode")return!0;var uf=function(gf,_f){var xf=rf.services.backendConnector.state["".concat(gf,"|").concat(_f)];return xf===-1||xf===2};if(sf.precheck){var ff=sf.precheck(this,uf);if(ff!==void 0)return ff}return!!(this.hasResourceBundle(af,nf)||!this.services.backendConnector.backend||uf(af,nf)&&(!lf||uf(cf,nf)))}},{key:"loadNamespaces",value:function(nf,rf){var sf=this,af=defer();return this.options.ns?(typeof nf=="string"&&(nf=[nf]),nf.forEach(function(lf){sf.options.ns.indexOf(lf)<0&&sf.options.ns.push(lf)}),this.loadResources(function(lf){af.resolve(),rf&&rf(lf)}),af):(rf&&rf(),Promise.resolve())}},{key:"loadLanguages",value:function(nf,rf){var sf=defer();typeof nf=="string"&&(nf=[nf]);var af=this.options.preload||[],lf=nf.filter(function(cf){return af.indexOf(cf)<0});return lf.length?(this.options.preload=af.concat(lf),this.loadResources(function(cf){sf.resolve(),rf&&rf(cf)}),sf):(rf&&rf(),Promise.resolve())}},{key:"dir",value:function(nf){if(nf||(nf=this.languages&&this.languages.length>0?this.languages[0]:this.language),!nf)return"rtl";var rf=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return rf.indexOf(this.services.languageUtils.getLanguagePartFromCode(nf))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var nf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rf=arguments.length>1?arguments[1]:void 0;return new ef(nf,rf)}},{key:"cloneInstance",value:function(){var nf=this,rf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2,af=_objectSpread({},this.options,rf,{isClone:!0}),lf=new ef(af),cf=["store","services","language"];return cf.forEach(function(uf){lf[uf]=nf[uf]}),lf.services=_objectSpread({},this.services),lf.services.utils={hasLoadedNamespace:lf.hasLoadedNamespace.bind(lf)},lf.translator=new Translator(lf.services,lf.options),lf.translator.on("*",function(uf){for(var ff=arguments.length,df=new Array(ff>1?ff-1:0),gf=1;gf<ff;gf++)df[gf-1]=arguments[gf];lf.emit.apply(lf,[uf].concat(df))}),lf.init(af,sf),lf.translator.options=lf.options,lf.translator.backendConnector.services.utils={hasLoadedNamespace:lf.hasLoadedNamespace.bind(lf)},lf}}]),ef}(EventEmitter),i18next=new I18n,arr=[],each=arr.forEach,slice=arr.slice;function defaults(Qc){return each.call(slice.call(arguments,1),function(ef){if(ef)for(var tf in ef)Qc[tf]===void 0&&(Qc[tf]=ef[tf])}),Qc}function addQueryString(Qc,ef){if(ef&&_typeof(ef)==="object"){var tf="",nf=encodeURIComponent;for(var rf in ef)tf+="&"+nf(rf)+"="+nf(ef[rf]);if(!tf)return Qc;Qc=Qc+(Qc.indexOf("?")!==-1?"&":"?")+tf.slice(1)}return Qc}function ajax(Qc,ef,tf,nf,rf){nf&&_typeof(nf)==="object"&&(rf||(nf._t=new Date),nf=addQueryString("",nf).slice(1)),ef.queryStringParams&&(Qc=addQueryString(Qc,ef.queryStringParams));try{var sf;XMLHttpRequest?sf=new XMLHttpRequest:sf=new ActiveXObject("MSXML2.XMLHTTP.3.0"),sf.open(nf?"POST":"GET",Qc,1),ef.crossDomain||sf.setRequestHeader("X-Requested-With","XMLHttpRequest"),sf.withCredentials=!!ef.withCredentials,nf&&sf.setRequestHeader("Content-type","application/x-www-form-urlencoded"),sf.overrideMimeType&&sf.overrideMimeType("application/json");var af=ef.customHeaders;if(af=typeof af=="function"?af():af,af)for(var lf in af)sf.setRequestHeader(lf,af[lf]);sf.onreadystatechange=function(){sf.readyState>3&&tf&&tf(sf.responseText,sf)},sf.send(nf)}catch(cf){console&&console.log(cf)}}function getDefaults(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,parsePayload:function(ef,tf,nf){return _defineProperty({},tf,nf||"")},crossDomain:!1,ajax}}var Backend=function(){function Qc(ef){var tf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck(this,Qc),this.init(ef,tf),this.type="backend"}return _createClass(Qc,[{key:"init",value:function(tf){var nf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.services=tf,this.options=defaults(nf,this.options||{},getDefaults())}},{key:"readMulti",value:function(tf,nf,rf){var sf=this.options.loadPath;typeof this.options.loadPath=="function"&&(sf=this.options.loadPath(tf,nf));var af=this.services.interpolator.interpolate(sf,{lng:tf.join("+"),ns:nf.join("+")});this.loadUrl(af,rf)}},{key:"read",value:function(tf,nf,rf){var sf=this.options.loadPath;typeof this.options.loadPath=="function"&&(sf=this.options.loadPath([tf],[nf]));var af=this.services.interpolator.interpolate(sf,{lng:tf,ns:nf});this.loadUrl(af,rf)}},{key:"loadUrl",value:function(tf,nf){var rf=this;this.options.ajax(tf,this.options,function(sf,af){if(af.status>=500&&af.status<600)return nf("failed loading "+tf,!0);if(af.status>=400&&af.status<500)return nf("failed loading "+tf,!1);var lf,cf;try{lf=rf.options.parse(sf,tf)}catch{cf="failed parsing "+tf+" to json"}if(cf)return nf(cf,!1);nf(null,lf)})}},{key:"create",value:function(tf,nf,rf,sf){var af=this;typeof tf=="string"&&(tf=[tf]);var lf=this.options.parsePayload(nf,rf,sf);tf.forEach(function(cf){var uf=af.services.interpolator.interpolate(af.options.addPath,{lng:cf,ns:nf});af.options.ajax(uf,af.options,function(ff,df){},lf)})}}]),Qc}();Backend.type="backend";function get$3(Qc){let ef={};if(Array.isArray(Qc))Qc.forEach(function(tf){try{ef={...ef,...JSON.parse(localStorage.getItem(tf))}}catch(nf){console.error(nf)}});else{const tf=localStorage.getItem(Qc);if(tf)try{ef=JSON.parse(tf)}catch(nf){console.error(nf)}}return ef}function set$4(Qc){Object.keys(Qc).forEach(function(ef){const tf={};tf[ef]=Qc[ef];try{localStorage.setItem(ef,JSON.stringify(tf))}catch(nf){console.error(nf)}})}function remove$4(Qc){localStorage.removeItem(Qc)}function clear(){localStorage.clear()}const ConfigStorage={get:get$3,set:set$4,remove:remove$4,clear};window.ConfigStorage=ConfigStorage;const i18n={};window.i18n=i18n;const languagesAvailables=["ca","da","de","en","es","eu","fr","gl","it","ja","ko","nl","pt","pt_BR","pl","ru","uk","zh_CN","zh_TW"],languageFallback={pt:["pt_BR","en"],pt_BR:["pt","en"],default:["en"]};i18n.init=function(Qc){getStoredUserLocale(function(ef){i18next.use(Backend).init({lng:ef,getAsync:!1,debug:!0,ns:["messages"],defaultNS:["messages"],fallbackLng:languageFallback,backend:{loadPath:"./locales/{{lng}}/{{ns}}.json",parse:i18n.parseInputFile}},function(tf){if(tf!==void 0)console.error(`Error loading i18n: ${tf}`);else{console.log("i18n system loaded");const nf=i18n.getMessage(`language_${getValidLocale("DEFAULT")}`);i18n.addResources({detectedLanguage:nf}),i18next.on("languageChanged",function(){i18n.localizePage(!0)})}Qc!==void 0&&Qc()})})};i18n.parseInputFile=function(Qc){const ef=/\$([1-9])/g,tf=Qc.replace(ef,"{{$1}}"),nf=/\$t\(([^\)]*).message\)/g,rf=tf.replace(nf,"$t($1)"),sf=JSON.parse(rf);return Object.entries(sf).forEach(([af,lf])=>{sf[af]=lf.message}),sf};i18n.changeLanguage=function(Qc){set$4({userLanguageSelect:Qc}),i18next.changeLanguage(getValidLocale(Qc)),i18n.selectedLanguage=Qc,gui_log(i18n.getMessage("language_changed"))};i18n.getMessage=function(Qc,ef){let tf;if(ef===void 0||ef.constructor!==Array&&ef instanceof Object)tf=ef;else{let nf=ef;nf.constructor!==Array&&(nf=[ef]),tf={},nf.forEach(function(rf,sf){tf[sf+1]=rf})}return i18next.t(Qc,tf)};i18n.getLanguagesAvailables=function(){return languagesAvailables};i18n.getCurrentLocale=function(){return i18next.language};i18n.existsMessage=function(Qc){return i18next.exists(Qc)};i18n.localizePage=function(Qc){let ef=0;const tf=function(nf){return ef++,i18n.getMessage(nf)};return Qc?($$1("[i18n]").each(function(){const nf=$$1(this);nf.html(tf(nf.attr("i18n")))}),$$1("[i18n_title]").each(function(){const nf=$$1(this);nf.attr("title",tf(nf.attr("i18n_title")))}),$$1("[i18n_value]").each(function(){const nf=$$1(this);nf.val(tf(nf.attr("i18n_value")))}),$$1("[i18n_placeholder]").each(function(){const nf=$$1(this);nf.attr("placeholder",tf(nf.attr("i18n_placeholder")))})):($$1("[i18n]:not(.i18n-replaced)").each(function(){const nf=$$1(this);nf.html(tf(nf.attr("i18n"))),nf.addClass("i18n-replaced")}),$$1("[i18n_title]:not(.i18n_title-replaced)").each(function(){const nf=$$1(this);nf.attr("title",tf(nf.attr("i18n_title"))),nf.addClass("i18n_title-replaced")}),$$1("[i18n_value]:not(.i18n_value-replaced)").each(function(){const nf=$$1(this);nf.val(tf(nf.attr("i18n_value"))),nf.addClass("i18n_value-replaced")}),$$1("[i18n_placeholder]:not(.i18n_placeholder-replaced)").each(function(){const nf=$$1(this);nf.attr("placeholder",tf(nf.attr("i18n_placeholder"))),nf.addClass("i18n_placeholder-replaced")})),ef};function getStoredUserLocale(Qc){let ef="DEFAULT";const tf=get$3("userLanguageSelect");tf.userLanguageSelect&&(ef=tf.userLanguageSelect),i18n.selectedLanguage=ef,ef=getValidLocale(ef),Qc(ef)}function getValidLocale(Qc){let ef=Qc;if(ef==="DEFAULT"&&(ef=window.navigator.userLanguage||window.navigator.language,console.log(`Detected locale ${ef}`),ef=ef.replace("-","_"),languagesAvailables.indexOf(ef)===-1)){const tf=ef.indexOf("_");tf!==-1?(ef=ef.substring(0,tf),languagesAvailables.indexOf(ef)===-1&&(ef="en")):ef="en"}return ef}i18n.addResources=function(Qc){const ef=rf=>rf.hasOwnProperty("length")&&0<rf.length?rf[0]:rf,tf=ef(i18next.options.fallbackLng.default),nf=ef(i18next.options.defaultNS);i18next.addResourceBundle(tf,nf,Qc,!0,!0)};Number.prototype.clamp=function(Qc,ef){return Math.min(Math.max(this,Qc),ef)};Array.prototype.push8=function(Qc){return this.push(255&Qc),this};Array.prototype.push16=function(Qc){return this.push(255&Qc),this.push(Qc>>8),this};Array.prototype.push32=function(Qc){return this.push8(Qc).push8(Qc>>8).push8(Qc>>16).push8(Qc>>24),this};DataView.prototype.offset=0;DataView.prototype.readU8=function(){return this.byteLength>=this.offset+1?this.getUint8(this.offset++):null};DataView.prototype.readU16=function(){return this.byteLength>=this.offset+2?this.readU8()+this.readU8()*256:null};DataView.prototype.readU32=function(){return this.byteLength>=this.offset+4?this.readU16()+this.readU16()*65536:null};DataView.prototype.read8=function(){return this.byteLength>=this.offset+1?this.getInt8(this.offset++,1):null};DataView.prototype.read16=function(){return this.offset+=2,this.byteLength>=this.offset?this.getInt16(this.offset-2,1):null};DataView.prototype.read32=function(){return this.offset+=4,this.byteLength>=this.offset?this.getInt32(this.offset-4,1):null};DataView.prototype.remaining=function(){return this.byteLength-this.offset};/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */var emptyObject=Object.freeze({}),isArray=Array.isArray;function isUndef(Qc){return Qc==null}function isDef(Qc){return Qc!=null}function isTrue(Qc){return Qc===!0}function isFalse(Qc){return Qc===!1}function isPrimitive(Qc){return typeof Qc=="string"||typeof Qc=="number"||typeof Qc=="symbol"||typeof Qc=="boolean"}function isFunction(Qc){return typeof Qc=="function"}function isObject$1(Qc){return Qc!==null&&typeof Qc=="object"}var _toString=Object.prototype.toString;function toRawType(Qc){return _toString.call(Qc).slice(8,-1)}function isPlainObject(Qc){return _toString.call(Qc)==="[object Object]"}function isRegExp(Qc){return _toString.call(Qc)==="[object RegExp]"}function isValidArrayIndex(Qc){var ef=parseFloat(String(Qc));return ef>=0&&Math.floor(ef)===ef&&isFinite(Qc)}function isPromise(Qc){return isDef(Qc)&&typeof Qc.then=="function"&&typeof Qc.catch=="function"}function toString$1(Qc){return Qc==null?"":Array.isArray(Qc)||isPlainObject(Qc)&&Qc.toString===_toString?JSON.stringify(Qc,null,2):String(Qc)}function toNumber$1(Qc){var ef=parseFloat(Qc);return isNaN(ef)?Qc:ef}function makeMap(Qc,ef){for(var tf=Object.create(null),nf=Qc.split(","),rf=0;rf<nf.length;rf++)tf[nf[rf]]=!0;return ef?function(sf){return tf[sf.toLowerCase()]}:function(sf){return tf[sf]}}var isBuiltInTag=makeMap("slot,component",!0),isReservedAttribute=makeMap("key,ref,slot,slot-scope,is");function remove$2(Qc,ef){var tf=Qc.length;if(tf){if(ef===Qc[tf-1]){Qc.length=tf-1;return}var nf=Qc.indexOf(ef);if(nf>-1)return Qc.splice(nf,1)}}var hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwn(Qc,ef){return hasOwnProperty.call(Qc,ef)}function cached(Qc){var ef=Object.create(null);return function(nf){var rf=ef[nf];return rf||(ef[nf]=Qc(nf))}}var camelizeRE=/-(\w)/g,camelize=cached(function(Qc){return Qc.replace(camelizeRE,function(ef,tf){return tf?tf.toUpperCase():""})}),capitalize=cached(function(Qc){return Qc.charAt(0).toUpperCase()+Qc.slice(1)}),hyphenateRE=/\B([A-Z])/g,hyphenate=cached(function(Qc){return Qc.replace(hyphenateRE,"-$1").toLowerCase()});function polyfillBind(Qc,ef){function tf(nf){var rf=arguments.length;return rf?rf>1?Qc.apply(ef,arguments):Qc.call(ef,nf):Qc.call(ef)}return tf._length=Qc.length,tf}function nativeBind(Qc,ef){return Qc.bind(ef)}var bind$1$1=Function.prototype.bind?nativeBind:polyfillBind;function toArray(Qc,ef){ef=ef||0;for(var tf=Qc.length-ef,nf=new Array(tf);tf--;)nf[tf]=Qc[tf+ef];return nf}function extend$1(Qc,ef){for(var tf in ef)Qc[tf]=ef[tf];return Qc}function toObject(Qc){for(var ef={},tf=0;tf<Qc.length;tf++)Qc[tf]&&extend$1(ef,Qc[tf]);return ef}function noop$1(Qc,ef,tf){}var no=function(Qc,ef,tf){return!1},identity$1=function(Qc){return Qc};function genStaticKeys$1(Qc){return Qc.reduce(function(ef,tf){return ef.concat(tf.staticKeys||[])},[]).join(",")}function looseEqual(Qc,ef){if(Qc===ef)return!0;var tf=isObject$1(Qc),nf=isObject$1(ef);if(tf&&nf)try{var rf=Array.isArray(Qc),sf=Array.isArray(ef);if(rf&&sf)return Qc.length===ef.length&&Qc.every(function(cf,uf){return looseEqual(cf,ef[uf])});if(Qc instanceof Date&&ef instanceof Date)return Qc.getTime()===ef.getTime();if(!rf&&!sf){var af=Object.keys(Qc),lf=Object.keys(ef);return af.length===lf.length&&af.every(function(cf){return looseEqual(Qc[cf],ef[cf])})}else return!1}catch{return!1}else return!tf&&!nf?String(Qc)===String(ef):!1}function looseIndexOf(Qc,ef){for(var tf=0;tf<Qc.length;tf++)if(looseEqual(Qc[tf],ef))return tf;return-1}function once(Qc){var ef=!1;return function(){ef||(ef=!0,Qc.apply(this,arguments))}}function hasChanged(Qc,ef){return Qc===ef?Qc===0&&1/Qc!==1/ef:Qc===Qc||ef===ef}var SSR_ATTR="data-server-rendered",ASSET_TYPES=["component","directive","filter"],LIFECYCLE_HOOKS=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],config={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:no,isReservedAttr:no,isUnknownElement:no,getTagNamespace:noop$1,parsePlatformTagName:identity$1,mustUseProp:no,async:!0,_lifecycleHooks:LIFECYCLE_HOOKS},unicodeRegExp=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function isReserved(Qc){var ef=(Qc+"").charCodeAt(0);return ef===36||ef===95}function def(Qc,ef,tf,nf){Object.defineProperty(Qc,ef,{value:tf,enumerable:!!nf,writable:!0,configurable:!0})}var bailRE=new RegExp("[^".concat(unicodeRegExp.source,".$_\\d]"));function parsePath(Qc){if(!bailRE.test(Qc)){var ef=Qc.split(".");return function(tf){for(var nf=0;nf<ef.length;nf++){if(!tf)return;tf=tf[ef[nf]]}return tf}}}var hasProto="__proto__"in{},inBrowser=typeof window<"u",UA=inBrowser&&window.navigator.userAgent.toLowerCase(),isIE=UA&&/msie|trident/.test(UA),isIE9=UA&&UA.indexOf("msie 9.0")>0,isEdge=UA&&UA.indexOf("edge/")>0;UA&&UA.indexOf("android")>0;var isIOS=UA&&/iphone|ipad|ipod|ios/.test(UA),isFF=UA&&UA.match(/firefox\/(\d+)/),nativeWatch={}.watch,supportsPassive=!1;if(inBrowser)try{var opts={};Object.defineProperty(opts,"passive",{get:function(){supportsPassive=!0}}),window.addEventListener("test-passive",null,opts)}catch{}var _isServer,isServerRendering=function(){return _isServer===void 0&&(!inBrowser&&typeof global<"u"?_isServer=global.process&&global.process.env.VUE_ENV==="server":_isServer=!1),_isServer},devtools=inBrowser&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function isNative(Qc){return typeof Qc=="function"&&/native code/.test(Qc.toString())}var hasSymbol=typeof Symbol<"u"&&isNative(Symbol)&&typeof Reflect<"u"&&isNative(Reflect.ownKeys),_Set;typeof Set<"u"&&isNative(Set)?_Set=Set:_Set=function(){function Qc(){this.set=Object.create(null)}return Qc.prototype.has=function(ef){return this.set[ef]===!0},Qc.prototype.add=function(ef){this.set[ef]=!0},Qc.prototype.clear=function(){this.set=Object.create(null)},Qc}();var currentInstance=null;function setCurrentInstance(Qc){Qc===void 0&&(Qc=null),Qc||currentInstance&&currentInstance._scope.off(),currentInstance=Qc,Qc&&Qc._scope.on()}var VNode=function(){function Qc(ef,tf,nf,rf,sf,af,lf,cf){this.tag=ef,this.data=tf,this.children=nf,this.text=rf,this.elm=sf,this.ns=void 0,this.context=af,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=tf&&tf.key,this.componentOptions=lf,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=cf,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(Qc.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),Qc}(),createEmptyVNode=function(Qc){Qc===void 0&&(Qc="");var ef=new VNode;return ef.text=Qc,ef.isComment=!0,ef};function createTextVNode(Qc){return new VNode(void 0,void 0,void 0,String(Qc))}function cloneVNode(Qc){var ef=new VNode(Qc.tag,Qc.data,Qc.children&&Qc.children.slice(),Qc.text,Qc.elm,Qc.context,Qc.componentOptions,Qc.asyncFactory);return ef.ns=Qc.ns,ef.isStatic=Qc.isStatic,ef.key=Qc.key,ef.isComment=Qc.isComment,ef.fnContext=Qc.fnContext,ef.fnOptions=Qc.fnOptions,ef.fnScopeId=Qc.fnScopeId,ef.asyncMeta=Qc.asyncMeta,ef.isCloned=!0,ef}var uid$2=0,pendingCleanupDeps=[],cleanupDeps=function(){for(var Qc=0;Qc<pendingCleanupDeps.length;Qc++){var ef=pendingCleanupDeps[Qc];ef.subs=ef.subs.filter(function(tf){return tf}),ef._pending=!1}pendingCleanupDeps.length=0},Dep=function(){function Qc(){this._pending=!1,this.id=uid$2++,this.subs=[]}return Qc.prototype.addSub=function(ef){this.subs.push(ef)},Qc.prototype.removeSub=function(ef){this.subs[this.subs.indexOf(ef)]=null,this._pending||(this._pending=!0,pendingCleanupDeps.push(this))},Qc.prototype.depend=function(ef){Qc.target&&Qc.target.addDep(this)},Qc.prototype.notify=function(ef){for(var tf=this.subs.filter(function(af){return af}),nf=0,rf=tf.length;nf<rf;nf++){var sf=tf[nf];sf.update()}},Qc}();Dep.target=null;var targetStack=[];function pushTarget(Qc){targetStack.push(Qc),Dep.target=Qc}function popTarget(){targetStack.pop(),Dep.target=targetStack[targetStack.length-1]}var arrayProto=Array.prototype,arrayMethods=Object.create(arrayProto),methodsToPatch=["push","pop","shift","unshift","splice","sort","reverse"];methodsToPatch.forEach(function(Qc){var ef=arrayProto[Qc];def(arrayMethods,Qc,function(){for(var nf=[],rf=0;rf<arguments.length;rf++)nf[rf]=arguments[rf];var sf=ef.apply(this,nf),af=this.__ob__,lf;switch(Qc){case"push":case"unshift":lf=nf;break;case"splice":lf=nf.slice(2);break}return lf&&af.observeArray(lf),af.dep.notify(),sf})});var arrayKeys=Object.getOwnPropertyNames(arrayMethods),NO_INIITIAL_VALUE={},shouldObserve=!0;function toggleObserving(Qc){shouldObserve=Qc}var mockDep={notify:noop$1,depend:noop$1,addSub:noop$1,removeSub:noop$1},Observer=function(){function Qc(ef,tf,nf){if(tf===void 0&&(tf=!1),nf===void 0&&(nf=!1),this.value=ef,this.shallow=tf,this.mock=nf,this.dep=nf?mockDep:new Dep,this.vmCount=0,def(ef,"__ob__",this),isArray(ef)){if(!nf)if(hasProto)ef.__proto__=arrayMethods;else for(var rf=0,sf=arrayKeys.length;rf<sf;rf++){var af=arrayKeys[rf];def(ef,af,arrayMethods[af])}tf||this.observeArray(ef)}else for(var lf=Object.keys(ef),rf=0;rf<lf.length;rf++){var af=lf[rf];defineReactive(ef,af,NO_INIITIAL_VALUE,void 0,tf,nf)}}return Qc.prototype.observeArray=function(ef){for(var tf=0,nf=ef.length;tf<nf;tf++)observe(ef[tf],!1,this.mock)},Qc}();function observe(Qc,ef,tf){if(Qc&&hasOwn(Qc,"__ob__")&&Qc.__ob__ instanceof Observer)return Qc.__ob__;if(shouldObserve&&(tf||!isServerRendering())&&(isArray(Qc)||isPlainObject(Qc))&&Object.isExtensible(Qc)&&!Qc.__v_skip&&!isRef(Qc)&&!(Qc instanceof VNode))return new Observer(Qc,ef,tf)}function defineReactive(Qc,ef,tf,nf,rf,sf){var af=new Dep,lf=Object.getOwnPropertyDescriptor(Qc,ef);if(!(lf&&lf.configurable===!1)){var cf=lf&&lf.get,uf=lf&&lf.set;(!cf||uf)&&(tf===NO_INIITIAL_VALUE||arguments.length===2)&&(tf=Qc[ef]);var ff=!rf&&observe(tf,!1,sf);return Object.defineProperty(Qc,ef,{enumerable:!0,configurable:!0,get:function(){var gf=cf?cf.call(Qc):tf;return Dep.target&&(af.depend(),ff&&(ff.dep.depend(),isArray(gf)&&dependArray(gf))),isRef(gf)&&!rf?gf.value:gf},set:function(gf){var _f=cf?cf.call(Qc):tf;if(hasChanged(_f,gf)){if(uf)uf.call(Qc,gf);else{if(cf)return;if(!rf&&isRef(_f)&&!isRef(gf)){_f.value=gf;return}else tf=gf}ff=!rf&&observe(gf,!1,sf),af.notify()}}}),af}}function set$3(Qc,ef,tf){if(!isReadonly(Qc)){var nf=Qc.__ob__;return isArray(Qc)&&isValidArrayIndex(ef)?(Qc.length=Math.max(Qc.length,ef),Qc.splice(ef,1,tf),nf&&!nf.shallow&&nf.mock&&observe(tf,!1,!0),tf):ef in Qc&&!(ef in Object.prototype)?(Qc[ef]=tf,tf):Qc._isVue||nf&&nf.vmCount?tf:nf?(defineReactive(nf.value,ef,tf,void 0,nf.shallow,nf.mock),nf.dep.notify(),tf):(Qc[ef]=tf,tf)}}function del(Qc,ef){if(isArray(Qc)&&isValidArrayIndex(ef)){Qc.splice(ef,1);return}var tf=Qc.__ob__;Qc._isVue||tf&&tf.vmCount||isReadonly(Qc)||hasOwn(Qc,ef)&&(delete Qc[ef],tf&&tf.dep.notify())}function dependArray(Qc){for(var ef=void 0,tf=0,nf=Qc.length;tf<nf;tf++)ef=Qc[tf],ef&&ef.__ob__&&ef.__ob__.dep.depend(),isArray(ef)&&dependArray(ef)}function shallowReactive(Qc){return makeReactive(Qc,!0),def(Qc,"__v_isShallow",!0),Qc}function makeReactive(Qc,ef){isReadonly(Qc)||observe(Qc,ef,isServerRendering())}function isReadonly(Qc){return!!(Qc&&Qc.__v_isReadonly)}function isRef(Qc){return!!(Qc&&Qc.__v_isRef===!0)}function proxyWithRefUnwrap(Qc,ef,tf){Object.defineProperty(Qc,tf,{enumerable:!0,configurable:!0,get:function(){var nf=ef[tf];if(isRef(nf))return nf.value;var rf=nf&&nf.__ob__;return rf&&rf.dep.depend(),nf},set:function(nf){var rf=ef[tf];isRef(rf)&&!isRef(nf)?rf.value=nf:ef[tf]=nf}})}var normalizeEvent=cached(function(Qc){var ef=Qc.charAt(0)==="&";Qc=ef?Qc.slice(1):Qc;var tf=Qc.charAt(0)==="~";Qc=tf?Qc.slice(1):Qc;var nf=Qc.charAt(0)==="!";return Qc=nf?Qc.slice(1):Qc,{name:Qc,once:tf,capture:nf,passive:ef}});function createFnInvoker(Qc,ef){function tf(){var nf=tf.fns;if(isArray(nf))for(var rf=nf.slice(),sf=0;sf<rf.length;sf++)invokeWithErrorHandling(rf[sf],null,arguments,ef,"v-on handler");else return invokeWithErrorHandling(nf,null,arguments,ef,"v-on handler")}return tf.fns=Qc,tf}function updateListeners(Qc,ef,tf,nf,rf,sf){var af,lf,cf,uf;for(af in Qc)lf=Qc[af],cf=ef[af],uf=normalizeEvent(af),isUndef(lf)||(isUndef(cf)?(isUndef(lf.fns)&&(lf=Qc[af]=createFnInvoker(lf,sf)),isTrue(uf.once)&&(lf=Qc[af]=rf(uf.name,lf,uf.capture)),tf(uf.name,lf,uf.capture,uf.passive,uf.params)):lf!==cf&&(cf.fns=lf,Qc[af]=cf));for(af in ef)isUndef(Qc[af])&&(uf=normalizeEvent(af),nf(uf.name,ef[af],uf.capture))}function mergeVNodeHook(Qc,ef,tf){Qc instanceof VNode&&(Qc=Qc.data.hook||(Qc.data.hook={}));var nf,rf=Qc[ef];function sf(){tf.apply(this,arguments),remove$2(nf.fns,sf)}isUndef(rf)?nf=createFnInvoker([sf]):isDef(rf.fns)&&isTrue(rf.merged)?(nf=rf,nf.fns.push(sf)):nf=createFnInvoker([rf,sf]),nf.merged=!0,Qc[ef]=nf}function extractPropsFromVNodeData(Qc,ef,tf){var nf=ef.options.props;if(!isUndef(nf)){var rf={},sf=Qc.attrs,af=Qc.props;if(isDef(sf)||isDef(af))for(var lf in nf){var cf=hyphenate(lf);checkProp(rf,af,lf,cf,!0)||checkProp(rf,sf,lf,cf,!1)}return rf}}function checkProp(Qc,ef,tf,nf,rf){if(isDef(ef)){if(hasOwn(ef,tf))return Qc[tf]=ef[tf],rf||delete ef[tf],!0;if(hasOwn(ef,nf))return Qc[tf]=ef[nf],rf||delete ef[nf],!0}return!1}function simpleNormalizeChildren(Qc){for(var ef=0;ef<Qc.length;ef++)if(isArray(Qc[ef]))return Array.prototype.concat.apply([],Qc);return Qc}function normalizeChildren(Qc){return isPrimitive(Qc)?[createTextVNode(Qc)]:isArray(Qc)?normalizeArrayChildren(Qc):void 0}function isTextNode(Qc){return isDef(Qc)&&isDef(Qc.text)&&isFalse(Qc.isComment)}function normalizeArrayChildren(Qc,ef){var tf=[],nf,rf,sf,af;for(nf=0;nf<Qc.length;nf++)rf=Qc[nf],!(isUndef(rf)||typeof rf=="boolean")&&(sf=tf.length-1,af=tf[sf],isArray(rf)?rf.length>0&&(rf=normalizeArrayChildren(rf,"".concat(ef||"","_").concat(nf)),isTextNode(rf[0])&&isTextNode(af)&&(tf[sf]=createTextVNode(af.text+rf[0].text),rf.shift()),tf.push.apply(tf,rf)):isPrimitive(rf)?isTextNode(af)?tf[sf]=createTextVNode(af.text+rf):rf!==""&&tf.push(createTextVNode(rf)):isTextNode(rf)&&isTextNode(af)?tf[sf]=createTextVNode(af.text+rf.text):(isTrue(Qc._isVList)&&isDef(rf.tag)&&isUndef(rf.key)&&isDef(ef)&&(rf.key="__vlist".concat(ef,"_").concat(nf,"__")),tf.push(rf)));return tf}var SIMPLE_NORMALIZE=1,ALWAYS_NORMALIZE=2;function createElement$1(Qc,ef,tf,nf,rf,sf){return(isArray(tf)||isPrimitive(tf))&&(rf=nf,nf=tf,tf=void 0),isTrue(sf)&&(rf=ALWAYS_NORMALIZE),_createElement(Qc,ef,tf,nf,rf)}function _createElement(Qc,ef,tf,nf,rf){if(isDef(tf)&&isDef(tf.__ob__)||(isDef(tf)&&isDef(tf.is)&&(ef=tf.is),!ef))return createEmptyVNode();isArray(nf)&&isFunction(nf[0])&&(tf=tf||{},tf.scopedSlots={default:nf[0]},nf.length=0),rf===ALWAYS_NORMALIZE?nf=normalizeChildren(nf):rf===SIMPLE_NORMALIZE&&(nf=simpleNormalizeChildren(nf));var sf,af;if(typeof ef=="string"){var lf=void 0;af=Qc.$vnode&&Qc.$vnode.ns||config.getTagNamespace(ef),config.isReservedTag(ef)?sf=new VNode(config.parsePlatformTagName(ef),tf,nf,void 0,void 0,Qc):(!tf||!tf.pre)&&isDef(lf=resolveAsset(Qc.$options,"components",ef))?sf=createComponent(lf,tf,Qc,nf,ef):sf=new VNode(ef,tf,nf,void 0,void 0,Qc)}else sf=createComponent(ef,tf,Qc,nf);return isArray(sf)?sf:isDef(sf)?(isDef(af)&&applyNS(sf,af),isDef(tf)&&registerDeepBindings(tf),sf):createEmptyVNode()}function applyNS(Qc,ef,tf){if(Qc.ns=ef,Qc.tag==="foreignObject"&&(ef=void 0,tf=!0),isDef(Qc.children))for(var nf=0,rf=Qc.children.length;nf<rf;nf++){var sf=Qc.children[nf];isDef(sf.tag)&&(isUndef(sf.ns)||isTrue(tf)&&sf.tag!=="svg")&&applyNS(sf,ef,tf)}}function registerDeepBindings(Qc){isObject$1(Qc.style)&&traverse(Qc.style),isObject$1(Qc.class)&&traverse(Qc.class)}function renderList(Qc,ef){var tf=null,nf,rf,sf,af;if(isArray(Qc)||typeof Qc=="string")for(tf=new Array(Qc.length),nf=0,rf=Qc.length;nf<rf;nf++)tf[nf]=ef(Qc[nf],nf);else if(typeof Qc=="number")for(tf=new Array(Qc),nf=0;nf<Qc;nf++)tf[nf]=ef(nf+1,nf);else if(isObject$1(Qc))if(hasSymbol&&Qc[Symbol.iterator]){tf=[];for(var lf=Qc[Symbol.iterator](),cf=lf.next();!cf.done;)tf.push(ef(cf.value,tf.length)),cf=lf.next()}else for(sf=Object.keys(Qc),tf=new Array(sf.length),nf=0,rf=sf.length;nf<rf;nf++)af=sf[nf],tf[nf]=ef(Qc[af],af,nf);return isDef(tf)||(tf=[]),tf._isVList=!0,tf}function renderSlot(Qc,ef,tf,nf){var rf=this.$scopedSlots[Qc],sf;rf?(tf=tf||{},nf&&(tf=extend$1(extend$1({},nf),tf)),sf=rf(tf)||(isFunction(ef)?ef():ef)):sf=this.$slots[Qc]||(isFunction(ef)?ef():ef);var af=tf&&tf.slot;return af?this.$createElement("template",{slot:af},sf):sf}function resolveFilter(Qc){return resolveAsset(this.$options,"filters",Qc)||identity$1}function isKeyNotMatch(Qc,ef){return isArray(Qc)?Qc.indexOf(ef)===-1:Qc!==ef}function checkKeyCodes(Qc,ef,tf,nf,rf){var sf=config.keyCodes[ef]||tf;return rf&&nf&&!config.keyCodes[ef]?isKeyNotMatch(rf,nf):sf?isKeyNotMatch(sf,Qc):nf?hyphenate(nf)!==ef:Qc===void 0}function bindObjectProps(Qc,ef,tf,nf,rf){if(tf&&isObject$1(tf)){isArray(tf)&&(tf=toObject(tf));var sf=void 0,af=function(cf){if(cf==="class"||cf==="style"||isReservedAttribute(cf))sf=Qc;else{var uf=Qc.attrs&&Qc.attrs.type;sf=nf||config.mustUseProp(ef,uf,cf)?Qc.domProps||(Qc.domProps={}):Qc.attrs||(Qc.attrs={})}var ff=camelize(cf),df=hyphenate(cf);if(!(ff in sf)&&!(df in sf)&&(sf[cf]=tf[cf],rf)){var gf=Qc.on||(Qc.on={});gf["update:".concat(cf)]=function(_f){tf[cf]=_f}}};for(var lf in tf)af(lf)}return Qc}function renderStatic(Qc,ef){var tf=this._staticTrees||(this._staticTrees=[]),nf=tf[Qc];return nf&&!ef||(nf=tf[Qc]=this.$options.staticRenderFns[Qc].call(this._renderProxy,this._c,this),markStatic$1(nf,"__static__".concat(Qc),!1)),nf}function markOnce(Qc,ef,tf){return markStatic$1(Qc,"__once__".concat(ef).concat(tf?"_".concat(tf):""),!0),Qc}function markStatic$1(Qc,ef,tf){if(isArray(Qc))for(var nf=0;nf<Qc.length;nf++)Qc[nf]&&typeof Qc[nf]!="string"&&markStaticNode(Qc[nf],"".concat(ef,"_").concat(nf),tf);else markStaticNode(Qc,ef,tf)}function markStaticNode(Qc,ef,tf){Qc.isStatic=!0,Qc.key=ef,Qc.isOnce=tf}function bindObjectListeners(Qc,ef){if(ef&&isPlainObject(ef)){var tf=Qc.on=Qc.on?extend$1({},Qc.on):{};for(var nf in ef){var rf=tf[nf],sf=ef[nf];tf[nf]=rf?[].concat(rf,sf):sf}}return Qc}function resolveScopedSlots(Qc,ef,tf,nf){ef=ef||{$stable:!tf};for(var rf=0;rf<Qc.length;rf++){var sf=Qc[rf];isArray(sf)?resolveScopedSlots(sf,ef,tf):sf&&(sf.proxy&&(sf.fn.proxy=!0),ef[sf.key]=sf.fn)}return nf&&(ef.$key=nf),ef}function bindDynamicKeys(Qc,ef){for(var tf=0;tf<ef.length;tf+=2){var nf=ef[tf];typeof nf=="string"&&nf&&(Qc[ef[tf]]=ef[tf+1])}return Qc}function prependModifier(Qc,ef){return typeof Qc=="string"?ef+Qc:Qc}function installRenderHelpers(Qc){Qc._o=markOnce,Qc._n=toNumber$1,Qc._s=toString$1,Qc._l=renderList,Qc._t=renderSlot,Qc._q=looseEqual,Qc._i=looseIndexOf,Qc._m=renderStatic,Qc._f=resolveFilter,Qc._k=checkKeyCodes,Qc._b=bindObjectProps,Qc._v=createTextVNode,Qc._e=createEmptyVNode,Qc._u=resolveScopedSlots,Qc._g=bindObjectListeners,Qc._d=bindDynamicKeys,Qc._p=prependModifier}function resolveSlots(Qc,ef){if(!Qc||!Qc.length)return{};for(var tf={},nf=0,rf=Qc.length;nf<rf;nf++){var sf=Qc[nf],af=sf.data;if(af&&af.attrs&&af.attrs.slot&&delete af.attrs.slot,(sf.context===ef||sf.fnContext===ef)&&af&&af.slot!=null){var lf=af.slot,cf=tf[lf]||(tf[lf]=[]);sf.tag==="template"?cf.push.apply(cf,sf.children||[]):cf.push(sf)}else(tf.default||(tf.default=[])).push(sf)}for(var uf in tf)tf[uf].every(isWhitespace)&&delete tf[uf];return tf}function isWhitespace(Qc){return Qc.isComment&&!Qc.asyncFactory||Qc.text===" "}function isAsyncPlaceholder(Qc){return Qc.isComment&&Qc.asyncFactory}function normalizeScopedSlots(Qc,ef,tf,nf){var rf,sf=Object.keys(tf).length>0,af=ef?!!ef.$stable:!sf,lf=ef&&ef.$key;if(!ef)rf={};else{if(ef._normalized)return ef._normalized;if(af&&nf&&nf!==emptyObject&&lf===nf.$key&&!sf&&!nf.$hasNormal)return nf;rf={};for(var cf in ef)ef[cf]&&cf[0]!=="$"&&(rf[cf]=normalizeScopedSlot(Qc,tf,cf,ef[cf]))}for(var uf in tf)uf in rf||(rf[uf]=proxyNormalSlot(tf,uf));return ef&&Object.isExtensible(ef)&&(ef._normalized=rf),def(rf,"$stable",af),def(rf,"$key",lf),def(rf,"$hasNormal",sf),rf}function normalizeScopedSlot(Qc,ef,tf,nf){var rf=function(){var sf=currentInstance;setCurrentInstance(Qc);var af=arguments.length?nf.apply(null,arguments):nf({});af=af&&typeof af=="object"&&!isArray(af)?[af]:normalizeChildren(af);var lf=af&&af[0];return setCurrentInstance(sf),af&&(!lf||af.length===1&&lf.isComment&&!isAsyncPlaceholder(lf))?void 0:af};return nf.proxy&&Object.defineProperty(ef,tf,{get:rf,enumerable:!0,configurable:!0}),rf}function proxyNormalSlot(Qc,ef){return function(){return Qc[ef]}}function initSetup(Qc){var ef=Qc.$options,tf=ef.setup;if(tf){var nf=Qc._setupContext=createSetupContext(Qc);setCurrentInstance(Qc),pushTarget();var rf=invokeWithErrorHandling(tf,null,[Qc._props||shallowReactive({}),nf],Qc,"setup");if(popTarget(),setCurrentInstance(),isFunction(rf))ef.render=rf;else if(isObject$1(rf))if(Qc._setupState=rf,rf.__sfc){var af=Qc._setupProxy={};for(var sf in rf)sf!=="__sfc"&&proxyWithRefUnwrap(af,rf,sf)}else for(var sf in rf)isReserved(sf)||proxyWithRefUnwrap(Qc,rf,sf)}}function createSetupContext(Qc){return{get attrs(){if(!Qc._attrsProxy){var ef=Qc._attrsProxy={};def(ef,"_v_attr_proxy",!0),syncSetupProxy(ef,Qc.$attrs,emptyObject,Qc,"$attrs")}return Qc._attrsProxy},get listeners(){if(!Qc._listenersProxy){var ef=Qc._listenersProxy={};syncSetupProxy(ef,Qc.$listeners,emptyObject,Qc,"$listeners")}return Qc._listenersProxy},get slots(){return initSlotsProxy(Qc)},emit:bind$1$1(Qc.$emit,Qc),expose:function(ef){ef&&Object.keys(ef).forEach(function(tf){return proxyWithRefUnwrap(Qc,ef,tf)})}}}function syncSetupProxy(Qc,ef,tf,nf,rf){var sf=!1;for(var af in ef)af in Qc?ef[af]!==tf[af]&&(sf=!0):(sf=!0,defineProxyAttr(Qc,af,nf,rf));for(var af in Qc)af in ef||(sf=!0,delete Qc[af]);return sf}function defineProxyAttr(Qc,ef,tf,nf){Object.defineProperty(Qc,ef,{enumerable:!0,configurable:!0,get:function(){return tf[nf][ef]}})}function initSlotsProxy(Qc){return Qc._slotsProxy||syncSetupSlots(Qc._slotsProxy={},Qc.$scopedSlots),Qc._slotsProxy}function syncSetupSlots(Qc,ef){for(var tf in ef)Qc[tf]=ef[tf];for(var tf in Qc)tf in ef||delete Qc[tf]}function initRender(Qc){Qc._vnode=null,Qc._staticTrees=null;var ef=Qc.$options,tf=Qc.$vnode=ef._parentVnode,nf=tf&&tf.context;Qc.$slots=resolveSlots(ef._renderChildren,nf),Qc.$scopedSlots=tf?normalizeScopedSlots(Qc.$parent,tf.data.scopedSlots,Qc.$slots):emptyObject,Qc._c=function(sf,af,lf,cf){return createElement$1(Qc,sf,af,lf,cf,!1)},Qc.$createElement=function(sf,af,lf,cf){return createElement$1(Qc,sf,af,lf,cf,!0)};var rf=tf&&tf.data;defineReactive(Qc,"$attrs",rf&&rf.attrs||emptyObject,null,!0),defineReactive(Qc,"$listeners",ef._parentListeners||emptyObject,null,!0)}var currentRenderingInstance=null;function renderMixin(Qc){installRenderHelpers(Qc.prototype),Qc.prototype.$nextTick=function(ef){return nextTick(ef,this)},Qc.prototype._render=function(){var ef=this,tf=ef.$options,nf=tf.render,rf=tf._parentVnode;rf&&ef._isMounted&&(ef.$scopedSlots=normalizeScopedSlots(ef.$parent,rf.data.scopedSlots,ef.$slots,ef.$scopedSlots),ef._slotsProxy&&syncSetupSlots(ef._slotsProxy,ef.$scopedSlots)),ef.$vnode=rf;var sf;try{setCurrentInstance(ef),currentRenderingInstance=ef,sf=nf.call(ef._renderProxy,ef.$createElement)}catch(af){handleError(af,ef,"render"),sf=ef._vnode}finally{currentRenderingInstance=null,setCurrentInstance()}return isArray(sf)&&sf.length===1&&(sf=sf[0]),sf instanceof VNode||(sf=createEmptyVNode()),sf.parent=rf,sf}}function ensureCtor(Qc,ef){return(Qc.__esModule||hasSymbol&&Qc[Symbol.toStringTag]==="Module")&&(Qc=Qc.default),isObject$1(Qc)?ef.extend(Qc):Qc}function createAsyncPlaceholder(Qc,ef,tf,nf,rf){var sf=createEmptyVNode();return sf.asyncFactory=Qc,sf.asyncMeta={data:ef,context:tf,children:nf,tag:rf},sf}function resolveAsyncComponent(Qc,ef){if(isTrue(Qc.error)&&isDef(Qc.errorComp))return Qc.errorComp;if(isDef(Qc.resolved))return Qc.resolved;var tf=currentRenderingInstance;if(tf&&isDef(Qc.owners)&&Qc.owners.indexOf(tf)===-1&&Qc.owners.push(tf),isTrue(Qc.loading)&&isDef(Qc.loadingComp))return Qc.loadingComp;if(tf&&!isDef(Qc.owners)){var nf=Qc.owners=[tf],rf=!0,sf=null,af=null;tf.$on("hook:destroyed",function(){return remove$2(nf,tf)});var lf=function(df){for(var gf=0,_f=nf.length;gf<_f;gf++)nf[gf].$forceUpdate();df&&(nf.length=0,sf!==null&&(clearTimeout(sf),sf=null),af!==null&&(clearTimeout(af),af=null))},cf=once(function(df){Qc.resolved=ensureCtor(df,ef),rf?nf.length=0:lf(!0)}),uf=once(function(df){isDef(Qc.errorComp)&&(Qc.error=!0,lf(!0))}),ff=Qc(cf,uf);return isObject$1(ff)&&(isPromise(ff)?isUndef(Qc.resolved)&&ff.then(cf,uf):isPromise(ff.component)&&(ff.component.then(cf,uf),isDef(ff.error)&&(Qc.errorComp=ensureCtor(ff.error,ef)),isDef(ff.loading)&&(Qc.loadingComp=ensureCtor(ff.loading,ef),ff.delay===0?Qc.loading=!0:sf=setTimeout(function(){sf=null,isUndef(Qc.resolved)&&isUndef(Qc.error)&&(Qc.loading=!0,lf(!1))},ff.delay||200)),isDef(ff.timeout)&&(af=setTimeout(function(){af=null,isUndef(Qc.resolved)&&uf(null)},ff.timeout)))),rf=!1,Qc.loading?Qc.loadingComp:Qc.resolved}}function getFirstComponentChild(Qc){if(isArray(Qc))for(var ef=0;ef<Qc.length;ef++){var tf=Qc[ef];if(isDef(tf)&&(isDef(tf.componentOptions)||isAsyncPlaceholder(tf)))return tf}}function initEvents(Qc){Qc._events=Object.create(null),Qc._hasHookEvent=!1;var ef=Qc.$options._parentListeners;ef&&updateComponentListeners(Qc,ef)}var target$1;function add$1(Qc,ef){target$1.$on(Qc,ef)}function remove$1(Qc,ef){target$1.$off(Qc,ef)}function createOnceHandler$1(Qc,ef){var tf=target$1;return function nf(){var rf=ef.apply(null,arguments);rf!==null&&tf.$off(Qc,nf)}}function updateComponentListeners(Qc,ef,tf){target$1=Qc,updateListeners(ef,tf||{},add$1,remove$1,createOnceHandler$1,Qc),target$1=void 0}function eventsMixin(Qc){var ef=/^hook:/;Qc.prototype.$on=function(tf,nf){var rf=this;if(isArray(tf))for(var sf=0,af=tf.length;sf<af;sf++)rf.$on(tf[sf],nf);else(rf._events[tf]||(rf._events[tf]=[])).push(nf),ef.test(tf)&&(rf._hasHookEvent=!0);return rf},Qc.prototype.$once=function(tf,nf){var rf=this;function sf(){rf.$off(tf,sf),nf.apply(rf,arguments)}return sf.fn=nf,rf.$on(tf,sf),rf},Qc.prototype.$off=function(tf,nf){var rf=this;if(!arguments.length)return rf._events=Object.create(null),rf;if(isArray(tf)){for(var sf=0,af=tf.length;sf<af;sf++)rf.$off(tf[sf],nf);return rf}var lf=rf._events[tf];if(!lf)return rf;if(!nf)return rf._events[tf]=null,rf;for(var cf,uf=lf.length;uf--;)if(cf=lf[uf],cf===nf||cf.fn===nf){lf.splice(uf,1);break}return rf},Qc.prototype.$emit=function(tf){var nf=this,rf=nf._events[tf];if(rf){rf=rf.length>1?toArray(rf):rf;for(var sf=toArray(arguments,1),af='event handler for "'.concat(tf,'"'),lf=0,cf=rf.length;lf<cf;lf++)invokeWithErrorHandling(rf[lf],nf,sf,nf,af)}return nf}}var activeInstance=null;function setActiveInstance(Qc){var ef=activeInstance;return activeInstance=Qc,function(){activeInstance=ef}}function initLifecycle(Qc){var ef=Qc.$options,tf=ef.parent;if(tf&&!ef.abstract){for(;tf.$options.abstract&&tf.$parent;)tf=tf.$parent;tf.$children.push(Qc)}Qc.$parent=tf,Qc.$root=tf?tf.$root:Qc,Qc.$children=[],Qc.$refs={},Qc._provided=tf?tf._provided:Object.create(null),Qc._watcher=null,Qc._inactive=null,Qc._directInactive=!1,Qc._isMounted=!1,Qc._isDestroyed=!1,Qc._isBeingDestroyed=!1}function lifecycleMixin(Qc){Qc.prototype._update=function(ef,tf){var nf=this,rf=nf.$el,sf=nf._vnode,af=setActiveInstance(nf);nf._vnode=ef,sf?nf.$el=nf.__patch__(sf,ef):nf.$el=nf.__patch__(nf.$el,ef,tf,!1),af(),rf&&(rf.__vue__=null),nf.$el&&(nf.$el.__vue__=nf);for(var lf=nf;lf&&lf.$vnode&&lf.$parent&&lf.$vnode===lf.$parent._vnode;)lf.$parent.$el=lf.$el,lf=lf.$parent},Qc.prototype.$forceUpdate=function(){var ef=this;ef._watcher&&ef._watcher.update()},Qc.prototype.$destroy=function(){var ef=this;if(!ef._isBeingDestroyed){callHook$1(ef,"beforeDestroy"),ef._isBeingDestroyed=!0;var tf=ef.$parent;tf&&!tf._isBeingDestroyed&&!ef.$options.abstract&&remove$2(tf.$children,ef),ef._scope.stop(),ef._data.__ob__&&ef._data.__ob__.vmCount--,ef._isDestroyed=!0,ef.__patch__(ef._vnode,null),callHook$1(ef,"destroyed"),ef.$off(),ef.$el&&(ef.$el.__vue__=null),ef.$vnode&&(ef.$vnode.parent=null)}}}function mountComponent(Qc,ef,tf){Qc.$el=ef,Qc.$options.render||(Qc.$options.render=createEmptyVNode),callHook$1(Qc,"beforeMount");var nf;nf=function(){Qc._update(Qc._render(),tf)};var rf={before:function(){Qc._isMounted&&!Qc._isDestroyed&&callHook$1(Qc,"beforeUpdate")}};new Watcher(Qc,nf,noop$1,rf,!0),tf=!1;var sf=Qc._preWatchers;if(sf)for(var af=0;af<sf.length;af++)sf[af].run();return Qc.$vnode==null&&(Qc._isMounted=!0,callHook$1(Qc,"mounted")),Qc}function updateChildComponent(Qc,ef,tf,nf,rf){var sf=nf.data.scopedSlots,af=Qc.$scopedSlots,lf=!!(sf&&!sf.$stable||af!==emptyObject&&!af.$stable||sf&&Qc.$scopedSlots.$key!==sf.$key||!sf&&Qc.$scopedSlots.$key),cf=!!(rf||Qc.$options._renderChildren||lf),uf=Qc.$vnode;Qc.$options._parentVnode=nf,Qc.$vnode=nf,Qc._vnode&&(Qc._vnode.parent=nf),Qc.$options._renderChildren=rf;var ff=nf.data.attrs||emptyObject;Qc._attrsProxy&&syncSetupProxy(Qc._attrsProxy,ff,uf.data&&uf.data.attrs||emptyObject,Qc,"$attrs")&&(cf=!0),Qc.$attrs=ff,tf=tf||emptyObject;var df=Qc.$options._parentListeners;if(Qc._listenersProxy&&syncSetupProxy(Qc._listenersProxy,tf,df||emptyObject,Qc,"$listeners"),Qc.$listeners=Qc.$options._parentListeners=tf,updateComponentListeners(Qc,tf,df),ef&&Qc.$options.props){toggleObserving(!1);for(var gf=Qc._props,_f=Qc.$options._propKeys||[],xf=0;xf<_f.length;xf++){var Af=_f[xf],Df=Qc.$options.props;gf[Af]=validateProp(Af,Df,ef,Qc)}toggleObserving(!0),Qc.$options.propsData=ef}cf&&(Qc.$slots=resolveSlots(rf,nf.context),Qc.$forceUpdate())}function isInInactiveTree(Qc){for(;Qc&&(Qc=Qc.$parent);)if(Qc._inactive)return!0;return!1}function activateChildComponent(Qc,ef){if(ef){if(Qc._directInactive=!1,isInInactiveTree(Qc))return}else if(Qc._directInactive)return;if(Qc._inactive||Qc._inactive===null){Qc._inactive=!1;for(var tf=0;tf<Qc.$children.length;tf++)activateChildComponent(Qc.$children[tf]);callHook$1(Qc,"activated")}}function deactivateChildComponent(Qc,ef){if(!(ef&&(Qc._directInactive=!0,isInInactiveTree(Qc)))&&!Qc._inactive){Qc._inactive=!0;for(var tf=0;tf<Qc.$children.length;tf++)deactivateChildComponent(Qc.$children[tf]);callHook$1(Qc,"deactivated")}}function callHook$1(Qc,ef,tf,nf){nf===void 0&&(nf=!0),pushTarget();var rf=currentInstance;nf&&setCurrentInstance(Qc);var sf=Qc.$options[ef],af="".concat(ef," hook");if(sf)for(var lf=0,cf=sf.length;lf<cf;lf++)invokeWithErrorHandling(sf[lf],Qc,tf||null,Qc,af);Qc._hasHookEvent&&Qc.$emit("hook:"+ef),nf&&setCurrentInstance(rf),popTarget()}var queue=[],activatedChildren=[],has={},waiting=!1,flushing=!1,index$1=0;function resetSchedulerState(){index$1=queue.length=activatedChildren.length=0,has={},waiting=flushing=!1}var currentFlushTimestamp=0,getNow=Date.now;if(inBrowser&&!isIE){var performance_1=window.performance;performance_1&&typeof performance_1.now=="function"&&getNow()>document.createEvent("Event").timeStamp&&(getNow=function(){return performance_1.now()})}var sortCompareFn=function(Qc,ef){if(Qc.post){if(!ef.post)return 1}else if(ef.post)return-1;return Qc.id-ef.id};function flushSchedulerQueue(){currentFlushTimestamp=getNow(),flushing=!0;var Qc,ef;for(queue.sort(sortCompareFn),index$1=0;index$1<queue.length;index$1++)Qc=queue[index$1],Qc.before&&Qc.before(),ef=Qc.id,has[ef]=null,Qc.run();var tf=activatedChildren.slice(),nf=queue.slice();resetSchedulerState(),callActivatedHooks(tf),callUpdatedHooks(nf),cleanupDeps(),devtools&&config.devtools&&devtools.emit("flush")}function callUpdatedHooks(Qc){for(var ef=Qc.length;ef--;){var tf=Qc[ef],nf=tf.vm;nf&&nf._watcher===tf&&nf._isMounted&&!nf._isDestroyed&&callHook$1(nf,"updated")}}function queueActivatedComponent(Qc){Qc._inactive=!1,activatedChildren.push(Qc)}function callActivatedHooks(Qc){for(var ef=0;ef<Qc.length;ef++)Qc[ef]._inactive=!0,activateChildComponent(Qc[ef],!0)}function queueWatcher(Qc){var ef=Qc.id;if(has[ef]==null&&!(Qc===Dep.target&&Qc.noRecurse)){if(has[ef]=!0,!flushing)queue.push(Qc);else{for(var tf=queue.length-1;tf>index$1&&queue[tf].id>Qc.id;)tf--;queue.splice(tf+1,0,Qc)}waiting||(waiting=!0,nextTick(flushSchedulerQueue))}}var activeEffectScope,EffectScope=function(){function Qc(ef){ef===void 0&&(ef=!1),this.detached=ef,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!ef&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}return Qc.prototype.run=function(ef){if(this.active){var tf=activeEffectScope;try{return activeEffectScope=this,ef()}finally{activeEffectScope=tf}}},Qc.prototype.on=function(){activeEffectScope=this},Qc.prototype.off=function(){activeEffectScope=this.parent},Qc.prototype.stop=function(ef){if(this.active){var tf=void 0,nf=void 0;for(tf=0,nf=this.effects.length;tf<nf;tf++)this.effects[tf].teardown();for(tf=0,nf=this.cleanups.length;tf<nf;tf++)this.cleanups[tf]();if(this.scopes)for(tf=0,nf=this.scopes.length;tf<nf;tf++)this.scopes[tf].stop(!0);if(!this.detached&&this.parent&&!ef){var rf=this.parent.scopes.pop();rf&&rf!==this&&(this.parent.scopes[this.index]=rf,rf.index=this.index)}this.parent=void 0,this.active=!1}},Qc}();function recordEffectScope(Qc,ef){ef===void 0&&(ef=activeEffectScope),ef&&ef.active&&ef.effects.push(Qc)}function resolveProvided(Qc){var ef=Qc._provided,tf=Qc.$parent&&Qc.$parent._provided;return tf===ef?Qc._provided=Object.create(tf):ef}function handleError(Qc,ef,tf){pushTarget();try{if(ef)for(var nf=ef;nf=nf.$parent;){var rf=nf.$options.errorCaptured;if(rf)for(var sf=0;sf<rf.length;sf++)try{var af=rf[sf].call(nf,Qc,ef,tf)===!1;if(af)return}catch(lf){globalHandleError(lf,nf,"errorCaptured hook")}}globalHandleError(Qc,ef,tf)}finally{popTarget()}}function invokeWithErrorHandling(Qc,ef,tf,nf,rf){var sf;try{sf=tf?Qc.apply(ef,tf):Qc.call(ef),sf&&!sf._isVue&&isPromise(sf)&&!sf._handled&&(sf.catch(function(af){return handleError(af,nf,rf+" (Promise/async)")}),sf._handled=!0)}catch(af){handleError(af,nf,rf)}return sf}function globalHandleError(Qc,ef,tf){if(config.errorHandler)try{return config.errorHandler.call(null,Qc,ef,tf)}catch(nf){nf!==Qc&&logError(nf)}logError(Qc)}function logError(Qc,ef,tf){if(inBrowser&&typeof console<"u")console.error(Qc);else throw Qc}var isUsingMicroTask=!1,callbacks=[],pending=!1;function flushCallbacks(){pending=!1;var Qc=callbacks.slice(0);callbacks.length=0;for(var ef=0;ef<Qc.length;ef++)Qc[ef]()}var timerFunc;if(typeof Promise<"u"&&isNative(Promise)){var p_1=Promise.resolve();timerFunc=function(){p_1.then(flushCallbacks),isIOS&&setTimeout(noop$1)},isUsingMicroTask=!0}else if(!isIE&&typeof MutationObserver<"u"&&(isNative(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var counter_1=1,observer=new MutationObserver(flushCallbacks),textNode_1=document.createTextNode(String(counter_1));observer.observe(textNode_1,{characterData:!0}),timerFunc=function(){counter_1=(counter_1+1)%2,textNode_1.data=String(counter_1)},isUsingMicroTask=!0}else typeof setImmediate<"u"&&isNative(setImmediate)?timerFunc=function(){setImmediate(flushCallbacks)}:timerFunc=function(){setTimeout(flushCallbacks,0)};function nextTick(Qc,ef){var tf;if(callbacks.push(function(){if(Qc)try{Qc.call(ef)}catch(nf){handleError(nf,ef,"nextTick")}else tf&&tf(ef)}),pending||(pending=!0,timerFunc()),!Qc&&typeof Promise<"u")return new Promise(function(nf){tf=nf})}var version="2.7.14",seenObjects=new _Set;function traverse(Qc){return _traverse(Qc,seenObjects),seenObjects.clear(),Qc}function _traverse(Qc,ef){var tf,nf,rf=isArray(Qc);if(!(!rf&&!isObject$1(Qc)||Qc.__v_skip||Object.isFrozen(Qc)||Qc instanceof VNode)){if(Qc.__ob__){var sf=Qc.__ob__.dep.id;if(ef.has(sf))return;ef.add(sf)}if(rf)for(tf=Qc.length;tf--;)_traverse(Qc[tf],ef);else if(isRef(Qc))_traverse(Qc.value,ef);else for(nf=Object.keys(Qc),tf=nf.length;tf--;)_traverse(Qc[nf[tf]],ef)}}var uid$1=0,Watcher=function(){function Qc(ef,tf,nf,rf,sf){recordEffectScope(this,activeEffectScope&&!activeEffectScope._vm?activeEffectScope:ef?ef._scope:void 0),(this.vm=ef)&&sf&&(ef._watcher=this),rf?(this.deep=!!rf.deep,this.user=!!rf.user,this.lazy=!!rf.lazy,this.sync=!!rf.sync,this.before=rf.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=nf,this.id=++uid$1,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new _Set,this.newDepIds=new _Set,this.expression="",isFunction(tf)?this.getter=tf:(this.getter=parsePath(tf),this.getter||(this.getter=noop$1)),this.value=this.lazy?void 0:this.get()}return Qc.prototype.get=function(){pushTarget(this);var ef,tf=this.vm;try{ef=this.getter.call(tf,tf)}catch(nf){if(this.user)handleError(nf,tf,'getter for watcher "'.concat(this.expression,'"'));else throw nf}finally{this.deep&&traverse(ef),popTarget(),this.cleanupDeps()}return ef},Qc.prototype.addDep=function(ef){var tf=ef.id;this.newDepIds.has(tf)||(this.newDepIds.add(tf),this.newDeps.push(ef),this.depIds.has(tf)||ef.addSub(this))},Qc.prototype.cleanupDeps=function(){for(var ef=this.deps.length;ef--;){var tf=this.deps[ef];this.newDepIds.has(tf.id)||tf.removeSub(this)}var nf=this.depIds;this.depIds=this.newDepIds,this.newDepIds=nf,this.newDepIds.clear(),nf=this.deps,this.deps=this.newDeps,this.newDeps=nf,this.newDeps.length=0},Qc.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():queueWatcher(this)},Qc.prototype.run=function(){if(this.active){var ef=this.get();if(ef!==this.value||isObject$1(ef)||this.deep){var tf=this.value;if(this.value=ef,this.user){var nf='callback for watcher "'.concat(this.expression,'"');invokeWithErrorHandling(this.cb,this.vm,[ef,tf],this.vm,nf)}else this.cb.call(this.vm,ef,tf)}}},Qc.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Qc.prototype.depend=function(){for(var ef=this.deps.length;ef--;)this.deps[ef].depend()},Qc.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&remove$2(this.vm._scope.effects,this),this.active){for(var ef=this.deps.length;ef--;)this.deps[ef].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},Qc}(),sharedPropertyDefinition={enumerable:!0,configurable:!0,get:noop$1,set:noop$1};function proxy(Qc,ef,tf){sharedPropertyDefinition.get=function(){return this[ef][tf]},sharedPropertyDefinition.set=function(rf){this[ef][tf]=rf},Object.defineProperty(Qc,tf,sharedPropertyDefinition)}function initState(Qc){var ef=Qc.$options;if(ef.props&&initProps$1(Qc,ef.props),initSetup(Qc),ef.methods&&initMethods(Qc,ef.methods),ef.data)initData(Qc);else{var tf=observe(Qc._data={});tf&&tf.vmCount++}ef.computed&&initComputed$1(Qc,ef.computed),ef.watch&&ef.watch!==nativeWatch&&initWatch(Qc,ef.watch)}function initProps$1(Qc,ef){var tf=Qc.$options.propsData||{},nf=Qc._props=shallowReactive({}),rf=Qc.$options._propKeys=[],sf=!Qc.$parent;sf||toggleObserving(!1);var af=function(cf){rf.push(cf);var uf=validateProp(cf,ef,tf,Qc);defineReactive(nf,cf,uf),cf in Qc||proxy(Qc,"_props",cf)};for(var lf in ef)af(lf);toggleObserving(!0)}function initData(Qc){var ef=Qc.$options.data;ef=Qc._data=isFunction(ef)?getData(ef,Qc):ef||{},isPlainObject(ef)||(ef={});var tf=Object.keys(ef),nf=Qc.$options.props;Qc.$options.methods;for(var rf=tf.length;rf--;){var sf=tf[rf];nf&&hasOwn(nf,sf)||isReserved(sf)||proxy(Qc,"_data",sf)}var af=observe(ef);af&&af.vmCount++}function getData(Qc,ef){pushTarget();try{return Qc.call(ef,ef)}catch(tf){return handleError(tf,ef,"data()"),{}}finally{popTarget()}}var computedWatcherOptions={lazy:!0};function initComputed$1(Qc,ef){var tf=Qc._computedWatchers=Object.create(null),nf=isServerRendering();for(var rf in ef){var sf=ef[rf],af=isFunction(sf)?sf:sf.get;nf||(tf[rf]=new Watcher(Qc,af||noop$1,noop$1,computedWatcherOptions)),rf in Qc||defineComputed(Qc,rf,sf)}}function defineComputed(Qc,ef,tf){var nf=!isServerRendering();isFunction(tf)?(sharedPropertyDefinition.get=nf?createComputedGetter(ef):createGetterInvoker(tf),sharedPropertyDefinition.set=noop$1):(sharedPropertyDefinition.get=tf.get?nf&&tf.cache!==!1?createComputedGetter(ef):createGetterInvoker(tf.get):noop$1,sharedPropertyDefinition.set=tf.set||noop$1),Object.defineProperty(Qc,ef,sharedPropertyDefinition)}function createComputedGetter(Qc){return function(){var tf=this._computedWatchers&&this._computedWatchers[Qc];if(tf)return tf.dirty&&tf.evaluate(),Dep.target&&tf.depend(),tf.value}}function createGetterInvoker(Qc){return function(){return Qc.call(this,this)}}function initMethods(Qc,ef){Qc.$options.props;for(var tf in ef)Qc[tf]=typeof ef[tf]!="function"?noop$1:bind$1$1(ef[tf],Qc)}function initWatch(Qc,ef){for(var tf in ef){var nf=ef[tf];if(isArray(nf))for(var rf=0;rf<nf.length;rf++)createWatcher(Qc,tf,nf[rf]);else createWatcher(Qc,tf,nf)}}function createWatcher(Qc,ef,tf,nf){return isPlainObject(tf)&&(nf=tf,tf=tf.handler),typeof tf=="string"&&(tf=Qc[tf]),Qc.$watch(ef,tf,nf)}function stateMixin(Qc){var ef={};ef.get=function(){return this._data};var tf={};tf.get=function(){return this._props},Object.defineProperty(Qc.prototype,"$data",ef),Object.defineProperty(Qc.prototype,"$props",tf),Qc.prototype.$set=set$3,Qc.prototype.$delete=del,Qc.prototype.$watch=function(nf,rf,sf){var af=this;if(isPlainObject(rf))return createWatcher(af,nf,rf,sf);sf=sf||{},sf.user=!0;var lf=new Watcher(af,nf,rf,sf);if(sf.immediate){var cf='callback for immediate watcher "'.concat(lf.expression,'"');pushTarget(),invokeWithErrorHandling(rf,af,[lf.value],af,cf),popTarget()}return function(){lf.teardown()}}}function initProvide(Qc){var ef=Qc.$options.provide;if(ef){var tf=isFunction(ef)?ef.call(Qc):ef;if(!isObject$1(tf))return;for(var nf=resolveProvided(Qc),rf=hasSymbol?Reflect.ownKeys(tf):Object.keys(tf),sf=0;sf<rf.length;sf++){var af=rf[sf];Object.defineProperty(nf,af,Object.getOwnPropertyDescriptor(tf,af))}}}function initInjections(Qc){var ef=resolveInject(Qc.$options.inject,Qc);ef&&(toggleObserving(!1),Object.keys(ef).forEach(function(tf){defineReactive(Qc,tf,ef[tf])}),toggleObserving(!0))}function resolveInject(Qc,ef){if(Qc){for(var tf=Object.create(null),nf=hasSymbol?Reflect.ownKeys(Qc):Object.keys(Qc),rf=0;rf<nf.length;rf++){var sf=nf[rf];if(sf!=="__ob__"){var af=Qc[sf].from;if(af in ef._provided)tf[sf]=ef._provided[af];else if("default"in Qc[sf]){var lf=Qc[sf].default;tf[sf]=isFunction(lf)?lf.call(ef):lf}}}return tf}}var uid=0;function initMixin$1(Qc){Qc.prototype._init=function(ef){var tf=this;tf._uid=uid++,tf._isVue=!0,tf.__v_skip=!0,tf._scope=new EffectScope(!0),tf._scope._vm=!0,ef&&ef._isComponent?initInternalComponent(tf,ef):tf.$options=mergeOptions(resolveConstructorOptions(tf.constructor),ef||{},tf),tf._renderProxy=tf,tf._self=tf,initLifecycle(tf),initEvents(tf),initRender(tf),callHook$1(tf,"beforeCreate",void 0,!1),initInjections(tf),initState(tf),initProvide(tf),callHook$1(tf,"created"),tf.$options.el&&tf.$mount(tf.$options.el)}}function initInternalComponent(Qc,ef){var tf=Qc.$options=Object.create(Qc.constructor.options),nf=ef._parentVnode;tf.parent=ef.parent,tf._parentVnode=nf;var rf=nf.componentOptions;tf.propsData=rf.propsData,tf._parentListeners=rf.listeners,tf._renderChildren=rf.children,tf._componentTag=rf.tag,ef.render&&(tf.render=ef.render,tf.staticRenderFns=ef.staticRenderFns)}function resolveConstructorOptions(Qc){var ef=Qc.options;if(Qc.super){var tf=resolveConstructorOptions(Qc.super),nf=Qc.superOptions;if(tf!==nf){Qc.superOptions=tf;var rf=resolveModifiedOptions(Qc);rf&&extend$1(Qc.extendOptions,rf),ef=Qc.options=mergeOptions(tf,Qc.extendOptions),ef.name&&(ef.components[ef.name]=Qc)}}return ef}function resolveModifiedOptions(Qc){var ef,tf=Qc.options,nf=Qc.sealedOptions;for(var rf in tf)tf[rf]!==nf[rf]&&(ef||(ef={}),ef[rf]=tf[rf]);return ef}function FunctionalRenderContext(Qc,ef,tf,nf,rf){var sf=this,af=rf.options,lf;hasOwn(nf,"_uid")?(lf=Object.create(nf),lf._original=nf):(lf=nf,nf=nf._original);var cf=isTrue(af._compiled),uf=!cf;this.data=Qc,this.props=ef,this.children=tf,this.parent=nf,this.listeners=Qc.on||emptyObject,this.injections=resolveInject(af.inject,nf),this.slots=function(){return sf.$slots||normalizeScopedSlots(nf,Qc.scopedSlots,sf.$slots=resolveSlots(tf,nf)),sf.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return normalizeScopedSlots(nf,Qc.scopedSlots,this.slots())}}),cf&&(this.$options=af,this.$slots=this.slots(),this.$scopedSlots=normalizeScopedSlots(nf,Qc.scopedSlots,this.$slots)),af._scopeId?this._c=function(ff,df,gf,_f){var xf=createElement$1(lf,ff,df,gf,_f,uf);return xf&&!isArray(xf)&&(xf.fnScopeId=af._scopeId,xf.fnContext=nf),xf}:this._c=function(ff,df,gf,_f){return createElement$1(lf,ff,df,gf,_f,uf)}}installRenderHelpers(FunctionalRenderContext.prototype);function createFunctionalComponent(Qc,ef,tf,nf,rf){var sf=Qc.options,af={},lf=sf.props;if(isDef(lf))for(var cf in lf)af[cf]=validateProp(cf,lf,ef||emptyObject);else isDef(tf.attrs)&&mergeProps(af,tf.attrs),isDef(tf.props)&&mergeProps(af,tf.props);var uf=new FunctionalRenderContext(tf,af,rf,nf,Qc),ff=sf.render.call(null,uf._c,uf);if(ff instanceof VNode)return cloneAndMarkFunctionalResult(ff,tf,uf.parent,sf);if(isArray(ff)){for(var df=normalizeChildren(ff)||[],gf=new Array(df.length),_f=0;_f<df.length;_f++)gf[_f]=cloneAndMarkFunctionalResult(df[_f],tf,uf.parent,sf);return gf}}function cloneAndMarkFunctionalResult(Qc,ef,tf,nf,rf){var sf=cloneVNode(Qc);return sf.fnContext=tf,sf.fnOptions=nf,ef.slot&&((sf.data||(sf.data={})).slot=ef.slot),sf}function mergeProps(Qc,ef){for(var tf in ef)Qc[camelize(tf)]=ef[tf]}function getComponentName(Qc){return Qc.name||Qc.__name||Qc._componentTag}var componentVNodeHooks={init:function(Qc,ef){if(Qc.componentInstance&&!Qc.componentInstance._isDestroyed&&Qc.data.keepAlive){var tf=Qc;componentVNodeHooks.prepatch(tf,tf)}else{var nf=Qc.componentInstance=createComponentInstanceForVnode(Qc,activeInstance);nf.$mount(ef?Qc.elm:void 0,ef)}},prepatch:function(Qc,ef){var tf=ef.componentOptions,nf=ef.componentInstance=Qc.componentInstance;updateChildComponent(nf,tf.propsData,tf.listeners,ef,tf.children)},insert:function(Qc){var ef=Qc.context,tf=Qc.componentInstance;tf._isMounted||(tf._isMounted=!0,callHook$1(tf,"mounted")),Qc.data.keepAlive&&(ef._isMounted?queueActivatedComponent(tf):activateChildComponent(tf,!0))},destroy:function(Qc){var ef=Qc.componentInstance;ef._isDestroyed||(Qc.data.keepAlive?deactivateChildComponent(ef,!0):ef.$destroy())}},hooksToMerge=Object.keys(componentVNodeHooks);function createComponent(Qc,ef,tf,nf,rf){if(!isUndef(Qc)){var sf=tf.$options._base;if(isObject$1(Qc)&&(Qc=sf.extend(Qc)),typeof Qc=="function"){var af;if(isUndef(Qc.cid)&&(af=Qc,Qc=resolveAsyncComponent(af,sf),Qc===void 0))return createAsyncPlaceholder(af,ef,tf,nf,rf);ef=ef||{},resolveConstructorOptions(Qc),isDef(ef.model)&&transformModel(Qc.options,ef);var lf=extractPropsFromVNodeData(ef,Qc);if(isTrue(Qc.options.functional))return createFunctionalComponent(Qc,lf,ef,tf,nf);var cf=ef.on;if(ef.on=ef.nativeOn,isTrue(Qc.options.abstract)){var uf=ef.slot;ef={},uf&&(ef.slot=uf)}installComponentHooks(ef);var ff=getComponentName(Qc.options)||rf,df=new VNode("vue-component-".concat(Qc.cid).concat(ff?"-".concat(ff):""),ef,void 0,void 0,void 0,tf,{Ctor:Qc,propsData:lf,listeners:cf,tag:rf,children:nf},af);return df}}}function createComponentInstanceForVnode(Qc,ef){var tf={_isComponent:!0,_parentVnode:Qc,parent:ef},nf=Qc.data.inlineTemplate;return isDef(nf)&&(tf.render=nf.render,tf.staticRenderFns=nf.staticRenderFns),new Qc.componentOptions.Ctor(tf)}function installComponentHooks(Qc){for(var ef=Qc.hook||(Qc.hook={}),tf=0;tf<hooksToMerge.length;tf++){var nf=hooksToMerge[tf],rf=ef[nf],sf=componentVNodeHooks[nf];rf!==sf&&!(rf&&rf._merged)&&(ef[nf]=rf?mergeHook(sf,rf):sf)}}function mergeHook(Qc,ef){var tf=function(nf,rf){Qc(nf,rf),ef(nf,rf)};return tf._merged=!0,tf}function transformModel(Qc,ef){var tf=Qc.model&&Qc.model.prop||"value",nf=Qc.model&&Qc.model.event||"input";(ef.attrs||(ef.attrs={}))[tf]=ef.model.value;var rf=ef.on||(ef.on={}),sf=rf[nf],af=ef.model.callback;isDef(sf)?(isArray(sf)?sf.indexOf(af)===-1:sf!==af)&&(rf[nf]=[af].concat(sf)):rf[nf]=af}var warn$2=noop$1,strats=config.optionMergeStrategies;function mergeData(Qc,ef,tf){if(tf===void 0&&(tf=!0),!ef)return Qc;for(var nf,rf,sf,af=hasSymbol?Reflect.ownKeys(ef):Object.keys(ef),lf=0;lf<af.length;lf++)nf=af[lf],nf!=="__ob__"&&(rf=Qc[nf],sf=ef[nf],!tf||!hasOwn(Qc,nf)?set$3(Qc,nf,sf):rf!==sf&&isPlainObject(rf)&&isPlainObject(sf)&&mergeData(rf,sf));return Qc}function mergeDataOrFn(Qc,ef,tf){return tf?function(){var rf=isFunction(ef)?ef.call(tf,tf):ef,sf=isFunction(Qc)?Qc.call(tf,tf):Qc;return rf?mergeData(rf,sf):sf}:ef?Qc?function(){return mergeData(isFunction(ef)?ef.call(this,this):ef,isFunction(Qc)?Qc.call(this,this):Qc)}:ef:Qc}strats.data=function(Qc,ef,tf){return tf?mergeDataOrFn(Qc,ef,tf):ef&&typeof ef!="function"?Qc:mergeDataOrFn(Qc,ef)};function mergeLifecycleHook(Qc,ef){var tf=ef?Qc?Qc.concat(ef):isArray(ef)?ef:[ef]:Qc;return tf&&dedupeHooks(tf)}function dedupeHooks(Qc){for(var ef=[],tf=0;tf<Qc.length;tf++)ef.indexOf(Qc[tf])===-1&&ef.push(Qc[tf]);return ef}LIFECYCLE_HOOKS.forEach(function(Qc){strats[Qc]=mergeLifecycleHook});function mergeAssets(Qc,ef,tf,nf){var rf=Object.create(Qc||null);return ef?extend$1(rf,ef):rf}ASSET_TYPES.forEach(function(Qc){strats[Qc+"s"]=mergeAssets});strats.watch=function(Qc,ef,tf,nf){if(Qc===nativeWatch&&(Qc=void 0),ef===nativeWatch&&(ef=void 0),!ef)return Object.create(Qc||null);if(!Qc)return ef;var rf={};extend$1(rf,Qc);for(var sf in ef){var af=rf[sf],lf=ef[sf];af&&!isArray(af)&&(af=[af]),rf[sf]=af?af.concat(lf):isArray(lf)?lf:[lf]}return rf};strats.props=strats.methods=strats.inject=strats.computed=function(Qc,ef,tf,nf){if(!Qc)return ef;var rf=Object.create(null);return extend$1(rf,Qc),ef&&extend$1(rf,ef),rf};strats.provide=function(Qc,ef){return Qc?function(){var tf=Object.create(null);return mergeData(tf,isFunction(Qc)?Qc.call(this):Qc),ef&&mergeData(tf,isFunction(ef)?ef.call(this):ef,!1),tf}:ef};var defaultStrat=function(Qc,ef){return ef===void 0?Qc:ef};function normalizeProps(Qc,ef){var tf=Qc.props;if(tf){var nf={},rf,sf,af;if(isArray(tf))for(rf=tf.length;rf--;)sf=tf[rf],typeof sf=="string"&&(af=camelize(sf),nf[af]={type:null});else if(isPlainObject(tf))for(var lf in tf)sf=tf[lf],af=camelize(lf),nf[af]=isPlainObject(sf)?sf:{type:sf};Qc.props=nf}}function normalizeInject(Qc,ef){var tf=Qc.inject;if(tf){var nf=Qc.inject={};if(isArray(tf))for(var rf=0;rf<tf.length;rf++)nf[tf[rf]]={from:tf[rf]};else if(isPlainObject(tf))for(var sf in tf){var af=tf[sf];nf[sf]=isPlainObject(af)?extend$1({from:sf},af):{from:af}}}}function normalizeDirectives$1(Qc){var ef=Qc.directives;if(ef)for(var tf in ef){var nf=ef[tf];isFunction(nf)&&(ef[tf]={bind:nf,update:nf})}}function assertObjectType(Qc,ef,tf){isPlainObject(ef)||warn$2('Invalid value for option "'.concat(Qc,'": expected an Object, ')+"but got ".concat(toRawType(ef),"."))}function mergeOptions(Qc,ef,tf){if(isFunction(ef)&&(ef=ef.options),normalizeProps(ef),normalizeInject(ef),normalizeDirectives$1(ef),!ef._base&&(ef.extends&&(Qc=mergeOptions(Qc,ef.extends,tf)),ef.mixins))for(var nf=0,rf=ef.mixins.length;nf<rf;nf++)Qc=mergeOptions(Qc,ef.mixins[nf],tf);var sf={},af;for(af in Qc)lf(af);for(af in ef)hasOwn(Qc,af)||lf(af);function lf(cf){var uf=strats[cf]||defaultStrat;sf[cf]=uf(Qc[cf],ef[cf],tf,cf)}return sf}function resolveAsset(Qc,ef,tf,nf){if(typeof tf=="string"){var rf=Qc[ef];if(hasOwn(rf,tf))return rf[tf];var sf=camelize(tf);if(hasOwn(rf,sf))return rf[sf];var af=capitalize(sf);if(hasOwn(rf,af))return rf[af];var lf=rf[tf]||rf[sf]||rf[af];return lf}}function validateProp(Qc,ef,tf,nf){var rf=ef[Qc],sf=!hasOwn(tf,Qc),af=tf[Qc],lf=getTypeIndex(Boolean,rf.type);if(lf>-1){if(sf&&!hasOwn(rf,"default"))af=!1;else if(af===""||af===hyphenate(Qc)){var cf=getTypeIndex(String,rf.type);(cf<0||lf<cf)&&(af=!0)}}if(af===void 0){af=getPropDefaultValue(nf,rf,Qc);var uf=shouldObserve;toggleObserving(!0),observe(af),toggleObserving(uf)}return af}function getPropDefaultValue(Qc,ef,tf){if(hasOwn(ef,"default")){var nf=ef.default;return Qc&&Qc.$options.propsData&&Qc.$options.propsData[tf]===void 0&&Qc._props[tf]!==void 0?Qc._props[tf]:isFunction(nf)&&getType(ef.type)!=="Function"?nf.call(Qc):nf}}var functionTypeCheckRE=/^\s*function (\w+)/;function getType(Qc){var ef=Qc&&Qc.toString().match(functionTypeCheckRE);return ef?ef[1]:""}function isSameType(Qc,ef){return getType(Qc)===getType(ef)}function getTypeIndex(Qc,ef){if(!isArray(ef))return isSameType(ef,Qc)?0:-1;for(var tf=0,nf=ef.length;tf<nf;tf++)if(isSameType(ef[tf],Qc))return tf;return-1}function Vue$1(Qc){this._init(Qc)}initMixin$1(Vue$1);stateMixin(Vue$1);eventsMixin(Vue$1);lifecycleMixin(Vue$1);renderMixin(Vue$1);function initUse(Qc){Qc.use=function(ef){var tf=this._installedPlugins||(this._installedPlugins=[]);if(tf.indexOf(ef)>-1)return this;var nf=toArray(arguments,1);return nf.unshift(this),isFunction(ef.install)?ef.install.apply(ef,nf):isFunction(ef)&&ef.apply(null,nf),tf.push(ef),this}}function initMixin(Qc){Qc.mixin=function(ef){return this.options=mergeOptions(this.options,ef),this}}function initExtend(Qc){Qc.cid=0;var ef=1;Qc.extend=function(tf){tf=tf||{};var nf=this,rf=nf.cid,sf=tf._Ctor||(tf._Ctor={});if(sf[rf])return sf[rf];var af=getComponentName(tf)||getComponentName(nf.options),lf=function(uf){this._init(uf)};return lf.prototype=Object.create(nf.prototype),lf.prototype.constructor=lf,lf.cid=ef++,lf.options=mergeOptions(nf.options,tf),lf.super=nf,lf.options.props&&initProps(lf),lf.options.computed&&initComputed(lf),lf.extend=nf.extend,lf.mixin=nf.mixin,lf.use=nf.use,ASSET_TYPES.forEach(function(cf){lf[cf]=nf[cf]}),af&&(lf.options.components[af]=lf),lf.superOptions=nf.options,lf.extendOptions=tf,lf.sealedOptions=extend$1({},lf.options),sf[rf]=lf,lf}}function initProps(Qc){var ef=Qc.options.props;for(var tf in ef)proxy(Qc.prototype,"_props",tf)}function initComputed(Qc){var ef=Qc.options.computed;for(var tf in ef)defineComputed(Qc.prototype,tf,ef[tf])}function initAssetRegisters(Qc){ASSET_TYPES.forEach(function(ef){Qc[ef]=function(tf,nf){return nf?(ef==="component"&&isPlainObject(nf)&&(nf.name=nf.name||tf,nf=this.options._base.extend(nf)),ef==="directive"&&isFunction(nf)&&(nf={bind:nf,update:nf}),this.options[ef+"s"][tf]=nf,nf):this.options[ef+"s"][tf]}})}function _getComponentName(Qc){return Qc&&(getComponentName(Qc.Ctor.options)||Qc.tag)}function matches(Qc,ef){return isArray(Qc)?Qc.indexOf(ef)>-1:typeof Qc=="string"?Qc.split(",").indexOf(ef)>-1:isRegExp(Qc)?Qc.test(ef):!1}function pruneCache(Qc,ef){var tf=Qc.cache,nf=Qc.keys,rf=Qc._vnode;for(var sf in tf){var af=tf[sf];if(af){var lf=af.name;lf&&!ef(lf)&&pruneCacheEntry(tf,sf,nf,rf)}}}function pruneCacheEntry(Qc,ef,tf,nf){var rf=Qc[ef];rf&&(!nf||rf.tag!==nf.tag)&&rf.componentInstance.$destroy(),Qc[ef]=null,remove$2(tf,ef)}var patternTypes=[String,RegExp,Array],KeepAlive={name:"keep-alive",abstract:!0,props:{include:patternTypes,exclude:patternTypes,max:[String,Number]},methods:{cacheVNode:function(){var Qc=this,ef=Qc.cache,tf=Qc.keys,nf=Qc.vnodeToCache,rf=Qc.keyToCache;if(nf){var sf=nf.tag,af=nf.componentInstance,lf=nf.componentOptions;ef[rf]={name:_getComponentName(lf),tag:sf,componentInstance:af},tf.push(rf),this.max&&tf.length>parseInt(this.max)&&pruneCacheEntry(ef,tf[0],tf,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var Qc in this.cache)pruneCacheEntry(this.cache,Qc,this.keys)},mounted:function(){var Qc=this;this.cacheVNode(),this.$watch("include",function(ef){pruneCache(Qc,function(tf){return matches(ef,tf)})}),this.$watch("exclude",function(ef){pruneCache(Qc,function(tf){return!matches(ef,tf)})})},updated:function(){this.cacheVNode()},render:function(){var Qc=this.$slots.default,ef=getFirstComponentChild(Qc),tf=ef&&ef.componentOptions;if(tf){var nf=_getComponentName(tf),rf=this,sf=rf.include,af=rf.exclude;if(sf&&(!nf||!matches(sf,nf))||af&&nf&&matches(af,nf))return ef;var lf=this,cf=lf.cache,uf=lf.keys,ff=ef.key==null?tf.Ctor.cid+(tf.tag?"::".concat(tf.tag):""):ef.key;cf[ff]?(ef.componentInstance=cf[ff].componentInstance,remove$2(uf,ff),uf.push(ff)):(this.vnodeToCache=ef,this.keyToCache=ff),ef.data.keepAlive=!0}return ef||Qc&&Qc[0]}},builtInComponents={KeepAlive};function initGlobalAPI(Qc){var ef={};ef.get=function(){return config},Object.defineProperty(Qc,"config",ef),Qc.util={warn:warn$2,extend:extend$1,mergeOptions,defineReactive},Qc.set=set$3,Qc.delete=del,Qc.nextTick=nextTick,Qc.observable=function(tf){return observe(tf),tf},Qc.options=Object.create(null),ASSET_TYPES.forEach(function(tf){Qc.options[tf+"s"]=Object.create(null)}),Qc.options._base=Qc,extend$1(Qc.options.components,builtInComponents),initUse(Qc),initMixin(Qc),initExtend(Qc),initAssetRegisters(Qc)}initGlobalAPI(Vue$1);Object.defineProperty(Vue$1.prototype,"$isServer",{get:isServerRendering});Object.defineProperty(Vue$1.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(Vue$1,"FunctionalRenderContext",{value:FunctionalRenderContext});Vue$1.version=version;var isReservedAttr=makeMap("style,class"),acceptValue=makeMap("input,textarea,option,select,progress"),mustUseProp=function(Qc,ef,tf){return tf==="value"&&acceptValue(Qc)&&ef!=="button"||tf==="selected"&&Qc==="option"||tf==="checked"&&Qc==="input"||tf==="muted"&&Qc==="video"},isEnumeratedAttr=makeMap("contenteditable,draggable,spellcheck"),isValidContentEditableValue=makeMap("events,caret,typing,plaintext-only"),convertEnumeratedValue=function(Qc,ef){return isFalsyAttrValue(ef)||ef==="false"?"false":Qc==="contenteditable"&&isValidContentEditableValue(ef)?ef:"true"},isBooleanAttr=makeMap("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),xlinkNS="http://www.w3.org/1999/xlink",isXlink=function(Qc){return Qc.charAt(5)===":"&&Qc.slice(0,5)==="xlink"},getXlinkProp=function(Qc){return isXlink(Qc)?Qc.slice(6,Qc.length):""},isFalsyAttrValue=function(Qc){return Qc==null||Qc===!1};function genClassForVnode(Qc){for(var ef=Qc.data,tf=Qc,nf=Qc;isDef(nf.componentInstance);)nf=nf.componentInstance._vnode,nf&&nf.data&&(ef=mergeClassData(nf.data,ef));for(;isDef(tf=tf.parent);)tf&&tf.data&&(ef=mergeClassData(ef,tf.data));return renderClass(ef.staticClass,ef.class)}function mergeClassData(Qc,ef){return{staticClass:concat(Qc.staticClass,ef.staticClass),class:isDef(Qc.class)?[Qc.class,ef.class]:ef.class}}function renderClass(Qc,ef){return isDef(Qc)||isDef(ef)?concat(Qc,stringifyClass(ef)):""}function concat(Qc,ef){return Qc?ef?Qc+" "+ef:Qc:ef||""}function stringifyClass(Qc){return Array.isArray(Qc)?stringifyArray(Qc):isObject$1(Qc)?stringifyObject(Qc):typeof Qc=="string"?Qc:""}function stringifyArray(Qc){for(var ef="",tf,nf=0,rf=Qc.length;nf<rf;nf++)isDef(tf=stringifyClass(Qc[nf]))&&tf!==""&&(ef&&(ef+=" "),ef+=tf);return ef}function stringifyObject(Qc){var ef="";for(var tf in Qc)Qc[tf]&&(ef&&(ef+=" "),ef+=tf);return ef}var namespaceMap={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},isHTMLTag=makeMap("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),isSVG=makeMap("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),isPreTag=function(Qc){return Qc==="pre"},isReservedTag=function(Qc){return isHTMLTag(Qc)||isSVG(Qc)};function getTagNamespace(Qc){if(isSVG(Qc))return"svg";if(Qc==="math")return"math"}var unknownElementCache=Object.create(null);function isUnknownElement(Qc){if(!inBrowser)return!0;if(isReservedTag(Qc))return!1;if(Qc=Qc.toLowerCase(),unknownElementCache[Qc]!=null)return unknownElementCache[Qc];var ef=document.createElement(Qc);return Qc.indexOf("-")>-1?unknownElementCache[Qc]=ef.constructor===window.HTMLUnknownElement||ef.constructor===window.HTMLElement:unknownElementCache[Qc]=/HTMLUnknownElement/.test(ef.toString())}var isTextInputType=makeMap("text,number,password,search,email,tel,url");function query(Qc){if(typeof Qc=="string"){var ef=document.querySelector(Qc);return ef||document.createElement("div")}else return Qc}function createElement(Qc,ef){var tf=document.createElement(Qc);return Qc!=="select"||ef.data&&ef.data.attrs&&ef.data.attrs.multiple!==void 0&&tf.setAttribute("multiple","multiple"),tf}function createElementNS(Qc,ef){return document.createElementNS(namespaceMap[Qc],ef)}function createTextNode(Qc){return document.createTextNode(Qc)}function createComment(Qc){return document.createComment(Qc)}function insertBefore(Qc,ef,tf){Qc.insertBefore(ef,tf)}function removeChild(Qc,ef){Qc.removeChild(ef)}function appendChild(Qc,ef){Qc.appendChild(ef)}function parentNode(Qc){return Qc.parentNode}function nextSibling(Qc){return Qc.nextSibling}function tagName(Qc){return Qc.tagName}function setTextContent(Qc,ef){Qc.textContent=ef}function setStyleScope(Qc,ef){Qc.setAttribute(ef,"")}var nodeOps=Object.freeze({__proto__:null,createElement,createElementNS,createTextNode,createComment,insertBefore,removeChild,appendChild,parentNode,nextSibling,tagName,setTextContent,setStyleScope}),ref={create:function(Qc,ef){registerRef(ef)},update:function(Qc,ef){Qc.data.ref!==ef.data.ref&&(registerRef(Qc,!0),registerRef(ef))},destroy:function(Qc){registerRef(Qc,!0)}};function registerRef(Qc,ef){var tf=Qc.data.ref;if(isDef(tf)){var nf=Qc.context,rf=Qc.componentInstance||Qc.elm,sf=ef?null:rf,af=ef?void 0:rf;if(isFunction(tf)){invokeWithErrorHandling(tf,nf,[sf],nf,"template ref function");return}var lf=Qc.data.refInFor,cf=typeof tf=="string"||typeof tf=="number",uf=isRef(tf),ff=nf.$refs;if(cf||uf){if(lf){var df=cf?ff[tf]:tf.value;ef?isArray(df)&&remove$2(df,rf):isArray(df)?df.includes(rf)||df.push(rf):cf?(ff[tf]=[rf],setSetupRef(nf,tf,ff[tf])):tf.value=[rf]}else if(cf){if(ef&&ff[tf]!==rf)return;ff[tf]=af,setSetupRef(nf,tf,sf)}else if(uf){if(ef&&tf.value!==rf)return;tf.value=sf}}}}function setSetupRef(Qc,ef,tf){var nf=Qc._setupState;nf&&hasOwn(nf,ef)&&(isRef(nf[ef])?nf[ef].value=tf:nf[ef]=tf)}var emptyNode=new VNode("",{},[]),hooks=["create","activate","update","remove","destroy"];function sameVnode(Qc,ef){return Qc.key===ef.key&&Qc.asyncFactory===ef.asyncFactory&&(Qc.tag===ef.tag&&Qc.isComment===ef.isComment&&isDef(Qc.data)===isDef(ef.data)&&sameInputType(Qc,ef)||isTrue(Qc.isAsyncPlaceholder)&&isUndef(ef.asyncFactory.error))}function sameInputType(Qc,ef){if(Qc.tag!=="input")return!0;var tf,nf=isDef(tf=Qc.data)&&isDef(tf=tf.attrs)&&tf.type,rf=isDef(tf=ef.data)&&isDef(tf=tf.attrs)&&tf.type;return nf===rf||isTextInputType(nf)&&isTextInputType(rf)}function createKeyToOldIdx(Qc,ef,tf){var nf,rf,sf={};for(nf=ef;nf<=tf;++nf)rf=Qc[nf].key,isDef(rf)&&(sf[rf]=nf);return sf}function createPatchFunction(Qc){var ef,tf,nf={},rf=Qc.modules,sf=Qc.nodeOps;for(ef=0;ef<hooks.length;++ef)for(nf[hooks[ef]]=[],tf=0;tf<rf.length;++tf)isDef(rf[tf][hooks[ef]])&&nf[hooks[ef]].push(rf[tf][hooks[ef]]);function af(sh){return new VNode(sf.tagName(sh).toLowerCase(),{},[],void 0,sh)}function lf(sh,Hf){function Qf(){--Qf.listeners===0&&cf(sh)}return Qf.listeners=Hf,Qf}function cf(sh){var Hf=sf.parentNode(sh);isDef(Hf)&&sf.removeChild(Hf,sh)}function uf(sh,Hf,Qf,ah,mh,uh,jf){if(isDef(sh.elm)&&isDef(uh)&&(sh=uh[jf]=cloneVNode(sh)),sh.isRootInsert=!mh,!ff(sh,Hf,Qf,ah)){var Kf=sh.data,of=sh.children,hf=sh.tag;isDef(hf)?(sh.elm=sh.ns?sf.createElementNS(sh.ns,hf):sf.createElement(hf,sh),Of(sh),xf(sh,of,Hf),isDef(Kf)&&Df(sh,Hf),_f(Qf,sh.elm,ah)):isTrue(sh.isComment)?(sh.elm=sf.createComment(sh.text),_f(Qf,sh.elm,ah)):(sh.elm=sf.createTextNode(sh.text),_f(Qf,sh.elm,ah))}}function ff(sh,Hf,Qf,ah){var mh=sh.data;if(isDef(mh)){var uh=isDef(sh.componentInstance)&&mh.keepAlive;if(isDef(mh=mh.hook)&&isDef(mh=mh.init)&&mh(sh,!1),isDef(sh.componentInstance))return df(sh,Hf),_f(Qf,sh.elm,ah),isTrue(uh)&&gf(sh,Hf,Qf,ah),!0}}function df(sh,Hf){isDef(sh.data.pendingInsert)&&(Hf.push.apply(Hf,sh.data.pendingInsert),sh.data.pendingInsert=null),sh.elm=sh.componentInstance.$el,Af(sh)?(Df(sh,Hf),Of(sh)):(registerRef(sh),Hf.push(sh))}function gf(sh,Hf,Qf,ah){for(var mh,uh=sh;uh.componentInstance;)if(uh=uh.componentInstance._vnode,isDef(mh=uh.data)&&isDef(mh=mh.transition)){for(mh=0;mh<nf.activate.length;++mh)nf.activate[mh](emptyNode,uh);Hf.push(uh);break}_f(Qf,sh.elm,ah)}function _f(sh,Hf,Qf){isDef(sh)&&(isDef(Qf)?sf.parentNode(Qf)===sh&&sf.insertBefore(sh,Hf,Qf):sf.appendChild(sh,Hf))}function xf(sh,Hf,Qf){if(isArray(Hf))for(var ah=0;ah<Hf.length;++ah)uf(Hf[ah],Qf,sh.elm,null,!0,Hf,ah);else isPrimitive(sh.text)&&sf.appendChild(sh.elm,sf.createTextNode(String(sh.text)))}function Af(sh){for(;sh.componentInstance;)sh=sh.componentInstance._vnode;return isDef(sh.tag)}function Df(sh,Hf){for(var Qf=0;Qf<nf.create.length;++Qf)nf.create[Qf](emptyNode,sh);ef=sh.data.hook,isDef(ef)&&(isDef(ef.create)&&ef.create(emptyNode,sh),isDef(ef.insert)&&Hf.push(sh))}function Of(sh){var Hf;if(isDef(Hf=sh.fnScopeId))sf.setStyleScope(sh.elm,Hf);else for(var Qf=sh;Qf;)isDef(Hf=Qf.context)&&isDef(Hf=Hf.$options._scopeId)&&sf.setStyleScope(sh.elm,Hf),Qf=Qf.parent;isDef(Hf=activeInstance)&&Hf!==sh.context&&Hf!==sh.fnContext&&isDef(Hf=Hf.$options._scopeId)&&sf.setStyleScope(sh.elm,Hf)}function Gf(sh,Hf,Qf,ah,mh,uh){for(;ah<=mh;++ah)uf(Qf[ah],uh,sh,Hf,!1,Qf,ah)}function Bf(sh){var Hf,Qf,ah=sh.data;if(isDef(ah))for(isDef(Hf=ah.hook)&&isDef(Hf=Hf.destroy)&&Hf(sh),Hf=0;Hf<nf.destroy.length;++Hf)nf.destroy[Hf](sh);if(isDef(Hf=sh.children))for(Qf=0;Qf<sh.children.length;++Qf)Bf(sh.children[Qf])}function Vf(sh,Hf,Qf){for(;Hf<=Qf;++Hf){var ah=sh[Hf];isDef(ah)&&(isDef(ah.tag)?(Lf(ah),Bf(ah)):cf(ah.elm))}}function Lf(sh,Hf){if(isDef(Hf)||isDef(sh.data)){var Qf,ah=nf.remove.length+1;for(isDef(Hf)?Hf.listeners+=ah:Hf=lf(sh.elm,ah),isDef(Qf=sh.componentInstance)&&isDef(Qf=Qf._vnode)&&isDef(Qf.data)&&Lf(Qf,Hf),Qf=0;Qf<nf.remove.length;++Qf)nf.remove[Qf](sh,Hf);isDef(Qf=sh.data.hook)&&isDef(Qf=Qf.remove)?Qf(sh,Hf):Hf()}else cf(sh.elm)}function Cf(sh,Hf,Qf,ah,mh){for(var uh=0,jf=0,Kf=Hf.length-1,of=Hf[0],hf=Hf[Kf],pf=Qf.length-1,vf=Qf[0],Ef=Qf[pf],Sf,Ff,Uf,Wf,eh=!mh;uh<=Kf&&jf<=pf;)isUndef(of)?of=Hf[++uh]:isUndef(hf)?hf=Hf[--Kf]:sameVnode(of,vf)?(Yf(of,vf,ah,Qf,jf),of=Hf[++uh],vf=Qf[++jf]):sameVnode(hf,Ef)?(Yf(hf,Ef,ah,Qf,pf),hf=Hf[--Kf],Ef=Qf[--pf]):sameVnode(of,Ef)?(Yf(of,Ef,ah,Qf,pf),eh&&sf.insertBefore(sh,of.elm,sf.nextSibling(hf.elm)),of=Hf[++uh],Ef=Qf[--pf]):sameVnode(hf,vf)?(Yf(hf,vf,ah,Qf,jf),eh&&sf.insertBefore(sh,hf.elm,of.elm),hf=Hf[--Kf],vf=Qf[++jf]):(isUndef(Sf)&&(Sf=createKeyToOldIdx(Hf,uh,Kf)),Ff=isDef(vf.key)?Sf[vf.key]:Tf(vf,Hf,uh,Kf),isUndef(Ff)?uf(vf,ah,sh,of.elm,!1,Qf,jf):(Uf=Hf[Ff],sameVnode(Uf,vf)?(Yf(Uf,vf,ah,Qf,jf),Hf[Ff]=void 0,eh&&sf.insertBefore(sh,Uf.elm,of.elm)):uf(vf,ah,sh,of.elm,!1,Qf,jf)),vf=Qf[++jf]);uh>Kf?(Wf=isUndef(Qf[pf+1])?null:Qf[pf+1].elm,Gf(sh,Wf,Qf,jf,pf,ah)):jf>pf&&Vf(Hf,uh,Kf)}function Tf(sh,Hf,Qf,ah){for(var mh=Qf;mh<ah;mh++){var uh=Hf[mh];if(isDef(uh)&&sameVnode(sh,uh))return mh}}function Yf(sh,Hf,Qf,ah,mh,uh){if(sh!==Hf){isDef(Hf.elm)&&isDef(ah)&&(Hf=ah[mh]=cloneVNode(Hf));var jf=Hf.elm=sh.elm;if(isTrue(sh.isAsyncPlaceholder)){isDef(Hf.asyncFactory.resolved)?hh(sh.elm,Hf,Qf):Hf.isAsyncPlaceholder=!0;return}if(isTrue(Hf.isStatic)&&isTrue(sh.isStatic)&&Hf.key===sh.key&&(isTrue(Hf.isCloned)||isTrue(Hf.isOnce))){Hf.componentInstance=sh.componentInstance;return}var Kf,of=Hf.data;isDef(of)&&isDef(Kf=of.hook)&&isDef(Kf=Kf.prepatch)&&Kf(sh,Hf);var hf=sh.children,pf=Hf.children;if(isDef(of)&&Af(Hf)){for(Kf=0;Kf<nf.update.length;++Kf)nf.update[Kf](sh,Hf);isDef(Kf=of.hook)&&isDef(Kf=Kf.update)&&Kf(sh,Hf)}isUndef(Hf.text)?isDef(hf)&&isDef(pf)?hf!==pf&&Cf(jf,hf,pf,Qf,uh):isDef(pf)?(isDef(sh.text)&&sf.setTextContent(jf,""),Gf(jf,null,pf,0,pf.length-1,Qf)):isDef(hf)?Vf(hf,0,hf.length-1):isDef(sh.text)&&sf.setTextContent(jf,""):sh.text!==Hf.text&&sf.setTextContent(jf,Hf.text),isDef(of)&&isDef(Kf=of.hook)&&isDef(Kf=Kf.postpatch)&&Kf(sh,Hf)}}function rh(sh,Hf,Qf){if(isTrue(Qf)&&isDef(sh.parent))sh.parent.data.pendingInsert=Hf;else for(var ah=0;ah<Hf.length;++ah)Hf[ah].data.hook.insert(Hf[ah])}var dh=makeMap("attrs,class,staticClass,staticStyle,key");function hh(sh,Hf,Qf,ah){var mh,uh=Hf.tag,jf=Hf.data,Kf=Hf.children;if(ah=ah||jf&&jf.pre,Hf.elm=sh,isTrue(Hf.isComment)&&isDef(Hf.asyncFactory))return Hf.isAsyncPlaceholder=!0,!0;if(isDef(jf)&&(isDef(mh=jf.hook)&&isDef(mh=mh.init)&&mh(Hf,!0),isDef(mh=Hf.componentInstance)))return df(Hf,Qf),!0;if(isDef(uh)){if(isDef(Kf))if(!sh.hasChildNodes())xf(Hf,Kf,Qf);else if(isDef(mh=jf)&&isDef(mh=mh.domProps)&&isDef(mh=mh.innerHTML)){if(mh!==sh.innerHTML)return!1}else{for(var of=!0,hf=sh.firstChild,pf=0;pf<Kf.length;pf++){if(!hf||!hh(hf,Kf[pf],Qf,ah)){of=!1;break}hf=hf.nextSibling}if(!of||hf)return!1}if(isDef(jf)){var vf=!1;for(var Ef in jf)if(!dh(Ef)){vf=!0,Df(Hf,Qf);break}!vf&&jf.class&&traverse(jf.class)}}else sh.data!==Hf.text&&(sh.data=Hf.text);return!0}return function(Hf,Qf,ah,mh){if(isUndef(Qf)){isDef(Hf)&&Bf(Hf);return}var uh=!1,jf=[];if(isUndef(Hf))uh=!0,uf(Qf,jf);else{var Kf=isDef(Hf.nodeType);if(!Kf&&sameVnode(Hf,Qf))Yf(Hf,Qf,jf,null,null,mh);else{if(Kf){if(Hf.nodeType===1&&Hf.hasAttribute(SSR_ATTR)&&(Hf.removeAttribute(SSR_ATTR),ah=!0),isTrue(ah)&&hh(Hf,Qf,jf))return rh(Qf,jf,!0),Hf;Hf=af(Hf)}var of=Hf.elm,hf=sf.parentNode(of);if(uf(Qf,jf,of._leaveCb?null:hf,sf.nextSibling(of)),isDef(Qf.parent))for(var pf=Qf.parent,vf=Af(Qf);pf;){for(var Ef=0;Ef<nf.destroy.length;++Ef)nf.destroy[Ef](pf);if(pf.elm=Qf.elm,vf){for(var Sf=0;Sf<nf.create.length;++Sf)nf.create[Sf](emptyNode,pf);var Ff=pf.data.hook.insert;if(Ff.merged)for(var Uf=1;Uf<Ff.fns.length;Uf++)Ff.fns[Uf]()}else registerRef(pf);pf=pf.parent}isDef(hf)?Vf([Hf],0,0):isDef(Hf.tag)&&Bf(Hf)}}return rh(Qf,jf,uh),Qf.elm}}var directives$1={create:updateDirectives,update:updateDirectives,destroy:function Qc(ef){updateDirectives(ef,emptyNode)}};function updateDirectives(Qc,ef){(Qc.data.directives||ef.data.directives)&&_update(Qc,ef)}function _update(Qc,ef){var tf=Qc===emptyNode,nf=ef===emptyNode,rf=normalizeDirectives(Qc.data.directives,Qc.context),sf=normalizeDirectives(ef.data.directives,ef.context),af=[],lf=[],cf,uf,ff;for(cf in sf)uf=rf[cf],ff=sf[cf],uf?(ff.oldValue=uf.value,ff.oldArg=uf.arg,callHook(ff,"update",ef,Qc),ff.def&&ff.def.componentUpdated&&lf.push(ff)):(callHook(ff,"bind",ef,Qc),ff.def&&ff.def.inserted&&af.push(ff));if(af.length){var df=function(){for(var gf=0;gf<af.length;gf++)callHook(af[gf],"inserted",ef,Qc)};tf?mergeVNodeHook(ef,"insert",df):df()}if(lf.length&&mergeVNodeHook(ef,"postpatch",function(){for(var gf=0;gf<lf.length;gf++)callHook(lf[gf],"componentUpdated",ef,Qc)}),!tf)for(cf in rf)sf[cf]||callHook(rf[cf],"unbind",Qc,Qc,nf)}var emptyModifiers=Object.create(null);function normalizeDirectives(Qc,ef){var tf=Object.create(null);if(!Qc)return tf;var nf,rf;for(nf=0;nf<Qc.length;nf++){if(rf=Qc[nf],rf.modifiers||(rf.modifiers=emptyModifiers),tf[getRawDirName(rf)]=rf,ef._setupState&&ef._setupState.__sfc){var sf=rf.def||resolveAsset(ef,"_setupState","v-"+rf.name);typeof sf=="function"?rf.def={bind:sf,update:sf}:rf.def=sf}rf.def=rf.def||resolveAsset(ef.$options,"directives",rf.name)}return tf}function getRawDirName(Qc){return Qc.rawName||"".concat(Qc.name,".").concat(Object.keys(Qc.modifiers||{}).join("."))}function callHook(Qc,ef,tf,nf,rf){var sf=Qc.def&&Qc.def[ef];if(sf)try{sf(tf.elm,Qc,tf,nf,rf)}catch(af){handleError(af,tf.context,"directive ".concat(Qc.name," ").concat(ef," hook"))}}var baseModules=[ref,directives$1];function updateAttrs(Qc,ef){var tf=ef.componentOptions;if(!(isDef(tf)&&tf.Ctor.options.inheritAttrs===!1)&&!(isUndef(Qc.data.attrs)&&isUndef(ef.data.attrs))){var nf,rf,sf,af=ef.elm,lf=Qc.data.attrs||{},cf=ef.data.attrs||{};(isDef(cf.__ob__)||isTrue(cf._v_attr_proxy))&&(cf=ef.data.attrs=extend$1({},cf));for(nf in cf)rf=cf[nf],sf=lf[nf],sf!==rf&&setAttr(af,nf,rf,ef.data.pre);(isIE||isEdge)&&cf.value!==lf.value&&setAttr(af,"value",cf.value);for(nf in lf)isUndef(cf[nf])&&(isXlink(nf)?af.removeAttributeNS(xlinkNS,getXlinkProp(nf)):isEnumeratedAttr(nf)||af.removeAttribute(nf))}}function setAttr(Qc,ef,tf,nf){nf||Qc.tagName.indexOf("-")>-1?baseSetAttr(Qc,ef,tf):isBooleanAttr(ef)?isFalsyAttrValue(tf)?Qc.removeAttribute(ef):(tf=ef==="allowfullscreen"&&Qc.tagName==="EMBED"?"true":ef,Qc.setAttribute(ef,tf)):isEnumeratedAttr(ef)?Qc.setAttribute(ef,convertEnumeratedValue(ef,tf)):isXlink(ef)?isFalsyAttrValue(tf)?Qc.removeAttributeNS(xlinkNS,getXlinkProp(ef)):Qc.setAttributeNS(xlinkNS,ef,tf):baseSetAttr(Qc,ef,tf)}function baseSetAttr(Qc,ef,tf){if(isFalsyAttrValue(tf))Qc.removeAttribute(ef);else{if(isIE&&!isIE9&&Qc.tagName==="TEXTAREA"&&ef==="placeholder"&&tf!==""&&!Qc.__ieph){var nf=function(rf){rf.stopImmediatePropagation(),Qc.removeEventListener("input",nf)};Qc.addEventListener("input",nf),Qc.__ieph=!0}Qc.setAttribute(ef,tf)}}var attrs={create:updateAttrs,update:updateAttrs};function updateClass(Qc,ef){var tf=ef.elm,nf=ef.data,rf=Qc.data;if(!(isUndef(nf.staticClass)&&isUndef(nf.class)&&(isUndef(rf)||isUndef(rf.staticClass)&&isUndef(rf.class)))){var sf=genClassForVnode(ef),af=tf._transitionClasses;isDef(af)&&(sf=concat(sf,stringifyClass(af))),sf!==tf._prevClass&&(tf.setAttribute("class",sf),tf._prevClass=sf)}}var klass$1={create:updateClass,update:updateClass},validDivisionCharRE=/[\w).+\-_$\]]/;function parseFilters(Qc){var ef=!1,tf=!1,nf=!1,rf=!1,sf=0,af=0,lf=0,cf=0,uf,ff,df,gf,_f;for(df=0;df<Qc.length;df++)if(ff=uf,uf=Qc.charCodeAt(df),ef)uf===39&&ff!==92&&(ef=!1);else if(tf)uf===34&&ff!==92&&(tf=!1);else if(nf)uf===96&&ff!==92&&(nf=!1);else if(rf)uf===47&&ff!==92&&(rf=!1);else if(uf===124&&Qc.charCodeAt(df+1)!==124&&Qc.charCodeAt(df-1)!==124&&!sf&&!af&&!lf)gf===void 0?(cf=df+1,gf=Qc.slice(0,df).trim()):Df();else{switch(uf){case 34:tf=!0;break;case 39:ef=!0;break;case 96:nf=!0;break;case 40:lf++;break;case 41:lf--;break;case 91:af++;break;case 93:af--;break;case 123:sf++;break;case 125:sf--;break}if(uf===47){for(var xf=df-1,Af=void 0;xf>=0&&(Af=Qc.charAt(xf),Af===" ");xf--);(!Af||!validDivisionCharRE.test(Af))&&(rf=!0)}}gf===void 0?gf=Qc.slice(0,df).trim():cf!==0&&Df();function Df(){(_f||(_f=[])).push(Qc.slice(cf,df).trim()),cf=df+1}if(_f)for(df=0;df<_f.length;df++)gf=wrapFilter(gf,_f[df]);return gf}function wrapFilter(Qc,ef){var tf=ef.indexOf("(");if(tf<0)return'_f("'.concat(ef,'")(').concat(Qc,")");var nf=ef.slice(0,tf),rf=ef.slice(tf+1);return'_f("'.concat(nf,'")(').concat(Qc).concat(rf!==")"?","+rf:rf)}function baseWarn(Qc,ef){console.error("[Vue compiler]: ".concat(Qc))}function pluckModuleFunction(Qc,ef){return Qc?Qc.map(function(tf){return tf[ef]}).filter(function(tf){return tf}):[]}function addProp(Qc,ef,tf,nf,rf){(Qc.props||(Qc.props=[])).push(rangeSetItem({name:ef,value:tf,dynamic:rf},nf)),Qc.plain=!1}function addAttr(Qc,ef,tf,nf,rf){var sf=rf?Qc.dynamicAttrs||(Qc.dynamicAttrs=[]):Qc.attrs||(Qc.attrs=[]);sf.push(rangeSetItem({name:ef,value:tf,dynamic:rf},nf)),Qc.plain=!1}function addRawAttr(Qc,ef,tf,nf){Qc.attrsMap[ef]=tf,Qc.attrsList.push(rangeSetItem({name:ef,value:tf},nf))}function addDirective(Qc,ef,tf,nf,rf,sf,af,lf){(Qc.directives||(Qc.directives=[])).push(rangeSetItem({name:ef,rawName:tf,value:nf,arg:rf,isDynamicArg:sf,modifiers:af},lf)),Qc.plain=!1}function prependModifierMarker(Qc,ef,tf){return tf?"_p(".concat(ef,',"').concat(Qc,'")'):Qc+ef}function addHandler(Qc,ef,tf,nf,rf,sf,af,lf){nf=nf||emptyObject,nf.right?lf?ef="(".concat(ef,")==='click'?'contextmenu':(").concat(ef,")"):ef==="click"&&(ef="contextmenu",delete nf.right):nf.middle&&(lf?ef="(".concat(ef,")==='click'?'mouseup':(").concat(ef,")"):ef==="click"&&(ef="mouseup")),nf.capture&&(delete nf.capture,ef=prependModifierMarker("!",ef,lf)),nf.once&&(delete nf.once,ef=prependModifierMarker("~",ef,lf)),nf.passive&&(delete nf.passive,ef=prependModifierMarker("&",ef,lf));var cf;nf.native?(delete nf.native,cf=Qc.nativeEvents||(Qc.nativeEvents={})):cf=Qc.events||(Qc.events={});var uf=rangeSetItem({value:tf.trim(),dynamic:lf},af);nf!==emptyObject&&(uf.modifiers=nf);var ff=cf[ef];Array.isArray(ff)?rf?ff.unshift(uf):ff.push(uf):ff?cf[ef]=rf?[uf,ff]:[ff,uf]:cf[ef]=uf,Qc.plain=!1}function getRawBindingAttr(Qc,ef){return Qc.rawAttrsMap[":"+ef]||Qc.rawAttrsMap["v-bind:"+ef]||Qc.rawAttrsMap[ef]}function getBindingAttr(Qc,ef,tf){var nf=getAndRemoveAttr(Qc,":"+ef)||getAndRemoveAttr(Qc,"v-bind:"+ef);if(nf!=null)return parseFilters(nf);if(tf!==!1){var rf=getAndRemoveAttr(Qc,ef);if(rf!=null)return JSON.stringify(rf)}}function getAndRemoveAttr(Qc,ef,tf){var nf;if((nf=Qc.attrsMap[ef])!=null){for(var rf=Qc.attrsList,sf=0,af=rf.length;sf<af;sf++)if(rf[sf].name===ef){rf.splice(sf,1);break}}return tf&&delete Qc.attrsMap[ef],nf}function getAndRemoveAttrByRegex(Qc,ef){for(var tf=Qc.attrsList,nf=0,rf=tf.length;nf<rf;nf++){var sf=tf[nf];if(ef.test(sf.name))return tf.splice(nf,1),sf}}function rangeSetItem(Qc,ef){return ef&&(ef.start!=null&&(Qc.start=ef.start),ef.end!=null&&(Qc.end=ef.end)),Qc}function genComponentModel(Qc,ef,tf){var nf=tf||{},rf=nf.number,sf=nf.trim,af="$$v",lf=af;sf&&(lf="(typeof ".concat(af," === 'string'")+"? ".concat(af,".trim()")+": ".concat(af,")")),rf&&(lf="_n(".concat(lf,")"));var cf=genAssignmentCode(ef,lf);Qc.model={value:"(".concat(ef,")"),expression:JSON.stringify(ef),callback:"function (".concat(af,") {").concat(cf,"}")}}function genAssignmentCode(Qc,ef){var tf=parseModel(Qc);return tf.key===null?"".concat(Qc,"=").concat(ef):"$set(".concat(tf.exp,", ").concat(tf.key,", ").concat(ef,")")}var len,str,chr,index,expressionPos,expressionEndPos;function parseModel(Qc){if(Qc=Qc.trim(),len=Qc.length,Qc.indexOf("[")<0||Qc.lastIndexOf("]")<len-1)return index=Qc.lastIndexOf("."),index>-1?{exp:Qc.slice(0,index),key:'"'+Qc.slice(index+1)+'"'}:{exp:Qc,key:null};for(str=Qc,index=expressionPos=expressionEndPos=0;!eof();)chr=next(),isStringStart(chr)?parseString(chr):chr===91&&parseBracket(chr);return{exp:Qc.slice(0,expressionPos),key:Qc.slice(expressionPos+1,expressionEndPos)}}function next(){return str.charCodeAt(++index)}function eof(){return index>=len}function isStringStart(Qc){return Qc===34||Qc===39}function parseBracket(Qc){var ef=1;for(expressionPos=index;!eof();){if(Qc=next(),isStringStart(Qc)){parseString(Qc);continue}if(Qc===91&&ef++,Qc===93&&ef--,ef===0){expressionEndPos=index;break}}}function parseString(Qc){for(var ef=Qc;!eof()&&(Qc=next(),Qc!==ef););}var RANGE_TOKEN="__r",CHECKBOX_RADIO_TOKEN="__c";function model$1(Qc,ef,tf){var nf=ef.value,rf=ef.modifiers,sf=Qc.tag,af=Qc.attrsMap.type;if(Qc.component)return genComponentModel(Qc,nf,rf),!1;if(sf==="select")genSelect(Qc,nf,rf);else if(sf==="input"&&af==="checkbox")genCheckboxModel(Qc,nf,rf);else if(sf==="input"&&af==="radio")genRadioModel(Qc,nf,rf);else if(sf==="input"||sf==="textarea")genDefaultModel(Qc,nf,rf);else if(!config.isReservedTag(sf))return genComponentModel(Qc,nf,rf),!1;return!0}function genCheckboxModel(Qc,ef,tf){var nf=tf&&tf.number,rf=getBindingAttr(Qc,"value")||"null",sf=getBindingAttr(Qc,"true-value")||"true",af=getBindingAttr(Qc,"false-value")||"false";addProp(Qc,"checked","Array.isArray(".concat(ef,")")+"?_i(".concat(ef,",").concat(rf,")>-1")+(sf==="true"?":(".concat(ef,")"):":_q(".concat(ef,",").concat(sf,")"))),addHandler(Qc,"change","var $$a=".concat(ef,",")+"$$el=$event.target,"+"$$c=$$el.checked?(".concat(sf,"):(").concat(af,");")+"if(Array.isArray($$a)){"+"var $$v=".concat(nf?"_n("+rf+")":rf,",")+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&(".concat(genAssignmentCode(ef,"$$a.concat([$$v])"),")}")+"else{$$i>-1&&(".concat(genAssignmentCode(ef,"$$a.slice(0,$$i).concat($$a.slice($$i+1))"),")}")+"}else{".concat(genAssignmentCode(ef,"$$c"),"}"),null,!0)}function genRadioModel(Qc,ef,tf){var nf=tf&&tf.number,rf=getBindingAttr(Qc,"value")||"null";rf=nf?"_n(".concat(rf,")"):rf,addProp(Qc,"checked","_q(".concat(ef,",").concat(rf,")")),addHandler(Qc,"change",genAssignmentCode(ef,rf),null,!0)}function genSelect(Qc,ef,tf){var nf=tf&&tf.number,rf='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;'+"return ".concat(nf?"_n(val)":"val","})"),sf="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",af="var $$selectedVal = ".concat(rf,";");af="".concat(af," ").concat(genAssignmentCode(ef,sf)),addHandler(Qc,"change",af,null,!0)}function genDefaultModel(Qc,ef,tf){var nf=Qc.attrsMap.type,rf=tf||{},sf=rf.lazy,af=rf.number,lf=rf.trim,cf=!sf&&nf!=="range",uf=sf?"change":nf==="range"?RANGE_TOKEN:"input",ff="$event.target.value";lf&&(ff="$event.target.value.trim()"),af&&(ff="_n(".concat(ff,")"));var df=genAssignmentCode(ef,ff);cf&&(df="if($event.target.composing)return;".concat(df)),addProp(Qc,"value","(".concat(ef,")")),addHandler(Qc,uf,df,null,!0),(lf||af)&&addHandler(Qc,"blur","$forceUpdate()")}function normalizeEvents(Qc){if(isDef(Qc[RANGE_TOKEN])){var ef=isIE?"change":"input";Qc[ef]=[].concat(Qc[RANGE_TOKEN],Qc[ef]||[]),delete Qc[RANGE_TOKEN]}isDef(Qc[CHECKBOX_RADIO_TOKEN])&&(Qc.change=[].concat(Qc[CHECKBOX_RADIO_TOKEN],Qc.change||[]),delete Qc[CHECKBOX_RADIO_TOKEN])}var target;function createOnceHandler(Qc,ef,tf){var nf=target;return function rf(){var sf=ef.apply(null,arguments);sf!==null&&remove$3(Qc,rf,tf,nf)}}var useMicrotaskFix=isUsingMicroTask&&!(isFF&&Number(isFF[1])<=53);function add(Qc,ef,tf,nf){if(useMicrotaskFix){var rf=currentFlushTimestamp,sf=ef;ef=sf._wrapper=function(af){if(af.target===af.currentTarget||af.timeStamp>=rf||af.timeStamp<=0||af.target.ownerDocument!==document)return sf.apply(this,arguments)}}target.addEventListener(Qc,ef,supportsPassive?{capture:tf,passive:nf}:tf)}function remove$3(Qc,ef,tf,nf){(nf||target).removeEventListener(Qc,ef._wrapper||ef,tf)}function updateDOMListeners(Qc,ef){if(!(isUndef(Qc.data.on)&&isUndef(ef.data.on))){var tf=ef.data.on||{},nf=Qc.data.on||{};target=ef.elm||Qc.elm,normalizeEvents(tf),updateListeners(tf,nf,add,remove$3,createOnceHandler,ef.context),target=void 0}}var events={create:updateDOMListeners,update:updateDOMListeners,destroy:function(Qc){return updateDOMListeners(Qc,emptyNode)}},svgContainer;function updateDOMProps(Qc,ef){if(!(isUndef(Qc.data.domProps)&&isUndef(ef.data.domProps))){var tf,nf,rf=ef.elm,sf=Qc.data.domProps||{},af=ef.data.domProps||{};(isDef(af.__ob__)||isTrue(af._v_attr_proxy))&&(af=ef.data.domProps=extend$1({},af));for(tf in sf)tf in af||(rf[tf]="");for(tf in af){if(nf=af[tf],tf==="textContent"||tf==="innerHTML"){if(ef.children&&(ef.children.length=0),nf===sf[tf])continue;rf.childNodes.length===1&&rf.removeChild(rf.childNodes[0])}if(tf==="value"&&rf.tagName!=="PROGRESS"){rf._value=nf;var lf=isUndef(nf)?"":String(nf);shouldUpdateValue(rf,lf)&&(rf.value=lf)}else if(tf==="innerHTML"&&isSVG(rf.tagName)&&isUndef(rf.innerHTML)){svgContainer=svgContainer||document.createElement("div"),svgContainer.innerHTML="<svg>".concat(nf,"</svg>");for(var cf=svgContainer.firstChild;rf.firstChild;)rf.removeChild(rf.firstChild);for(;cf.firstChild;)rf.appendChild(cf.firstChild)}else if(nf!==sf[tf])try{rf[tf]=nf}catch{}}}}function shouldUpdateValue(Qc,ef){return!Qc.composing&&(Qc.tagName==="OPTION"||isNotInFocusAndDirty(Qc,ef)||isDirtyWithModifiers(Qc,ef))}function isNotInFocusAndDirty(Qc,ef){var tf=!0;try{tf=document.activeElement!==Qc}catch{}return tf&&Qc.value!==ef}function isDirtyWithModifiers(Qc,ef){var tf=Qc.value,nf=Qc._vModifiers;if(isDef(nf)){if(nf.number)return toNumber$1(tf)!==toNumber$1(ef);if(nf.trim)return tf.trim()!==ef.trim()}return tf!==ef}var domProps={create:updateDOMProps,update:updateDOMProps},parseStyleText=cached(function(Qc){var ef={},tf=/;(?![^(]*\))/g,nf=/:(.+)/;return Qc.split(tf).forEach(function(rf){if(rf){var sf=rf.split(nf);sf.length>1&&(ef[sf[0].trim()]=sf[1].trim())}}),ef});function normalizeStyleData(Qc){var ef=normalizeStyleBinding(Qc.style);return Qc.staticStyle?extend$1(Qc.staticStyle,ef):ef}function normalizeStyleBinding(Qc){return Array.isArray(Qc)?toObject(Qc):typeof Qc=="string"?parseStyleText(Qc):Qc}function getStyle(Qc,ef){var tf={},nf;if(ef)for(var rf=Qc;rf.componentInstance;)rf=rf.componentInstance._vnode,rf&&rf.data&&(nf=normalizeStyleData(rf.data))&&extend$1(tf,nf);(nf=normalizeStyleData(Qc.data))&&extend$1(tf,nf);for(var sf=Qc;sf=sf.parent;)sf.data&&(nf=normalizeStyleData(sf.data))&&extend$1(tf,nf);return tf}var cssVarRE=/^--/,importantRE=/\s*!important$/,setProp=function(Qc,ef,tf){if(cssVarRE.test(ef))Qc.style.setProperty(ef,tf);else if(importantRE.test(tf))Qc.style.setProperty(hyphenate(ef),tf.replace(importantRE,""),"important");else{var nf=normalize(ef);if(Array.isArray(tf))for(var rf=0,sf=tf.length;rf<sf;rf++)Qc.style[nf]=tf[rf];else Qc.style[nf]=tf}},vendorNames=["Webkit","Moz","ms"],emptyStyle,normalize=cached(function(Qc){if(emptyStyle=emptyStyle||document.createElement("div").style,Qc=camelize(Qc),Qc!=="filter"&&Qc in emptyStyle)return Qc;for(var ef=Qc.charAt(0).toUpperCase()+Qc.slice(1),tf=0;tf<vendorNames.length;tf++){var nf=vendorNames[tf]+ef;if(nf in emptyStyle)return nf}});function updateStyle(Qc,ef){var tf=ef.data,nf=Qc.data;if(!(isUndef(tf.staticStyle)&&isUndef(tf.style)&&isUndef(nf.staticStyle)&&isUndef(nf.style))){var rf,sf,af=ef.elm,lf=nf.staticStyle,cf=nf.normalizedStyle||nf.style||{},uf=lf||cf,ff=normalizeStyleBinding(ef.data.style)||{};ef.data.normalizedStyle=isDef(ff.__ob__)?extend$1({},ff):ff;var df=getStyle(ef,!0);for(sf in uf)isUndef(df[sf])&&setProp(af,sf,"");for(sf in df)rf=df[sf],rf!==uf[sf]&&setProp(af,sf,rf??"")}}var style$1={create:updateStyle,update:updateStyle},whitespaceRE$1=/\s+/;function addClass(Qc,ef){if(!(!ef||!(ef=ef.trim())))if(Qc.classList)ef.indexOf(" ")>-1?ef.split(whitespaceRE$1).forEach(function(nf){return Qc.classList.add(nf)}):Qc.classList.add(ef);else{var tf=" ".concat(Qc.getAttribute("class")||""," ");tf.indexOf(" "+ef+" ")<0&&Qc.setAttribute("class",(tf+ef).trim())}}function removeClass(Qc,ef){if(!(!ef||!(ef=ef.trim())))if(Qc.classList)ef.indexOf(" ")>-1?ef.split(whitespaceRE$1).forEach(function(rf){return Qc.classList.remove(rf)}):Qc.classList.remove(ef),Qc.classList.length||Qc.removeAttribute("class");else{for(var tf=" ".concat(Qc.getAttribute("class")||""," "),nf=" "+ef+" ";tf.indexOf(nf)>=0;)tf=tf.replace(nf," ");tf=tf.trim(),tf?Qc.setAttribute("class",tf):Qc.removeAttribute("class")}}function resolveTransition(Qc){if(Qc){if(typeof Qc=="object"){var ef={};return Qc.css!==!1&&extend$1(ef,autoCssTransition(Qc.name||"v")),extend$1(ef,Qc),ef}else if(typeof Qc=="string")return autoCssTransition(Qc)}}var autoCssTransition=cached(function(Qc){return{enterClass:"".concat(Qc,"-enter"),enterToClass:"".concat(Qc,"-enter-to"),enterActiveClass:"".concat(Qc,"-enter-active"),leaveClass:"".concat(Qc,"-leave"),leaveToClass:"".concat(Qc,"-leave-to"),leaveActiveClass:"".concat(Qc,"-leave-active")}}),hasTransition=inBrowser&&!isIE9,TRANSITION="transition",ANIMATION="animation",transitionProp="transition",transitionEndEvent="transitionend",animationProp="animation",animationEndEvent="animationend";hasTransition&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(transitionProp="WebkitTransition",transitionEndEvent="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(animationProp="WebkitAnimation",animationEndEvent="webkitAnimationEnd"));var raf=inBrowser?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(Qc){return Qc()};function nextFrame(Qc){raf(function(){raf(Qc)})}function addTransitionClass(Qc,ef){var tf=Qc._transitionClasses||(Qc._transitionClasses=[]);tf.indexOf(ef)<0&&(tf.push(ef),addClass(Qc,ef))}function removeTransitionClass(Qc,ef){Qc._transitionClasses&&remove$2(Qc._transitionClasses,ef),removeClass(Qc,ef)}function whenTransitionEnds(Qc,ef,tf){var nf=getTransitionInfo(Qc,ef),rf=nf.type,sf=nf.timeout,af=nf.propCount;if(!rf)return tf();var lf=rf===TRANSITION?transitionEndEvent:animationEndEvent,cf=0,uf=function(){Qc.removeEventListener(lf,ff),tf()},ff=function(df){df.target===Qc&&++cf>=af&&uf()};setTimeout(function(){cf<af&&uf()},sf+1),Qc.addEventListener(lf,ff)}var transformRE=/\b(transform|all)(,|$)/;function getTransitionInfo(Qc,ef){var tf=window.getComputedStyle(Qc),nf=(tf[transitionProp+"Delay"]||"").split(", "),rf=(tf[transitionProp+"Duration"]||"").split(", "),sf=getTimeout(nf,rf),af=(tf[animationProp+"Delay"]||"").split(", "),lf=(tf[animationProp+"Duration"]||"").split(", "),cf=getTimeout(af,lf),uf,ff=0,df=0;ef===TRANSITION?sf>0&&(uf=TRANSITION,ff=sf,df=rf.length):ef===ANIMATION?cf>0&&(uf=ANIMATION,ff=cf,df=lf.length):(ff=Math.max(sf,cf),uf=ff>0?sf>cf?TRANSITION:ANIMATION:null,df=uf?uf===TRANSITION?rf.length:lf.length:0);var gf=uf===TRANSITION&&transformRE.test(tf[transitionProp+"Property"]);return{type:uf,timeout:ff,propCount:df,hasTransform:gf}}function getTimeout(Qc,ef){for(;Qc.length<ef.length;)Qc=Qc.concat(Qc);return Math.max.apply(null,ef.map(function(tf,nf){return toMs(tf)+toMs(Qc[nf])}))}function toMs(Qc){return Number(Qc.slice(0,-1).replace(",","."))*1e3}function enter(Qc,ef){var tf=Qc.elm;isDef(tf._leaveCb)&&(tf._leaveCb.cancelled=!0,tf._leaveCb());var nf=resolveTransition(Qc.data.transition);if(!isUndef(nf)&&!(isDef(tf._enterCb)||tf.nodeType!==1)){for(var rf=nf.css,sf=nf.type,af=nf.enterClass,lf=nf.enterToClass,cf=nf.enterActiveClass,uf=nf.appearClass,ff=nf.appearToClass,df=nf.appearActiveClass,gf=nf.beforeEnter,_f=nf.enter,xf=nf.afterEnter,Af=nf.enterCancelled,Df=nf.beforeAppear,Of=nf.appear,Gf=nf.afterAppear,Bf=nf.appearCancelled,Vf=nf.duration,Lf=activeInstance,Cf=activeInstance.$vnode;Cf&&Cf.parent;)Lf=Cf.context,Cf=Cf.parent;var Tf=!Lf._isMounted||!Qc.isRootInsert;if(!(Tf&&!Of&&Of!=="")){var Yf=Tf&&uf?uf:af,rh=Tf&&df?df:cf,dh=Tf&&ff?ff:lf,hh=Tf&&Df||gf,sh=Tf&&isFunction(Of)?Of:_f,Hf=Tf&&Gf||xf,Qf=Tf&&Bf||Af,ah=toNumber$1(isObject$1(Vf)?Vf.enter:Vf),mh=rf!==!1&&!isIE9,uh=getHookArgumentsLength(sh),jf=tf._enterCb=once(function(){mh&&(removeTransitionClass(tf,dh),removeTransitionClass(tf,rh)),jf.cancelled?(mh&&removeTransitionClass(tf,Yf),Qf&&Qf(tf)):Hf&&Hf(tf),tf._enterCb=null});Qc.data.show||mergeVNodeHook(Qc,"insert",function(){var Kf=tf.parentNode,of=Kf&&Kf._pending&&Kf._pending[Qc.key];of&&of.tag===Qc.tag&&of.elm._leaveCb&&of.elm._leaveCb(),sh&&sh(tf,jf)}),hh&&hh(tf),mh&&(addTransitionClass(tf,Yf),addTransitionClass(tf,rh),nextFrame(function(){removeTransitionClass(tf,Yf),jf.cancelled||(addTransitionClass(tf,dh),uh||(isValidDuration(ah)?setTimeout(jf,ah):whenTransitionEnds(tf,sf,jf)))})),Qc.data.show&&(ef&&ef(),sh&&sh(tf,jf)),!mh&&!uh&&jf()}}}function leave(Qc,ef){var tf=Qc.elm;isDef(tf._enterCb)&&(tf._enterCb.cancelled=!0,tf._enterCb());var nf=resolveTransition(Qc.data.transition);if(isUndef(nf)||tf.nodeType!==1)return ef();if(isDef(tf._leaveCb))return;var rf=nf.css,sf=nf.type,af=nf.leaveClass,lf=nf.leaveToClass,cf=nf.leaveActiveClass,uf=nf.beforeLeave,ff=nf.leave,df=nf.afterLeave,gf=nf.leaveCancelled,_f=nf.delayLeave,xf=nf.duration,Af=rf!==!1&&!isIE9,Df=getHookArgumentsLength(ff),Of=toNumber$1(isObject$1(xf)?xf.leave:xf),Gf=tf._leaveCb=once(function(){tf.parentNode&&tf.parentNode._pending&&(tf.parentNode._pending[Qc.key]=null),Af&&(removeTransitionClass(tf,lf),removeTransitionClass(tf,cf)),Gf.cancelled?(Af&&removeTransitionClass(tf,af),gf&&gf(tf)):(ef(),df&&df(tf)),tf._leaveCb=null});_f?_f(Bf):Bf();function Bf(){Gf.cancelled||(!Qc.data.show&&tf.parentNode&&((tf.parentNode._pending||(tf.parentNode._pending={}))[Qc.key]=Qc),uf&&uf(tf),Af&&(addTransitionClass(tf,af),addTransitionClass(tf,cf),nextFrame(function(){removeTransitionClass(tf,af),Gf.cancelled||(addTransitionClass(tf,lf),Df||(isValidDuration(Of)?setTimeout(Gf,Of):whenTransitionEnds(tf,sf,Gf)))})),ff&&ff(tf,Gf),!Af&&!Df&&Gf())}}function isValidDuration(Qc){return typeof Qc=="number"&&!isNaN(Qc)}function getHookArgumentsLength(Qc){if(isUndef(Qc))return!1;var ef=Qc.fns;return isDef(ef)?getHookArgumentsLength(Array.isArray(ef)?ef[0]:ef):(Qc._length||Qc.length)>1}function _enter(Qc,ef){ef.data.show!==!0&&enter(ef)}var transition=inBrowser?{create:_enter,activate:_enter,remove:function(Qc,ef){Qc.data.show!==!0?leave(Qc,ef):ef()}}:{},platformModules=[attrs,klass$1,events,domProps,style$1,transition],modules$1=platformModules.concat(baseModules),patch=createPatchFunction({nodeOps,modules:modules$1});isIE9&&document.addEventListener("selectionchange",function(){var Qc=document.activeElement;Qc&&Qc.vmodel&&trigger(Qc,"input")});var directive$1={inserted:function(Qc,ef,tf,nf){tf.tag==="select"?(nf.elm&&!nf.elm._vOptions?mergeVNodeHook(tf,"postpatch",function(){directive$1.componentUpdated(Qc,ef,tf)}):setSelected(Qc,ef,tf.context),Qc._vOptions=[].map.call(Qc.options,getValue)):(tf.tag==="textarea"||isTextInputType(Qc.type))&&(Qc._vModifiers=ef.modifiers,ef.modifiers.lazy||(Qc.addEventListener("compositionstart",onCompositionStart),Qc.addEventListener("compositionend",onCompositionEnd),Qc.addEventListener("change",onCompositionEnd),isIE9&&(Qc.vmodel=!0)))},componentUpdated:function(Qc,ef,tf){if(tf.tag==="select"){setSelected(Qc,ef,tf.context);var nf=Qc._vOptions,rf=Qc._vOptions=[].map.call(Qc.options,getValue);if(rf.some(function(af,lf){return!looseEqual(af,nf[lf])})){var sf=Qc.multiple?ef.value.some(function(af){return hasNoMatchingOption(af,rf)}):ef.value!==ef.oldValue&&hasNoMatchingOption(ef.value,rf);sf&&trigger(Qc,"change")}}}};function setSelected(Qc,ef,tf){actuallySetSelected(Qc,ef),(isIE||isEdge)&&setTimeout(function(){actuallySetSelected(Qc,ef)},0)}function actuallySetSelected(Qc,ef,tf){var nf=ef.value,rf=Qc.multiple;if(!(rf&&!Array.isArray(nf))){for(var sf,af,lf=0,cf=Qc.options.length;lf<cf;lf++)if(af=Qc.options[lf],rf)sf=looseIndexOf(nf,getValue(af))>-1,af.selected!==sf&&(af.selected=sf);else if(looseEqual(getValue(af),nf)){Qc.selectedIndex!==lf&&(Qc.selectedIndex=lf);return}rf||(Qc.selectedIndex=-1)}}function hasNoMatchingOption(Qc,ef){return ef.every(function(tf){return!looseEqual(tf,Qc)})}function getValue(Qc){return"_value"in Qc?Qc._value:Qc.value}function onCompositionStart(Qc){Qc.target.composing=!0}function onCompositionEnd(Qc){Qc.target.composing&&(Qc.target.composing=!1,trigger(Qc.target,"input"))}function trigger(Qc,ef){var tf=document.createEvent("HTMLEvents");tf.initEvent(ef,!0,!0),Qc.dispatchEvent(tf)}function locateNode(Qc){return Qc.componentInstance&&(!Qc.data||!Qc.data.transition)?locateNode(Qc.componentInstance._vnode):Qc}var show={bind:function(Qc,ef,tf){var nf=ef.value;tf=locateNode(tf);var rf=tf.data&&tf.data.transition,sf=Qc.__vOriginalDisplay=Qc.style.display==="none"?"":Qc.style.display;nf&&rf?(tf.data.show=!0,enter(tf,function(){Qc.style.display=sf})):Qc.style.display=nf?sf:"none"},update:function(Qc,ef,tf){var nf=ef.value,rf=ef.oldValue;if(!nf!=!rf){tf=locateNode(tf);var sf=tf.data&&tf.data.transition;sf?(tf.data.show=!0,nf?enter(tf,function(){Qc.style.display=Qc.__vOriginalDisplay}):leave(tf,function(){Qc.style.display="none"})):Qc.style.display=nf?Qc.__vOriginalDisplay:"none"}},unbind:function(Qc,ef,tf,nf,rf){rf||(Qc.style.display=Qc.__vOriginalDisplay)}},platformDirectives={model:directive$1,show},transitionProps={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function getRealChild(Qc){var ef=Qc&&Qc.componentOptions;return ef&&ef.Ctor.options.abstract?getRealChild(getFirstComponentChild(ef.children)):Qc}function extractTransitionData(Qc){var ef={},tf=Qc.$options;for(var nf in tf.propsData)ef[nf]=Qc[nf];var rf=tf._parentListeners;for(var nf in rf)ef[camelize(nf)]=rf[nf];return ef}function placeholder(Qc,ef){if(/\d-keep-alive$/.test(ef.tag))return Qc("keep-alive",{props:ef.componentOptions.propsData})}function hasParentTransition(Qc){for(;Qc=Qc.parent;)if(Qc.data.transition)return!0}function isSameChild(Qc,ef){return ef.key===Qc.key&&ef.tag===Qc.tag}var isNotTextNode=function(Qc){return Qc.tag||isAsyncPlaceholder(Qc)},isVShowDirective=function(Qc){return Qc.name==="show"},Transition$1={name:"transition",props:transitionProps,abstract:!0,render:function(Qc){var ef=this,tf=this.$slots.default;if(tf&&(tf=tf.filter(isNotTextNode),!!tf.length)){var nf=this.mode,rf=tf[0];if(hasParentTransition(this.$vnode))return rf;var sf=getRealChild(rf);if(!sf)return rf;if(this._leaving)return placeholder(Qc,rf);var af="__transition-".concat(this._uid,"-");sf.key=sf.key==null?sf.isComment?af+"comment":af+sf.tag:isPrimitive(sf.key)?String(sf.key).indexOf(af)===0?sf.key:af+sf.key:sf.key;var lf=(sf.data||(sf.data={})).transition=extractTransitionData(this),cf=this._vnode,uf=getRealChild(cf);if(sf.data.directives&&sf.data.directives.some(isVShowDirective)&&(sf.data.show=!0),uf&&uf.data&&!isSameChild(sf,uf)&&!isAsyncPlaceholder(uf)&&!(uf.componentInstance&&uf.componentInstance._vnode.isComment)){var ff=uf.data.transition=extend$1({},lf);if(nf==="out-in")return this._leaving=!0,mergeVNodeHook(ff,"afterLeave",function(){ef._leaving=!1,ef.$forceUpdate()}),placeholder(Qc,rf);if(nf==="in-out"){if(isAsyncPlaceholder(sf))return cf;var df,gf=function(){df()};mergeVNodeHook(lf,"afterEnter",gf),mergeVNodeHook(lf,"enterCancelled",gf),mergeVNodeHook(ff,"delayLeave",function(_f){df=_f})}}return rf}}},props=extend$1({tag:String,moveClass:String},transitionProps);delete props.mode;var TransitionGroup={props,beforeMount:function(){var Qc=this,ef=this._update;this._update=function(tf,nf){var rf=setActiveInstance(Qc);Qc.__patch__(Qc._vnode,Qc.kept,!1,!0),Qc._vnode=Qc.kept,rf(),ef.call(Qc,tf,nf)}},render:function(Qc){for(var ef=this.tag||this.$vnode.data.tag||"span",tf=Object.create(null),nf=this.prevChildren=this.children,rf=this.$slots.default||[],sf=this.children=[],af=extractTransitionData(this),lf=0;lf<rf.length;lf++){var cf=rf[lf];cf.tag&&cf.key!=null&&String(cf.key).indexOf("__vlist")!==0&&(sf.push(cf),tf[cf.key]=cf,(cf.data||(cf.data={})).transition=af)}if(nf){for(var uf=[],ff=[],lf=0;lf<nf.length;lf++){var cf=nf[lf];cf.data.transition=af,cf.data.pos=cf.elm.getBoundingClientRect(),tf[cf.key]?uf.push(cf):ff.push(cf)}this.kept=Qc(ef,null,uf),this.removed=ff}return Qc(ef,null,sf)},updated:function(){var Qc=this.prevChildren,ef=this.moveClass||(this.name||"v")+"-move";!Qc.length||!this.hasMove(Qc[0].elm,ef)||(Qc.forEach(callPendingCbs),Qc.forEach(recordPosition),Qc.forEach(applyTranslation),this._reflow=document.body.offsetHeight,Qc.forEach(function(tf){if(tf.data.moved){var nf=tf.elm,rf=nf.style;addTransitionClass(nf,ef),rf.transform=rf.WebkitTransform=rf.transitionDuration="",nf.addEventListener(transitionEndEvent,nf._moveCb=function sf(af){af&&af.target!==nf||(!af||/transform$/.test(af.propertyName))&&(nf.removeEventListener(transitionEndEvent,sf),nf._moveCb=null,removeTransitionClass(nf,ef))})}}))},methods:{hasMove:function(Qc,ef){if(!hasTransition)return!1;if(this._hasMove)return this._hasMove;var tf=Qc.cloneNode();Qc._transitionClasses&&Qc._transitionClasses.forEach(function(rf){removeClass(tf,rf)}),addClass(tf,ef),tf.style.display="none",this.$el.appendChild(tf);var nf=getTransitionInfo(tf);return this.$el.removeChild(tf),this._hasMove=nf.hasTransform}}};function callPendingCbs(Qc){Qc.elm._moveCb&&Qc.elm._moveCb(),Qc.elm._enterCb&&Qc.elm._enterCb()}function recordPosition(Qc){Qc.data.newPos=Qc.elm.getBoundingClientRect()}function applyTranslation(Qc){var ef=Qc.data.pos,tf=Qc.data.newPos,nf=ef.left-tf.left,rf=ef.top-tf.top;if(nf||rf){Qc.data.moved=!0;var sf=Qc.elm.style;sf.transform=sf.WebkitTransform="translate(".concat(nf,"px,").concat(rf,"px)"),sf.transitionDuration="0s"}}var platformComponents={Transition:Transition$1,TransitionGroup};Vue$1.config.mustUseProp=mustUseProp;Vue$1.config.isReservedTag=isReservedTag;Vue$1.config.isReservedAttr=isReservedAttr;Vue$1.config.getTagNamespace=getTagNamespace;Vue$1.config.isUnknownElement=isUnknownElement;extend$1(Vue$1.options.directives,platformDirectives);extend$1(Vue$1.options.components,platformComponents);Vue$1.prototype.__patch__=inBrowser?patch:noop$1;Vue$1.prototype.$mount=function(Qc,ef){return Qc=Qc&&inBrowser?query(Qc):void 0,mountComponent(this,Qc,ef)};inBrowser&&setTimeout(function(){config.devtools&&devtools&&devtools.emit("init",Vue$1)},0);var defaultTagRE=/\{\{((?:.|\r?\n)+?)\}\}/g,regexEscapeRE=/[-.*+?^${}()|[\]\/\\]/g,buildRegex=cached(function(Qc){var ef=Qc[0].replace(regexEscapeRE,"\\$&"),tf=Qc[1].replace(regexEscapeRE,"\\$&");return new RegExp(ef+"((?:.|\\n)+?)"+tf,"g")});function parseText(Qc,ef){var tf=ef?buildRegex(ef):defaultTagRE;if(tf.test(Qc)){for(var nf=[],rf=[],sf=tf.lastIndex=0,af,lf,cf;af=tf.exec(Qc);){lf=af.index,lf>sf&&(rf.push(cf=Qc.slice(sf,lf)),nf.push(JSON.stringify(cf)));var uf=parseFilters(af[1].trim());nf.push("_s(".concat(uf,")")),rf.push({"@binding":uf}),sf=lf+af[0].length}return sf<Qc.length&&(rf.push(cf=Qc.slice(sf)),nf.push(JSON.stringify(cf))),{expression:nf.join("+"),tokens:rf}}}function transformNode$1(Qc,ef){ef.warn;var tf=getAndRemoveAttr(Qc,"class");tf&&(Qc.staticClass=JSON.stringify(tf.replace(/\s+/g," ").trim()));var nf=getBindingAttr(Qc,"class",!1);nf&&(Qc.classBinding=nf)}function genData$2(Qc){var ef="";return Qc.staticClass&&(ef+="staticClass:".concat(Qc.staticClass,",")),Qc.classBinding&&(ef+="class:".concat(Qc.classBinding,",")),ef}var klass={staticKeys:["staticClass"],transformNode:transformNode$1,genData:genData$2};function transformNode(Qc,ef){ef.warn;var tf=getAndRemoveAttr(Qc,"style");tf&&(Qc.staticStyle=JSON.stringify(parseStyleText(tf)));var nf=getBindingAttr(Qc,"style",!1);nf&&(Qc.styleBinding=nf)}function genData$1(Qc){var ef="";return Qc.staticStyle&&(ef+="staticStyle:".concat(Qc.staticStyle,",")),Qc.styleBinding&&(ef+="style:(".concat(Qc.styleBinding,"),")),ef}var style={staticKeys:["staticStyle"],transformNode,genData:genData$1},decoder,he={decode:function(Qc){return decoder=decoder||document.createElement("div"),decoder.innerHTML=Qc,decoder.textContent}},isUnaryTag=makeMap("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),canBeLeftOpenTag=makeMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),isNonPhrasingTag=makeMap("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),attribute=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,dynamicArgAttribute=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ncname="[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(unicodeRegExp.source,"]*"),qnameCapture="((?:".concat(ncname,"\\:)?").concat(ncname,")"),startTagOpen=new RegExp("^<".concat(qnameCapture)),startTagClose=/^\s*(\/?)>/,endTag=new RegExp("^<\\/".concat(qnameCapture,"[^>]*>")),doctype=/^<!DOCTYPE [^>]+>/i,comment=/^<!\--/,conditionalComment=/^<!\[/,isPlainTextElement=makeMap("script,style,textarea",!0),reCache={},decodingMap={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":`
`,"&#9;":"	","&#39;":"'"},encodedAttr=/&(?:lt|gt|quot|amp|#39);/g,encodedAttrWithNewLines=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,isIgnoreNewlineTag=makeMap("pre,textarea",!0),shouldIgnoreFirstNewline=function(Qc,ef){return Qc&&isIgnoreNewlineTag(Qc)&&ef[0]===`
`};function decodeAttr(Qc,ef){var tf=ef?encodedAttrWithNewLines:encodedAttr;return Qc.replace(tf,function(nf){return decodingMap[nf]})}function parseHTML(Qc,ef){for(var tf=[],nf=ef.expectHTML,rf=ef.isUnaryTag||no,sf=ef.canBeLeftOpenTag||no,af=0,lf,cf,uf=function(){if(lf=Qc,!cf||!isPlainTextElement(cf)){var Af=Qc.indexOf("<");if(Af===0){if(comment.test(Qc)){var Df=Qc.indexOf("-->");if(Df>=0)return ef.shouldKeepComment&&ef.comment&&ef.comment(Qc.substring(4,Df),af,af+Df+3),df(Df+3),"continue"}if(conditionalComment.test(Qc)){var Of=Qc.indexOf("]>");if(Of>=0)return df(Of+2),"continue"}var Gf=Qc.match(doctype);if(Gf)return df(Gf[0].length),"continue";var Bf=Qc.match(endTag);if(Bf){var Vf=af;return df(Bf[0].length),xf(Bf[1],Vf,af),"continue"}var Lf=gf();if(Lf)return _f(Lf),shouldIgnoreFirstNewline(Lf.tagName,Qc)&&df(1),"continue"}var Cf=void 0,Tf=void 0,Yf=void 0;if(Af>=0){for(Tf=Qc.slice(Af);!endTag.test(Tf)&&!startTagOpen.test(Tf)&&!comment.test(Tf)&&!conditionalComment.test(Tf)&&(Yf=Tf.indexOf("<",1),!(Yf<0));)Af+=Yf,Tf=Qc.slice(Af);Cf=Qc.substring(0,Af)}Af<0&&(Cf=Qc),Cf&&df(Cf.length),ef.chars&&Cf&&ef.chars(Cf,af-Cf.length,af)}else{var rh=0,dh=cf.toLowerCase(),hh=reCache[dh]||(reCache[dh]=new RegExp("([\\s\\S]*?)(</"+dh+"[^>]*>)","i")),Tf=Qc.replace(hh,function(Hf,Qf,ah){return rh=ah.length,!isPlainTextElement(dh)&&dh!=="noscript"&&(Qf=Qf.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),shouldIgnoreFirstNewline(dh,Qf)&&(Qf=Qf.slice(1)),ef.chars&&ef.chars(Qf),""});af+=Qc.length-Tf.length,Qc=Tf,xf(dh,af-rh,af)}if(Qc===lf)return ef.chars&&ef.chars(Qc),"break"};Qc;){var ff=uf();if(ff==="break")break}xf();function df(Af){af+=Af,Qc=Qc.substring(Af)}function gf(){var Af=Qc.match(startTagOpen);if(Af){var Df={tagName:Af[1],attrs:[],start:af};df(Af[0].length);for(var Of=void 0,Gf=void 0;!(Of=Qc.match(startTagClose))&&(Gf=Qc.match(dynamicArgAttribute)||Qc.match(attribute));)Gf.start=af,df(Gf[0].length),Gf.end=af,Df.attrs.push(Gf);if(Of)return Df.unarySlash=Of[1],df(Of[0].length),Df.end=af,Df}}function _f(Af){var Df=Af.tagName,Of=Af.unarySlash;nf&&(cf==="p"&&isNonPhrasingTag(Df)&&xf(cf),sf(Df)&&cf===Df&&xf(Df));for(var Gf=rf(Df)||!!Of,Bf=Af.attrs.length,Vf=new Array(Bf),Lf=0;Lf<Bf;Lf++){var Cf=Af.attrs[Lf],Tf=Cf[3]||Cf[4]||Cf[5]||"",Yf=Df==="a"&&Cf[1]==="href"?ef.shouldDecodeNewlinesForHref:ef.shouldDecodeNewlines;Vf[Lf]={name:Cf[1],value:decodeAttr(Tf,Yf)}}Gf||(tf.push({tag:Df,lowerCasedTag:Df.toLowerCase(),attrs:Vf,start:Af.start,end:Af.end}),cf=Df),ef.start&&ef.start(Df,Vf,Gf,Af.start,Af.end)}function xf(Af,Df,Of){var Gf,Bf;if(Df==null&&(Df=af),Of==null&&(Of=af),Af)for(Bf=Af.toLowerCase(),Gf=tf.length-1;Gf>=0&&tf[Gf].lowerCasedTag!==Bf;Gf--);else Gf=0;if(Gf>=0){for(var Vf=tf.length-1;Vf>=Gf;Vf--)ef.end&&ef.end(tf[Vf].tag,Df,Of);tf.length=Gf,cf=Gf&&tf[Gf-1].tag}else Bf==="br"?ef.start&&ef.start(Af,[],!0,Df,Of):Bf==="p"&&(ef.start&&ef.start(Af,[],!1,Df,Of),ef.end&&ef.end(Af,Df,Of))}}var onRE=/^@|^v-on:/,dirRE=/^v-|^@|^:|^#/,forAliasRE=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,stripParensRE=/^\(|\)$/g,dynamicArgRE=/^\[.*\]$/,argRE=/:(.*)$/,bindRE=/^:|^\.|^v-bind:/,modifierRE=/\.[^.\]]+(?=[^\]]*$)/g,slotRE=/^v-slot(:|$)|^#/,lineBreakRE=/[\r\n]/,whitespaceRE=/[ \f\t\r\n]+/g,decodeHTMLCached=cached(he.decode),emptySlotScopeToken="_empty_",warn$1,delimiters,transforms,preTransforms,postTransforms,platformIsPreTag,platformMustUseProp,platformGetTagNamespace;function createASTElement(Qc,ef,tf){return{type:1,tag:Qc,attrsList:ef,attrsMap:makeAttrsMap(ef),rawAttrsMap:{},parent:tf,children:[]}}function parse(Qc,ef){warn$1=ef.warn||baseWarn,platformIsPreTag=ef.isPreTag||no,platformMustUseProp=ef.mustUseProp||no,platformGetTagNamespace=ef.getTagNamespace||no,ef.isReservedTag,transforms=pluckModuleFunction(ef.modules,"transformNode"),preTransforms=pluckModuleFunction(ef.modules,"preTransformNode"),postTransforms=pluckModuleFunction(ef.modules,"postTransformNode"),delimiters=ef.delimiters;var tf=[],nf=ef.preserveWhitespace!==!1,rf=ef.whitespace,sf,af,lf=!1,cf=!1;function uf(df){if(ff(df),!lf&&!df.processed&&(df=processElement(df,ef)),!tf.length&&df!==sf&&sf.if&&(df.elseif||df.else)&&addIfCondition(sf,{exp:df.elseif,block:df}),af&&!df.forbidden)if(df.elseif||df.else)processIfConditions(df,af);else{if(df.slotScope){var gf=df.slotTarget||'"default"';(af.scopedSlots||(af.scopedSlots={}))[gf]=df}af.children.push(df),df.parent=af}df.children=df.children.filter(function(xf){return!xf.slotScope}),ff(df),df.pre&&(lf=!1),platformIsPreTag(df.tag)&&(cf=!1);for(var _f=0;_f<postTransforms.length;_f++)postTransforms[_f](df,ef)}function ff(df){if(!cf)for(var gf=void 0;(gf=df.children[df.children.length-1])&&gf.type===3&&gf.text===" ";)df.children.pop()}return parseHTML(Qc,{warn:warn$1,expectHTML:ef.expectHTML,isUnaryTag:ef.isUnaryTag,canBeLeftOpenTag:ef.canBeLeftOpenTag,shouldDecodeNewlines:ef.shouldDecodeNewlines,shouldDecodeNewlinesForHref:ef.shouldDecodeNewlinesForHref,shouldKeepComment:ef.comments,outputSourceRange:ef.outputSourceRange,start:function(df,gf,_f,xf,Af){var Df=af&&af.ns||platformGetTagNamespace(df);isIE&&Df==="svg"&&(gf=guardIESVGBug(gf));var Of=createASTElement(df,gf,af);Df&&(Of.ns=Df),isForbiddenTag(Of)&&!isServerRendering()&&(Of.forbidden=!0);for(var Gf=0;Gf<preTransforms.length;Gf++)Of=preTransforms[Gf](Of,ef)||Of;lf||(processPre(Of),Of.pre&&(lf=!0)),platformIsPreTag(Of.tag)&&(cf=!0),lf?processRawAttrs(Of):Of.processed||(processFor(Of),processIf(Of),processOnce(Of)),sf||(sf=Of),_f?uf(Of):(af=Of,tf.push(Of))},end:function(df,gf,_f){var xf=tf[tf.length-1];tf.length-=1,af=tf[tf.length-1],uf(xf)},chars:function(df,gf,_f){if(af&&!(isIE&&af.tag==="textarea"&&af.attrsMap.placeholder===df)){var xf=af.children;if(cf||df.trim()?df=isTextTag(af)?df:decodeHTMLCached(df):xf.length?rf?rf==="condense"?df=lineBreakRE.test(df)?"":" ":df=" ":df=nf?" ":"":df="",df){!cf&&rf==="condense"&&(df=df.replace(whitespaceRE," "));var Af=void 0,Df=void 0;!lf&&df!==" "&&(Af=parseText(df,delimiters))?Df={type:2,expression:Af.expression,tokens:Af.tokens,text:df}:(df!==" "||!xf.length||xf[xf.length-1].text!==" ")&&(Df={type:3,text:df}),Df&&xf.push(Df)}}},comment:function(df,gf,_f){if(af){var xf={type:3,text:df,isComment:!0};af.children.push(xf)}}}),sf}function processPre(Qc){getAndRemoveAttr(Qc,"v-pre")!=null&&(Qc.pre=!0)}function processRawAttrs(Qc){var ef=Qc.attrsList,tf=ef.length;if(tf)for(var nf=Qc.attrs=new Array(tf),rf=0;rf<tf;rf++)nf[rf]={name:ef[rf].name,value:JSON.stringify(ef[rf].value)},ef[rf].start!=null&&(nf[rf].start=ef[rf].start,nf[rf].end=ef[rf].end);else Qc.pre||(Qc.plain=!0)}function processElement(Qc,ef){processKey(Qc),Qc.plain=!Qc.key&&!Qc.scopedSlots&&!Qc.attrsList.length,processRef(Qc),processSlotContent(Qc),processSlotOutlet(Qc),processComponent(Qc);for(var tf=0;tf<transforms.length;tf++)Qc=transforms[tf](Qc,ef)||Qc;return processAttrs(Qc),Qc}function processKey(Qc){var ef=getBindingAttr(Qc,"key");ef&&(Qc.key=ef)}function processRef(Qc){var ef=getBindingAttr(Qc,"ref");ef&&(Qc.ref=ef,Qc.refInFor=checkInFor(Qc))}function processFor(Qc){var ef;if(ef=getAndRemoveAttr(Qc,"v-for")){var tf=parseFor(ef);tf&&extend$1(Qc,tf)}}function parseFor(Qc){var ef=Qc.match(forAliasRE);if(ef){var tf={};tf.for=ef[2].trim();var nf=ef[1].trim().replace(stripParensRE,""),rf=nf.match(forIteratorRE);return rf?(tf.alias=nf.replace(forIteratorRE,"").trim(),tf.iterator1=rf[1].trim(),rf[2]&&(tf.iterator2=rf[2].trim())):tf.alias=nf,tf}}function processIf(Qc){var ef=getAndRemoveAttr(Qc,"v-if");if(ef)Qc.if=ef,addIfCondition(Qc,{exp:ef,block:Qc});else{getAndRemoveAttr(Qc,"v-else")!=null&&(Qc.else=!0);var tf=getAndRemoveAttr(Qc,"v-else-if");tf&&(Qc.elseif=tf)}}function processIfConditions(Qc,ef){var tf=findPrevElement(ef.children);tf&&tf.if&&addIfCondition(tf,{exp:Qc.elseif,block:Qc})}function findPrevElement(Qc){for(var ef=Qc.length;ef--;){if(Qc[ef].type===1)return Qc[ef];Qc.pop()}}function addIfCondition(Qc,ef){Qc.ifConditions||(Qc.ifConditions=[]),Qc.ifConditions.push(ef)}function processOnce(Qc){var ef=getAndRemoveAttr(Qc,"v-once");ef!=null&&(Qc.once=!0)}function processSlotContent(Qc){var ef;Qc.tag==="template"?(ef=getAndRemoveAttr(Qc,"scope"),Qc.slotScope=ef||getAndRemoveAttr(Qc,"slot-scope")):(ef=getAndRemoveAttr(Qc,"slot-scope"))&&(Qc.slotScope=ef);var tf=getBindingAttr(Qc,"slot");if(tf&&(Qc.slotTarget=tf==='""'?'"default"':tf,Qc.slotTargetDynamic=!!(Qc.attrsMap[":slot"]||Qc.attrsMap["v-bind:slot"]),Qc.tag!=="template"&&!Qc.slotScope&&addAttr(Qc,"slot",tf,getRawBindingAttr(Qc,"slot"))),Qc.tag==="template"){var nf=getAndRemoveAttrByRegex(Qc,slotRE);if(nf){var rf=getSlotName(nf),sf=rf.name,af=rf.dynamic;Qc.slotTarget=sf,Qc.slotTargetDynamic=af,Qc.slotScope=nf.value||emptySlotScopeToken}}else{var nf=getAndRemoveAttrByRegex(Qc,slotRE);if(nf){var lf=Qc.scopedSlots||(Qc.scopedSlots={}),cf=getSlotName(nf),uf=cf.name,af=cf.dynamic,ff=lf[uf]=createASTElement("template",[],Qc);ff.slotTarget=uf,ff.slotTargetDynamic=af,ff.children=Qc.children.filter(function(_f){if(!_f.slotScope)return _f.parent=ff,!0}),ff.slotScope=nf.value||emptySlotScopeToken,Qc.children=[],Qc.plain=!1}}}function getSlotName(Qc){var ef=Qc.name.replace(slotRE,"");return ef||Qc.name[0]!=="#"&&(ef="default"),dynamicArgRE.test(ef)?{name:ef.slice(1,-1),dynamic:!0}:{name:'"'.concat(ef,'"'),dynamic:!1}}function processSlotOutlet(Qc){Qc.tag==="slot"&&(Qc.slotName=getBindingAttr(Qc,"name"))}function processComponent(Qc){var ef;(ef=getBindingAttr(Qc,"is"))&&(Qc.component=ef),getAndRemoveAttr(Qc,"inline-template")!=null&&(Qc.inlineTemplate=!0)}function processAttrs(Qc){var ef=Qc.attrsList,tf,nf,rf,sf,af,lf,cf,uf;for(tf=0,nf=ef.length;tf<nf;tf++)if(rf=sf=ef[tf].name,af=ef[tf].value,dirRE.test(rf))if(Qc.hasBindings=!0,lf=parseModifiers(rf.replace(dirRE,"")),lf&&(rf=rf.replace(modifierRE,"")),bindRE.test(rf))rf=rf.replace(bindRE,""),af=parseFilters(af),uf=dynamicArgRE.test(rf),uf&&(rf=rf.slice(1,-1)),lf&&(lf.prop&&!uf&&(rf=camelize(rf),rf==="innerHtml"&&(rf="innerHTML")),lf.camel&&!uf&&(rf=camelize(rf)),lf.sync&&(cf=genAssignmentCode(af,"$event"),uf?addHandler(Qc,'"update:"+('.concat(rf,")"),cf,null,!1,warn$1,ef[tf],!0):(addHandler(Qc,"update:".concat(camelize(rf)),cf,null,!1,warn$1,ef[tf]),hyphenate(rf)!==camelize(rf)&&addHandler(Qc,"update:".concat(hyphenate(rf)),cf,null,!1,warn$1,ef[tf])))),lf&&lf.prop||!Qc.component&&platformMustUseProp(Qc.tag,Qc.attrsMap.type,rf)?addProp(Qc,rf,af,ef[tf],uf):addAttr(Qc,rf,af,ef[tf],uf);else if(onRE.test(rf))rf=rf.replace(onRE,""),uf=dynamicArgRE.test(rf),uf&&(rf=rf.slice(1,-1)),addHandler(Qc,rf,af,lf,!1,warn$1,ef[tf],uf);else{rf=rf.replace(dirRE,"");var ff=rf.match(argRE),df=ff&&ff[1];uf=!1,df&&(rf=rf.slice(0,-(df.length+1)),dynamicArgRE.test(df)&&(df=df.slice(1,-1),uf=!0)),addDirective(Qc,rf,sf,af,df,uf,lf,ef[tf])}else addAttr(Qc,rf,JSON.stringify(af),ef[tf]),!Qc.component&&rf==="muted"&&platformMustUseProp(Qc.tag,Qc.attrsMap.type,rf)&&addProp(Qc,rf,"true",ef[tf])}function checkInFor(Qc){for(var ef=Qc;ef;){if(ef.for!==void 0)return!0;ef=ef.parent}return!1}function parseModifiers(Qc){var ef=Qc.match(modifierRE);if(ef){var tf={};return ef.forEach(function(nf){tf[nf.slice(1)]=!0}),tf}}function makeAttrsMap(Qc){for(var ef={},tf=0,nf=Qc.length;tf<nf;tf++)ef[Qc[tf].name]=Qc[tf].value;return ef}function isTextTag(Qc){return Qc.tag==="script"||Qc.tag==="style"}function isForbiddenTag(Qc){return Qc.tag==="style"||Qc.tag==="script"&&(!Qc.attrsMap.type||Qc.attrsMap.type==="text/javascript")}var ieNSBug=/^xmlns:NS\d+/,ieNSPrefix=/^NS\d+:/;function guardIESVGBug(Qc){for(var ef=[],tf=0;tf<Qc.length;tf++){var nf=Qc[tf];ieNSBug.test(nf.name)||(nf.name=nf.name.replace(ieNSPrefix,""),ef.push(nf))}return ef}function preTransformNode(Qc,ef){if(Qc.tag==="input"){var tf=Qc.attrsMap;if(!tf["v-model"])return;var nf=void 0;if((tf[":type"]||tf["v-bind:type"])&&(nf=getBindingAttr(Qc,"type")),!tf.type&&!nf&&tf["v-bind"]&&(nf="(".concat(tf["v-bind"],").type")),nf){var rf=getAndRemoveAttr(Qc,"v-if",!0),sf=rf?"&&(".concat(rf,")"):"",af=getAndRemoveAttr(Qc,"v-else",!0)!=null,lf=getAndRemoveAttr(Qc,"v-else-if",!0),cf=cloneASTElement(Qc);processFor(cf),addRawAttr(cf,"type","checkbox"),processElement(cf,ef),cf.processed=!0,cf.if="(".concat(nf,")==='checkbox'")+sf,addIfCondition(cf,{exp:cf.if,block:cf});var uf=cloneASTElement(Qc);getAndRemoveAttr(uf,"v-for",!0),addRawAttr(uf,"type","radio"),processElement(uf,ef),addIfCondition(cf,{exp:"(".concat(nf,")==='radio'")+sf,block:uf});var ff=cloneASTElement(Qc);return getAndRemoveAttr(ff,"v-for",!0),addRawAttr(ff,":type",nf),processElement(ff,ef),addIfCondition(cf,{exp:rf,block:ff}),af?cf.else=!0:lf&&(cf.elseif=lf),cf}}}function cloneASTElement(Qc){return createASTElement(Qc.tag,Qc.attrsList.slice(),Qc.parent)}var model={preTransformNode},modules=[klass,style,model];function text(Qc,ef){ef.value&&addProp(Qc,"textContent","_s(".concat(ef.value,")"),ef)}function html(Qc,ef){ef.value&&addProp(Qc,"innerHTML","_s(".concat(ef.value,")"),ef)}var directives={model:model$1,text,html},baseOptions={expectHTML:!0,modules,directives,isPreTag,isUnaryTag,mustUseProp,canBeLeftOpenTag,isReservedTag,getTagNamespace,staticKeys:genStaticKeys$1(modules)},isStaticKey,isPlatformReservedTag,genStaticKeysCached=cached(genStaticKeys);function optimize(Qc,ef){Qc&&(isStaticKey=genStaticKeysCached(ef.staticKeys||""),isPlatformReservedTag=ef.isReservedTag||no,markStatic(Qc),markStaticRoots(Qc,!1))}function genStaticKeys(Qc){return makeMap("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(Qc?","+Qc:""))}function markStatic(Qc){if(Qc.static=isStatic(Qc),Qc.type===1){if(!isPlatformReservedTag(Qc.tag)&&Qc.tag!=="slot"&&Qc.attrsMap["inline-template"]==null)return;for(var ef=0,tf=Qc.children.length;ef<tf;ef++){var nf=Qc.children[ef];markStatic(nf),nf.static||(Qc.static=!1)}if(Qc.ifConditions)for(var ef=1,tf=Qc.ifConditions.length;ef<tf;ef++){var rf=Qc.ifConditions[ef].block;markStatic(rf),rf.static||(Qc.static=!1)}}}function markStaticRoots(Qc,ef){if(Qc.type===1){if((Qc.static||Qc.once)&&(Qc.staticInFor=ef),Qc.static&&Qc.children.length&&!(Qc.children.length===1&&Qc.children[0].type===3)){Qc.staticRoot=!0;return}else Qc.staticRoot=!1;if(Qc.children)for(var tf=0,nf=Qc.children.length;tf<nf;tf++)markStaticRoots(Qc.children[tf],ef||!!Qc.for);if(Qc.ifConditions)for(var tf=1,nf=Qc.ifConditions.length;tf<nf;tf++)markStaticRoots(Qc.ifConditions[tf].block,ef)}}function isStatic(Qc){return Qc.type===2?!1:Qc.type===3?!0:!!(Qc.pre||!Qc.hasBindings&&!Qc.if&&!Qc.for&&!isBuiltInTag(Qc.tag)&&isPlatformReservedTag(Qc.tag)&&!isDirectChildOfTemplateFor(Qc)&&Object.keys(Qc).every(isStaticKey))}function isDirectChildOfTemplateFor(Qc){for(;Qc.parent;){if(Qc=Qc.parent,Qc.tag!=="template")return!1;if(Qc.for)return!0}return!1}var fnExpRE=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,fnInvokeRE=/\([^)]*?\);*$/,simplePathRE=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,keyCodes={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},keyNames={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},genGuard=function(Qc){return"if(".concat(Qc,")return null;")},modifierCode={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:genGuard("$event.target !== $event.currentTarget"),ctrl:genGuard("!$event.ctrlKey"),shift:genGuard("!$event.shiftKey"),alt:genGuard("!$event.altKey"),meta:genGuard("!$event.metaKey"),left:genGuard("'button' in $event && $event.button !== 0"),middle:genGuard("'button' in $event && $event.button !== 1"),right:genGuard("'button' in $event && $event.button !== 2")};function genHandlers(Qc,ef){var tf=ef?"nativeOn:":"on:",nf="",rf="";for(var sf in Qc){var af=genHandler(Qc[sf]);Qc[sf]&&Qc[sf].dynamic?rf+="".concat(sf,",").concat(af,","):nf+='"'.concat(sf,'":').concat(af,",")}return nf="{".concat(nf.slice(0,-1),"}"),rf?tf+"_d(".concat(nf,",[").concat(rf.slice(0,-1),"])"):tf+nf}function genHandler(Qc){if(!Qc)return"function(){}";if(Array.isArray(Qc))return"[".concat(Qc.map(function(ff){return genHandler(ff)}).join(","),"]");var ef=simplePathRE.test(Qc.value),tf=fnExpRE.test(Qc.value),nf=simplePathRE.test(Qc.value.replace(fnInvokeRE,""));if(Qc.modifiers){var rf="",sf="",af=[],lf=function(ff){if(modifierCode[ff])sf+=modifierCode[ff],keyCodes[ff]&&af.push(ff);else if(ff==="exact"){var df=Qc.modifiers;sf+=genGuard(["ctrl","shift","alt","meta"].filter(function(gf){return!df[gf]}).map(function(gf){return"$event.".concat(gf,"Key")}).join("||"))}else af.push(ff)};for(var cf in Qc.modifiers)lf(cf);af.length&&(rf+=genKeyFilter(af)),sf&&(rf+=sf);var uf=ef?"return ".concat(Qc.value,".apply(null, arguments)"):tf?"return (".concat(Qc.value,").apply(null, arguments)"):nf?"return ".concat(Qc.value):Qc.value;return"function($event){".concat(rf).concat(uf,"}")}else return ef||tf?Qc.value:"function($event){".concat(nf?"return ".concat(Qc.value):Qc.value,"}")}function genKeyFilter(Qc){return"if(!$event.type.indexOf('key')&&"+"".concat(Qc.map(genFilterCode).join("&&"),")return null;")}function genFilterCode(Qc){var ef=parseInt(Qc,10);if(ef)return"$event.keyCode!==".concat(ef);var tf=keyCodes[Qc],nf=keyNames[Qc];return"_k($event.keyCode,"+"".concat(JSON.stringify(Qc),",")+"".concat(JSON.stringify(tf),",")+"$event.key,"+"".concat(JSON.stringify(nf))+")"}function on(Qc,ef){Qc.wrapListeners=function(tf){return"_g(".concat(tf,",").concat(ef.value,")")}}function bind$2(Qc,ef){Qc.wrapData=function(tf){return"_b(".concat(tf,",'").concat(Qc.tag,"',").concat(ef.value,",").concat(ef.modifiers&&ef.modifiers.prop?"true":"false").concat(ef.modifiers&&ef.modifiers.sync?",true":"",")")}}var baseDirectives={on,bind:bind$2,cloak:noop$1},CodegenState=function(){function Qc(ef){this.options=ef,this.warn=ef.warn||baseWarn,this.transforms=pluckModuleFunction(ef.modules,"transformCode"),this.dataGenFns=pluckModuleFunction(ef.modules,"genData"),this.directives=extend$1(extend$1({},baseDirectives),ef.directives);var tf=ef.isReservedTag||no;this.maybeComponent=function(nf){return!!nf.component||!tf(nf.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1}return Qc}();function generate(Qc,ef){var tf=new CodegenState(ef),nf=Qc?Qc.tag==="script"?"null":genElement(Qc,tf):'_c("div")';return{render:"with(this){return ".concat(nf,"}"),staticRenderFns:tf.staticRenderFns}}function genElement(Qc,ef){if(Qc.parent&&(Qc.pre=Qc.pre||Qc.parent.pre),Qc.staticRoot&&!Qc.staticProcessed)return genStatic(Qc,ef);if(Qc.once&&!Qc.onceProcessed)return genOnce(Qc,ef);if(Qc.for&&!Qc.forProcessed)return genFor(Qc,ef);if(Qc.if&&!Qc.ifProcessed)return genIf(Qc,ef);if(Qc.tag==="template"&&!Qc.slotTarget&&!ef.pre)return genChildren(Qc,ef)||"void 0";if(Qc.tag==="slot")return genSlot(Qc,ef);var tf=void 0;if(Qc.component)tf=genComponent(Qc.component,Qc,ef);else{var nf=void 0,rf=ef.maybeComponent(Qc);(!Qc.plain||Qc.pre&&rf)&&(nf=genData(Qc,ef));var sf=void 0,af=ef.options.bindings;rf&&af&&af.__isScriptSetup!==!1&&(sf=checkBindingType(af,Qc.tag)),sf||(sf="'".concat(Qc.tag,"'"));var lf=Qc.inlineTemplate?null:genChildren(Qc,ef,!0);tf="_c(".concat(sf).concat(nf?",".concat(nf):"").concat(lf?",".concat(lf):"",")")}for(var cf=0;cf<ef.transforms.length;cf++)tf=ef.transforms[cf](Qc,tf);return tf}function checkBindingType(Qc,ef){var tf=camelize(ef),nf=capitalize(tf),rf=function(lf){if(Qc[ef]===lf)return ef;if(Qc[tf]===lf)return tf;if(Qc[nf]===lf)return nf},sf=rf("setup-const")||rf("setup-reactive-const");if(sf)return sf;var af=rf("setup-let")||rf("setup-ref")||rf("setup-maybe-ref");if(af)return af}function genStatic(Qc,ef){Qc.staticProcessed=!0;var tf=ef.pre;return Qc.pre&&(ef.pre=Qc.pre),ef.staticRenderFns.push("with(this){return ".concat(genElement(Qc,ef),"}")),ef.pre=tf,"_m(".concat(ef.staticRenderFns.length-1).concat(Qc.staticInFor?",true":"",")")}function genOnce(Qc,ef){if(Qc.onceProcessed=!0,Qc.if&&!Qc.ifProcessed)return genIf(Qc,ef);if(Qc.staticInFor){for(var tf="",nf=Qc.parent;nf;){if(nf.for){tf=nf.key;break}nf=nf.parent}return tf?"_o(".concat(genElement(Qc,ef),",").concat(ef.onceId++,",").concat(tf,")"):genElement(Qc,ef)}else return genStatic(Qc,ef)}function genIf(Qc,ef,tf,nf){return Qc.ifProcessed=!0,genIfConditions(Qc.ifConditions.slice(),ef,tf,nf)}function genIfConditions(Qc,ef,tf,nf){if(!Qc.length)return nf||"_e()";var rf=Qc.shift();if(rf.exp)return"(".concat(rf.exp,")?").concat(sf(rf.block),":").concat(genIfConditions(Qc,ef,tf,nf));return"".concat(sf(rf.block));function sf(af){return tf?tf(af,ef):af.once?genOnce(af,ef):genElement(af,ef)}}function genFor(Qc,ef,tf,nf){var rf=Qc.for,sf=Qc.alias,af=Qc.iterator1?",".concat(Qc.iterator1):"",lf=Qc.iterator2?",".concat(Qc.iterator2):"";return Qc.forProcessed=!0,"".concat(nf||"_l","((").concat(rf,"),")+"function(".concat(sf).concat(af).concat(lf,"){")+"return ".concat((tf||genElement)(Qc,ef))+"})"}function genData(Qc,ef){var tf="{",nf=genDirectives(Qc,ef);nf&&(tf+=nf+","),Qc.key&&(tf+="key:".concat(Qc.key,",")),Qc.ref&&(tf+="ref:".concat(Qc.ref,",")),Qc.refInFor&&(tf+="refInFor:true,"),Qc.pre&&(tf+="pre:true,"),Qc.component&&(tf+='tag:"'.concat(Qc.tag,'",'));for(var rf=0;rf<ef.dataGenFns.length;rf++)tf+=ef.dataGenFns[rf](Qc);if(Qc.attrs&&(tf+="attrs:".concat(genProps(Qc.attrs),",")),Qc.props&&(tf+="domProps:".concat(genProps(Qc.props),",")),Qc.events&&(tf+="".concat(genHandlers(Qc.events,!1),",")),Qc.nativeEvents&&(tf+="".concat(genHandlers(Qc.nativeEvents,!0),",")),Qc.slotTarget&&!Qc.slotScope&&(tf+="slot:".concat(Qc.slotTarget,",")),Qc.scopedSlots&&(tf+="".concat(genScopedSlots(Qc,Qc.scopedSlots,ef),",")),Qc.model&&(tf+="model:{value:".concat(Qc.model.value,",callback:").concat(Qc.model.callback,",expression:").concat(Qc.model.expression,"},")),Qc.inlineTemplate){var sf=genInlineTemplate(Qc,ef);sf&&(tf+="".concat(sf,","))}return tf=tf.replace(/,$/,"")+"}",Qc.dynamicAttrs&&(tf="_b(".concat(tf,',"').concat(Qc.tag,'",').concat(genProps(Qc.dynamicAttrs),")")),Qc.wrapData&&(tf=Qc.wrapData(tf)),Qc.wrapListeners&&(tf=Qc.wrapListeners(tf)),tf}function genDirectives(Qc,ef){var tf=Qc.directives;if(tf){var nf="directives:[",rf=!1,sf,af,lf,cf;for(sf=0,af=tf.length;sf<af;sf++){lf=tf[sf],cf=!0;var uf=ef.directives[lf.name];uf&&(cf=!!uf(Qc,lf,ef.warn)),cf&&(rf=!0,nf+='{name:"'.concat(lf.name,'",rawName:"').concat(lf.rawName,'"').concat(lf.value?",value:(".concat(lf.value,"),expression:").concat(JSON.stringify(lf.value)):"").concat(lf.arg?",arg:".concat(lf.isDynamicArg?lf.arg:'"'.concat(lf.arg,'"')):"").concat(lf.modifiers?",modifiers:".concat(JSON.stringify(lf.modifiers)):"","},"))}if(rf)return nf.slice(0,-1)+"]"}}function genInlineTemplate(Qc,ef){var tf=Qc.children[0];if(tf&&tf.type===1){var nf=generate(tf,ef.options);return"inlineTemplate:{render:function(){".concat(nf.render,"},staticRenderFns:[").concat(nf.staticRenderFns.map(function(rf){return"function(){".concat(rf,"}")}).join(","),"]}")}}function genScopedSlots(Qc,ef,tf){var nf=Qc.for||Object.keys(ef).some(function(lf){var cf=ef[lf];return cf.slotTargetDynamic||cf.if||cf.for||containsSlotChild(cf)}),rf=!!Qc.if;if(!nf)for(var sf=Qc.parent;sf;){if(sf.slotScope&&sf.slotScope!==emptySlotScopeToken||sf.for){nf=!0;break}sf.if&&(rf=!0),sf=sf.parent}var af=Object.keys(ef).map(function(lf){return genScopedSlot(ef[lf],tf)}).join(",");return"scopedSlots:_u([".concat(af,"]").concat(nf?",null,true":"").concat(!nf&&rf?",null,false,".concat(hash(af)):"",")")}function hash(Qc){for(var ef=5381,tf=Qc.length;tf;)ef=ef*33^Qc.charCodeAt(--tf);return ef>>>0}function containsSlotChild(Qc){return Qc.type===1?Qc.tag==="slot"?!0:Qc.children.some(containsSlotChild):!1}function genScopedSlot(Qc,ef){var tf=Qc.attrsMap["slot-scope"];if(Qc.if&&!Qc.ifProcessed&&!tf)return genIf(Qc,ef,genScopedSlot,"null");if(Qc.for&&!Qc.forProcessed)return genFor(Qc,ef,genScopedSlot);var nf=Qc.slotScope===emptySlotScopeToken?"":String(Qc.slotScope),rf="function(".concat(nf,"){")+"return ".concat(Qc.tag==="template"?Qc.if&&tf?"(".concat(Qc.if,")?").concat(genChildren(Qc,ef)||"undefined",":undefined"):genChildren(Qc,ef)||"undefined":genElement(Qc,ef),"}"),sf=nf?"":",proxy:true";return"{key:".concat(Qc.slotTarget||'"default"',",fn:").concat(rf).concat(sf,"}")}function genChildren(Qc,ef,tf,nf,rf){var sf=Qc.children;if(sf.length){var af=sf[0];if(sf.length===1&&af.for&&af.tag!=="template"&&af.tag!=="slot"){var lf=tf?ef.maybeComponent(af)?",1":",0":"";return"".concat((nf||genElement)(af,ef)).concat(lf)}var cf=tf?getNormalizationType(sf,ef.maybeComponent):0,uf=rf||genNode;return"[".concat(sf.map(function(ff){return uf(ff,ef)}).join(","),"]").concat(cf?",".concat(cf):"")}}function getNormalizationType(Qc,ef){for(var tf=0,nf=0;nf<Qc.length;nf++){var rf=Qc[nf];if(rf.type===1){if(needsNormalization(rf)||rf.ifConditions&&rf.ifConditions.some(function(sf){return needsNormalization(sf.block)})){tf=2;break}(ef(rf)||rf.ifConditions&&rf.ifConditions.some(function(sf){return ef(sf.block)}))&&(tf=1)}}return tf}function needsNormalization(Qc){return Qc.for!==void 0||Qc.tag==="template"||Qc.tag==="slot"}function genNode(Qc,ef){return Qc.type===1?genElement(Qc,ef):Qc.type===3&&Qc.isComment?genComment(Qc):genText(Qc)}function genText(Qc){return"_v(".concat(Qc.type===2?Qc.expression:transformSpecialNewlines(JSON.stringify(Qc.text)),")")}function genComment(Qc){return"_e(".concat(JSON.stringify(Qc.text),")")}function genSlot(Qc,ef){var tf=Qc.slotName||'"default"',nf=genChildren(Qc,ef),rf="_t(".concat(tf).concat(nf?",function(){return ".concat(nf,"}"):""),sf=Qc.attrs||Qc.dynamicAttrs?genProps((Qc.attrs||[]).concat(Qc.dynamicAttrs||[]).map(function(lf){return{name:camelize(lf.name),value:lf.value,dynamic:lf.dynamic}})):null,af=Qc.attrsMap["v-bind"];return(sf||af)&&!nf&&(rf+=",null"),sf&&(rf+=",".concat(sf)),af&&(rf+="".concat(sf?"":",null",",").concat(af)),rf+")"}function genComponent(Qc,ef,tf){var nf=ef.inlineTemplate?null:genChildren(ef,tf,!0);return"_c(".concat(Qc,",").concat(genData(ef,tf)).concat(nf?",".concat(nf):"",")")}function genProps(Qc){for(var ef="",tf="",nf=0;nf<Qc.length;nf++){var rf=Qc[nf],sf=transformSpecialNewlines(rf.value);rf.dynamic?tf+="".concat(rf.name,",").concat(sf,","):ef+='"'.concat(rf.name,'":').concat(sf,",")}return ef="{".concat(ef.slice(0,-1),"}"),tf?"_d(".concat(ef,",[").concat(tf.slice(0,-1),"])"):ef}function transformSpecialNewlines(Qc){return Qc.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function createFunction(Qc,ef){try{return new Function(Qc)}catch(tf){return ef.push({err:tf,code:Qc}),noop$1}}function createCompileToFunctionFn(Qc){var ef=Object.create(null);return function(nf,rf,sf){rf=extend$1({},rf),rf.warn,delete rf.warn;var af=rf.delimiters?String(rf.delimiters)+nf:nf;if(ef[af])return ef[af];var lf=Qc(nf,rf),cf={},uf=[];return cf.render=createFunction(lf.render,uf),cf.staticRenderFns=lf.staticRenderFns.map(function(ff){return createFunction(ff,uf)}),ef[af]=cf}}function createCompilerCreator(Qc){return function(tf){function nf(rf,sf){var af=Object.create(tf),lf=[],cf=[],uf=function(gf,_f,xf){(xf?cf:lf).push(gf)};if(sf){sf.modules&&(af.modules=(tf.modules||[]).concat(sf.modules)),sf.directives&&(af.directives=extend$1(Object.create(tf.directives||null),sf.directives));for(var ff in sf)ff!=="modules"&&ff!=="directives"&&(af[ff]=sf[ff])}af.warn=uf;var df=Qc(rf.trim(),af);return df.errors=lf,df.tips=cf,df}return{compile:nf,compileToFunctions:createCompileToFunctionFn(nf)}}}var createCompiler=createCompilerCreator(function Qc(ef,tf){var nf=parse(ef.trim(),tf);tf.optimize!==!1&&optimize(nf,tf);var rf=generate(nf,tf);return{ast:nf,render:rf.render,staticRenderFns:rf.staticRenderFns}}),_a=createCompiler(baseOptions),compileToFunctions=_a.compileToFunctions,div;function getShouldDecode(Qc){return div=div||document.createElement("div"),div.innerHTML=Qc?`<a href="
"/>`:`<div a="
"/>`,div.innerHTML.indexOf("&#10;")>0}var shouldDecodeNewlines=inBrowser?getShouldDecode(!1):!1,shouldDecodeNewlinesForHref=inBrowser?getShouldDecode(!0):!1,idToTemplate=cached(function(Qc){var ef=query(Qc);return ef&&ef.innerHTML}),mount=Vue$1.prototype.$mount;Vue$1.prototype.$mount=function(Qc,ef){if(Qc=Qc&&query(Qc),Qc===document.body||Qc===document.documentElement)return this;var tf=this.$options;if(!tf.render){var nf=tf.template;if(nf)if(typeof nf=="string")nf.charAt(0)==="#"&&(nf=idToTemplate(nf));else if(nf.nodeType)nf=nf.innerHTML;else return this;else Qc&&(nf=getOuterHTML(Qc));if(nf){var rf=compileToFunctions(nf,{outputSourceRange:!1,shouldDecodeNewlines,shouldDecodeNewlinesForHref,delimiters:tf.delimiters,comments:tf.comments},this),sf=rf.render,af=rf.staticRenderFns;tf.render=sf,tf.staticRenderFns=af}}return mount.call(this,Qc,ef)};function getOuterHTML(Qc){if(Qc.outerHTML)return Qc.outerHTML;var ef=document.createElement("div");return ef.appendChild(Qc.cloneNode(!0)),ef.innerHTML}Vue$1.compile=compileToFunctions;var isMergeableObject=function Qc(ef){return isNonNullObject(ef)&&!isSpecial(ef)};function isNonNullObject(Qc){return!!Qc&&typeof Qc=="object"}function isSpecial(Qc){var ef=Object.prototype.toString.call(Qc);return ef==="[object RegExp]"||ef==="[object Date]"||isReactElement(Qc)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(Qc){return Qc.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(Qc){return Array.isArray(Qc)?[]:{}}function cloneUnlessOtherwiseSpecified(Qc,ef){return ef.clone!==!1&&ef.isMergeableObject(Qc)?deepmerge(emptyTarget(Qc),Qc,ef):Qc}function defaultArrayMerge(Qc,ef,tf){return Qc.concat(ef).map(function(nf){return cloneUnlessOtherwiseSpecified(nf,tf)})}function mergeObject(Qc,ef,tf){var nf={};return tf.isMergeableObject(Qc)&&Object.keys(Qc).forEach(function(rf){nf[rf]=cloneUnlessOtherwiseSpecified(Qc[rf],tf)}),Object.keys(ef).forEach(function(rf){!tf.isMergeableObject(ef[rf])||!Qc[rf]?nf[rf]=cloneUnlessOtherwiseSpecified(ef[rf],tf):nf[rf]=deepmerge(Qc[rf],ef[rf],tf)}),nf}function deepmerge(Qc,ef,tf){tf=tf||{},tf.arrayMerge=tf.arrayMerge||defaultArrayMerge,tf.isMergeableObject=tf.isMergeableObject||isMergeableObject;var nf=Array.isArray(ef),rf=Array.isArray(Qc),sf=nf===rf;return sf?nf?tf.arrayMerge(Qc,ef,tf):mergeObject(Qc,ef,tf):cloneUnlessOtherwiseSpecified(ef,tf)}deepmerge.all=function Qc(ef,tf){if(!Array.isArray(ef))throw new Error("first argument should be an array");return ef.reduce(function(nf,rf){return deepmerge(nf,rf,tf)},{})};var deepmerge_1=deepmerge,component={name:"i18next",functional:!0,props:{tag:{type:String,default:"span"},path:{type:String,required:!0},options:{type:Object}},render:function Qc(ef,tf){var nf=tf.props,rf=tf.data,sf=tf.children,af=tf.parent,lf=af.$i18n,cf=af.$t.bind(af);if(!lf||!cf)return ef(nf.tag,rf,sf);var uf=nf.path,ff=nf.options||{},df=lf.i18next.services.interpolator.regexp,gf=Object.assign({},ff,{interpolation:{prefix:"#$?",suffix:"?$#"}}),_f=cf(uf,gf),xf=[];return _f.split(df).reduce(function(Af,Df,Of){var Gf;if(Of%2===0){if(Df.length===0)return Af;Gf=Df}else{var Bf=Df.trim();isNaN(parseFloat(Bf))||!isFinite(Bf)?sf.forEach(function(Vf){!Gf&&Vf.data.attrs&&Vf.data.attrs.place&&Vf.data.attrs.place===Bf&&(Gf=Vf)}):Gf=sf[parseInt(Df,10)]}return Af.push(Gf),Af},xf),ef(nf.tag,rf,xf)}};function log(Qc){typeof console<"u"&&console.warn(Qc)}function warn(Qc){log("[vue-i18next warn]: "+Qc)}function deprecate(Qc){log("[vue-i18next deprecated]: "+Qc)}function equalLanguage(Qc,ef){var tf=ef.context;return Qc._i18nLanguage===tf.$i18n.i18next.language}function equalValue(Qc,ef){if(Qc===ef)return!0;if(Qc&&ef)return Qc.path===ef.path&&Qc.language===ef.language&&Qc.args===ef.args}function assert(Qc){var ef=Qc.context;return ef.$i18n?!0:(warn("No VueI18Next instance found in the Vue instance"),!1)}function parseValue(Qc){var ef,tf,nf,rf;return typeof Qc=="string"?tf=Qc:toString.call(Qc)==="[object Object]"&&(ef=Qc,tf=ef.path,nf=ef.language,rf=ef.args),{path:tf,language:nf,args:rf}}function t(Qc,ef,tf){var nf=ef.value,rf=parseValue(nf),sf=rf.path,af=rf.language,lf=rf.args;if(!sf&&!af&&!lf){warn("v-t: invalid value");return}if(!sf){warn('v-t: "path" is required');return}af&&deprecate(`v-t: "language" is deprecated.Use the "lng" property in args.
      https://www.i18next.com/overview/configuration-options#configuration-options`);var cf=tf.context;Qc.textContent=cf.$i18n.i18next.t(sf,Object.assign({},af?{lng:af}:{},lf)),Qc._i18nLanguage=cf.$i18n.i18next.language}function bind(Qc,ef,tf){assert(tf)&&t(Qc,ef,tf)}function update(Qc,ef,tf,nf){equalLanguage(Qc,tf)&&equalValue(ef.value,ef.oldValue)||t(Qc,ef,tf)}var directive={bind,update};function assert$1(Qc){var ef=Qc.context;return ef.$i18n?!0:(warn("No VueI18Next instance found in the Vue instance"),!1)}function waitForIt(Qc,ef){if(ef.context.$i18n.i18next.isInitialized)Qc.hidden=!1;else{Qc.hidden=!0;var tf=function(){ef.context.$forceUpdate(),setTimeout(function(){ef.context&&ef.context.$i18n&&ef.context.$i18n.i18next.off("initialized",tf)},1e3)};ef.context.$i18n.i18next.on("initialized",tf)}}function bind$1(Qc,ef,tf){assert$1(tf)&&waitForIt(Qc,tf)}function update$1(Qc,ef,tf,nf){tf.context.$i18n.i18next.isInitialized&&(Qc.hidden=!1)}var waitDirective={bind:bind$1,update:update$1},Vue;function install(Qc){if(!install.installed){install.installed=!0,Vue=Qc;var ef=function(nf,rf){return function(sf){return nf&&nf.keyPrefix&&!sf.includes(rf.nsSeparator)?nf.keyPrefix+"."+sf:sf}},tf=function(nf){var rf=nf.$options.name||nf.$options._componentTag;return rf?{namespace:rf,loadNamespace:!0}:{namespace:""+Math.random()}};Vue.mixin({beforeCreate:function(){var rf=this,sf=this.$options;sf.i18n?this._i18n=sf.i18n:sf.parent&&sf.parent.$i18n&&(this._i18n=sf.parent.$i18n);var af={};if(this._i18n){var lf=this._i18n.options.getComponentNamespace||tf,cf=lf(this),uf=cf.namespace,ff=cf.loadNamespace;if(sf.__i18n&&sf.__i18n.forEach(function(Yf){af=deepmerge_1(af,JSON.parse(Yf))}),sf.i18nOptions){var df=this.$options.i18nOptions,gf=df.lng;gf===void 0&&(gf=null);var _f=df.keyPrefix;_f===void 0&&(_f=null);var xf=df.messages,Af=this.$options.i18nOptions,Df=Af.namespaces;Df=Df||this._i18n.i18next.options.defaultNS,typeof Df=="string"&&(Df=[Df]);var Of=Df.concat([uf]);xf&&(af=deepmerge_1(af,xf)),this._i18nOptions={lng:gf,namespaces:Of,keyPrefix:_f},this._i18n.i18next.loadNamespaces(Df)}else sf.parent&&sf.parent._i18nOptions?(this._i18nOptions=Object.assign({},sf.parent._i18nOptions),this._i18nOptions.namespaces=[uf].concat(this._i18nOptions.namespaces)):sf.__i18n&&(this._i18nOptions={namespaces:[uf]});ff&&this._i18n.options.loadComponentNamespace&&this._i18n.i18next.loadNamespaces([uf]);var Gf=Object.keys(af);Gf.forEach(function(Yf){rf._i18n.i18next.addResourceBundle(Yf,uf,Object.assign({},af[Yf]),!0,!1)})}var Bf=ef(this._i18nOptions,this._i18n?this._i18n.i18next.options:{});if(this._i18nOptions&&this._i18nOptions.namespaces){var Vf=this._i18nOptions,Lf=Vf.lng,Cf=Vf.namespaces,Tf=this._i18n.i18next.getFixedT(Lf,Cf);this._getI18nKey=function(Yf,rh){return Tf(Bf(Yf),rh,rf._i18n.i18nLoadedAt)}}else this._getI18nKey=function(Yf,rh){return rf._i18n.t(Bf(Yf),rh,rf._i18n.i18nLoadedAt)}}}),Object.prototype.hasOwnProperty.call(Vue.prototype,"$i18n")||Object.defineProperty(Vue.prototype,"$i18n",{get:function(){return this._i18n}}),Vue.prototype.$t=function(rf,sf){return this._getI18nKey(rf,sf)},Vue.component(component.name,component),Vue.directive("t",directive),Vue.directive("waitForT",waitDirective)}}var VueI18n=function Qc(ef,tf){tf===void 0&&(tf={});var nf=Object.assign({},{bindI18n:"languageChanged loaded",bindStore:"added removed",loadComponentNamespace:!1},tf);this._vm=null,this.i18next=ef,this.options=nf,this.onI18nChanged=this.onI18nChanged.bind(this),nf.bindI18n&&this.i18next.on(nf.bindI18n,this.onI18nChanged),nf.bindStore&&this.i18next.store&&this.i18next.store.on(nf.bindStore,this.onI18nChanged),this.resetVM({i18nLoadedAt:new Date})},prototypeAccessors={i18nLoadedAt:{configurable:!0}};VueI18n.prototype.resetVM=function Qc(ef){var tf=this._vm,nf=Vue.config,rf=nf.silent;Vue.config.silent=!0,this._vm=new Vue({data:ef}),Vue.config.silent=rf,tf&&Vue.nextTick(function(){return tf.$destroy()})};prototypeAccessors.i18nLoadedAt.get=function(){return this._vm.$data.i18nLoadedAt};prototypeAccessors.i18nLoadedAt.set=function(Qc){this._vm.$set(this._vm,"i18nLoadedAt",Qc)};VueI18n.prototype.t=function Qc(ef,tf){return this.i18next.t(ef,tf)};VueI18n.prototype.onI18nChanged=function Qc(){this.i18nLoadedAt=new Date};Object.defineProperties(VueI18n.prototype,prototypeAccessors);VueI18n.install=install;VueI18n.version="0.15.2";typeof window<"u"&&window.Vue&&window.Vue.use(VueI18n);Vue$1.use(VueI18n);const vueI18n=new VueI18n(i18next),BatteryLegend_vue_vue_type_style_index_0_lang="";function normalizeComponent(Qc,ef,tf,nf,rf,sf,af,lf){var cf=typeof Qc=="function"?Qc.options:Qc;ef&&(cf.render=ef,cf.staticRenderFns=tf,cf._compiled=!0),nf&&(cf.functional=!0),sf&&(cf._scopeId="data-v-"+sf);var uf;if(af?(uf=function(gf){gf=gf||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!gf&&typeof __VUE_SSR_CONTEXT__<"u"&&(gf=__VUE_SSR_CONTEXT__),rf&&rf.call(this,gf),gf&&gf._registeredComponents&&gf._registeredComponents.add(af)},cf._ssrRegister=uf):rf&&(uf=lf?function(){rf.call(this,(cf.functional?this.parent:this).$root.$options.shadowRoot)}:rf),uf)if(cf.functional){cf._injectStyles=uf;var ff=cf.render;cf.render=function(_f,xf){return uf.call(xf),ff(_f,xf)}}else{var df=cf.beforeCreate;cf.beforeCreate=df?[].concat(df,uf):[uf]}return{exports:Qc,options:cf}}const NO_BATTERY_VOLTAGE_MAXIMUM$1=1.8,_sfc_main$6={props:{voltage:{type:Number,default:0},vbatmaxcellvoltage:{type:Number,default:1}},computed:{reading(){let Qc=Math.floor(this.voltage/this.vbatmaxcellvoltage)+1;this.voltage===0&&(Qc=1);const ef=this.voltage>NO_BATTERY_VOLTAGE_MAXIMUM$1?`${Qc}S`:"USB";return`${this.voltage.toFixed(2)}V (${ef})`}}};var _sfc_render$6=function Qc(){var ef=this,tf=ef._self._c;return tf("div",{staticClass:"battery-legend"},[ef._v(" "+ef._s(ef.reading)+" ")])},_sfc_staticRenderFns$6=[],__component__$6=normalizeComponent(_sfc_main$6,_sfc_render$6,_sfc_staticRenderFns$6,!1,null,null,null,null);const BatteryLegend=__component__$6.exports,BetaflightLogo_vue_vue_type_style_index_0_lang="",_sfc_main$5={props:{configuratorVersion:{type:String,required:!0},firmwareVersion:{type:String,default:""},firmwareId:{type:String,default:""},hardwareId:{type:String,default:""}}};var _sfc_render$5=function Qc(){var ef=this,tf=ef._self._c;return tf("div",{staticClass:"logo"},[tf("div",{staticClass:"logo_text"},[tf("span",[ef._v(" "+ef._s(ef.$t("versionLabelConfigurator"))+": "+ef._s(ef.configuratorVersion)+" ")]),ef.firmwareVersion&&ef.firmwareId?tf("span",{staticStyle:{"margin-top":"2px","margin-bottom":"2px"}},[ef._v(" "+ef._s(ef.$t("versionLabelFirmware"))+": "+ef._s(ef.firmwareVersion)+" "+ef._s(ef.firmwareId)+" ")]):ef._e(),ef.hardwareId?tf("span",[ef._v(" "+ef._s(ef.$t("versionLabelTarget"))+": "+ef._s(ef.hardwareId)+" ")]):ef._e()])])},_sfc_staticRenderFns$5=[],__component__$5=normalizeComponent(_sfc_main$5,_sfc_render$5,_sfc_staticRenderFns$5,!1,null,null,null,null);const BetaflightLogo=__component__$5.exports,StatusBarVersion_vue_vue_type_style_index_0_lang="",_sfc_main$4={props:{configuratorVersion:{type:String,default:""},firmwareVersion:{type:String,default:""},firmwareId:{type:String,default:""},hardwareId:{type:String,default:""}}};var _sfc_render$4=function Qc(){var ef=this,tf=ef._self._c;return tf("div",{staticClass:"version"},[ef._v(" "+ef._s(ef.$t("versionLabelConfigurator"))+": "+ef._s(ef.configuratorVersion)+" "),ef.firmwareVersion&&ef.firmwareId?tf("span",[ef._v(" , "+ef._s(ef.$t("versionLabelFirmware"))+": "+ef._s(ef.firmwareVersion)+" "+ef._s(ef.firmwareId)+" ")]):ef._e(),ef.hardwareId?tf("span",[ef._v(" , "+ef._s(ef.$t("versionLabelTarget"))+": "+ef._s(ef.hardwareId)+" ")]):ef._e()])},_sfc_staticRenderFns$4=[],__component__$4=normalizeComponent(_sfc_main$4,_sfc_render$4,_sfc_staticRenderFns$4,!1,null,null,null,null);const StatusBarVersion=__component__$4.exports,_sfc_main$3={props:{message:{type:String,default:""},value:{type:Number,default:0},unit:{type:String,default:""}}};var _sfc_render$3=function Qc(){var ef=this,tf=ef._self._c;return tf("span",[tf("span",[ef._v(ef._s(ef.$t(ef.message)))]),tf("span",[ef._v(ef._s(ef.value))]),ef.unit?tf("span",[ef._v(ef._s(ef.unit))]):ef._e()])},_sfc_staticRenderFns$3=[],__component__$3=normalizeComponent(_sfc_main$3,_sfc_render$3,_sfc_staticRenderFns$3,!1,null,null,null,null);const ReadingStat=__component__$3.exports,_sfc_main$2={components:{ReadingStat},props:{usageDown:{type:Number,default:0},usageUp:{type:Number,default:0}}};var _sfc_render$2=function Qc(){var ef=this,tf=ef._self._c;return tf("div",[tf("span",[ef._v(ef._s(ef.$t("statusbar_port_utilization")))]),tf("ReadingStat",{attrs:{message:"statusbar_usage_download",value:ef.usageDown,unit:"%"}}),tf("ReadingStat",{attrs:{message:"statusbar_usage_upload",value:ef.usageUp,unit:"%"}})],1)},_sfc_staticRenderFns$2=[],__component__$2=normalizeComponent(_sfc_main$2,_sfc_render$2,_sfc_staticRenderFns$2,!1,null,null,null,null);const PortUtilization=__component__$2.exports,StatusBar_vue_vue_type_style_index_0_lang="",_sfc_main$1={components:{PortUtilization,ReadingStat,StatusBarVersion},props:{portUsageDown:{type:Number,default:0},portUsageUp:{type:Number,default:0},packetError:{type:Number,default:0},i2cError:{type:Number,default:0},cycleTime:{type:Number,default:0},cpuLoad:{type:Number,default:0},configuratorVersion:{type:String,default:""},firmwareVersion:{type:String,default:""},firmwareId:{type:String,default:""},hardwareId:{type:String,default:""}}};var _sfc_render$1=function Qc(){var ef=this,tf=ef._self._c;return tf("div",{attrs:{id:"status-bar"}},[tf("PortUtilization",{attrs:{"usage-down":ef.portUsageDown,"usage-up":ef.portUsageUp}}),tf("ReadingStat",{attrs:{message:"statusbar_packet_error",value:ef.packetError}}),tf("ReadingStat",{attrs:{message:"statusbar_i2c_error",value:ef.i2cError}}),tf("ReadingStat",{attrs:{message:"statusbar_cycle_time",value:ef.cycleTime}}),tf("ReadingStat",{attrs:{message:"statusbar_cpu_load",value:ef.cpuLoad,unit:"%"}}),tf("StatusBarVersion",{attrs:{"configurator-version":ef.configuratorVersion,"firmware-version":ef.firmwareVersion,"firmware-id":ef.firmwareId,"hardware-id":ef.hardwareId}})],1)},_sfc_staticRenderFns$1=[],__component__$1=normalizeComponent(_sfc_main$1,_sfc_render$1,_sfc_staticRenderFns$1,!1,null,null,null,null);const StatusBar=__component__$1.exports,BatteryIcon_vue_vue_type_style_index_0_lang="",NO_BATTERY_VOLTAGE_MAXIMUM=1.8,_sfc_main={props:{voltage:{type:Number,default:0},vbatmincellvoltage:{type:Number,default:1},vbatmaxcellvoltage:{type:Number,default:1},vbatwarningcellvoltage:{type:Number,default:1}},computed:{nbCells(){let Qc=Math.floor(this.voltage/this.vbatmaxcellvoltage)+1;return this.voltage===0&&(Qc=1),Qc},min(){return this.vbatmincellvoltage*this.nbCells},max(){return this.vbatmaxcellvoltage*this.nbCells},warn(){return this.vbatwarningcellvoltage*this.nbCells},isEmpty(){return this.voltage<this.min&&this.voltage>NO_BATTERY_VOLTAGE_MAXIMUM},classes(){if(this.batteryState)return{"state-ok":this.batteryState===0,"state-warning":this.batteryState===1,"state-empty":this.batteryState===2};const Qc=this.voltage<this.warn;return{"state-empty":this.isEmpty,"state-warning":Qc,"state-ok":!this.isEmpty&&!Qc}},batteryWidth(){return this.isEmpty?100:(this.voltage-this.min)/(this.max-this.min)*100}}};var _sfc_render=function Qc(){var ef=this,tf=ef._self._c;return tf("div",{staticClass:"battery-icon"},[tf("div",{staticClass:"quad-status-contents"},[tf("div",{staticClass:"battery-status",class:ef.classes,style:{width:ef.batteryWidth+"%"}})])])},_sfc_staticRenderFns=[],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns,!1,null,null,null,null);const BatteryIcon=__component__.exports;var switchery={exports:{}};(function(Qc,ef){(function(){function tf(nf){var rf=tf.modules[nf];if(!rf)throw new Error('failed to require "'+nf+'"');return!("exports"in rf)&&typeof rf.definition=="function"&&(rf.client=rf.component=!0,rf.definition.call(this,rf.exports={},rf),delete rf.definition),rf.exports}tf.loader="component",tf.helper={},tf.helper.semVerSort=function(nf,rf){for(var sf=nf.version.split("."),af=rf.version.split("."),lf=0;lf<sf.length;++lf){var cf=parseInt(sf[lf],10),uf=parseInt(af[lf],10);if(cf===uf){var ff=sf[lf].substr((""+cf).length),df=af[lf].substr((""+uf).length);if(ff===""&&df!=="")return 1;if(ff!==""&&df==="")return-1;if(ff!==""&&df!=="")return ff>df?1:-1;continue}else return cf>uf?1:-1}return 0},tf.latest=function(nf,rf){function sf(Df){throw new Error('failed to find latest module of "'+Df+'"')}var af=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/,lf=/(.*)~(.*)/;lf.test(nf)||sf(nf);for(var cf=Object.keys(tf.modules),uf=[],ff=[],df=0;df<cf.length;df++){var gf=cf[df];if(new RegExp(nf+"@").test(gf)){var _f=gf.substr(nf.length+1),xf=af.exec(gf);xf!=null?uf.push({version:_f,name:gf}):ff.push({version:_f,name:gf})}}if(uf.concat(ff).length===0&&sf(nf),uf.length>0){var Af=uf.sort(tf.helper.semVerSort).pop().name;return rf===!0?Af:tf(Af)}var Af=ff.sort(function(Df,Of){return Df.name>Of.name})[0].name;return rf===!0?Af:tf(Af)},tf.modules={},tf.register=function(nf,rf){tf.modules[nf]={definition:rf}},tf.define=function(nf,rf){tf.modules[nf]={exports:rf}},tf.register("abpetkov~transitionize@0.0.3",function(nf,rf){rf.exports=sf;function sf(af,lf){if(!(this instanceof sf))return new sf(af,lf);this.element=af,this.props=lf||{},this.init()}sf.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},sf.prototype.init=function(){var af=[];for(var lf in this.props)af.push(lf+" "+this.props[lf]);this.element.style.transition=af.join(", "),this.isSafari()&&(this.element.style.webkitTransition=af.join(", "))}}),tf.register("ftlabs~fastclick@v0.6.11",function(nf,rf){/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 0.6.11
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */function sf(af){var lf,cf=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=af,!af||!af.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return sf.prototype.onClick.apply(cf,arguments)},this.onMouse=function(){return sf.prototype.onMouse.apply(cf,arguments)},this.onTouchStart=function(){return sf.prototype.onTouchStart.apply(cf,arguments)},this.onTouchMove=function(){return sf.prototype.onTouchMove.apply(cf,arguments)},this.onTouchEnd=function(){return sf.prototype.onTouchEnd.apply(cf,arguments)},this.onTouchCancel=function(){return sf.prototype.onTouchCancel.apply(cf,arguments)},!sf.notNeeded(af)&&(this.deviceIsAndroid&&(af.addEventListener("mouseover",this.onMouse,!0),af.addEventListener("mousedown",this.onMouse,!0),af.addEventListener("mouseup",this.onMouse,!0)),af.addEventListener("click",this.onClick,!0),af.addEventListener("touchstart",this.onTouchStart,!1),af.addEventListener("touchmove",this.onTouchMove,!1),af.addEventListener("touchend",this.onTouchEnd,!1),af.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(af.removeEventListener=function(uf,ff,df){var gf=Node.prototype.removeEventListener;uf==="click"?gf.call(af,uf,ff.hijacked||ff,df):gf.call(af,uf,ff,df)},af.addEventListener=function(uf,ff,df){var gf=Node.prototype.addEventListener;uf==="click"?gf.call(af,uf,ff.hijacked||(ff.hijacked=function(_f){_f.propagationStopped||ff(_f)}),df):gf.call(af,uf,ff,df)}),typeof af.onclick=="function"&&(lf=af.onclick,af.addEventListener("click",function(uf){lf(uf)},!1),af.onclick=null))}sf.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,sf.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),sf.prototype.deviceIsIOS4=sf.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),sf.prototype.deviceIsIOSWithBadTarget=sf.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),sf.prototype.needsClick=function(af){switch(af.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(af.disabled)return!0;break;case"input":if(this.deviceIsIOS&&af.type==="file"||af.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(af.className)},sf.prototype.needsFocus=function(af){switch(af.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(af.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!af.disabled&&!af.readOnly;default:return/\bneedsfocus\b/.test(af.className)}},sf.prototype.sendClick=function(af,lf){var cf,uf;document.activeElement&&document.activeElement!==af&&document.activeElement.blur(),uf=lf.changedTouches[0],cf=document.createEvent("MouseEvents"),cf.initMouseEvent(this.determineEventType(af),!0,!0,window,1,uf.screenX,uf.screenY,uf.clientX,uf.clientY,!1,!1,!1,!1,0,null),cf.forwardedTouchEvent=!0,af.dispatchEvent(cf)},sf.prototype.determineEventType=function(af){return this.deviceIsAndroid&&af.tagName.toLowerCase()==="select"?"mousedown":"click"},sf.prototype.focus=function(af){var lf;this.deviceIsIOS&&af.setSelectionRange&&af.type.indexOf("date")!==0&&af.type!=="time"?(lf=af.value.length,af.setSelectionRange(lf,lf)):af.focus()},sf.prototype.updateScrollParent=function(af){var lf,cf;if(lf=af.fastClickScrollParent,!lf||!lf.contains(af)){cf=af;do{if(cf.scrollHeight>cf.offsetHeight){lf=cf,af.fastClickScrollParent=cf;break}cf=cf.parentElement}while(cf)}lf&&(lf.fastClickLastScrollTop=lf.scrollTop)},sf.prototype.getTargetElementFromEventTarget=function(af){return af.nodeType===Node.TEXT_NODE?af.parentNode:af},sf.prototype.onTouchStart=function(af){var lf,cf,uf;if(af.targetTouches.length>1)return!0;if(lf=this.getTargetElementFromEventTarget(af.target),cf=af.targetTouches[0],this.deviceIsIOS){if(uf=window.getSelection(),uf.rangeCount&&!uf.isCollapsed)return!0;if(!this.deviceIsIOS4){if(cf.identifier===this.lastTouchIdentifier)return af.preventDefault(),!1;this.lastTouchIdentifier=cf.identifier,this.updateScrollParent(lf)}}return this.trackingClick=!0,this.trackingClickStart=af.timeStamp,this.targetElement=lf,this.touchStartX=cf.pageX,this.touchStartY=cf.pageY,af.timeStamp-this.lastClickTime<200&&af.preventDefault(),!0},sf.prototype.touchHasMoved=function(af){var lf=af.changedTouches[0],cf=this.touchBoundary;return Math.abs(lf.pageX-this.touchStartX)>cf||Math.abs(lf.pageY-this.touchStartY)>cf},sf.prototype.onTouchMove=function(af){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(af.target)||this.touchHasMoved(af))&&(this.trackingClick=!1,this.targetElement=null),!0},sf.prototype.findControl=function(af){return af.control!==void 0?af.control:af.htmlFor?document.getElementById(af.htmlFor):af.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},sf.prototype.onTouchEnd=function(af){var lf,cf,uf,ff,df,gf=this.targetElement;if(!this.trackingClick)return!0;if(af.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=af.timeStamp,cf=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(df=af.changedTouches[0],gf=document.elementFromPoint(df.pageX-window.pageXOffset,df.pageY-window.pageYOffset)||gf,gf.fastClickScrollParent=this.targetElement.fastClickScrollParent),uf=gf.tagName.toLowerCase(),uf==="label"){if(lf=this.findControl(gf),lf){if(this.focus(gf),this.deviceIsAndroid)return!1;gf=lf}}else if(this.needsFocus(gf))return af.timeStamp-cf>100||this.deviceIsIOS&&window.top!==window&&uf==="input"?(this.targetElement=null,!1):(this.focus(gf),(!this.deviceIsIOS4||uf!=="select")&&(this.targetElement=null,af.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(ff=gf.fastClickScrollParent,ff&&ff.fastClickLastScrollTop!==ff.scrollTop)?!0:(this.needsClick(gf)||(af.preventDefault(),this.sendClick(gf,af)),!1)},sf.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},sf.prototype.onMouse=function(af){return!this.targetElement||af.forwardedTouchEvent||!af.cancelable?!0:!this.needsClick(this.targetElement)||this.cancelNextClick?(af.stopImmediatePropagation?af.stopImmediatePropagation():af.propagationStopped=!0,af.stopPropagation(),af.preventDefault(),!1):!0},sf.prototype.onClick=function(af){var lf;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):af.target.type==="submit"&&af.detail===0?!0:(lf=this.onMouse(af),lf||(this.targetElement=null),lf)},sf.prototype.destroy=function(){var af=this.layer;this.deviceIsAndroid&&(af.removeEventListener("mouseover",this.onMouse,!0),af.removeEventListener("mousedown",this.onMouse,!0),af.removeEventListener("mouseup",this.onMouse,!0)),af.removeEventListener("click",this.onClick,!0),af.removeEventListener("touchstart",this.onTouchStart,!1),af.removeEventListener("touchmove",this.onTouchMove,!1),af.removeEventListener("touchend",this.onTouchEnd,!1),af.removeEventListener("touchcancel",this.onTouchCancel,!1)},sf.notNeeded=function(af){var lf,cf;if(typeof window.ontouchstart>"u")return!0;if(cf=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],cf)if(sf.prototype.deviceIsAndroid){if(lf=document.querySelector("meta[name=viewport]"),lf&&(lf.content.indexOf("user-scalable=no")!==-1||cf>31&&window.innerWidth<=window.screen.width))return!0}else return!0;return af.style.msTouchAction==="none"},sf.attach=function(af){return new sf(af)},typeof rf<"u"&&rf.exports?(rf.exports=sf.attach,rf.exports.FastClick=sf):window.FastClick=sf}),tf.register("component~indexof@0.0.3",function(nf,rf){rf.exports=function(sf,af){if(sf.indexOf)return sf.indexOf(af);for(var lf=0;lf<sf.length;++lf)if(sf[lf]===af)return lf;return-1}}),tf.register("component~classes@1.2.1",function(nf,rf){var sf=tf("component~indexof@0.0.3"),af=/\s+/,lf=Object.prototype.toString;rf.exports=function(uf){return new cf(uf)};function cf(uf){if(!uf)throw new Error("A DOM element reference is required");this.el=uf,this.list=uf.classList}cf.prototype.add=function(uf){if(this.list)return this.list.add(uf),this;var ff=this.array(),df=sf(ff,uf);return~df||ff.push(uf),this.el.className=ff.join(" "),this},cf.prototype.remove=function(uf){if(lf.call(uf)=="[object RegExp]")return this.removeMatching(uf);if(this.list)return this.list.remove(uf),this;var ff=this.array(),df=sf(ff,uf);return~df&&ff.splice(df,1),this.el.className=ff.join(" "),this},cf.prototype.removeMatching=function(uf){for(var ff=this.array(),df=0;df<ff.length;df++)uf.test(ff[df])&&this.remove(ff[df]);return this},cf.prototype.toggle=function(uf,ff){return this.list?(typeof ff<"u"?ff!==this.list.toggle(uf,ff)&&this.list.toggle(uf):this.list.toggle(uf),this):(typeof ff<"u"?ff?this.add(uf):this.remove(uf):this.has(uf)?this.remove(uf):this.add(uf),this)},cf.prototype.array=function(){var uf=this.el.className.replace(/^\s+|\s+$/g,""),ff=uf.split(af);return ff[0]===""&&ff.shift(),ff},cf.prototype.has=cf.prototype.contains=function(uf){return this.list?this.list.contains(uf):!!~sf(this.array(),uf)}}),tf.register("component~event@0.1.4",function(nf,rf){var sf=window.addEventListener?"addEventListener":"attachEvent",af=window.removeEventListener?"removeEventListener":"detachEvent",lf=sf!=="addEventListener"?"on":"";nf.bind=function(cf,uf,ff,df){return cf[sf](lf+uf,ff,df||!1),ff},nf.unbind=function(cf,uf,ff,df){return cf[af](lf+uf,ff,df||!1),ff}}),tf.register("component~query@0.0.3",function(nf,rf){function sf(af,lf){return lf.querySelector(af)}nf=rf.exports=function(af,lf){return lf=lf||document,sf(af,lf)},nf.all=function(af,lf){return lf=lf||document,lf.querySelectorAll(af)},nf.engine=function(af){if(!af.one)throw new Error(".one callback required");if(!af.all)throw new Error(".all callback required");return sf=af.one,nf.all=af.all,nf}}),tf.register("component~matches-selector@0.1.5",function(nf,rf){var sf=tf("component~query@0.0.3"),af=Element.prototype,lf=af.matches||af.webkitMatchesSelector||af.mozMatchesSelector||af.msMatchesSelector||af.oMatchesSelector;rf.exports=cf;function cf(uf,ff){if(!uf||uf.nodeType!==1)return!1;if(lf)return lf.call(uf,ff);for(var df=sf.all(ff,uf.parentNode),gf=0;gf<df.length;++gf)if(df[gf]==uf)return!0;return!1}}),tf.register("component~closest@0.1.4",function(nf,rf){var sf=tf("component~matches-selector@0.1.5");rf.exports=function(af,lf,cf,uf){for(af=cf?{parentNode:af}:af,uf=uf||document;(af=af.parentNode)&&af!==document;){if(sf(af,lf))return af;if(af===uf)return}}}),tf.register("component~delegate@0.2.3",function(nf,rf){var sf=tf("component~closest@0.1.4"),af=tf("component~event@0.1.4");nf.bind=function(lf,cf,uf,ff,df){return af.bind(lf,uf,function(gf){var _f=gf.target||gf.srcElement;gf.delegateTarget=sf(_f,cf,!0,lf),gf.delegateTarget&&ff.call(lf,gf)},df)},nf.unbind=function(lf,cf,uf,ff){af.unbind(lf,cf,uf,ff)}}),tf.register("component~events@1.0.9",function(nf,rf){var sf=tf("component~event@0.1.4"),af=tf("component~delegate@0.2.3");rf.exports=lf;function lf(uf,ff){if(!(this instanceof lf))return new lf(uf,ff);if(!uf)throw new Error("element required");if(!ff)throw new Error("object required");this.el=uf,this.obj=ff,this._events={}}lf.prototype.sub=function(uf,ff,df){this._events[uf]=this._events[uf]||{},this._events[uf][ff]=df},lf.prototype.bind=function(uf,Af){var df=cf(uf),gf=this.el,_f=this.obj,xf=df.name,Af=Af||"on"+xf,Df=[].slice.call(arguments,2);function Of(){var Gf=[].slice.call(arguments).concat(Df);_f[Af].apply(_f,Gf)}return df.selector?Of=af.bind(gf,df.selector,xf,Of):sf.bind(gf,xf,Of),this.sub(xf,Af,Of),Of},lf.prototype.unbind=function(uf,ff){if(arguments.length==0)return this.unbindAll();if(arguments.length==1)return this.unbindAllOf(uf);var df=this._events[uf];if(df){var gf=df[ff];gf&&sf.unbind(this.el,uf,gf)}},lf.prototype.unbindAll=function(){for(var uf in this._events)this.unbindAllOf(uf)},lf.prototype.unbindAllOf=function(uf){var ff=this._events[uf];if(ff)for(var df in ff)this.unbind(uf,df)};function cf(uf){var ff=uf.split(/ +/);return{name:ff.shift(),selector:ff.join(" ")}}}),tf.register("switchery",function(nf,rf){var sf=tf("abpetkov~transitionize@0.0.3"),af=tf("ftlabs~fastclick@v0.6.11"),lf=tf("component~classes@1.2.1"),cf=tf("component~events@1.0.9");rf.exports=ff;var uf={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};function ff(df,gf){if(!(this instanceof ff))return new ff(df,gf);this.element=df,this.options=gf||{};for(var _f in uf)this.options[_f]==null&&(this.options[_f]=uf[_f]);this.element!=null&&this.element.type=="checkbox"&&this.init(),this.isDisabled()===!0&&this.disable()}ff.prototype.hide=function(){this.element.style.display="none"},ff.prototype.show=function(){var df=this.create();this.insertAfter(this.element,df)},ff.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.events=cf(this.switcher,this),this.switcher},ff.prototype.insertAfter=function(df,gf){df.parentNode.insertBefore(gf,df.nextSibling)},ff.prototype.setPosition=function(df){var gf=this.isChecked(),_f=this.switcher,xf=this.jack;df&&gf?gf=!1:df&&!gf&&(gf=!0),gf===!0?(this.element.checked=!0,window.getComputedStyle?xf.style.left=parseInt(window.getComputedStyle(_f).width)-parseInt(window.getComputedStyle(xf).width)+"px":xf.style.left=parseInt(_f.currentStyle.width)-parseInt(xf.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(xf.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==uf.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor,this.setSpeed())},ff.prototype.setSpeed=function(){var df={},gf={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};this.isChecked()?df={border:this.options.speed,"box-shadow":this.options.speed,"background-color":this.options.speed.replace(/[a-z]/,"")*3+"s"}:df={border:this.options.speed,"box-shadow":this.options.speed},sf(this.switcher,df),sf(this.jack,gf)},ff.prototype.setSize=function(){var df="switchery-small",gf="switchery-default",_f="switchery-large";switch(this.options.size){case"small":lf(this.switcher).add(df);break;case"large":lf(this.switcher).add(_f);break;default:lf(this.switcher).add(gf);break}},ff.prototype.colorize=function(){var df=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+df+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},ff.prototype.handleOnchange=function(df){if(document.dispatchEvent){var gf=document.createEvent("HTMLEvents");gf.initEvent("change",!0,!0),this.element.dispatchEvent(gf)}else this.element.fireEvent("onchange")},ff.prototype.handleChange=function(){var df=this,gf=this.element;gf.addEventListener?gf.addEventListener("change",function(){df.setPosition()}):gf.attachEvent("onchange",function(){df.setPosition()})},ff.prototype.handleClick=function(){var df=this.switcher;af(df),this.events.bind("click","bindClick")},ff.prototype.bindClick=function(){var df=this.element.parentNode.tagName.toLowerCase(),gf=df!=="label";this.setPosition(gf),this.handleOnchange(this.element.checked)},ff.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},ff.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},ff.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()},ff.prototype.isChecked=function(){return this.element.checked},ff.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},ff.prototype.destroy=function(){this.events.unbind()},ff.prototype.enable=function(){this.options.disabled&&(this.options.disabled&&(this.options.disabled=!1),this.element.disabled&&(this.element.disabled=!1),this.element.readOnly&&(this.element.readOnly=!1),this.switcher.style.opacity=1,this.events.bind("click","bindClick"))},ff.prototype.disable=function(){this.options.disabled||(this.options.disabled||(this.options.disabled=!0),this.element.disabled||(this.element.disabled=!0),this.element.readOnly||(this.element.readOnly=!0),this.switcher.style.opacity=this.options.disabledOpacity,this.destroy())}}),Qc.exports=tf("switchery")})()})(switchery);var switcheryExports=switchery.exports;const Switchery=getDefaultExportFromCjs(switcheryExports),TABS={},GUI_MODES={NWJS:"NW.js",Cordova:"Cordova",Other:"Other"};class GuiControl{constructor(){this.auto_connect=!1,this.connecting_to=!1,this.connected_to=!1,this.connect_lock=!1,this.active_tab=null,this.tab_switch_in_progress=!1,this.operating_system=null,this.interval_array=[],this.timeout_array=[],this.buttonDisabledClass="disabled",this.defaultAllowedTabsWhenDisconnected=["landing","changelog","firmware_flasher","privacy_policy","options","help"],this.defaultAllowedTabs=["setup","failsafe","power","adjustments","auxiliary","presets","cli","configuration","logging","onboard_logging","modes","motors","pid_tuning","ports","receiver","sensors","vtx"],this.defaultCloudBuildTabOptions=["gps","led_strip","osd","servos","transponder"],this.defaultAllowedFCTabsWhenConnected=[...this.defaultAllowedTabs,...this.defaultCloudBuildTabOptions],this.allowedTabs=this.defaultAllowedTabsWhenDisconnected,this.operating_system=GUI_checkOperatingSystem(),this.nwGui=null;try{this.nwGui=require("nw.gui"),this.Mode=GUI_MODES.NWJS}catch{typeof cordovaApp<"u"?this.Mode=GUI_MODES.Cordova:this.Mode=GUI_MODES.Other}}interval_add(ef,tf,nf,rf){const sf={name:ef,timer:null,code:tf,interval:nf,fired:0,paused:!1};return rf===!0&&(tf(),sf.fired++),sf.timer=setInterval(function(){tf(),sf.fired++},nf),this.interval_array.push(sf),sf}interval_add_condition(ef,tf,nf,rf,sf){this.interval_add(ef,()=>{sf()?tf():this.interval_remove(ef)},nf,rf)}interval_remove(ef){for(let tf=0;tf<this.interval_array.length;tf++)if(this.interval_array[tf].name===ef)return clearInterval(this.interval_array[tf].timer),this.interval_array.splice(tf,1),!0;return!1}interval_pause(ef){for(let tf=0;tf<this.interval_array.length;tf++)if(this.interval_array[tf].name===ef)return clearInterval(this.interval_array[tf].timer),this.interval_array[tf].paused=!0,!0;return!1}interval_resume(ef){function tf(nf){nf.code(),nf.fired++}for(let nf=0;nf<this.interval_array.length;nf++)if(this.interval_array[nf].name===ef&&this.interval_array[nf].paused){const rf=this.interval_array[nf];return rf.timer=setInterval(tf,rf.interval,rf),rf.paused=!1,!0}return!1}interval_kill_all(ef){const tf=this;let nf=0;for(let rf=this.interval_array.length-1;rf>=0;rf--){let sf=!1;ef&&ef.forEach(function(af){tf.interval_array[rf].name===af&&(sf=!0)}),sf||(clearInterval(this.interval_array[rf].timer),this.interval_array.splice(rf,1),nf++)}return nf}timeout_add(ef,tf,nf){const rf=this,sf={name:ef,timer:null,timeout:nf};return sf.timer=setTimeout(function(){tf();const af=rf.timeout_array.indexOf(sf);af>-1&&rf.timeout_array.splice(af,1)},nf),rf.timeout_array.push(sf),sf}timeout_remove(ef){for(let tf=0;tf<this.timeout_array.length;tf++)if(this.timeout_array[tf].name===ef)return clearTimeout(this.timeout_array[tf].timer),this.timeout_array.splice(tf,1),!0;return!1}timeout_kill_all(){let ef=0;for(let tf=0;tf<this.timeout_array.length;tf++)clearTimeout(this.timeout_array[tf].timer),ef++;return this.timeout_array=[],ef}tab_switch_cleanup(ef){MSP$1.callbacks_cleanup(),this.interval_kill_all(),this.active_tab&&TABS[this.active_tab]?TABS[this.active_tab].cleanup(ef):ef()}switchery(){const ef="#ff8651",tf="var(--switcherysecond)";$$1(".togglesmall").each(function(nf,rf){const sf=new Switchery(rf,{size:"small",color:ef,secondaryColor:tf});$$1(rf).on("change",function(){sf.setPosition()}),$$1(rf).removeClass("togglesmall")}),$$1(".toggle").each(function(nf,rf){const sf=new Switchery(rf,{color:ef,secondaryColor:tf});$$1(rf).on("change",function(){sf.setPosition()}),$$1(rf).removeClass("toggle")}),$$1(".togglemedium").each(function(nf,rf){const sf=new Switchery(rf,{className:"switcherymid",color:ef,secondaryColor:tf});$$1(rf).on("change",function(){sf.setPosition()}),$$1(rf).removeClass("togglemedium")})}content_ready(ef){this.switchery();const tf=$$1("div#content #button-documentation"),nf=GUI.active_tab.replaceAll("_","-").toLowerCase();tf.html("Wiki").attr("href",`https://betaflight.com/docs/wiki/configurator/${nf}-tab`),$$1(function(){new jBox("Tooltip",{attach:".cf_tip",trigger:"mouseenter",closeOnMouseleave:!0,closeOnClick:"body",delayOpen:100,delayClose:100,position:{x:"right",y:"center"},outside:"x"}),new jBox("Tooltip",{theme:"Widetip",attach:".cf_tip_wide",trigger:"mouseenter",closeOnMouseleave:!0,closeOnClick:"body",delayOpen:100,delayClose:100,position:{x:"right",y:"center"},outside:"x"})}),ef&&ef()}selectDefaultTabWhenConnected(){const ef=get$3(["rememberLastTab","lastTab"]),tf=ef.rememberLastTab&&ef.lastTab&&this.allowedTabs.includes(ef.lastTab.substring(4))?ef.lastTab:"tab_setup";$$1(`#tabs ul.mode-connected .${tf} a`).trigger("click")}isNWJS(){return this.Mode===GUI_MODES.NWJS}isCordova(){return this.Mode===GUI_MODES.Cordova}isOther(){return this.Mode===GUI_MODES.Other}showYesNoDialog(ef){const tf=$$1(".dialogYesNo"),nf=tf.find(".dialogYesNoTitle"),rf=tf.find(".dialogYesNoContent"),sf=tf.find(".dialogYesNo-yesButton"),af=tf.find(".dialogYesNo-noButton");nf.html(ef.title),rf.html(ef.text),sf.html(ef.buttonYesText),af.html(ef.buttonNoText),sf.off("click"),af.off("click"),sf.on("click",()=>{var lf;tf[0].close(),(lf=ef.buttonYesCallback)==null||lf.call(ef)}),af.on("click",()=>{var lf;tf[0].close(),(lf=ef.buttonNoCallback)==null||lf.call(ef)}),tf[0].showModal()}showWaitDialog(ef){const tf=$$1(".dialogWait")[0],nf=$$1(".dialogWaitTitle"),rf=$$1(".dialogWait-cancelButton");return nf.html(ef.title),rf.toggle(!!ef.buttonCancelCallback),rf.off("click"),rf.on("click",()=>{var sf;tf.close(),(sf=ef.buttonCancelCallback)==null||sf.call(ef)}),tf.showModal(),tf}showInformationDialog(ef){return new Promise(tf=>{const nf=$$1(".dialogInformation"),rf=nf.find(".dialogInformationTitle"),sf=nf.find(".dialogInformationContent"),af=nf.find(".dialogInformation-confirmButton");rf.html(ef.title),sf.html(ef.text),af.html(ef.buttonConfirmText),af.off("click"),af.on("click",()=>{nf[0].close(),tf()}),nf[0].showModal()})}saveToTextFileDialog(ef,tf,nf){return new Promise((rf,sf)=>{const af=[{description:`${nf.toUpperCase()} files`,extensions:[nf]}];chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:tf,accepts:af},lf=>this._saveToTextFileDialogFileSelected(lf,ef,rf,sf))})}_saveToTextFileDialogFileSelected(ef,tf,nf,rf){if(checkChromeRuntimeError(),!ef){console.log("No file selected for saving"),nf(!1);return}ef.createWriter(sf=>{sf.onerror=()=>{rf(),console.error("Failed to write file")},sf.onwriteend=()=>{tf.length>0&&sf.length===0?sf.write(new Blob([tf],{type:"text/plain"})):(nf(!0),console.log("File write complete"))},sf.truncate(0)},()=>{rf(),console.error("Failed to get file writer")})}readTextFileDialog(ef){const tf=[{description:`${ef.toUpperCase()} files`,extensions:[ef]}];return new Promise((nf,rf)=>{chrome.fileSystem.chooseEntry({type:"openFile",accepts:tf},function(sf){if(checkChromeRuntimeError(),!sf){console.log("No file selected for loading"),nf(!1);return}sf.file(af=>{const lf=new FileReader;lf.onload=()=>nf(lf.result),lf.onerror=()=>{console.error(lf.error),rf()},lf.readAsText(af)})})})}escapeHtml(ef){return ef.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}addLinksTargetBlank(ef){ef.find("a").each(function(){$$1(this).attr("target","_blank")})}}function GUI_checkOperatingSystem(){var Qc;return((Qc=navigator==null?void 0:navigator.userAgentData)==null?void 0:Qc.platform)||"Android"}const GUI=new GuiControl;var inflection$1={exports:{}};/*!
 * inflection
 * Copyright(c) 2011 Ben Lin <ben@dreamerslab.com>
 * MIT Licensed
 *
 * @fileoverview
 * A port of inflection-js to node.js module.
 */(function(Qc,ef){(function(tf,nf){Qc.exports=nf()})(commonjsGlobal,function(){var tf=["accommodation","adulthood","advertising","advice","aggression","aid","air","aircraft","alcohol","anger","applause","arithmetic","assistance","athletics","bacon","baggage","beef","biology","blood","botany","bread","butter","carbon","cardboard","cash","chalk","chaos","chess","crossroads","countryside","dancing","deer","dignity","dirt","dust","economics","education","electricity","engineering","enjoyment","envy","equipment","ethics","evidence","evolution","fame","fiction","flour","flu","food","fuel","fun","furniture","gallows","garbage","garlic","genetics","gold","golf","gossip","gratitude","grief","guilt","gymnastics","happiness","hardware","harm","hate","hatred","health","heat","help","homework","honesty","honey","hospitality","housework","humour","hunger","hydrogen","ice","importance","inflation","information","innocence","iron","irony","jam","jewelry","judo","karate","knowledge","lack","laughter","lava","leather","leisure","lightning","linguine","linguini","linguistics","literature","litter","livestock","logic","loneliness","luck","luggage","macaroni","machinery","magic","management","mankind","marble","mathematics","mayonnaise","measles","methane","milk","minus","money","mud","music","mumps","nature","news","nitrogen","nonsense","nurture","nutrition","obedience","obesity","oxygen","pasta","patience","physics","poetry","pollution","poverty","pride","psychology","publicity","punctuation","quartz","racism","relaxation","reliability","research","respect","revenge","rice","rubbish","rum","safety","scenery","seafood","seaside","series","shame","sheep","shopping","sleep","smoke","smoking","snow","soap","software","soil","spaghetti","species","steam","stuff","stupidity","sunshine","symmetry","tennis","thirst","thunder","timber","traffic","transportation","trust","underwear","unemployment","unity","validity","veal","vegetation","vegetarianism","vengeance","violence","vitality","warmth","wealth","weather","welfare","wheat","wildlife","wisdom","yoga","zinc","zoology"],nf={plural:{men:new RegExp("^(m|wom)en$","gi"),people:new RegExp("(pe)ople$","gi"),children:new RegExp("(child)ren$","gi"),tia:new RegExp("([ti])a$","gi"),analyses:new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),databases:new RegExp("(database)s$","gi"),drives:new RegExp("(drive)s$","gi"),hives:new RegExp("(hi|ti)ves$","gi"),curves:new RegExp("(curve)s$","gi"),lrves:new RegExp("([lr])ves$","gi"),aves:new RegExp("([a])ves$","gi"),foves:new RegExp("([^fo])ves$","gi"),movies:new RegExp("(m)ovies$","gi"),aeiouyies:new RegExp("([^aeiouy]|qu)ies$","gi"),series:new RegExp("(s)eries$","gi"),xes:new RegExp("(x|ch|ss|sh)es$","gi"),mice:new RegExp("([m|l])ice$","gi"),buses:new RegExp("(bus)es$","gi"),oes:new RegExp("(o)es$","gi"),shoes:new RegExp("(shoe)s$","gi"),crises:new RegExp("(cris|ax|test)es$","gi"),octopuses:new RegExp("(octop|vir)uses$","gi"),aliases:new RegExp("(alias|canvas|status|campus)es$","gi"),summonses:new RegExp("^(summons|bonus)es$","gi"),oxen:new RegExp("^(ox)en","gi"),matrices:new RegExp("(matr)ices$","gi"),vertices:new RegExp("(vert|ind)ices$","gi"),feet:new RegExp("^feet$","gi"),teeth:new RegExp("^teeth$","gi"),geese:new RegExp("^geese$","gi"),quizzes:new RegExp("(quiz)zes$","gi"),whereases:new RegExp("^(whereas)es$","gi"),criteria:new RegExp("^(criteri)a$","gi"),genera:new RegExp("^genera$","gi"),ss:new RegExp("ss$","gi"),s:new RegExp("s$","gi")},singular:{man:new RegExp("^(m|wom)an$","gi"),person:new RegExp("(pe)rson$","gi"),child:new RegExp("(child)$","gi"),drive:new RegExp("(drive)$","gi"),ox:new RegExp("^(ox)$","gi"),axis:new RegExp("(ax|test)is$","gi"),octopus:new RegExp("(octop|vir)us$","gi"),alias:new RegExp("(alias|status|canvas|campus)$","gi"),summons:new RegExp("^(summons|bonus)$","gi"),bus:new RegExp("(bu)s$","gi"),buffalo:new RegExp("(buffal|tomat|potat)o$","gi"),tium:new RegExp("([ti])um$","gi"),sis:new RegExp("sis$","gi"),ffe:new RegExp("(?:([^f])fe|([lr])f)$","gi"),hive:new RegExp("(hi|ti)ve$","gi"),aeiouyy:new RegExp("([^aeiouy]|qu)y$","gi"),x:new RegExp("(x|ch|ss|sh)$","gi"),matrix:new RegExp("(matr)ix$","gi"),vertex:new RegExp("(vert|ind)ex$","gi"),mouse:new RegExp("([m|l])ouse$","gi"),foot:new RegExp("^foot$","gi"),tooth:new RegExp("^tooth$","gi"),goose:new RegExp("^goose$","gi"),quiz:new RegExp("(quiz)$","gi"),whereas:new RegExp("^(whereas)$","gi"),criterion:new RegExp("^(criteri)on$","gi"),genus:new RegExp("^genus$","gi"),s:new RegExp("s$","gi"),common:new RegExp("$","gi")}},rf=[[nf.plural.men],[nf.plural.people],[nf.plural.children],[nf.plural.tia],[nf.plural.analyses],[nf.plural.databases],[nf.plural.drives],[nf.plural.hives],[nf.plural.curves],[nf.plural.lrves],[nf.plural.foves],[nf.plural.aeiouyies],[nf.plural.series],[nf.plural.movies],[nf.plural.xes],[nf.plural.mice],[nf.plural.buses],[nf.plural.oes],[nf.plural.shoes],[nf.plural.crises],[nf.plural.octopuses],[nf.plural.aliases],[nf.plural.summonses],[nf.plural.oxen],[nf.plural.matrices],[nf.plural.feet],[nf.plural.teeth],[nf.plural.geese],[nf.plural.quizzes],[nf.plural.whereases],[nf.plural.criteria],[nf.plural.genera],[nf.singular.man,"$1en"],[nf.singular.person,"$1ople"],[nf.singular.child,"$1ren"],[nf.singular.drive,"$1s"],[nf.singular.ox,"$1en"],[nf.singular.axis,"$1es"],[nf.singular.octopus,"$1uses"],[nf.singular.alias,"$1es"],[nf.singular.summons,"$1es"],[nf.singular.bus,"$1ses"],[nf.singular.buffalo,"$1oes"],[nf.singular.tium,"$1a"],[nf.singular.sis,"ses"],[nf.singular.ffe,"$1$2ves"],[nf.singular.hive,"$1ves"],[nf.singular.aeiouyy,"$1ies"],[nf.singular.matrix,"$1ices"],[nf.singular.vertex,"$1ices"],[nf.singular.x,"$1es"],[nf.singular.mouse,"$1ice"],[nf.singular.foot,"feet"],[nf.singular.tooth,"teeth"],[nf.singular.goose,"geese"],[nf.singular.quiz,"$1zes"],[nf.singular.whereas,"$1es"],[nf.singular.criterion,"$1a"],[nf.singular.genus,"genera"],[nf.singular.s,"s"],[nf.singular.common,"s"]],sf=[[nf.singular.man],[nf.singular.person],[nf.singular.child],[nf.singular.drive],[nf.singular.ox],[nf.singular.axis],[nf.singular.octopus],[nf.singular.alias],[nf.singular.summons],[nf.singular.bus],[nf.singular.buffalo],[nf.singular.tium],[nf.singular.sis],[nf.singular.ffe],[nf.singular.hive],[nf.singular.aeiouyy],[nf.singular.x],[nf.singular.matrix],[nf.singular.mouse],[nf.singular.foot],[nf.singular.tooth],[nf.singular.goose],[nf.singular.quiz],[nf.singular.whereas],[nf.singular.criterion],[nf.singular.genus],[nf.plural.men,"$1an"],[nf.plural.people,"$1rson"],[nf.plural.children,"$1"],[nf.plural.databases,"$1"],[nf.plural.drives,"$1"],[nf.plural.genera,"genus"],[nf.plural.criteria,"$1on"],[nf.plural.tia,"$1um"],[nf.plural.analyses,"$1$2sis"],[nf.plural.hives,"$1ve"],[nf.plural.curves,"$1"],[nf.plural.lrves,"$1f"],[nf.plural.aves,"$1ve"],[nf.plural.foves,"$1fe"],[nf.plural.movies,"$1ovie"],[nf.plural.aeiouyies,"$1y"],[nf.plural.series,"$1eries"],[nf.plural.xes,"$1"],[nf.plural.mice,"$1ouse"],[nf.plural.buses,"$1"],[nf.plural.oes,"$1"],[nf.plural.shoes,"$1"],[nf.plural.crises,"$1is"],[nf.plural.octopuses,"$1us"],[nf.plural.aliases,"$1"],[nf.plural.summonses,"$1"],[nf.plural.oxen,"$1"],[nf.plural.matrices,"$1ix"],[nf.plural.vertices,"$1ex"],[nf.plural.feet,"foot"],[nf.plural.teeth,"tooth"],[nf.plural.geese,"goose"],[nf.plural.quizzes,"$1"],[nf.plural.whereases,"$1"],[nf.plural.ss,"ss"],[nf.plural.s,""]],af=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],lf=new RegExp("(_ids|_id)$","g"),cf=new RegExp("_","g"),uf=new RegExp("[ _]","g"),ff=new RegExp("([A-Z])","g"),df=new RegExp("^_"),gf={_apply_rules:function(_f,xf,Af,Df){if(Df)_f=Df;else{var Of=gf.indexOf(Af,_f.toLowerCase())>-1;if(!Of){for(var Gf=0,Bf=xf.length;Gf<Bf;Gf++)if(_f.match(xf[Gf][0])){xf[Gf][1]!==void 0&&(_f=_f.replace(xf[Gf][0],xf[Gf][1]));break}}}return _f},indexOf:function(_f,xf,Af,Df){Af||(Af=-1);for(var Of=-1,Gf=Af,Bf=_f.length;Gf<Bf;Gf++)if(_f[Gf]===xf||Df&&Df(_f[Gf],xf)){Of=Gf;break}return Of},pluralize:function(_f,xf){return gf._apply_rules(_f,rf,tf,xf)},singularize:function(_f,xf){return gf._apply_rules(_f,sf,tf,xf)},inflect:function(_f,xf,Af,Df){return xf=parseFloat(xf,10),isNaN(xf)?_f:xf===1?gf._apply_rules(_f,sf,tf,Af):gf._apply_rules(_f,rf,tf,Df)},camelize:function(_f,xf){for(var Af=_f.split("/"),Df=0,Of=Af.length,Gf,Bf,Vf,Lf;Df<Of;Df++){for(Gf=Af[Df].split("_"),Bf=0,Vf=Gf.length;Bf<Vf;Bf++)Bf!==0&&(Gf[Bf]=Gf[Bf].toLowerCase()),Lf=Gf[Bf].charAt(0),Lf=xf&&Df===0&&Bf===0?Lf.toLowerCase():Lf.toUpperCase(),Gf[Bf]=Lf+Gf[Bf].substring(1);Af[Df]=Gf.join("")}return Af.join("::")},underscore:function(_f,xf){if(xf&&_f===_f.toUpperCase())return _f;for(var Af=_f.split("::"),Df=0,Of=Af.length;Df<Of;Df++)Af[Df]=Af[Df].replace(ff,"_$1"),Af[Df]=Af[Df].replace(df,"");return Af.join("/").toLowerCase()},humanize:function(_f,xf){return _f=_f.toLowerCase(),_f=_f.replace(lf,""),_f=_f.replace(cf," "),xf||(_f=gf.capitalize(_f)),_f},capitalize:function(_f){return _f=_f.toLowerCase(),_f.substring(0,1).toUpperCase()+_f.substring(1)},dasherize:function(_f){return _f.replace(uf,"-")},titleize:function(_f){_f=_f.toLowerCase().replace(cf," ");for(var xf=_f.split(" "),Af=0,Df=xf.length,Of,Gf,Bf;Af<Df;Af++){for(Of=xf[Af].split("-"),Gf=0,Bf=Of.length;Gf<Bf;Gf++)gf.indexOf(af,Of[Gf].toLowerCase())<0&&(Of[Gf]=gf.capitalize(Of[Gf]));xf[Af]=Of.join("-")}return _f=xf.join(" "),_f=_f.substring(0,1).toUpperCase()+_f.substring(1),_f},demodulize:function(_f){var xf=_f.split("::");return xf[xf.length-1]},tableize:function(_f){return _f=gf.underscore(_f),_f=gf.pluralize(_f),_f},classify:function(_f){return _f=gf.camelize(_f),_f=gf.singularize(_f),_f},foreign_key:function(_f,xf){return _f=gf.demodulize(_f),_f=gf.underscore(_f)+(xf?"":"_")+"id",_f},ordinalize:function(_f){for(var xf=_f.split(" "),Af=0,Df=xf.length;Af<Df;Af++){var Of=parseInt(xf[Af],10);if(!isNaN(Of)){var Gf=xf[Af].substring(xf[Af].length-2),Bf=xf[Af].substring(xf[Af].length-1),Vf="th";Gf!="11"&&Gf!="12"&&Gf!="13"&&(Bf==="1"?Vf="st":Bf==="2"?Vf="nd":Bf==="3"&&(Vf="rd")),xf[Af]+=Vf}}return xf.join(" ")},transform:function(_f,xf){for(var Af=0,Df=xf.length;Af<Df;Af++){var Of=xf[Af];gf.hasOwnProperty(Of)&&(_f=gf[Of](_f))}return _f}};return gf.version="1.13.1",gf})})(inflection$1);var inflectionExports=inflection$1.exports;const inflection=getDefaultExportFromCjs(inflectionExports),MDNS_INTERVAL=1e4,TCP_CHECK_INTERVAL=5e3,TCP_TIMEOUT=2e3,MdnsDiscovery=new function(){this.mdnsBrowser={services:[],browser:null},this.tcpCheckLock=!1};MdnsDiscovery.initialize=function(){const Qc=this;if(GUI.isCordova()){let tf=function(){ef.registerAddressFamily="ipv4",ef.watchAddressFamily="ipv4",ef.watch("_http._tcp.","local.",nf=>{const rf=nf.action,sf=nf.service;rf==="resolved"&&sf.name.includes("elrs_rx")?(console.log("Zeroconf Service Changed",sf),Qc.mdnsBrowser.services.push({addresses:sf.ipv4Addresses,txt:sf.txtRecord,fqdn:`${sf.name}._http._tcp.local.`,ready:!0})):rf==="added"&&sf.name.includes("elrs_rx")&&setTimeout(()=>{(Qc.mdnsBrowser.services.length===0||Qc.mdnsBrowser.services.filter(af=>af.fqdn===`${sf.name}._http._tcp.local.`)[0].ready===!1)&&(ef.close(),tf())},1e3)})};const ef=cordova.plugins.zeroconf;tf()}else{if(typeof require>"u")return"not implemented";const ef=require("bonjour")();Qc.mdnsBrowser.browser=ef.find({type:"http"},tf=>{console.log("Found HTTP service",tf),Qc.mdnsBrowser.services.push({addresses:tf.addresses,txt:tf.txt,fqdn:tf.fqdn,ready:!0})})}setInterval(()=>{GUI.isCordova()&&Qc.mdnsBrowser.services.length>0?Qc.mdnsBrowser.services.filter(tf=>tf.ready===!1).forEach(function(tf){$.ajax({url:`http://${tf.addresses[0]}`,success:()=>{Qc.mdnsBrowser.services=Qc.mdnsBrowser.services.map(nf=>nf.fqdn===tf.fqdn?{...nf,ready:!0}:nf)},error:()=>{},timeout:TCP_TIMEOUT})}):!GUI.connected_to&&Qc.mdnsBrowser.browser&&Qc.mdnsBrowser.browser.update()},MDNS_INTERVAL),setInterval(()=>{Qc.tcpCheck()},TCP_CHECK_INTERVAL)};MdnsDiscovery.tcpCheck=function(){var ef;const Qc=this;if(!Qc.tcpCheckLock)if(Qc.tcpCheckLock=!0,((ef=PortHandler$1.initialPorts)==null?void 0:ef.length)>0){const tf=PortHandler$1.initialPorts.filter(nf=>nf.path.startsWith("tcp://"));tf.forEach(function(nf){const rf=()=>{GUI.isCordova()?Qc.mdnsBrowser.services=Qc.mdnsBrowser.services.map(sf=>sf.fqdn===nf.fqdn?{...sf,ready:!1}:sf):(Qc.mdnsBrowser.browser._removeService(nf.fqdn),Qc.mdnsBrowser.services=Qc.mdnsBrowser.services.filter(sf=>sf.fqdn!==nf.fqdn))};$.ajax({url:`http://${nf.path.split("//").pop()}`,error:rf,timeout:TCP_TIMEOUT})}),setTimeout(()=>{Qc.tcpCheckLock=!1},Math.min(tf.length,1)*(TCP_TIMEOUT+1))}else Qc.tcpCheckLock=!1};function isWeb(){return!!{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}}const TIMEOUT_CHECK=500,usbDevices={filters:[{vendorId:1155,productId:57105},{vendorId:10473,productId:393},{vendorId:11836,productId:57105},{vendorId:12619,productId:262}]},PortHandler=new function(){this.initialPorts=!1,this.port_detected_callbacks=[],this.port_removed_callbacks=[],this.dfu_available=!1,this.port_available=!1,this.showAllSerialDevices=!1,this.useMdnsBrowser=!1,this.showVirtualMode=!1};PortHandler.initialize=function(){const Qc=this;if(isWeb())return"not implemented";const ef="div#port-picker #port";Qc.portPickerElement=$$1(ef),Qc.selectList=document.querySelector(ef),Qc.initialWidth=Qc.selectList.offsetWidth+12,generateVirtualApiVersions(),this.reinitialize()};PortHandler.reinitialize=function(){this.initialPorts=!1,this.usbCheckLoop&&clearTimeout(this.usbCheckLoop),this.showVirtualMode=get$3("showVirtualMode").showVirtualMode,this.showAllSerialDevices=get$3("showAllSerialDevices").showAllSerialDevices,this.useMdnsBrowser=get$3("useMdnsBrowser").useMdnsBrowser,this.useMdnsBrowser&&MdnsDiscovery.initialize(),this.check()};PortHandler.check=function(){const Qc=this;Qc.port_available||Qc.check_usb_devices(),Qc.dfu_available||Qc.check_serial_devices(),Qc.usbCheckLoop=setTimeout(()=>{Qc.check()},TIMEOUT_CHECK)};PortHandler.check_serial_devices=function(){const Qc=this;serial$3.getDevices(function(ef){var nf;let tf=[];Qc.useMdnsBrowser?tf=[...ef,...((nf=MdnsDiscovery.mdnsBrowser.services)==null?void 0:nf.filter(rf=>{var sf,af;return((sf=rf.txt)==null?void 0:sf.vendor)==="elrs"&&((af=rf.txt)==null?void 0:af.type)==="rx"&&rf.ready===!0}).map(rf=>rf.addresses.map(sf=>{var af,lf;return{path:`tcp://${sf}`,displayName:`${(af=rf.txt)==null?void 0:af.target} - ${(lf=rf.txt)==null?void 0:lf.version}`,fqdn:rf.fqdn,vendorId:0,productId:0}})).flat())??[]].filter(Boolean):tf=ef,Qc.initialPorts?(Qc.removePort(tf),Qc.detectPort(tf)):(tf=Qc.updatePortSelect(tf),Qc.selectPort(tf),Qc.initialPorts=tf,GUI.updateManualPortVisibility())})};PortHandler.check_usb_devices=function(Qc){const ef=this;chrome.usb.getDevices(usbDevices,function(tf){const nf=ef.portPickerElement.children("[value='DFU']");if(tf.length){if(!nf.length){ef.portPickerElement.empty();let rf;tf[0].productName?rf=`DFU - ${tf[0].productName}`:rf="DFU",ef.portPickerElement.append($$1("<option/>",{value:"DFU",text:rf,data:{isDFU:!0}})),ef.portPickerElement.append($$1("<option/>",{value:"manual",text:i18n.getMessage("portsSelectManual"),data:{isManual:!0}})),ef.portPickerElement.val("DFU").trigger("change"),ef.setPortsInputWidth()}ef.dfu_available=!0}else nf.length&&(nf.remove(),ef.setPortsInputWidth()),ef.dfu_available=!1;Qc&&Qc(ef.dfu_available),$$1("option:selected",ef.portPickerElement).data().isDFU||(GUI.connected_to||GUI.connect_lock||FC.resetState(),ef.dfu_available&&ef.portPickerElement.trigger("change"))})};PortHandler.removePort=function(Qc){const ef=this,tf=ef.array_difference(ef.initialPorts,Qc);if(tf.length){if(console.log(`PortHandler - Removed: ${JSON.stringify(tf)}`),ef.port_available=!1,GUI.connected_to)for(let nf=0;nf<tf.length;nf++)tf[nf].path===GUI.connected_to&&($$1("div.connect_controls a.connect").click(),$$1("div.connect_controls a.connect.active").click());for(let nf=ef.port_removed_callbacks.length-1;nf>=0;nf--){const rf=ef.port_removed_callbacks[nf];clearTimeout(rf.timer),rf.code(tf);const sf=ef.port_removed_callbacks.indexOf(rf);sf>-1&&ef.port_removed_callbacks.splice(sf,1)}for(let nf=0;nf<tf.length;nf++)ef.initialPorts.splice(ef.initialPorts.indexOf(tf[nf]),1);ef.updatePortSelect(ef.initialPorts),ef.portPickerElement.trigger("change")}};PortHandler.detectPort=function(Qc){const ef=this,tf=ef.array_difference(Qc,ef.initialPorts);if(tf.length){Qc=ef.updatePortSelect(Qc),console.log(`PortHandler - Found: ${JSON.stringify(tf)}`),tf.length===1?ef.portPickerElement.val(tf[0].path):tf.length>1&&ef.selectPort(Qc),ef.port_available=!0,GUI.active_tab==="firmware_flasher"&&TABS.firmware_flasher.allowBoardDetection&&(TABS.firmware_flasher.boardNeedsVerification=!0),ef.portPickerElement.trigger("change"),GUI.auto_connect&&!GUI.connecting_to&&!GUI.connected_to&&GUI.active_tab!=="firmware_flasher"&&$$1("div.connect_controls a.connect").click();for(let nf=ef.port_detected_callbacks.length-1;nf>=0;nf--){const rf=ef.port_detected_callbacks[nf];clearTimeout(rf.timer),rf.code(tf);const sf=ef.port_detected_callbacks.indexOf(rf);sf>-1&&ef.port_detected_callbacks.splice(sf,1)}ef.initialPorts=Qc}};PortHandler.sortPorts=function(Qc){return Qc.sort(function(ef,tf){return ef.path.localeCompare(tf.path,window.navigator.language,{numeric:!0,sensitivity:"base"})})};PortHandler.updatePortSelect=function(Qc){Qc=this.sortPorts(Qc),this.portPickerElement.empty();for(let ef=0;ef<Qc.length;ef++){let tf;Qc[ef].displayName?tf=`${Qc[ef].path} - ${Qc[ef].displayName}`:tf=Qc[ef].path,this.portPickerElement.append($$1("<option/>",{value:Qc[ef].path,text:tf,data:{isManual:!1}}))}return this.showVirtualMode&&this.portPickerElement.append($$1("<option/>",{value:"virtual",text:i18n.getMessage("portsSelectVirtual"),data:{isVirtual:!0}})),this.portPickerElement.append($$1("<option/>",{value:"manual",text:i18n.getMessage("portsSelectManual"),data:{isManual:!0}})),this.setPortsInputWidth(),Qc};PortHandler.selectPort=function(Qc){const ef=GUI.operating_system;for(let tf=0;tf<Qc.length;tf++){const nf=Qc[tf].displayName;if(nf){const rf=Qc[tf].path,sf=ef==="Windows",af=rf.includes("tty"),lf=nf.includes("STM")||nf.includes("CP210")||nf.startsWith("SPR"),cf=nf.includes("usb");(sf&&lf||af&&(lf||cf))&&(this.portPickerElement.val(rf),this.port_available=!0,console.log(`Porthandler detected device ${nf} on port: ${rf}`))}}};PortHandler.setPortsInputWidth=function(){function Qc(nf){let rf=0;return $$1(nf.options).each(function(){const sf=getTextWidth(this.textContent);sf>rf&&(rf=sf)}),rf}const ef=32;let tf=Qc(this.selectList)+ef;tf=tf>this.initialWidth?tf:this.initialWidth,document.querySelector("div#port-picker #portsinput")};PortHandler.port_detected=function(Qc,ef,tf,nf){const rf=this,sf={name:Qc,code:ef,timeout:tf||1e4};return nf?(sf.timer=!1,sf.timeout=!1):sf.timer=setTimeout(function(){console.log(`PortHandler - timeout - ${sf.name}`),ef(!1);const af=rf.port_detected_callbacks.indexOf(sf);af>-1&&rf.port_detected_callbacks.splice(af,1)},tf||1e4),this.port_detected_callbacks.push(sf),sf};PortHandler.port_removed=function(Qc,ef,tf,nf){const rf=this,sf={name:Qc,code:ef,timeout:tf||1e4};return nf?(sf.timer=!1,sf.timeout=!1):sf.timer=setTimeout(function(){console.log(`PortHandler - timeout - ${sf.name}`),ef(!1);const af=rf.port_removed_callbacks.indexOf(sf);af>-1&&rf.port_removed_callbacks.splice(af,1)},tf||1e4),this.port_removed_callbacks.push(sf),sf};PortHandler.array_difference=function(Qc,ef){const tf=[];for(let nf=0;nf<Qc.length;nf++)tf.push(Qc[nf]);for(let nf=0;nf<ef.length;nf++){const rf=tf.findIndex(sf=>sf.path===ef[nf].path);rf!==-1&&tf.splice(rf,1)}return tf};PortHandler.flush_callbacks=function(){let Qc=0;for(let ef=this.port_detected_callbacks.length-1;ef>=0;ef--)this.port_detected_callbacks[ef].timer&&clearTimeout(this.port_detected_callbacks[ef].timer),this.port_detected_callbacks.splice(ef,1),Qc++;for(let ef=this.port_removed_callbacks.length-1;ef>=0;ef--)this.port_removed_callbacks[ef].timer&&clearTimeout(this.port_removed_callbacks[ef].timer),this.port_removed_callbacks.splice(ef,1),Qc++;return Qc};window.PortHandler=PortHandler;const PortHandler$1=PortHandler,serialDevices=[{vendorId:1027,productId:24577},{vendorId:1155,productId:22336},{vendorId:4292,productId:6e4},{vendorId:4292,productId:60001},{vendorId:4292,productId:60002},{vendorId:11836,productId:22336}],webSerialDevices=serialDevices.map(({vendorId:Qc,productId:ef})=>({usbVendorId:Qc,usbProductId:ef})),serial$2={connected:!1,connectionId:!1,openCanceled:!1,bitrate:0,bytesReceived:0,bytesSent:0,failed:0,connectionType:"serial",connectionIP:"127.0.0.1",connectionPort:5761,transmitting:!1,outputBuffer:[],serialDevices,connect:function(Qc,ef,tf){const nf=this,rf=Qc.match(/^tcp:\/\/([A-Za-z0-9\.-]+)(?:\:(\d+))?$/);rf?nf.connectTcp(rf[1],rf[2],ef,tf):Qc==="virtual"?nf.connectVirtual(tf):nf.connectSerial(Qc,ef,tf)},connectSerial:function(Qc,ef,tf){const nf=this;nf.connectionType="serial",chrome.serial.connect(Qc,ef,function(rf){nf.failed=checkChromeRuntimeError(),rf&&!nf.openCanceled&&!nf.failed?(nf.connected=!0,nf.connectionId=rf.connectionId,nf.bitrate=rf.bitrate,nf.bytesReceived=0,nf.bytesSent=0,nf.failed=0,nf.onReceive.addListener(function(af){nf.bytesReceived+=af.data.byteLength}),nf.onReceiveError.addListener(function(af){switch(af.error){case"system_error":nf.failed++||chrome.serial.setPaused(nf.connectionId,!1,function(){nf.getInfo(function(lf){checkChromeRuntimeError(),lf&&(lf.paused?(console.log(`${nf.connectionType}: connection did not recover from last onReceiveError, disconnecting`),gui_log(i18n.getMessage("serialUnrecoverable")),nf.errorHandler(lf.error,"receive")):(console.log(`${nf.connectionType}: connection recovered from last onReceiveError`),nf.failed=0))})});break;case"overrun":nf.error=af.error,setTimeout(function(){chrome.serial.setPaused(af.connectionId,!1,function(){checkChromeRuntimeError(),nf.getInfo(function(lf){lf&&(lf.paused?(console.log(`${nf.connectionType}: connection did not recover from ${nf.error} condition, disconnecting`),gui_log(i18n.getMessage("serialUnrecoverable")),nf.errorHandler(lf.error,"receive")):console.log(`${nf.connectionType}: connection recovered from ${nf.error} condition`))})})},50);break;case"timeout":break;case"frame_error":case"parity_error":gui_log(i18n.getMessage(`serialError${inflection.camelize(af.error)}`)),nf.errorHandler(af.error,"receive");break;case"break":case"disconnected":case"device_lost":default:nf.errorHandler(af.error,"receive");break}}),console.log(`${nf.connectionType}: connection opened with ID: ${rf.connectionId} , Baud: ${rf.bitrate}`),tf&&tf(rf)):(rf&&nf.openCanceled?(nf.connectionId=rf.connectionId,console.log(`${nf.connectionType}: connection opened with ID: ${rf.connectionId} , but request was canceled, disconnecting`),setTimeout(function(){nf.openCanceled=!1,nf.disconnect(function(){console.log(`${nf.connectionType}: connect sequence was cancelled, disconnecting...`)})},150)):nf.openCanceled?(console.log(`${nf.connectionType}: connection didn't open and request was canceled`),nf.openCanceled=!1):console.log(`${nf.connectionType}: failed to open serial port`),tf&&tf(!1))})},connectTcp:function(Qc,ef,tf,nf){const rf=this;rf.connectionIP=Qc,rf.connectionPort=ef||5761,rf.connectionPort=parseInt(rf.connectionPort),rf.connectionType="tcp",chrome.sockets.tcp.create({persistent:!1,name:"Betaflight",bufferSize:65535},function(sf){(sf&&!rf.openCanceled||!checkChromeRuntimeError())&&(rf.connectionId=sf.socketId,rf.bitrate=115200,rf.bytesReceived=0,rf.bytesSent=0,rf.failed=0,chrome.sockets.tcp.connect(sf.socketId,rf.connectionIP,rf.connectionPort,function(af){af===0||!checkChromeRuntimeError()?chrome.sockets.tcp.setNoDelay(sf.socketId,!0,function(lf){(lf===0||!checkChromeRuntimeError())&&(rf.onReceive.addListener(function(uf){rf.bytesReceived+=uf.data.byteLength}),rf.onReceiveError.addListener(function(uf){uf.socketId===rf.connectionId&&rf.connectionType==="tcp"&&uf.resultCode<0&&rf.errorHandler(uf.resultCode,"receive")}),rf.connected=!0,console.log(`${rf.connectionType}: connection opened with ID ${sf.socketId} , url: ${rf.connectionIP}:${rf.connectionPort}`),nf&&nf(sf))}):(console.log(`${rf.connectionType}: failed to connect with result ${af}`),nf&&nf(!1))}))})},connectVirtual:function(Qc){const ef=this;ef.connectionType="virtual",ef.openCanceled||(ef.connected=!0,ef.connectionId="virtual",ef.bitrate=115200,ef.bytesReceived=0,ef.bytesSent=0,ef.failed=0,Qc())},disconnect:function(Qc){const ef=this,tf=ef.connectionId;if(ef.connected=!1,ef.emptyOutputBuffer(),ef.connectionId){for(let rf=ef.onReceive.listeners.length-1;rf>=0;rf--)ef.onReceive.removeListener(ef.onReceive.listeners[rf]);for(let rf=ef.onReceiveError.listeners.length-1;rf>=0;rf--)ef.onReceiveError.removeListener(ef.onReceiveError.listeners[rf]);let nf=!0;ef.connectionType!=="virtual"?(ef.connectionType==="tcp"&&chrome.sockets.tcp.disconnect(ef.connectionId,function(){checkChromeRuntimeError(),console.log(`${ef.connectionType}: disconnecting socket.`)}),(ef.connectionType==="serial"?chrome.serial.disconnect:chrome.sockets.tcp.close)(ef.connectionId,function(sf){chrome.runtime.lastError&&console.log(chrome.runtime.lastError.message),sf=sf||ef.connectionType==="tcp",console.log(`${ef.connectionType}: ${sf?"closed":"failed to close"} connection with ID: ${tf}, Sent: ${ef.bytesSent} bytes, Received: ${ef.bytesReceived} bytes`),nf=sf})):(CONFIGURATOR.virtualMode=!1,ef.connectionType=!1),ef.connectionId=!1,ef.bitrate=0,Qc&&Qc(nf)}else ef.openCanceled=!0},getDevices:function(Qc){const ef=this;chrome.serial.getDevices(function(tf){const nf=[];tf.forEach(function(rf){(ef.serialDevices.some(af=>af.vendorId===rf.vendorId)&&ef.serialDevices.some(af=>af.productId===rf.productId)||PortHandler$1.showAllSerialDevices)&&nf.push({path:rf.path,displayName:rf.displayName,vendorId:rf.vendorId,productId:rf.productId})}),Qc(nf)})},getInfo:function(Qc){(this.connectionType==="serial"?chrome.serial:chrome.sockets.tcp).getInfo(this.connectionId,Qc)},send:function(Qc,ef){const tf=this;tf.outputBuffer.push({data:Qc,callback:ef});function nf(){const rf=tf.outputBuffer[0].data,sf=tf.outputBuffer[0].callback;if(!tf.connected){console.log(`${tf.connectionType}: attempting to send when disconnected. ID: ${tf.connectionId}`),sf&&sf({bytesSent:0,error:"undefined"});return}(tf.connectionType==="serial"?chrome.serial.send:chrome.sockets.tcp.send)(tf.connectionId,rf,function(lf){if(chrome.runtime.lastError&&console.log(chrome.runtime.lastError.message),lf===void 0){console.log("undefined send error"),sf&&sf({bytesSent:0,error:"undefined"});return}if(tf.connectionType==="tcp"&&lf.resultCode<0){tf.errorHandler(lf.resultCode,"send");return}if(tf.bytesSent+=lf.bytesSent,sf&&sf(lf),tf.outputBuffer.shift(),tf.outputBuffer.length){if(tf.outputBuffer.length>100){let cf=0;for(;tf.outputBuffer.length>100;)tf.outputBuffer.pop(),cf++;console.log(`${tf.connectionType}: send buffer overflowing, dropped: ${cf}`)}nf()}else tf.transmitting=!1})}!tf.transmitting&&tf.connected&&(tf.transmitting=!0,nf())},onReceive:{listeners:[],addListener:function(Qc){(serial$2.connectionType==="serial"?chrome.serial:chrome.sockets.tcp).onReceive.addListener(Qc),this.listeners.push(Qc)},removeListener:function(Qc){const ef=serial$2.connectionType==="serial"?chrome.serial:chrome.sockets.tcp;for(let tf=this.listeners.length-1;tf>=0;tf--)if(this.listeners[tf]==Qc){ef.onReceive.removeListener(Qc),this.listeners.splice(tf,1);break}}},onReceiveError:{listeners:[],addListener:function(Qc){(serial$2.connectionType==="serial"?chrome.serial:chrome.sockets.tcp).onReceiveError.addListener(Qc),this.listeners.push(Qc)},removeListener:function(Qc){const ef=serial$2.connectionType==="serial"?chrome.serial:chrome.sockets.tcp;for(let tf=this.listeners.length-1;tf>=0;tf--)if(this.listeners[tf]==Qc){ef.onReceiveError.removeListener(Qc),this.listeners.splice(tf,1);break}}},emptyOutputBuffer:function(){this.outputBuffer=[],this.transmitting=!1},errorHandler:function(Qc,ef){const tf=this;tf.connected=!1,FC.CONFIG.armingDisabled=!1,FC.CONFIG.runawayTakeoffPreventionDisabled=!1;let nf;if(tf.connectionType==="tcp")switch(Qc){case-15:nf="error: ERR_SOCKET_NOT_CONNECTED",console.log(`${tf.connectionType}: ${ef} ${nf}: ${Qc}`),tf.connectionId=!1;return;case-21:nf="error: NETWORK_CHANGED";break;case-100:nf="error: CONNECTION_CLOSED";break;case-102:nf="error: CONNECTION_REFUSED";break;case-105:nf="error: NAME_NOT_RESOLVED";break;case-106:nf="error: INTERNET_DISCONNECTED";break;case-109:nf="error: ADDRESS_UNREACHABLE";break}const rf=nf?`${nf} ${Qc}`:Qc;console.warn(`${tf.connectionType}: ${rf} ID: ${tf.connectionId} (${ef})`),GUI.connected_to||GUI.connecting_to?$$1("a.connect").trigger("click"):serial$2.disconnect()}},serial$3=serial$2;async function*streamAsyncIterable(Qc,ef){try{for(;ef();){const{done:tf,value:nf}=await Qc.read();if(tf)return;yield nf}}finally{Qc.releaseLock()}}class WebSerial extends EventTarget{constructor(){super(),this.connected=!1,this.openRequested=!1,this.openCanceled=!1,this.transmitting=!1,this.connectionInfo=null,this.bitrate=0,this.bytesSent=0,this.bytesReceived=0,this.failed=0,this.logHead="SERIAL: ",this.port=null,this.reader=null,this.writer=null,this.reading=!1,this.connect=this.connect.bind(this)}handleReceiveBytes(ef){this.bytesReceived+=ef.detail.byteLength}handleDisconnect(){this.removeEventListener("receive",this.handleReceiveBytes),this.removeEventListener("disconnect",this.handleDisconnect)}async connect(ef){this.openRequested=!0,this.port=await navigator.serial.requestPort({filters:webSerialDevices}),await this.port.open(ef);const tf=this.port.getInfo();if(this.connectionInfo=tf,this.writer=this.port.writable.getWriter(),this.reader=this.port.readable.getReader(),tf&&!this.openCanceled){this.connected=!0,this.connectionId=tf.connectionId,this.bitrate=ef.baudrate,this.bytesReceived=0,this.bytesSent=0,this.failed=0,this.openRequested=!1,this.addEventListener("receive",this.handleReceiveBytes),this.addEventListener("disconnect",this.handleDisconnect),console.log(`${this.logHead} Connection opened with ID: ${tf.connectionId}, Baud: ${ef.baudRate}`),this.dispatchEvent(new CustomEvent("connect",{detail:tf})),this.reading=!0;for await(let nf of streamAsyncIterable(this.reader,()=>this.reading))this.dispatchEvent(new CustomEvent("receive",{detail:nf}))}else tf&&this.openCanceled?(this.connectionId=tf.connectionId,console.log(`${this.logHead} Connection opened with ID: ${tf.connectionId}, but request was canceled, disconnecting`),setTimeout(()=>{this.openRequested=!1,this.openCanceled=!1,this.disconnect(()=>{this.dispatchEvent(new CustomEvent("connect",{detail:!1}))})},150)):this.openCanceled?(console.log(`${this.logHead} Connection didn't open and request was canceled`),this.openRequested=!1,this.openCanceled=!1,this.dispatchEvent(new CustomEvent("connect",{detail:!1}))):(this.openRequested=!1,console.log(`${this.logHead} Failed to open serial port`),this.dispatchEvent(new CustomEvent("connect",{detail:!1})))}async disconnect(){this.connected=!1,this.transmitting=!1,this.reading=!1,this.bytesReceived=0,this.bytesSent=0;const ef=async()=>{this.reader&&(this.reader.releaseLock(),this.reader=null),this.writer&&(await this.writer.releaseLock(),this.writer=null),this.port&&(await this.port.close(),this.port=null)};try{await ef(),console.log(`${this.logHead}Connection with ID: ${this.connectionId} closed, Sent: ${this.bytesSent} bytes, Received: ${this.bytesReceived} bytes`),this.connectionId=!1,this.bitrate=0,this.dispatchEvent(new CustomEvent("disconnect",{detail:!0}))}catch(tf){console.error(tf),console.error(`${this.logHead}Failed to close connection with ID: ${this.connectionId} closed, Sent: ${this.bytesSent} bytes, Received: ${this.bytesReceived} bytes`),this.dispatchEvent(new CustomEvent("disconnect",{detail:!1}))}finally{this.openCanceled&&(this.openCanceled=!1)}}async send(ef){return this.writer?(await this.writer.write(ef),this.bytesSent+=ef.byteLength):console.error(`${this.logHead}Failed to send data, serial port not open`),{bytesSent:this.bytesSent}}}const serialWeb=new WebSerial,serial$1=isWeb()?serialWeb:serial$3,MSP={symbols:{BEGIN:"$".charCodeAt(0),PROTO_V1:"M".charCodeAt(0),PROTO_V2:"X".charCodeAt(0),FROM_MWC:">".charCodeAt(0),TO_MWC:"<".charCodeAt(0),UNSUPPORTED:"!".charCodeAt(0)},constants:{PROTOCOL_V1:1,PROTOCOL_V2:2,JUMBO_FRAME_MIN_SIZE:255},decoder_states:{IDLE:0,PROTO_IDENTIFIER:1,DIRECTION_V1:2,DIRECTION_V2:3,FLAG_V2:4,PAYLOAD_LENGTH_V1:5,PAYLOAD_LENGTH_JUMBO_LOW:6,PAYLOAD_LENGTH_JUMBO_HIGH:7,PAYLOAD_LENGTH_V2_LOW:8,PAYLOAD_LENGTH_V2_HIGH:9,CODE_V1:10,CODE_JUMBO_V1:11,CODE_V2_LOW:12,CODE_V2_HIGH:13,PAYLOAD_V1:14,PAYLOAD_V2:15,CHECKSUM_V1:16,CHECKSUM_V2:17},state:0,message_direction:1,code:0,dataView:0,message_length_expected:0,message_length_received:0,message_buffer:null,message_buffer_uint8_view:null,message_checksum:0,messageIsJumboFrame:!1,crcError:!1,callbacks:[],packet_error:0,unsupported:0,MIN_TIMEOUT:50,MAX_TIMEOUT:2e3,timeout:200,last_received_timestamp:null,listeners:[],JUMBO_FRAME_SIZE_LIMIT:255,read(Qc){if(CONFIGURATOR.virtualMode)return;const ef=new Uint8Array(Qc.data??Qc);for(const tf of ef)switch(this.state){case this.decoder_states.IDLE:tf===this.symbols.BEGIN&&(this.state=this.decoder_states.PROTO_IDENTIFIER);break;case this.decoder_states.PROTO_IDENTIFIER:switch(tf){case this.symbols.PROTO_V1:this.state=this.decoder_states.DIRECTION_V1;break;case this.symbols.PROTO_V2:this.state=this.decoder_states.DIRECTION_V2;break;default:console.log(`Unknown protocol char ${String.fromCharCode(tf)}`),this.state=this.decoder_states.IDLE}break;case this.decoder_states.DIRECTION_V1:case this.decoder_states.DIRECTION_V2:switch(this.unsupported=0,tf){case this.symbols.FROM_MWC:this.message_direction=1;break;case this.symbols.TO_MWC:this.message_direction=0;break;case this.symbols.UNSUPPORTED:this.unsupported=1;break}this.state=this.state===this.decoder_states.DIRECTION_V1?this.decoder_states.PAYLOAD_LENGTH_V1:this.decoder_states.FLAG_V2;break;case this.decoder_states.FLAG_V2:this.state=this.decoder_states.CODE_V2_LOW;break;case this.decoder_states.PAYLOAD_LENGTH_V1:this.message_length_expected=tf,this.message_length_expected===this.constants.JUMBO_FRAME_MIN_SIZE?this.state=this.decoder_states.CODE_JUMBO_V1:(this._initialize_read_buffer(),this.state=this.decoder_states.CODE_V1);break;case this.decoder_states.PAYLOAD_LENGTH_V2_LOW:this.message_length_expected=tf,this.state=this.decoder_states.PAYLOAD_LENGTH_V2_HIGH;break;case this.decoder_states.PAYLOAD_LENGTH_V2_HIGH:this.message_length_expected|=tf<<8,this._initialize_read_buffer(),this.state=this.message_length_expected>0?this.decoder_states.PAYLOAD_V2:this.decoder_states.CHECKSUM_V2;break;case this.decoder_states.CODE_V1:case this.decoder_states.CODE_JUMBO_V1:this.code=tf,this.message_length_expected>0?this.state===this.decoder_states.CODE_JUMBO_V1?this.state=this.decoder_states.PAYLOAD_LENGTH_JUMBO_LOW:this.state=this.decoder_states.PAYLOAD_V1:this.state=this.decoder_states.CHECKSUM_V1;break;case this.decoder_states.CODE_V2_LOW:this.code=tf,this.state=this.decoder_states.CODE_V2_HIGH;break;case this.decoder_states.CODE_V2_HIGH:this.code|=tf<<8,this.state=this.decoder_states.PAYLOAD_LENGTH_V2_LOW;break;case this.decoder_states.PAYLOAD_LENGTH_JUMBO_LOW:this.message_length_expected=tf,this.state=this.decoder_states.PAYLOAD_LENGTH_JUMBO_HIGH;break;case this.decoder_states.PAYLOAD_LENGTH_JUMBO_HIGH:this.message_length_expected|=tf<<8,this._initialize_read_buffer(),this.state=this.decoder_states.PAYLOAD_V1;break;case this.decoder_states.PAYLOAD_V1:case this.decoder_states.PAYLOAD_V2:this.message_buffer_uint8_view[this.message_length_received]=tf,this.message_length_received++,this.message_length_received>=this.message_length_expected&&(this.state=this.state===this.decoder_states.PAYLOAD_V1?this.decoder_states.CHECKSUM_V1:this.decoder_states.CHECKSUM_V2);break;case this.decoder_states.CHECKSUM_V1:this.message_length_expected>=this.constants.JUMBO_FRAME_MIN_SIZE?this.message_checksum=this.constants.JUMBO_FRAME_MIN_SIZE:this.message_checksum=this.message_length_expected,this.message_checksum^=this.code,this.message_length_expected>=this.constants.JUMBO_FRAME_MIN_SIZE&&(this.message_checksum^=this.message_length_expected&255,this.message_checksum^=(this.message_length_expected&65280)>>8);for(let nf=0;nf<this.message_length_received;nf++)this.message_checksum^=this.message_buffer_uint8_view[nf];this._dispatch_message(tf);break;case this.decoder_states.CHECKSUM_V2:this.message_checksum=0,this.message_checksum=this.crc8_dvb_s2(this.message_checksum,0),this.message_checksum=this.crc8_dvb_s2(this.message_checksum,this.code&255),this.message_checksum=this.crc8_dvb_s2(this.message_checksum,(this.code&65280)>>8),this.message_checksum=this.crc8_dvb_s2(this.message_checksum,this.message_length_expected&255),this.message_checksum=this.crc8_dvb_s2(this.message_checksum,(this.message_length_expected&65280)>>8);for(let nf=0;nf<this.message_length_received;nf++)this.message_checksum=this.crc8_dvb_s2(this.message_checksum,this.message_buffer_uint8_view[nf]);this._dispatch_message(tf);break;default:console.log(`Unknown state detected: ${this.state}`)}this.last_received_timestamp=Date.now()},_initialize_read_buffer(){this.message_buffer=new ArrayBuffer(this.message_length_expected),this.message_buffer_uint8_view=new Uint8Array(this.message_buffer)},_dispatch_message(Qc){this.message_checksum===Qc?this.dataView=new DataView(this.message_buffer,0,this.message_length_expected):(this.packet_error++,this.crcError=!0,this.dataView=new DataView(new ArrayBuffer(0))),this.notify(),this.message_length_received=0,this.state=0,this.messageIsJumboFrame=!1,this.crcError=!1},notify(){this.listeners.forEach(Qc=>{Qc(this)})},listen(Qc){this.listeners.indexOf(Qc)==-1&&this.listeners.push(Qc)},clearListeners(){this.listeners=[]},crc8_dvb_s2(Qc,ef){Qc^=ef;for(let tf=0;tf<8;tf++)Qc&128?Qc=Qc<<1&255^213:Qc=Qc<<1&255;return Qc},crc8_dvb_s2_data(Qc,ef,tf){let nf=0;for(let rf=ef;rf<tf;rf++)nf=this.crc8_dvb_s2(nf,Qc[rf]);return nf},encode_message_v1(Qc,ef){const tf=ef?ef.length:0,nf=tf+6;let rf=new ArrayBuffer(nf),sf=new Uint8Array(rf);sf[0]=36,sf[1]=77,sf[2]=60,sf[3]=tf,sf[4]=Qc;let af=sf[3]^sf[4];for(let lf=0;lf<tf;lf++)sf[lf+5]=ef[lf],af^=sf[lf+5];return sf[5+tf]=af,rf},encode_message_v2(Qc,ef){const tf=ef?ef.length:0,nf=tf+9,rf=new ArrayBuffer(nf),sf=new Uint8Array(rf);sf[0]=36,sf[1]=88,sf[2]=60,sf[3]=0,sf[4]=Qc&255,sf[5]=Qc>>8&255,sf[6]=tf&255,sf[7]=tf>>8&255;for(let af=0;af<tf;af++)sf[8+af]=ef[af];return sf[nf-1]=this.crc8_dvb_s2_data(sf,3,nf-1),rf},send_message(Qc,ef,tf,nf,rf){const sf=isWeb?serial$1.connected:serial$1.connectionId;if(Qc===void 0||!sf||CONFIGURATOR.virtualMode)return nf&&nf(),!1;let af=!1;for(const uf of this.callbacks)if(uf.code===Qc){af=!0;break}if(isWeb()&&(Qc===void 0||!serial$1.connectionInfo))return console.log("ERROR: code undefined or no connectionId"),!1;const lf=Qc<=254?this.encode_message_v1(Qc,ef):this.encode_message_v2(Qc,ef),cf={code:Qc,requestBuffer:lf,callback:nf,callbackOnError:rf,start:performance.now()};return af||(cf.timer=setTimeout(()=>{console.warn(`MSP: data request timed-out: ${Qc} ID: ${serial$1.connectionId} TAB: ${GUI.active_tab} TIMEOUT: ${this.timeout} QUEUE: ${this.callbacks.length} (${this.callbacks.map(uf=>uf.code)})`),serial$1.send(lf,uf=>{cf.stop=performance.now();const ff=Math.round(cf.stop-cf.start);this.timeout=Math.max(this.MIN_TIMEOUT,Math.min(ff,this.MAX_TIMEOUT))})},this.timeout)),this.callbacks.push(cf),(ef||!af)&&(this.timeout>this.MIN_TIMEOUT&&this.timeout--,serial$1.send(lf,uf=>{uf.bytesSent===lf.byteLength&&tf&&tf()})),!0},async promise(Qc,ef){return new Promise(tf=>{this.send_message(Qc,ef,!1,nf=>{tf(nf)})})},callbacks_cleanup(){for(const Qc of this.callbacks)clearTimeout(Qc.timer);this.callbacks=[]},disconnect_cleanup(){this.state=0,this.packet_error=0,this.callbacks_cleanup()}};MSP.SDCARD_STATE_NOT_PRESENT=0;MSP.SDCARD_STATE_FATAL=1;MSP.SDCARD_STATE_CARD_INIT=2;MSP.SDCARD_STATE_FS_INIT=3;MSP.SDCARD_STATE_READY=4;window.MSP=MSP;const MSP$1=MSP,PortUsage={previous_received:0,previous_sent:0,port_usage_down:0,port_usage_up:0,initialize:function(){const Qc=this;Qc.main_timer_reference=setInterval(function(){Qc.update()},1e3)},update:function(){if(serial$3.bitrate){const Qc=parseInt((serial$3.bytesReceived-this.previous_received)*10/serial$3.bitrate*100),ef=parseInt((serial$3.bytesSent-this.previous_sent)*10/serial$3.bitrate*100);this.previous_received=serial$3.bytesReceived,this.previous_sent=serial$3.bytesSent,this.port_usage_down=Qc,this.port_usage_up=ef}else this.port_usage_down=0,this.port_usage_up=0},reset:function(){this.previous_received=0,this.previous_sent=0,this.port_usage_down=0,this.port_usage_up=0}};window.PortUsage=PortUsage;const betaflightModel={CONFIGURATOR,FC,MSP:MSP$1,PortUsage};i18next.on("initialized",function(){console.log("i18n initialized, starting Vue framework"),new Vue$1({i18n:vueI18n,el:"#main-wrapper",components:{BatteryLegend,BetaflightLogo,StatusBar,BatteryIcon},data:betaflightModel})});window.vm=betaflightModel;function update_dataflash_global(){function Qc(tf){if(tf<1024)return`${tf}B`;const nf=tf/1024;return nf<1024?`${Math.round(nf)}kB`:`${(nf/1024).toFixed(1)}MB`}FC.DATAFLASH.totalSize>0?($$1(".noflash_global").css({display:"none"}),$$1(".dataflash-contents_global").css({display:"block"}),$$1(".dataflash-free_global").css({width:`${100-(FC.DATAFLASH.totalSize-FC.DATAFLASH.usedSize)/FC.DATAFLASH.totalSize*100}%`,display:"block"}),$$1(".dataflash-free_global div").text(`Dataflash: free ${Qc(FC.DATAFLASH.totalSize-FC.DATAFLASH.usedSize)}`)):($$1(".noflash_global").css({display:"block"}),$$1(".dataflash-contents_global").css({display:"none"}))}const VtxDeviceTypes={VTXDEV_UNSUPPORTED:0,VTXDEV_RTC6705:1,VTXDEV_SMARTAUDIO:3,VTXDEV_TRAMP:4,VTXDEV_MSP:5,VTXDEV_UNKNOWN:255};class VtxDeviceStatus{constructor(ef){this._deviceIsReady=ef.readU8();const tf=!!ef.readU8();this._band=ef.readU8(),this._channel=ef.readU8(),tf||(this._band=void 0,this._channel=void 0);const nf=!!ef.readU8();this._powerIndex=ef.readU8(),nf||(this._powerIndex=void 0);const rf=!!ef.readU8();this._frequency=ef.readU16(),rf||(this._frequency=void 0);const sf=!!ef.readU8();this._vtxStatus=ef.readU32(),sf||(this._vtxStatus=void 0),this._readPowerLevels(ef)}_readPowerLevels(ef){this._levels=[],this._powers=[];const tf=ef.readU8();for(let nf=0;nf<tf;nf++)this._levels.push(ef.readU16()),this._powers.push(ef.readU16())}get deviceIsReady(){return this._deviceIsReady}static get staticDeviceStatusType(){return VtxDeviceTypes.VTXDEV_UNKNOWN}get deviceStatusType(){return this.constructor.staticDeviceStatusType}}class VtxDeviceStatusSmartAudio extends VtxDeviceStatus{constructor(ef){super(ef),ef.readU8(),this._version=ef.readU8(),this._mode=ef.readU8(),this._orfreq=ef.readU16(),this._willBootIntoPitMode=!!ef.readU8()}get smartAudioVersion(){this._version*100+this._mode;let ef="";switch(this._version){case 1:ef="1.0";break;case 2:ef="2.0";break;case 3:ef="2.1";break;default:ef=i18n.getMessage("vtxType_255")}return this._mode==16&&(ef=i18n.getMessage("vtxSmartAudioUnlocked",{version:ef})),ef}static get staticDeviceStatusType(){return VtxDeviceTypes.VTXDEV_SMARTAUDIO}}class VtxDeviceStatusTramp extends VtxDeviceStatus{constructor(ef){super(ef),ef.readU8()}static get staticDeviceStatusType(){return VtxDeviceTypes.VTXDEV_TRAMP}}class VtxDeviceStatusMsp extends VtxDeviceStatus{constructor(ef){super(ef),ef.readU8()}static get staticDeviceStatusType(){return VtxDeviceTypes.VTXDEV_MSP}}class VtxDeviceStatusRtc6705 extends VtxDeviceStatus{constructor(ef){super(ef),ef.readU8()}static get staticDeviceStatusType(){return VtxDeviceTypes.VTXDEV_RTC6705}}const vtxDeviceStatusFactory={_vtxDeviceStatusClasses:[],registerVtxDeviceStatusClass:function(Qc){this._vtxDeviceStatusClasses.push(Qc)},createVtxDeviceStatus:function(Qc){const ef=new DataView(Qc.buffer),tf=ef.readU8(),nf=this._getDeviceStatusClass(tf);return new nf(ef)},_readVtxType:function(Qc){return Qc.readU8()},_getDeviceStatusClass:function(Qc){let ef=this._vtxDeviceStatusClasses.find(tf=>tf.staticDeviceStatusType===Qc);return typeof ef>"u"&&(ef=VtxDeviceStatus),ef}};vtxDeviceStatusFactory.registerVtxDeviceStatusClass(VtxDeviceStatusSmartAudio);vtxDeviceStatusFactory.registerVtxDeviceStatusClass(VtxDeviceStatusTramp);vtxDeviceStatusFactory.registerVtxDeviceStatusClass(VtxDeviceStatusMsp);vtxDeviceStatusFactory.registerVtxDeviceStatusClass(VtxDeviceStatusRtc6705);const MSPCodes={MSP_API_VERSION:1,MSP_FC_VARIANT:2,MSP_FC_VERSION:3,MSP_BOARD_INFO:4,MSP_BUILD_INFO:5,MSP_NAME:10,MSP_SET_NAME:11,MSP_BATTERY_CONFIG:32,MSP_SET_BATTERY_CONFIG:33,MSP_MODE_RANGES:34,MSP_SET_MODE_RANGE:35,MSP_FEATURE_CONFIG:36,MSP_SET_FEATURE_CONFIG:37,MSP_BOARD_ALIGNMENT_CONFIG:38,MSP_SET_BOARD_ALIGNMENT_CONFIG:39,MSP_CURRENT_METER_CONFIG:40,MSP_SET_CURRENT_METER_CONFIG:41,MSP_MIXER_CONFIG:42,MSP_SET_MIXER_CONFIG:43,MSP_RX_CONFIG:44,MSP_SET_RX_CONFIG:45,MSP_LED_COLORS:46,MSP_SET_LED_COLORS:47,MSP_LED_STRIP_CONFIG:48,MSP_SET_LED_STRIP_CONFIG:49,MSP_RSSI_CONFIG:50,MSP_SET_RSSI_CONFIG:51,MSP_ADJUSTMENT_RANGES:52,MSP_SET_ADJUSTMENT_RANGE:53,MSP_CF_SERIAL_CONFIG:54,MSP_SET_CF_SERIAL_CONFIG:55,MSP_VOLTAGE_METER_CONFIG:56,MSP_SET_VOLTAGE_METER_CONFIG:57,MSP_SONAR:58,MSP_PID_CONTROLLER:59,MSP_SET_PID_CONTROLLER:60,MSP_ARMING_CONFIG:61,MSP_SET_ARMING_CONFIG:62,MSP_RX_MAP:64,MSP_SET_RX_MAP:65,MSP_BF_CONFIG:66,MSP_SET_BF_CONFIG:67,MSP_SET_REBOOT:68,MSP_BF_BUILD_INFO:69,MSP_DATAFLASH_SUMMARY:70,MSP_DATAFLASH_READ:71,MSP_DATAFLASH_ERASE:72,MSP_LOOP_TIME:73,MSP_SET_LOOP_TIME:74,MSP_FAILSAFE_CONFIG:75,MSP_SET_FAILSAFE_CONFIG:76,MSP_RXFAIL_CONFIG:77,MSP_SET_RXFAIL_CONFIG:78,MSP_SDCARD_SUMMARY:79,MSP_BLACKBOX_CONFIG:80,MSP_SET_BLACKBOX_CONFIG:81,MSP_TRANSPONDER_CONFIG:82,MSP_SET_TRANSPONDER_CONFIG:83,MSP_OSD_CONFIG:84,MSP_SET_OSD_CONFIG:85,MSP_OSD_CHAR_READ:86,MSP_OSD_CHAR_WRITE:87,MSP_VTX_CONFIG:88,MSP_SET_VTX_CONFIG:89,MSP_ADVANCED_CONFIG:90,MSP_SET_ADVANCED_CONFIG:91,MSP_FILTER_CONFIG:92,MSP_SET_FILTER_CONFIG:93,MSP_PID_ADVANCED:94,MSP_SET_PID_ADVANCED:95,MSP_SENSOR_CONFIG:96,MSP_SET_SENSOR_CONFIG:97,MSP_ARMING_DISABLE:99,MSP_STATUS:101,MSP_RAW_IMU:102,MSP_SERVO:103,MSP_MOTOR:104,MSP_RC:105,MSP_RAW_GPS:106,MSP_COMP_GPS:107,MSP_ATTITUDE:108,MSP_ALTITUDE:109,MSP_ANALOG:110,MSP_RC_TUNING:111,MSP_PID:112,MSP_MISC:114,MSP_BOXNAMES:116,MSP_PIDNAMES:117,MSP_WP:118,MSP_BOXIDS:119,MSP_SERVO_CONFIGURATIONS:120,MSP_MOTOR_3D_CONFIG:124,MSP_RC_DEADBAND:125,MSP_SENSOR_ALIGNMENT:126,MSP_LED_STRIP_MODECOLOR:127,MSP_VOLTAGE_METERS:128,MSP_CURRENT_METERS:129,MSP_BATTERY_STATE:130,MSP_MOTOR_CONFIG:131,MSP_GPS_CONFIG:132,MSP_GPS_RESCUE:135,MSP_VTXTABLE_BAND:137,MSP_VTXTABLE_POWERLEVEL:138,MSP_MOTOR_TELEMETRY:139,MSP_SIMPLIFIED_TUNING:140,MSP_SET_SIMPLIFIED_TUNING:141,MSP_CALCULATE_SIMPLIFIED_PID:142,MSP_CALCULATE_SIMPLIFIED_GYRO:143,MSP_CALCULATE_SIMPLIFIED_DTERM:144,MSP_VALIDATE_SIMPLIFIED_TUNING:145,MSP_STATUS_EX:150,MSP_UID:160,MSP_GPS_SV_INFO:164,MSP_DISPLAYPORT:182,MSP_COPY_PROFILE:183,MSP_BEEPER_CONFIG:184,MSP_SET_BEEPER_CONFIG:185,MSP_SET_OSD_CANVAS:188,MSP_OSD_CANVAS:189,MSP_SET_RAW_RC:200,MSP_SET_RAW_GPS:201,MSP_SET_PID:202,MSP_SET_RC_TUNING:204,MSP_ACC_CALIBRATION:205,MSP_MAG_CALIBRATION:206,MSP_SET_MISC:207,MSP_RESET_CONF:208,MSP_SET_WP:209,MSP_SELECT_SETTING:210,MSP_SET_HEADING:211,MSP_SET_SERVO_CONFIGURATION:212,MSP_SET_MOTOR:214,MSP_SET_MOTOR_3D_CONFIG:217,MSP_SET_RC_DEADBAND:218,MSP_SET_RESET_CURR_PID:219,MSP_SET_SENSOR_ALIGNMENT:220,MSP_SET_LED_STRIP_MODECOLOR:221,MSP_SET_MOTOR_CONFIG:222,MSP_SET_GPS_CONFIG:223,MSP_SET_GPS_RESCUE:225,MSP_SET_VTXTABLE_BAND:227,MSP_SET_VTXTABLE_POWERLEVEL:228,MSP_MULTIPLE_MSP:230,MSP_MODE_RANGES_EXTRA:238,MSP_SET_ACC_TRIM:239,MSP_ACC_TRIM:240,MSP_SERVO_MIX_RULES:241,MSP_SET_SERVO_MIX_RULE:242,MSP_SET_4WAY_IF:245,MSP_SET_RTC:246,MSP_RTC:247,MSP_SET_BOARD_INFO:248,MSP_SET_SIGNATURE:249,MSP_EEPROM_WRITE:250,MSP_DEBUGMSG:253,MSP_DEBUG:254,MSP2_COMMON_SERIAL_CONFIG:4105,MSP2_COMMON_SET_SERIAL_CONFIG:4106,MSP2_BETAFLIGHT_BIND:12288,MSP2_MOTOR_OUTPUT_REORDERING:12289,MSP2_SET_MOTOR_OUTPUT_REORDERING:12290,MSP2_SEND_DSHOT_COMMAND:12291,MSP2_GET_VTX_DEVICE_STATUS:12292,MSP2_GET_OSD_WARNINGS:12293,MSP2_GET_TEXT:12294,MSP2_SET_TEXT:12295,MSP2_GET_LED_STRIP_CONFIG_VALUES:12296,MSP2_SET_LED_STRIP_CONFIG_VALUES:12297,MSP2_SENSOR_CONFIG_ACTIVE:12298,PILOT_NAME:1,CRAFT_NAME:2,PID_PROFILE_NAME:3,RATE_PROFILE_NAME:4,BUILD_KEY:5};class EscProtocols{static get PROTOCOL_PWM(){return"PWM"}static get PROTOCOL_ONESHOT125(){return"ONESHOT125"}static get PROTOCOL_ONESHOT42(){return"ONESHOT42"}static get PROTOCOL_MULTISHOT(){return"MULTISHOT"}static get PROTOCOL_BRUSHED(){return"BRUSHED"}static get PROTOCOL_DSHOT150(){return"DSHOT150"}static get PROTOCOL_DSHOT300(){return"DSHOT300"}static get PROTOCOL_DSHOT600(){return"DSHOT600"}static get PROTOCOL_DSHOT1200(){return"DSHOT1200"}static get PROTOCOL_PROSHOT1000(){return"PROSHOT1000"}static get PROTOCOL_DISABLED(){return"DISABLED"}static get DSHOT_PROTOCOLS_SET(){return[EscProtocols.PROTOCOL_DSHOT150,EscProtocols.PROTOCOL_DSHOT300,EscProtocols.PROTOCOL_DSHOT600,EscProtocols.PROTOCOL_DSHOT1200,EscProtocols.PROTOCOL_PROSHOT1000]}static GetProtocolName(ef,tf){return EscProtocols.GetAvailableProtocols(ef)[tf]}static IsProtocolDshot(ef,tf){const nf=EscProtocols.GetProtocolName(ef,tf);return EscProtocols.DSHOT_PROTOCOLS_SET.includes(nf)}static GetAvailableProtocols(ef){const tf=[EscProtocols.PROTOCOL_PWM,EscProtocols.PROTOCOL_ONESHOT125,EscProtocols.PROTOCOL_ONESHOT42,EscProtocols.PROTOCOL_MULTISHOT,EscProtocols.PROTOCOL_BRUSHED,EscProtocols.PROTOCOL_DSHOT150,EscProtocols.PROTOCOL_DSHOT300,EscProtocols.PROTOCOL_DSHOT600];return semver$1.lt(ef,API_VERSION_1_42)&&tf.push(EscProtocols.PROTOCOL_DSHOT1200),tf.push(EscProtocols.PROTOCOL_PROSHOT1000),semver$1.gte(ef,API_VERSION_1_43)&&tf.push(EscProtocols.PROTOCOL_DISABLED),tf}static ReorderPwmProtocols(ef,tf){return tf}}const HUFFMAN_EOF=-1;function huffmanDecodeBuf(Qc,ef,tf,nf){let rf=0,sf=0,af=128,lf=!1;const cf=[];for(;!lf&&Qc.byteLength!=0&&cf.length!=ef;){if(Qc.byteLength==0)throw new Error("unexpected");if(rf<<=1,++sf,Qc[0]&af&&(rf|=1),af>>=1,af==0&&(af=128,Qc=Qc.subarray(1)),nf[sf]!=-1){for(let uf=nf[sf];uf<tf.length&&tf[uf].codeLen===sf;++uf)if(tf[uf].code===rf){const ff=tf[uf].value;ff==HUFFMAN_EOF?lf=!0:cf.push(ff),rf=0,sf=0;break}}}return new Uint8Array(cf)}const defaultHuffmanTree=[{value:0,codeLen:2,code:3},{value:1,codeLen:3,code:5},{value:2,codeLen:4,code:9},{value:3,codeLen:5,code:17},{value:4,codeLen:5,code:16},{value:80,codeLen:5,code:15},{value:5,codeLen:6,code:29},{value:6,codeLen:6,code:28},{value:7,codeLen:6,code:27},{value:8,codeLen:6,code:26},{value:16,codeLen:6,code:25},{value:9,codeLen:7,code:49},{value:10,codeLen:7,code:48},{value:11,codeLen:7,code:47},{value:12,codeLen:7,code:46},{value:13,codeLen:7,code:45},{value:14,codeLen:7,code:44},{value:15,codeLen:7,code:43},{value:17,codeLen:7,code:42},{value:18,codeLen:7,code:41},{value:19,codeLen:8,code:81},{value:20,codeLen:8,code:80},{value:21,codeLen:8,code:79},{value:22,codeLen:8,code:78},{value:23,codeLen:8,code:77},{value:24,codeLen:8,code:76},{value:25,codeLen:8,code:75},{value:26,codeLen:8,code:74},{value:27,codeLen:8,code:73},{value:28,codeLen:8,code:72},{value:29,codeLen:8,code:71},{value:30,codeLen:8,code:70},{value:31,codeLen:8,code:69},{value:32,codeLen:8,code:68},{value:33,codeLen:8,code:67},{value:34,codeLen:8,code:66},{value:35,codeLen:8,code:65},{value:36,codeLen:8,code:64},{value:48,codeLen:8,code:63},{value:64,codeLen:8,code:62},{value:240,codeLen:8,code:61},{value:37,codeLen:9,code:121},{value:38,codeLen:9,code:120},{value:39,codeLen:9,code:119},{value:40,codeLen:9,code:118},{value:41,codeLen:9,code:117},{value:42,codeLen:9,code:116},{value:43,codeLen:9,code:115},{value:44,codeLen:9,code:114},{value:45,codeLen:9,code:113},{value:46,codeLen:9,code:112},{value:47,codeLen:9,code:111},{value:49,codeLen:9,code:110},{value:50,codeLen:9,code:109},{value:51,codeLen:9,code:108},{value:52,codeLen:9,code:107},{value:53,codeLen:9,code:106},{value:54,codeLen:9,code:105},{value:55,codeLen:9,code:104},{value:56,codeLen:9,code:103},{value:57,codeLen:9,code:102},{value:58,codeLen:9,code:101},{value:59,codeLen:9,code:100},{value:60,codeLen:9,code:99},{value:61,codeLen:9,code:98},{value:62,codeLen:9,code:97},{value:63,codeLen:9,code:96},{value:65,codeLen:9,code:95},{value:66,codeLen:9,code:94},{value:67,codeLen:9,code:93},{value:68,codeLen:9,code:92},{value:69,codeLen:9,code:91},{value:70,codeLen:9,code:90},{value:71,codeLen:9,code:89},{value:72,codeLen:9,code:88},{value:73,codeLen:9,code:87},{value:76,codeLen:9,code:86},{value:79,codeLen:9,code:85},{value:81,codeLen:9,code:84},{value:128,codeLen:9,code:83},{value:224,codeLen:9,code:82},{value:241,codeLen:9,code:81},{value:255,codeLen:9,code:80},{value:74,codeLen:10,code:159},{value:75,codeLen:10,code:158},{value:77,codeLen:10,code:157},{value:78,codeLen:10,code:156},{value:82,codeLen:10,code:155},{value:83,codeLen:10,code:154},{value:84,codeLen:10,code:153},{value:85,codeLen:10,code:152},{value:86,codeLen:10,code:151},{value:87,codeLen:10,code:150},{value:88,codeLen:10,code:149},{value:89,codeLen:10,code:148},{value:90,codeLen:10,code:147},{value:91,codeLen:10,code:146},{value:92,codeLen:10,code:145},{value:93,codeLen:10,code:144},{value:94,codeLen:10,code:143},{value:95,codeLen:10,code:142},{value:96,codeLen:10,code:141},{value:97,codeLen:10,code:140},{value:98,codeLen:10,code:139},{value:99,codeLen:10,code:138},{value:100,codeLen:10,code:137},{value:101,codeLen:10,code:136},{value:102,codeLen:10,code:135},{value:103,codeLen:10,code:134},{value:104,codeLen:10,code:133},{value:105,codeLen:10,code:132},{value:106,codeLen:10,code:131},{value:107,codeLen:10,code:130},{value:108,codeLen:10,code:129},{value:109,codeLen:10,code:128},{value:110,codeLen:10,code:127},{value:111,codeLen:10,code:126},{value:112,codeLen:10,code:125},{value:113,codeLen:10,code:124},{value:114,codeLen:10,code:123},{value:115,codeLen:10,code:122},{value:116,codeLen:10,code:121},{value:117,codeLen:10,code:120},{value:118,codeLen:10,code:119},{value:119,codeLen:10,code:118},{value:120,codeLen:10,code:117},{value:121,codeLen:10,code:116},{value:122,codeLen:10,code:115},{value:123,codeLen:10,code:114},{value:124,codeLen:10,code:113},{value:125,codeLen:10,code:112},{value:126,codeLen:10,code:111},{value:127,codeLen:10,code:110},{value:129,codeLen:10,code:109},{value:130,codeLen:10,code:108},{value:131,codeLen:10,code:107},{value:132,codeLen:10,code:106},{value:133,codeLen:10,code:105},{value:134,codeLen:10,code:104},{value:135,codeLen:10,code:103},{value:136,codeLen:10,code:102},{value:137,codeLen:10,code:101},{value:138,codeLen:10,code:100},{value:139,codeLen:10,code:99},{value:140,codeLen:10,code:98},{value:141,codeLen:10,code:97},{value:142,codeLen:10,code:96},{value:143,codeLen:10,code:95},{value:144,codeLen:10,code:94},{value:145,codeLen:10,code:93},{value:146,codeLen:10,code:92},{value:147,codeLen:10,code:91},{value:148,codeLen:10,code:90},{value:149,codeLen:10,code:89},{value:150,codeLen:10,code:88},{value:151,codeLen:10,code:87},{value:152,codeLen:10,code:86},{value:153,codeLen:10,code:85},{value:154,codeLen:10,code:84},{value:155,codeLen:10,code:83},{value:156,codeLen:10,code:82},{value:157,codeLen:10,code:81},{value:158,codeLen:10,code:80},{value:159,codeLen:10,code:79},{value:160,codeLen:10,code:78},{value:161,codeLen:10,code:77},{value:162,codeLen:10,code:76},{value:163,codeLen:10,code:75},{value:164,codeLen:10,code:74},{value:165,codeLen:10,code:73},{value:166,codeLen:10,code:72},{value:167,codeLen:10,code:71},{value:168,codeLen:10,code:70},{value:169,codeLen:10,code:69},{value:170,codeLen:10,code:68},{value:171,codeLen:10,code:67},{value:172,codeLen:10,code:66},{value:173,codeLen:10,code:65},{value:174,codeLen:10,code:64},{value:175,codeLen:10,code:63},{value:176,codeLen:10,code:62},{value:177,codeLen:10,code:61},{value:178,codeLen:10,code:60},{value:179,codeLen:10,code:59},{value:180,codeLen:10,code:58},{value:181,codeLen:10,code:57},{value:182,codeLen:10,code:56},{value:183,codeLen:10,code:55},{value:184,codeLen:10,code:54},{value:185,codeLen:10,code:53},{value:186,codeLen:10,code:52},{value:187,codeLen:10,code:51},{value:188,codeLen:10,code:50},{value:189,codeLen:10,code:49},{value:190,codeLen:10,code:48},{value:191,codeLen:10,code:47},{value:192,codeLen:10,code:46},{value:193,codeLen:10,code:45},{value:194,codeLen:10,code:44},{value:195,codeLen:10,code:43},{value:196,codeLen:10,code:42},{value:197,codeLen:10,code:41},{value:198,codeLen:10,code:40},{value:199,codeLen:10,code:39},{value:200,codeLen:10,code:38},{value:201,codeLen:10,code:37},{value:202,codeLen:10,code:36},{value:203,codeLen:10,code:35},{value:204,codeLen:10,code:34},{value:205,codeLen:10,code:33},{value:206,codeLen:10,code:32},{value:207,codeLen:10,code:31},{value:208,codeLen:10,code:30},{value:209,codeLen:10,code:29},{value:210,codeLen:10,code:28},{value:211,codeLen:10,code:27},{value:212,codeLen:10,code:26},{value:214,codeLen:10,code:25},{value:215,codeLen:10,code:24},{value:216,codeLen:10,code:23},{value:217,codeLen:10,code:22},{value:218,codeLen:10,code:21},{value:219,codeLen:10,code:20},{value:220,codeLen:10,code:19},{value:222,codeLen:10,code:18},{value:223,codeLen:10,code:17},{value:225,codeLen:10,code:16},{value:226,codeLen:10,code:15},{value:228,codeLen:10,code:14},{value:239,codeLen:10,code:13},{value:213,codeLen:11,code:25},{value:221,codeLen:11,code:24},{value:227,codeLen:11,code:23},{value:229,codeLen:11,code:22},{value:230,codeLen:11,code:21},{value:231,codeLen:11,code:20},{value:232,codeLen:11,code:19},{value:233,codeLen:11,code:18},{value:234,codeLen:11,code:17},{value:235,codeLen:11,code:16},{value:236,codeLen:11,code:15},{value:237,codeLen:11,code:14},{value:238,codeLen:11,code:13},{value:242,codeLen:11,code:12},{value:243,codeLen:11,code:11},{value:244,codeLen:11,code:10},{value:245,codeLen:11,code:9},{value:246,codeLen:11,code:8},{value:247,codeLen:11,code:7},{value:248,codeLen:11,code:6},{value:250,codeLen:11,code:5},{value:251,codeLen:11,code:4},{value:252,codeLen:11,code:3},{value:253,codeLen:11,code:2},{value:254,codeLen:11,code:1},{value:249,codeLen:12,code:1},{value:HUFFMAN_EOF,codeLen:12,code:0}],defaultHuffmanLenIndex=function(){const Qc=Array(defaultHuffmanTree.length).fill(-1);for(let ef=0;ef<defaultHuffmanTree.length;++ef)Qc[defaultHuffmanTree[ef].codeLen]===-1&&(Qc[defaultHuffmanTree[ef].codeLen]=ef);return Qc}();function updateTabList(Qc){const ef=$$1('input[name="expertModeCheckbox"]').is(":checked");$$1("#tabs ul.mode-connected li.tab_failsafe").toggle(ef),$$1("#tabs ul.mode-connected li.tab_adjustments").toggle(ef),$$1("#tabs ul.mode-connected li.tab_sensors").toggle(ef),$$1("#tabs ul.mode-connected li.tab_logging").toggle(ef),$$1("#tabs ul.mode-connected li.tab_servos").toggle(Qc.isEnabled("CHANNEL_FORWARDING")||Qc.isEnabled("SERVO_TILT")),$$1("#tabs ul.mode-connected li.tab_gps").toggle(Qc.isEnabled("GPS")),$$1("#tabs ul.mode-connected li.tab_led_strip").toggle(Qc.isEnabled("LED_STRIP")),$$1("#tabs ul.mode-connected li.tab_transponder").toggle(Qc.isEnabled("TRANSPONDER")),$$1("#tabs ul.mode-connected li.tab_osd").toggle(Qc.isEnabled("OSD"))}function showErrorDialog(Qc){const ef=$$1(".dialogError")[0];$$1(".dialogError-content").html(Qc),$$1(".dialogError-closebtn").click(function(){ef.close()}),ef.showModal()}var shortUniqueId={exports:{}};(function(Qc){var ef=(()=>{var tf=Object.defineProperty,nf=Object.getOwnPropertySymbols,rf=Object.prototype.hasOwnProperty,sf=Object.prototype.propertyIsEnumerable,af=(Df,Of,Gf)=>Of in Df?tf(Df,Of,{enumerable:!0,configurable:!0,writable:!0,value:Gf}):Df[Of]=Gf,lf=(Df,Of)=>{for(var Gf in Of||(Of={}))rf.call(Of,Gf)&&af(Df,Gf,Of[Gf]);if(nf)for(var Gf of nf(Of))sf.call(Of,Gf)&&af(Df,Gf,Of[Gf]);return Df},cf=Df=>tf(Df,"__esModule",{value:!0}),uf=(Df,Of)=>{cf(Df);for(var Gf in Of)tf(Df,Gf,{get:Of[Gf],enumerable:!0})},ff={};uf(ff,{DEFAULT_UUID_LENGTH:()=>gf,default:()=>Af});var df="4.4.4",gf=6,_f={dictionary:"alphanum",shuffle:!0,debug:!1,length:gf},xf=class extends Function{constructor(Df={}){super(),this.dictIndex=0,this.dictRange=[],this.lowerBound=0,this.upperBound=0,this.dictLength=0,this._digit_first_ascii=48,this._digit_last_ascii=58,this._alpha_lower_first_ascii=97,this._alpha_lower_last_ascii=123,this._hex_last_ascii=103,this._alpha_upper_first_ascii=65,this._alpha_upper_last_ascii=91,this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]},this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]},this.log=(...Lf)=>{const Cf=[...Lf];if(Cf[0]=`[short-unique-id] ${Lf[0]}`,this.debug===!0&&typeof console<"u"&&console!==null)return console.log(...Cf)},this.setDictionary=(Lf,Cf)=>{let Tf;if(Lf&&Array.isArray(Lf)&&Lf.length>1)Tf=Lf;else{Tf=[];let Yf;this.dictIndex=Yf=0;const rh=`_${Lf}_dict_ranges`,dh=this[rh];Object.keys(dh).forEach(hh=>{const sh=hh;for(this.dictRange=dh[sh],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=Yf=this.lowerBound;this.lowerBound<=this.upperBound?Yf<this.upperBound:Yf>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?Yf+=1:Yf-=1)Tf.push(String.fromCharCode(this.dictIndex))})}Cf&&(Tf=Tf.sort(()=>Math.random()-.5)),this.dict=Tf,this.dictLength=this.dict.length,this.counter=0},this.seq=()=>this.sequentialUUID(),this.sequentialUUID=()=>{let Lf,Cf,Tf="";Lf=this.counter;do Cf=Lf%this.dictLength,Lf=Math.trunc(Lf/this.dictLength),Tf+=this.dict[Cf];while(Lf!==0);return this.counter+=1,Tf},this.randomUUID=(Lf=this.uuidLength||gf)=>{let Cf,Tf,Yf;if(Lf===null||typeof Lf>"u"||Lf<1)throw new Error("Invalid UUID Length Provided");for(Cf="",Yf=0;Yf<Lf;Yf+=1)Tf=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,Cf+=this.dict[Tf];return Cf},this.availableUUIDs=(Lf=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,Lf).toFixed(0)),this.approxMaxBeforeCollision=(Lf=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*Lf).toFixed(20)),this.collisionProbability=(Lf=this.availableUUIDs(this.uuidLength),Cf=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(Lf)/this.availableUUIDs(Cf)).toFixed(20)),this.uniqueness=(Lf=this.availableUUIDs(this.uuidLength))=>{const Cf=parseFloat((1-this.approxMaxBeforeCollision(Lf)/Lf).toFixed(20));return Cf>1?1:Cf<0?0:Cf},this.getVersion=()=>this.version,this.stamp=Lf=>{if(typeof Lf!="number"||Lf<10)throw new Error("Param finalLength must be number greater than 10");const Cf=Math.floor(+new Date/1e3).toString(16),Tf=Lf-9,Yf=Math.round(Math.random()*(Tf>15?15:Tf)),rh=this.randomUUID(Tf);return`${rh.substr(0,Yf)}${Cf}${rh.substr(Yf)}${Yf.toString(16)}`},this.parseStamp=Lf=>{if(Lf.length<10)throw new Error("Stamp length invalid");const Cf=parseInt(Lf.substr(Lf.length-1,1),16);return new Date(parseInt(Lf.substr(Cf,8),16)*1e3)};const Of=lf(lf({},_f),Df);this.counter=0,this.debug=!1,this.dict=[],this.version=df;const{dictionary:Gf,shuffle:Bf,length:Vf}=Of;return this.uuidLength=Vf,this.setDictionary(Gf,Bf),this.debug=Of.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength}`),new Proxy(this,{apply:(Lf,Cf,Tf)=>this.randomUUID(...Tf)})}},Af=xf;return Af.default=xf,ff})();Qc.exports=ef.default,typeof window<"u"&&(ef=ef.default)})(shortUniqueId);var shortUniqueIdExports=shortUniqueId.exports;const ShortUniqueId=getDefaultExportFromCjs(shortUniqueIdExports);var analytics={exports:{}};/*!
 * universal-ga v1.2.0
 * https://github.com/daxko/universal-ga 
 *
 * Copyright (c) 2017 Daxko
 * MIT License
 */(function(Qc){(function(ef){function tf(af){console.warn("[analytics]",af)}function nf(){for(var af=[],lf=arguments.length,cf=0;cf<lf;cf++)af.push(arguments[cf]);for(;typeof af[af.length-1]>"u";)af.pop();this._namespace&&(af[0]=this._namespace+"."+af[0],this._namespace=null),window&&typeof window.ga=="function"&&window.ga.apply(void 0,af)}var rf=function(){return this};rf.prototype={initialize:function(af,lf){var cf="https://www.google-analytics.com/";typeof af=="object"&&(lf=af),lf=lf||{},lf.debug?(cf+="analytics_debug.js",delete lf.debug):cf+="analytics.js",function(uf,ff,df,gf,_f,xf,Af){uf.GoogleAnalyticsObject=_f,uf[_f]=uf[_f]||function(){(uf[_f].q=uf[_f].q||[]).push(arguments)},uf[_f].l=1*new Date,xf=ff.createElement(df),Af=ff.getElementsByTagName(df)[0],xf.async=1,xf.src=gf,Af.parentNode.insertBefore(xf,Af)}(window,document,"script",cf,"ga"),af&&(lf=JSON.stringify(lf)==="{}"?void 0:lf,this.create(af,lf))},create:function(af,lf){if(!af){tf("tracking id is required to initialize.");return}nf.call(this,"create",af,"auto",lf)},name:function(af){var lf=new rf;return lf._namespace=af,lf},set:function(af,lf){if(!af||!af.length){tf("set: `key` is required.");return}return nf.call(this,"set",af,lf),this},plugin:function(af,lf){if(!af||!af.length){tf("plugin: `name` is required.");return}return nf.call(this,"require",af,lf),this},pageview:function(af,lf){return nf.call(this,"send","pageview",af,lf),this},screenview:function(af,lf){if(!af){tf("screenview: `screenName` is required.");return}return lf=lf||{},lf.screenName=af,nf.call(this,"send","screenview",lf),this},event:function(af,lf,cf){if(!af||!lf){tf("event: both `category` and `action` are required.");return}return cf&&typeof cf.eventValue<"u"&&typeof cf.eventValue!="number"&&(tf("event: expected `options.eventValue` to be a Number."),cf.eventValue=void 0),cf&&cf.nonInteraction&&typeof cf.nonInteraction!="boolean"&&(tf("event: expected `options.nonInteraction` to be a boolean."),cf.nonInteraction=!1),nf.call(this,"send","event",af,lf,cf),this},timing:function(af,lf,cf,uf){return!af||!lf||typeof cf>"u"?tf("timing: `timingCategory`, `timingVar`, and `timingValue` are required."):typeof cf!="number"?tf("event: expected `timingValue` to be a Number."):nf.call(this,"send","timing",af,lf,cf,uf),this},exception:function(af,lf){return nf.call(this,"send","exception",{exDescription:af,exFatal:!!lf}),this},custom:function(af,lf){if(!/(dimension|metric)[0-9]+/i.test(af)){tf("custom: key must match dimension[0-9]+ or metric[0-9]+");return}return nf.call(this,"set",af,lf),this},initializeEcommerce:function(){this.plugin("ecommerce")},ecAddTransaction:function(af){if(!af||!af.id){tf("addTransaction: `transaction` is required and needs an `id`.");return}return nf.call(this,"ecommerce:addTransaction",af),this},ecAddItem:function(af){if(!af||!af.id||!af.name){tf("addItem: `productItem` is required and needs an `id` and a `name`.");return}return nf.call(this,"ecommerce:addItem",af),this},ecSend:function(){nf.call(this,"ecommerce:send")},ecClear:function(){nf.call(this,"ecommerce:clear")}};var sf=new rf;Qc.exports=sf})()})(analytics);var analyticsExports=analytics.exports;const googleAnalytics=getDefaultExportFromCjs(analyticsExports);let tracking=null;function createAnalytics(Qc,ef){tracking=new Analytics(Qc,ef)}function getBuildType(){return GUI.Mode}function setupAnalytics(Qc){let ef;Qc.userId?ef=Qc.userId:(ef=new ShortUniqueId().randomUUID(13),set$4({userId:ef}));const tf=!!Qc.analyticsOptOut,nf=!!Qc.checkForConfiguratorUnstableVersions;typeof process=="object"&&process.versions["nw-flavor"];const rf={trackingId:"UA-123002063-1",userId:ef,appName:CONFIGURATOR.productName,appVersion:CONFIGURATOR.version,gitRevision:CONFIGURATOR.gitRevision,os:GUI.operating_system,checkForDebugVersions:nf,optOut:tf,buildType:getBuildType()};createAnalytics(googleAnalytics,rf),window.tracking=tracking;function sf(af){tracking.sendException(af.stack)}typeof process=="object"&&process.on("uncaughtException",sf),tracking.sendEvent(tracking.EVENT_CATEGORIES.APPLICATION,"AppStart",{sessionControl:"start"}),$$1(".connect_b a.connect").removeClass("disabled"),$$1(".firmware_b a.flash").removeClass("disabled")}function checkSetupAnalytics(Qc){if(!tracking){const ef=get$3(["userId","analyticsOptOut","checkForConfiguratorUnstableVersions"]);setupAnalytics(ef)}Qc&&Qc(tracking)}class Analytics{constructor(ef,tf){this._trackingId=tf.trackingId,this.setOptOut(tf.optOut),this._googleAnalytics=ef,this._googleAnalytics.initialize(this._trackingId,{storage:"none",clientId:tf.userId,debug:!!tf.debugMode}),this._googleAnalytics.set("forceSSL",!0),this._googleAnalytics.set("transport","xhr"),this._googleAnalytics.set("checkProtocolTask",null),this._googleAnalytics.set("appName",tf.appName),this._googleAnalytics.set("appVersion",tf.debugMode?`${tf.appVersion}-debug`:tf.appVersion),this.EVENT_CATEGORIES={APPLICATION:"Application",FLIGHT_CONTROLLER:"FlightController",FLASHING:"Flashing"},this.DATA={BOARD_TYPE:"boardType",API_VERSION:"apiVersion",FIRMWARE_TYPE:"firmwareType",FIRMWARE_VERSION:"firmwareVersion",FIRMWARE_NAME:"firmwareName",FIRMWARE_SOURCE:"firmwareSource",FIRMWARE_CHANNEL:"firmwareChannel",FIRMWARE_ERASE_ALL:"firmwareEraseAll",FIRMWARE_SIZE:"firmwareSize",MCU_ID:"mcuId",LOGGING_STATUS:"loggingStatus",LOG_SIZE:"logSize",TARGET_NAME:"targetName",BOARD_NAME:"boardName",MANUFACTURER_ID:"manufacturerId",MCU_TYPE:"mcuType"},this.DIMENSIONS={CONFIGURATOR_OS:1,BOARD_TYPE:2,FIRMWARE_TYPE:3,FIRMWARE_VERSION:4,API_VERSION:5,FIRMWARE_NAME:6,FIRMWARE_SOURCE:7,FIRMWARE_ERASE_ALL:8,CONFIGURATOR_EXPERT_MODE:9,FIRMWARE_CHANNEL:10,LOGGING_STATUS:11,MCU_ID:12,CONFIGURATOR_CHANGESET_ID:13,CONFIGURATOR_USE_DEBUG_VERSIONS:14,TARGET_NAME:15,BOARD_NAME:16,MANUFACTURER_ID:17,MCU_TYPE:18,CONFIGURATOR_BUILD_TYPE:19},this.METRICS={FIRMWARE_SIZE:1,LOG_SIZE:2},this.setDimension(this.DIMENSIONS.CONFIGURATOR_OS,tf.os),this.setDimension(this.DIMENSIONS.CONFIGURATOR_CHANGESET_ID,tf.gitRevision),this.setDimension(this.DIMENSIONS.CONFIGURATOR_USE_DEBUG_VERSIONS,tf.checkForDebugVersions),this.setDimension(this.DIMENSIONS.CONFIGURATOR_BUILD_TYPE,tf.buildType),this.resetFlightControllerData(),this.resetFirmwareData()}setDimension(ef,tf){const nf=`dimension${ef}`;this._googleAnalytics.custom(nf,tf)}setMetric(ef,tf){const nf=`metric${ef}`;this._googleAnalytics.custom(nf,tf)}sendEvent(ef,tf,nf){this._googleAnalytics.event(ef,tf,nf)}sendChangeEvents(ef,tf){for(const nf in tf)if(tf.hasOwnProperty(nf)){const rf=tf[nf];rf!==void 0&&this.sendEvent(ef,nf,{eventLabel:rf})}}sendSaveAndChangeEvents(ef,tf,nf){this.sendEvent(ef,"Save",{eventLabel:nf,eventValue:Object.keys(tf).length}),this.sendChangeEvents(ef,tf)}sendAppView(ef){this._googleAnalytics.screenview(ef)}sendTiming(ef,tf,nf){this._googleAnalytics.timing(ef,tf,nf)}sendException(ef){this._googleAnalytics.exception(ef)}setOptOut(ef){window[`ga-disable-${this._trackingId}`]=!!ef}_rebuildFlightControllerEvent(){this.setDimension(this.DIMENSIONS.BOARD_TYPE,this._flightControllerData[this.DATA.BOARD_TYPE]),this.setDimension(this.DIMENSIONS.FIRMWARE_TYPE,this._flightControllerData[this.DATA.FIRMWARE_TYPE]),this.setDimension(this.DIMENSIONS.FIRMWARE_VERSION,this._flightControllerData[this.DATA.FIRMWARE_VERSION]),this.setDimension(this.DIMENSIONS.API_VERSION,this._flightControllerData[this.DATA.API_VERSION]),this.setDimension(this.DIMENSIONS.LOGGING_STATUS,this._flightControllerData[this.DATA.LOGGING_STATUS]),this.setDimension(this.DIMENSIONS.MCU_ID,this._flightControllerData[this.DATA.MCU_ID]),this.setMetric(this.METRICS.LOG_SIZE,this._flightControllerData[this.DATA.LOG_SIZE]),this.setDimension(this.DIMENSIONS.TARGET_NAME,this._flightControllerData[this.DATA.TARGET_NAME]),this.setDimension(this.DIMENSIONS.BOARD_NAME,this._flightControllerData[this.DATA.BOARD_NAME]),this.setDimension(this.DIMENSIONS.MANUFACTURER_ID,this._flightControllerData[this.DATA.MANUFACTURER_ID]),this.setDimension(this.DIMENSIONS.MCU_TYPE,this._flightControllerData[this.DATA.MCU_TYPE])}setFlightControllerData(ef,tf){this._flightControllerData[ef]=tf,this._rebuildFlightControllerEvent()}resetFlightControllerData(){this._flightControllerData={},this._rebuildFlightControllerEvent()}_rebuildFirmwareEvent(){this.setDimension(this.DIMENSIONS.FIRMWARE_NAME,this._firmwareData[this.DATA.FIRMWARE_NAME]),this.setDimension(this.DIMENSIONS.FIRMWARE_SOURCE,this._firmwareData[this.DATA.FIRMWARE_SOURCE]),this.setDimension(this.DIMENSIONS.FIRMWARE_ERASE_ALL,this._firmwareData[this.DATA.FIRMWARE_ERASE_ALL]),this.setDimension(this.DIMENSIONS.FIRMWARE_CHANNEL,this._firmwareData[this.DATA.FIRMWARE_CHANNEL]),this.setMetric(this.METRICS.FIRMWARE_SIZE,this._firmwareData[this.DATA.FIRMWARE_SIZE])}setFirmwareData(ef,tf){this._firmwareData[ef]=tf,this._rebuildFirmwareEvent()}resetFirmwareData(){this._firmwareData={},this._rebuildFirmwareEvent()}}const Features=function(Qc){const ef=this,tf=[{bit:0,group:"rxMode",mode:"select",name:"RX_PPM"},{bit:2,group:"other",name:"INFLIGHT_ACC_CAL"},{bit:3,group:"rxMode",mode:"select",name:"RX_SERIAL"},{bit:4,group:"escMotorStop",name:"MOTOR_STOP"},{bit:5,group:"other",name:"SERVO_TILT",haveTip:!0,dependsOn:"SERVOS"},{bit:6,group:"other",name:"SOFTSERIAL",haveTip:!0},{bit:7,group:"other",name:"GPS",haveTip:!0,dependsOn:"GPS"},{bit:9,group:"other",name:"SONAR",haveTip:!0,dependsOn:"RANGEFINDER"},{bit:10,group:"telemetry",name:"TELEMETRY",haveTip:!0,dependsOn:"TELEMETRY"},{bit:12,group:"3D",name:"3D",haveTip:!0},{bit:13,group:"rxMode",mode:"select",name:"RX_PARALLEL_PWM"},{bit:14,group:"rxMode",mode:"select",name:"RX_MSP"},{bit:15,group:"rssi",name:"RSSI_ADC"},{bit:16,group:"other",name:"LED_STRIP",haveTip:!0,dependsOn:"LED_STRIP"},{bit:17,group:"other",name:"DISPLAY",haveTip:!0,dependsOn:"DASHBOARD"},{bit:18,group:"other",name:"OSD",haveTip:!0,dependsOn:"OSD"},{bit:20,group:"other",name:"CHANNEL_FORWARDING",dependsOn:"SERVOS"},{bit:21,group:"other",name:"TRANSPONDER",haveTip:!0,dependsOn:"TRANSPONDER"},{bit:22,group:"other",name:"AIRMODE"},{bit:25,group:"rxMode",mode:"select",name:"RX_SPI"},{bit:27,group:"escSensor",name:"ESC_SENSOR"},{bit:28,group:"antiGravity",name:"ANTI_GRAVITY",haveTip:!0,hideName:!0}];if(semver$1.lt(Qc.apiVersion,API_VERSION_1_44)&&tf.push({bit:29,group:"other",name:"DYNAMIC_FILTER"}),ef._features=tf,semver$1.gte(Qc.apiVersion,API_VERSION_1_45)&&Qc.buildOptions.length){ef._features=[];for(const nf of tf)(Qc.buildOptions.some(rf=>rf.includes(nf.dependsOn))||nf.dependsOn===void 0)&&ef._features.push(nf)}ef._features.sort((nf,rf)=>nf.name.localeCompare(rf.name,window.navigator.language,{ignorePunctuation:!0})),ef._featureMask=0,ef._analyticsChanges={}};Features.prototype.getMask=function(){const Qc=this;return tracking.sendChangeEvents(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,Qc._analyticsChanges),Qc._analyticsChanges={},Qc._featureMask};Features.prototype.setMask=function(Qc){const ef=this;ef._featureMask=Qc};Features.prototype.isEnabled=function(Qc){const ef=this;for(const tf of ef._features)if(tf.name===Qc&&bit_check(ef._featureMask,tf.bit))return!0;return!1};Features.prototype.enable=function(Qc){const ef=this;for(const tf of ef._features)tf.name===Qc&&(ef._featureMask=bit_set(ef._featureMask,tf.bit))};Features.prototype.disable=function(Qc){const ef=this;for(const tf of ef._features)tf.name===Qc&&(ef._featureMask=bit_clear(ef._featureMask,tf.bit))};Features.prototype.generateElements=function(Qc){const ef=this;ef._featureChanges={};const tf=[];for(const nf of ef._features){let rf="";const sf=nf.name,af=nf.bit;nf.haveTip&&(rf=`<div class="helpicon cf_tip" i18n_title="feature${sf}Tip"></div>`);const lf=[];if(nf.mode==="select"){tf.length===0&&lf.push($$1('<option class="feature" value="-1" i18n="featureNone" />'));const cf=$$1(`<option class="feature" id="feature${af}" name="${sf}" value="${af}" i18n="feature${sf}" />`);lf.push(cf),tf.push(cf)}else{let cf="";nf.hideName||(cf=`<td><div>${sf}</div></td>`);let uf=`<tr><td><input class="feature toggle" id="feature${af}"`;uf+=`name="${sf}" title="${sf}"`,uf+=`type="checkbox"/></td><td><div>${cf}</div>`,uf+=`<span class="xs" i18n="feature${sf}"></span></td>`,uf+=`<td><span class="sm-min" i18n="feature${sf}"></span>`,nf.haveTip&&(uf+=rf),uf+="</td></tr>";const ff=$$1(uf),df=ff.find("input.feature");df.prop("checked",bit_check(ef._featureMask,af)),df.data("bit",af),lf.push(ff)}Qc.each(function(){$$1(this).hasClass(nf.group)&&$$1(this).append(lf)})}for(const nf of tf){const rf=parseInt(nf.attr("value")),sf=bit_check(ef._featureMask,rf);nf.prop("selected",sf)}};Features.prototype.findFeatureByBit=function(Qc){const ef=this;for(const tf of ef._features)if(tf.bit===Qc)return tf};Features.prototype.updateData=function(Qc){const ef=this;if(Qc.attr("type")==="checkbox"){const tf=Qc.data("bit");let nf;Qc.is(":checked")?(ef._featureMask=bit_set(ef._featureMask,tf),nf="On"):(ef._featureMask=bit_clear(ef._featureMask,tf),nf="Off"),ef._analyticsChanges[`Feature${ef.findFeatureByBit(tf).name}`]=nf}else if(Qc.prop("localName")==="select"){const tf=Qc.children(),nf=Qc.val();if(nf!==-1){let rf;for(const sf of tf){const af=sf.value;nf===af?(ef._featureMask=bit_set(ef._featureMask,af),rf=ef.findFeatureByBit(af)):ef._featureMask=bit_clear(ef._featureMask,af)}rf&&(ef._analyticsChanges[`FeatureGroup-${rf.group}`]=rf.name)}}};class Beepers{constructor(ef,tf){const nf=this,rf=[{bit:0,name:"GYRO_CALIBRATED",visible:!0},{bit:1,name:"RX_LOST",visible:!0},{bit:2,name:"RX_LOST_LANDING",visible:!0},{bit:3,name:"DISARMING",visible:!0},{bit:4,name:"ARMING",visible:!0},{bit:5,name:"ARMING_GPS_FIX",visible:!0},{bit:6,name:"BAT_CRIT_LOW",visible:!0},{bit:7,name:"BAT_LOW",visible:!0},{bit:8,name:"GPS_STATUS",visible:!0},{bit:9,name:"RX_SET",visible:!0},{bit:10,name:"ACC_CALIBRATION",visible:!0},{bit:11,name:"ACC_CALIBRATION_FAIL",visible:!0},{bit:12,name:"READY_BEEP",visible:!0},{bit:13,name:"MULTI_BEEPS",visible:!1},{bit:14,name:"DISARM_REPEAT",visible:!0},{bit:15,name:"ARMED",visible:!0},{bit:16,name:"SYSTEM_INIT",visible:!0},{bit:17,name:"USB",visible:!0},{bit:18,name:"BLACKBOX_ERASE",visible:!0},{bit:19,name:"CRASH_FLIP",visible:!0},{bit:20,name:"CAM_CONNECTION_OPEN",visible:!0},{bit:21,name:"CAM_CONNECTION_CLOSE",visible:!0},{bit:22,name:"RC_SMOOTHING_INIT_FAIL",visible:!0}];tf?(nf._beepers=[],rf.forEach(function(sf){tf.some(function(af){return af===sf.name})&&nf._beepers.push(sf)})):nf._beepers=rf.slice(),nf._beeperDisabledMask=0}getDisabledMask(){return this._beeperDisabledMask}setDisabledMask(ef){const tf=this;tf._beeperDisabledMask=ef}isEnabled(ef){const tf=this;for(let nf=0;nf<tf._beepers.length;nf++)if(tf._beepers[nf].name===ef&&bit_check(tf._beeperOfMask,tf._beepers[nf].bit))return!0;return!1}generateElements(ef,tf){const nf=this;for(let rf=0;rf<nf._beepers.length;rf++)if(nf._beepers[rf].visible){const sf=ef.clone();tf.append(sf);const af=$$1(sf).find("input"),lf=$$1(sf).find("div"),cf=$$1(sf).find("span");af.attr("id",`beeper-${rf}`),af.attr("name",nf._beepers[rf].name),af.attr("title",nf._beepers[rf].name),af.prop("checked",!bit_check(nf._beeperDisabledMask,nf._beepers[rf].bit)),af.data("bit",nf._beepers[rf].bit),lf.text(nf._beepers[rf].name),cf.attr("i18n",`beeper${nf._beepers[rf].name}`),sf.show()}}updateData(ef){const tf=this;if(ef.attr("type")==="checkbox"){const nf=ef.data("bit");ef.is(":checked")?tf._beeperDisabledMask=bit_clear(tf._beeperDisabledMask,nf):tf._beeperDisabledMask=bit_set(tf._beeperDisabledMask,nf)}}}const VirtualFC={setVirtualConfig(){const Qc=FC;Qc.resetState(),Qc.CONFIG.deviceIdentifier=0,Qc.CONFIG.flightControllerVersion="4.2.4",Qc.CONFIG.apiVersion=CONFIGURATOR.virtualApiVersion,Qc.FEATURE_CONFIG.features=new Features(FC.CONFIG),Qc.FEATURE_CONFIG.features.setMask(0),Qc.BEEPER_CONFIG.beepers=new Beepers(FC.CONFIG),Qc.BEEPER_CONFIG.dshotBeaconConditions=new Beepers(FC.CONFIG,["RX_LOST","RX_SET"]),Qc.MIXER_CONFIG.mixer=3,Qc.MOTOR_DATA=Array.from({length:8}),Qc.MOTOR_3D_CONFIG={deadband3d_low:1406,deadband3d_high:1514,neutral:1460},Qc.MOTOR_CONFIG={minthrottle:1070,maxthrottle:2e3,mincommand:1e3,motor_count:4,motor_poles:14,use_dshot_telemetry:!0,use_esc_sensor:!1},Qc.SERVO_CONFIG=Array.from({length:8});for(let ef=0;ef<Qc.SERVO_CONFIG.length;ef++)Qc.SERVO_CONFIG[ef]={middle:1500,min:1e3,max:2e3,indexOfChannelToForward:255,rate:100,reversedInputSources:0};Qc.ADJUSTMENT_RANGES=Array.from({length:16});for(let ef=0;ef<Qc.ADJUSTMENT_RANGES.length;ef++)Qc.ADJUSTMENT_RANGES[ef]={slotIndex:0,auxChannelIndex:0,range:{start:900,end:900},adjustmentFunction:0,auxSwitchChannelIndex:0};Qc.SERIAL_CONFIG.ports=Array.from({length:6}),Qc.SERIAL_CONFIG.ports[0]={identifier:20,auxChannelIndex:0,functions:["MSP"],msp_baudrate:115200,gps_baudrate:57600,telemetry_baudrate:"AUTO",blackbox_baudrate:115200};for(let ef=1;ef<Qc.SERIAL_CONFIG.ports.length;ef++)Qc.SERIAL_CONFIG.ports[ef]={identifier:ef-1,auxChannelIndex:0,functions:[],msp_baudrate:115200,gps_baudrate:57600,telemetry_baudrate:"AUTO",blackbox_baudrate:115200};Qc.LED_STRIP=Array.from({length:256});for(let ef=0;ef<Qc.LED_STRIP.length;ef++)Qc.LED_STRIP[ef]={x:0,y:0,functions:["c"],color:0,directions:[],parameters:0};Qc.ANALOG={voltage:12,mAhdrawn:1200,rssi:100,amperage:3},Qc.CONFIG.sampleRateHz=12e3,Qc.PID_ADVANCED_CONFIG.pid_process_denom=2,Qc.BLACKBOX.supported=!0,Qc.VTX_CONFIG.vtx_type=1,Qc.BATTERY_CONFIG={vbatmincellvoltage:1,vbatmaxcellvoltage:4,vbatwarningcellvoltage:3,capacity:1e4,voltageMeterSource:1,currentMeterSource:1},Qc.BATTERY_STATE={cellCount:10,voltage:20,mAhDrawn:1e3,amperage:3},Qc.DATAFLASH={ready:!0,supported:!0,sectors:1024,totalSize:4e4,usedSize:1e4},Qc.SDCARD={supported:!0,state:1,freeSizeKB:1024,totalSizeKB:2048},Qc.SENSOR_CONFIG={acc_hardware:1,baro_hardware:1,mag_hardware:1},Qc.SENSOR_DATA={...FC.SENSOR_DATA},Qc.RC={channels:Array.from({length:16}),active_channels:16};for(let ef=0;ef<Qc.RC.channels.length;ef++)Qc.RC.channels[ef]=1500;Qc.AUX_CONFIG=["ARM","ANGLE","HORIZON","ANTI GRAVITY","MAG","HEADFREE","HEADADJ","CAMSTAB","PASSTHRU","BEEPERON","LEDLOW","CALIB","OSD","TELEMETRY","SERVO1","SERVO2","SERVO3","BLACKBOX","FAILSAFE","AIR MODE","3D","FPV ANGLE MIX","BLACKBOX ERASE","CAMERA CONTROL 1","CAMERA CONTROL 2","CAMERA CONTROL 3","FLIP OVER AFTER CRASH","BOXPREARM","BEEP GPS SATELLITE COUNT","VTX PIT MODE","USER1","USER2","USER3","USER4","PID AUDIO","PARALYZE","GPS RESCUE","ACRO TRAINER","DISABLE VTX CONTROL","LAUNCH CONTROL","MSP OVERRIDE","STICK COMMANDS DISABLE","BEEPER MUTE","READY"],FC.AUX_CONFIG_IDS=[0,1,2,4,5,6,7,8,12,13,15,17,19,20,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53];for(let ef=0;ef<16;ef++)Qc.RXFAIL_CONFIG[ef]={mode:1,value:1500};Qc.CONFIG.activeSensors=63,Qc.GPS_CONFIG={provider:1,ublox_sbas:1,auto_config:1,auto_baud:0,home_point_once:1,ublox_use_galileo:1},Qc.GPS_DATA=sampleGpsData},setupVirtualOSD(){const Qc=OSD;Qc.data.video_system=1,Qc.data.unit_mode=1,Qc.virtualMode={itemPositions:Array.from({length:77}),statisticsState:[],warningFlags:0,timerData:[]},Qc.data.state={haveMax7456Configured:!0,haveOsdFeature:!0,haveMax7456FontDeviceConfigured:!0,isMax7456FontDeviceDetected:!0,haveSomeOsd:!0},Qc.data.parameters={cameraFrameWidth:30,cameraFrameHeight:30},Qc.data.osd_profiles={number:3,selected:0},Qc.data.alarms={rssi:{display_name:i18n.getMessage("osdTimerAlarmOptionRssi"),value:0},cap:{display_name:i18n.getMessage("osdTimerAlarmOptionCapacity"),value:0},alt:{display_name:i18n.getMessage("osdTimerAlarmOptionAltitude"),value:0},time:{display_name:"Minutes",value:0}}}},sampleGpsData={fix:2,numSat:10,lat:474919409,lon:190539766,alt:0,speed:0,ground_course:1337,distanceToHome:0,directionToHome:0,update:0,chn:[0,0,0,0,0,0,0,1,1,2,2,6,6,6,6,6,6,6,255,255,255,255,255,255,255,255,255,255,255,255,255,255],svid:[1,2,10,15,18,23,26,123,136,1,15,2,3,4,9,10,16,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0],quality:[3,95,95,95,95,95,95,23,23,1,31,20,31,23,20,17,31,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cno:[27,37,43,37,34,47,44,42,39,0,40,24,40,35,26,0,35,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};function imageToCharacter(Qc){const ef=[];let tf="";for(let rf=0,sf=Qc.length;rf<sf;rf+=4){const af=Qc.slice(rf,rf+3),lf=af.join("-");tf+=this.constants.MCM_COLORMAP[lf]||this.constants.MCM_COLORMAP.default,tf.length===8&&(ef.push(tf),tf="")}const nf=this.font.constants.SIZES.MAX_NVM_FONT_CHAR_FIELD_SIZE;if(ef.length<nf){const rf=this.constants.MCM_COLORMAP.default.repeat(4);for(let sf=0,af=nf-ef.length;sf<af;sf++)ef.push(rf)}return ef}function replaceChar(Qc,ef){const tf=[],nf=[];for(let rf=0,sf=Qc.length;rf<sf;rf++){const af=Qc[rf];for(let lf=0;lf<8;lf=lf+2)tf.push(parseInt(af.slice(lf,lf+2),2));nf.push(parseInt(af,2))}this.font.data.characters[ef]=tf,this.font.data.characters_bytes[ef]=nf,this.font.data.character_image_urls[ef]=null,this.font.draw(ef)}function validateImage(Qc){return new Promise((ef,tf)=>{this.resetImageInfo();for(const nf in this.constraints){if(!this.constraints.hasOwnProperty(nf))continue;const rf=this.constraints[nf];if(rf.test(Qc))this.showConstraintSatisfied(rf);else{this.showConstraintNotSatisfied(rf),tf("Boot logo image constraint violation");return}}ef()})}const LogoManager={font:null,logoStartIndex:null,elements:{preview:"#font-logo-preview",uploadHint:"#font-logo-info-upload-hint"},constants:{TILES_NUM_HORIZ:24,TILES_NUM_VERT:4,MCM_COLORMAP:{"0-255-0":"01","0-0-0":"00","255-255-255":"10",default:"01"}},acceptFileTypes:[{description:"images",extensions:["png","bmp"]}]};LogoManager.init=function(Qc,ef){this.constraints={imageSize:{el:"#font-logo-info-size",expectedWidth:Qc.constants.SIZES.CHAR_WIDTH*this.constants.TILES_NUM_HORIZ,expectedHeight:Qc.constants.SIZES.CHAR_HEIGHT*this.constants.TILES_NUM_VERT,test:tf=>{const nf=this.constraints.imageSize;return tf.width!==nf.expectedWidth||tf.height!==nf.expectedHeight?(gui_log(i18n.getMessage("osdSetupCustomLogoImageSizeError",{width:tf.width,height:tf.height})),!1):!0}},colorMap:{el:"#font-logo-info-colors",test:tf=>{const nf=document.createElement("canvas"),rf=nf.getContext("2d");nf.width=tf.width,nf.height=tf.height,rf.drawImage(tf,0,0);for(let sf=0,af=nf.height;sf<af;sf++)for(let lf=0,cf=nf.width;lf<cf;lf++){const uf=rf.getImageData(lf,sf,1,1).data.slice(0,3),ff=uf.join("-");if(!this.constants.MCM_COLORMAP[ff])return gui_log(i18n.getMessage("osdSetupCustomLogoColorMapError",{valueR:uf[0],valueG:uf[1],valueB:uf[2],posX:lf,posY:sf})),!1}return!0}}},this.font=Qc,this.logoStartIndex=ef,i18n.addResources({logoWidthPx:`${this.constraints.imageSize.expectedWidth}`,logoHeightPx:`${this.constraints.imageSize.expectedHeight}`}),Object.keys(this.elements).forEach(tf=>{this.elements[`$${tf}`]=$$1(this.elements[tf])}),Object.keys(this.constraints).forEach(tf=>{this.constraints[tf].$el=$$1(this.constraints[tf].el)}),this.elements.$preview.width(this.constraints.imageSize.expectedWidth).height(this.constraints.imageSize.expectedHeight),this.resetImageInfo()};LogoManager.resetImageInfo=function(){this.hideUploadHint(),Object.values(this.constraints).forEach(Qc=>{const ef=Qc.$el;ef.toggleClass("invalid",!1),ef.toggleClass("valid",!1)})};LogoManager.showConstraintNotSatisfied=Qc=>{Qc.$el.toggleClass("invalid",!0)};LogoManager.showConstraintSatisfied=Qc=>{Qc.$el.toggleClass("valid",!0)};LogoManager.showUploadHint=function(){this.elements.$uploadHint.show()};LogoManager.hideUploadHint=function(){this.elements.$uploadHint.hide()};LogoManager.openImage=function(){return new Promise((Qc,ef)=>{const tf={type:"openFile",accepts:this.acceptFileTypes};chrome.fileSystem.chooseEntry(tf,nf=>{if(checkChromeRuntimeError())return;const rf=new Image;rf.onload=()=>{validateImage.apply(this,[rf]).then(()=>Qc(rf)).catch(sf=>ef(sf))},rf.onerror=sf=>ef(sf),nf.file(sf=>rf.src=`file://${sf.path}`)})})};LogoManager.replaceLogoInFont=function(Qc){const ef=document.createElement("canvas"),tf=ef.getContext("2d");let nf=this.logoStartIndex;ef.width=Qc.width,ef.height=Qc.height,tf.drawImage(Qc,0,0);for(let rf=0;rf<this.constants.TILES_NUM_VERT;rf++)for(let sf=0;sf<this.constants.TILES_NUM_HORIZ;sf++){const af=tf.getImageData(sf*this.font.constants.SIZES.CHAR_WIDTH,rf*this.font.constants.SIZES.CHAR_HEIGHT,this.font.constants.SIZES.CHAR_WIDTH,this.font.constants.SIZES.CHAR_HEIGHT),lf=imageToCharacter.apply(this,[af.data]);replaceChar.apply(this,[lf,nf]),nf++}};LogoManager.drawPreview=function(){const Qc=this.elements.$preview.empty();for(let ef=this.logoStartIndex,tf=this.font.constants.MAX_CHAR_COUNT;ef<tf;ef++){const nf=this.font.data.character_image_urls[ef];Qc.append(`<img src="${nf}" title="0x${ef.toString(16)}"></img>`)}};var FUNC_ERROR_TEXT="Expected a function",NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now$1=function(){return root$1.Date.now()};function debounce(Qc,ef,tf){var nf,rf,sf,af,lf,cf,uf=0,ff=!1,df=!1,gf=!0;if(typeof Qc!="function")throw new TypeError(FUNC_ERROR_TEXT);ef=toNumber(ef)||0,isObject(tf)&&(ff=!!tf.leading,df="maxWait"in tf,sf=df?nativeMax(toNumber(tf.maxWait)||0,ef):sf,gf="trailing"in tf?!!tf.trailing:gf);function _f(Cf){var Tf=nf,Yf=rf;return nf=rf=void 0,uf=Cf,af=Qc.apply(Yf,Tf),af}function xf(Cf){return uf=Cf,lf=setTimeout(Of,ef),ff?_f(Cf):af}function Af(Cf){var Tf=Cf-cf,Yf=Cf-uf,rh=ef-Tf;return df?nativeMin(rh,sf-Yf):rh}function Df(Cf){var Tf=Cf-cf,Yf=Cf-uf;return cf===void 0||Tf>=ef||Tf<0||df&&Yf>=sf}function Of(){var Cf=now$1();if(Df(Cf))return Gf(Cf);lf=setTimeout(Of,Af(Cf))}function Gf(Cf){return lf=void 0,gf&&nf?_f(Cf):(nf=rf=void 0,af)}function Bf(){lf!==void 0&&clearTimeout(lf),uf=0,nf=cf=rf=lf=void 0}function Vf(){return lf===void 0?af:Gf(now$1())}function Lf(){var Cf=now$1(),Tf=Df(Cf);if(nf=arguments,rf=this,cf=Cf,Tf){if(lf===void 0)return xf(cf);if(df)return lf=setTimeout(Of,ef),_f(cf)}return lf===void 0&&(lf=setTimeout(Of,ef)),af}return Lf.cancel=Bf,Lf.flush=Vf,Lf}function isObject(Qc){var ef=typeof Qc;return!!Qc&&(ef=="object"||ef=="function")}function isObjectLike(Qc){return!!Qc&&typeof Qc=="object"}function isSymbol(Qc){return typeof Qc=="symbol"||isObjectLike(Qc)&&objectToString.call(Qc)==symbolTag}function toNumber(Qc){if(typeof Qc=="number")return Qc;if(isSymbol(Qc))return NAN;if(isObject(Qc)){var ef=typeof Qc.valueOf=="function"?Qc.valueOf():Qc;Qc=isObject(ef)?ef+"":ef}if(typeof Qc!="string")return Qc===0?Qc:+Qc;Qc=Qc.replace(reTrim,"");var tf=reIsBinary.test(Qc);return tf||reIsOctal.test(Qc)?freeParseInt(Qc.slice(2),tf?2:8):reIsBadHex.test(Qc)?NAN:+Qc}var lodash_debounce=debounce;const debounce$1=getDefaultExportFromCjs(lodash_debounce),FONT={},SYM={},OSD={};SYM.loadSymbols=function(){SYM.BLANK=32,SYM.VOLT=6,SYM.RSSI=1,SYM.LINK_QUALITY=123,SYM.AH_RIGHT=2,SYM.AH_LEFT=3,SYM.THR=4,SYM.FLY_M=156,SYM.ON_M=155,SYM.AH_CENTER_LINE=114,SYM.AH_CENTER=115,SYM.AH_CENTER_LINE_RIGHT=116,SYM.AH_BAR9_0=128,SYM.AH_DECORATION=19,SYM.LOGO=160,SYM.AMP=154,SYM.MAH=7,SYM.METRE=12,SYM.FEET=15,SYM.KPH=158,SYM.MPH=157,SYM.MPS=159,SYM.FTPS=153,SYM.SPEED=112,SYM.TOTAL_DIST=113,SYM.GPS_SAT_L=30,SYM.GPS_SAT_R=31,SYM.GPS_LAT=137,SYM.GPS_LON=152,SYM.HOMEFLAG=17,SYM.PB_START=138,SYM.PB_FULL=139,SYM.PB_EMPTY=141,SYM.PB_END=142,SYM.PB_CLOSE=143,SYM.BATTERY=150,SYM.ARROW_NORTH=104,SYM.ARROW_SOUTH=96,SYM.ARROW_EAST=100,SYM.ARROW_SMALL_UP=117,SYM.ARROW_SMALL_RIGHT=119,SYM.HEADING_LINE=29,SYM.HEADING_DIVIDED_LINE=28,SYM.HEADING_N=24,SYM.HEADING_S=25,SYM.HEADING_E=26,SYM.HEADING_W=27,SYM.TEMPERATURE=122,SYM.TEMP_F=13,SYM.TEMP_C=14,SYM.STICK_OVERLAY_SPRITE_HIGH=8,SYM.STICK_OVERLAY_SPRITE_MID=9,SYM.STICK_OVERLAY_SPRITE_LOW=10,SYM.STICK_OVERLAY_CENTER=11,SYM.STICK_OVERLAY_VERTICAL=22,SYM.STICK_OVERLAY_HORIZONTAL=23,SYM.BBLOG=16,SYM.ALTITUDE=127,SYM.PITCH=21,SYM.ROLL=20,SYM.KM=125,SYM.MILES=126,semver$1.lt(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(SYM.AH_CENTER_LINE=38,SYM.AH_CENTER=126,SYM.AH_CENTER_LINE_RIGHT=39,SYM.SPEED=null,SYM.LINK_QUALITY=null)};FONT.initData=function(){FONT.data||(FONT.data={loaded_font_file:"default",characters_bytes:[],characters:[],character_image_urls:[]})};FONT.constants={MAX_CHAR_COUNT:256,SIZES:{MAX_NVM_FONT_CHAR_SIZE:54,MAX_NVM_FONT_CHAR_FIELD_SIZE:64,CHAR_HEIGHT:18,CHAR_WIDTH:12},COLORS:{0:"rgba(0, 0, 0, 1)",1:"rgba(255, 255, 255, 0)",2:"rgba(255,255,255, 1)"}};FONT.pushChar=function(Qc,ef){Qc.length===FONT.constants.SIZES.MAX_NVM_FONT_CHAR_FIELD_SIZE&&(FONT.data.characters_bytes.push(Qc.slice(0)),FONT.data.characters.push(ef.slice(0)),FONT.draw(FONT.data.characters.length-1))};FONT.parseMCMFontFile=function(Qc){const ef=Qc.trim().split(`
`);if(FONT.data.characters.length=0,FONT.data.characters_bytes.length=0,FONT.data.character_image_urls.length=0,LogoManager.resetImageInfo(),ef.shift().trim()!=="MAX7456"){const rf="that font file doesnt have the MAX7456 header, giving up";console.debug(rf),Promise.reject(rf)}const tf=[],nf=[];FONT.data.hexstring=[];for(let rf=0;rf<ef.length;rf++){const sf=ef[rf];FONT.data.hexstring.push(`0x${parseInt(sf,2).toString(16)}`),tf.length===FONT.constants.SIZES.MAX_NVM_FONT_CHAR_FIELD_SIZE*(8/2)&&(FONT.pushChar(nf,tf),tf.length=0,nf.length=0);for(let af=0;af<8;af=af+2){const lf=parseInt(sf.slice(af,af+2),2);tf.push(lf)}nf.push(parseInt(sf,2))}return FONT.pushChar(nf,tf),FONT.data.characters};FONT.openFontFile=function(){return new Promise(function(Qc){chrome.fileSystem.chooseEntry({type:"openFile",accepts:[{description:"MCM files",extensions:["mcm"]}]},function(ef){checkChromeRuntimeError()||(FONT.data.loaded_font_file=ef.name,ef.file(function(tf){const nf=new FileReader;nf.onloadend=function(rf){rf.total!==0&&rf.total===rf.loaded?(FONT.parseMCMFontFile(rf.target.result),Qc()):console.error("could not load whole font file")},nf.readAsText(tf)}))})})};const drawCanvas=function(Qc){const ef=document.createElement("canvas"),tf=ef.getContext("2d"),nf=1,rf=nf*FONT.constants.SIZES.CHAR_WIDTH,sf=nf*FONT.constants.SIZES.CHAR_HEIGHT;ef.width=rf,ef.height=sf;for(let af=0;af<sf;af++)for(let lf=0;lf<rf;lf++){Qc in FONT.data.characters||console.log("charAddress",Qc," is not in ",FONT.data.characters.length);const cf=FONT.data.characters[Qc][af*rf+lf];tf.fillStyle=FONT.constants.COLORS[cf],tf.fillRect(lf,af,nf,nf)}return ef};FONT.draw=function(Qc){let ef=FONT.data.character_image_urls[Qc];return ef||(ef=FONT.data.character_image_urls[Qc]=drawCanvas(Qc).toDataURL("image/png")),ef};FONT.msp={encode(Qc){return[Qc].concat(FONT.data.characters_bytes[Qc].slice(0,FONT.constants.SIZES.MAX_NVM_FONT_CHAR_SIZE))}};FONT.upload=function(Qc){return FONT.data.characters.reduce((ef,tf,nf)=>ef.then(()=>(Qc.val(nf/FONT.data.characters.length*100),MSP$1.promise(MSPCodes.MSP_OSD_CHAR_WRITE,FONT.msp.encode(nf)))),Promise.resolve()).then(function(){return console.log(`Uploaded all ${FONT.data.characters.length} characters`),gui_log(i18n.getMessage("osdSetupUploadingFontEnd",{length:FONT.data.characters.length})),OSD.GUI.fontManager.close(),MSP$1.promise(MSPCodes.MSP_SET_REBOOT)})};FONT.preview=function(Qc){Qc.empty();for(let ef=0;ef<SYM.LOGO;ef++){const tf=FONT.data.character_image_urls[ef];Qc.append(`<img src="${tf}" title="0x${ef.toString(16)}"></img>`)}};FONT.symbol=function(Qc){return Qc===""||Qc===null?"":String.fromCharCode(Qc)};OSD.getNumberOfProfiles=function(){return OSD.data.osd_profiles.number};OSD.getCurrentPreviewProfile=function(){const Qc=$$1(".osdprofile-selector");return Qc.length>0?Qc.val():0};OSD.initData=function(){OSD.data={video_system:null,unit_mode:null,alarms:[],statItems:[],warnings:[],displayItems:[],timers:[],last_positions:{},preview:[],tooltips:[],osd_profiles:{},VIDEO_COLS:{PAL:30,NTSC:30,HD:53},VIDEO_ROWS:{PAL:16,NTSC:13,HD:20},VIDEO_BUFFER_CHARS:{PAL:480,NTSC:390,HD:1590}}};OSD.initData();OSD.getVariantForPreview=function(Qc,ef){return Qc.displayItems.find(tf=>tf.name===ef).variant};OSD.generateAltitudePreview=function(Qc){const ef=FONT.symbol(Qc.unit_mode===0?SYM.FEET:SYM.METRE),tf=OSD.getVariantForPreview(Qc,"ALTITUDE");return`${FONT.symbol(SYM.ALTITUDE)}399${tf===0?".7":""}${ef}`};OSD.generateVTXChannelPreview=function(Qc){const ef=OSD.getVariantForPreview(Qc,"VTX_CHANNEL");let tf;switch(ef){case 0:tf="R:2:200:P";break;case 1:tf="200";break}return tf};OSD.generateBatteryUsagePreview=function(Qc){const ef=OSD.getVariantForPreview(Qc,"MAIN_BATT_USAGE");let tf;switch(ef){case 0:tf=FONT.symbol(SYM.PB_START)+FONT.symbol(SYM.PB_FULL).repeat(9)+FONT.symbol(SYM.PB_END)+FONT.symbol(SYM.PB_EMPTY)+FONT.symbol(SYM.PB_CLOSE);break;case 1:tf=FONT.symbol(SYM.PB_START)+FONT.symbol(SYM.PB_FULL).repeat(5)+FONT.symbol(SYM.PB_END)+FONT.symbol(SYM.PB_EMPTY).repeat(5)+FONT.symbol(SYM.PB_CLOSE);break;case 2:tf=`${FONT.symbol(SYM.MAH)}67%`;break;case 3:tf=`${FONT.symbol(SYM.MAH)}33%`;break}return tf};OSD.generateGpsLatLongPreview=function(Qc,ef){const tf=OSD.getVariantForPreview(Qc,ef);let nf;switch(tf){case 0:nf=ef==="GPS_LON"?`${FONT.symbol(SYM.GPS_LON)}-000.0000000`:`${FONT.symbol(SYM.GPS_LAT)}-00.0000000 `;break;case 1:nf=ef==="GPS_LON"?`${FONT.symbol(SYM.GPS_LON)}-000.0000`:`${FONT.symbol(SYM.GPS_LAT)}-00.0000 `;break;case 2:const rf=FONT.symbol(SYM.STICK_OVERLAY_SPRITE_HIGH);nf=ef==="GPS_LON"?`${FONT.symbol(SYM.GPS_LON)}00${rf}000'00.0"N`:`${FONT.symbol(SYM.GPS_LAT)}00${rf}00'00.0"E `;break;case 3:nf=`${FONT.symbol(SYM.GPS_SAT_L)}${FONT.symbol(SYM.GPS_SAT_R)}000000AA+BBB`;break}return nf};OSD.generateTimerPreview=function(Qc,ef){let tf="";switch(Qc.timers[ef].src){case 0:case 3:tf+=FONT.symbol(SYM.ON_M);break;case 1:case 2:tf+=FONT.symbol(SYM.FLY_M);break}switch(Qc.timers[ef].precision){case 0:tf+="00:00";break;case 1:tf+="00:00.00";break;case 2:tf+="00:00.0";break}return tf};OSD.generateTemperaturePreview=function(Qc,ef){let tf=FONT.symbol(SYM.TEMPERATURE);switch(Qc.unit_mode){case 0:let nf=ef*1.8;nf+=32,tf+=Math.floor(nf)+FONT.symbol(SYM.TEMP_F);break;case 1:case 2:tf+=ef+FONT.symbol(SYM.TEMP_C);break}return tf};OSD.generateLQPreview=function(){const ef=FC.getSerialRxTypes().findIndex(tf=>tf==="CRSF")===FC.RX_CONFIG.serialrx_provider;return FONT.symbol(SYM.LINK_QUALITY)+(ef?"2:100":"8")};OSD.generateCraftName=function(){let Qc="CRAFT_NAME";const ef=semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?FC.CONFIG.craftName:FC.CONFIG.name;return ef!==""&&(Qc=ef.toUpperCase()),Qc};OSD.generateDisplayName=function(){var ef;let Qc="DISPLAY_NAME";return FC.CONFIG.displayName&&(Qc=(ef=FC.CONFIG.displayName)==null?void 0:ef.toUpperCase()),Qc};OSD.generatePilotName=function(){var ef;let Qc="PILOT_NAME";return FC.CONFIG.pilotName&&(Qc=(ef=FC.CONFIG.pilotName)==null?void 0:ef.toUpperCase()),Qc};OSD.drawStickOverlayPreview=function(){function Qc(cf){return Math.floor(Math.random()*Math.floor(cf))}const ef=[SYM.STICK_OVERLAY_SPRITE_HIGH,SYM.STICK_OVERLAY_SPRITE_MID,SYM.STICK_OVERLAY_SPRITE_LOW],tf=7,nf=5,rf=Qc(tf),sf=Qc(nf),af=Qc(3),lf=[];for(let cf=0;cf<tf;cf++)for(let uf=0;uf<nf;uf++){let ff=null;if(cf===rf&&uf===sf?ff=ef[af]:cf===(tf-1)/2&&uf===(nf-1)/2?ff=SYM.STICK_OVERLAY_CENTER:cf===(tf-1)/2?ff=SYM.STICK_OVERLAY_VERTICAL:uf===(nf-1)/2&&(ff=SYM.STICK_OVERLAY_HORIZONTAL),ff!==null){const df={x:cf,y:uf,sym:ff};lf.push(df)}}return lf};OSD.drawCameraFramePreview=function(){const Qc=OSD.data.parameters.cameraFrameWidth,ef=OSD.data.parameters.cameraFrameHeight,tf=[];for(let nf=0;nf<Qc;nf++){const rf=nf===0||nf===Qc-1?SYM.STICK_OVERLAY_CENTER:SYM.STICK_OVERLAY_HORIZONTAL,sf={x:nf,y:0,sym:rf},af={x:nf,y:ef-1,sym:rf};tf.push(sf),tf.push(af)}for(let nf=1;nf<ef-1;nf++){const rf=SYM.STICK_OVERLAY_VERTICAL,sf={x:0,y:nf,sym:rf},af={x:Qc-1,y:nf,sym:rf};tf.push(sf),tf.push(af)}return tf};OSD.formatPidsPreview=function(Qc){const ef=FC.getPidDefaults(),tf=ef[Qc*5].toString().padStart(3),nf=ef[Qc*5+1].toString().padStart(3),rf=ef[Qc*5+2].toString().padStart(3),sf=ef[Qc*5+4].toString().padStart(3);return semver$1.lt(FC.CONFIG.apiVersion,API_VERSION_1_44)?`${tf} ${nf} ${rf}`:`${tf} ${nf} ${rf} ${sf}`};OSD.loadDisplayFields=function(){let Qc=OSD.constants.VIDEO_TYPES[OSD.data.video_system];OSD.ALL_DISPLAY_FIELDS={MAIN_BATT_VOLTAGE:{name:"MAIN_BATT_VOLTAGE",text:"osdTextElementMainBattVoltage",desc:"osdDescElementMainBattVoltage",defaultPosition:-29,draw_order:20,positionable:!0,preview:`${FONT.symbol(SYM.BATTERY)}16.8${FONT.symbol(SYM.VOLT)}`},RSSI_VALUE:{name:"RSSI_VALUE",text:"osdTextElementRssiValue",desc:"osdDescElementRssiValue",defaultPosition:-59,draw_order:30,positionable:!0,preview:`${FONT.symbol(SYM.RSSI)}99`},TIMER:{name:"TIMER",text:"osdTextElementTimer",desc:"osdDescElementTimer",defaultPosition:-39,positionable:!0,preview:`${FONT.symbol(SYM.ON_M)} 11:11`},THROTTLE_POSITION:{name:"THROTTLE_POSITION",text:"osdTextElementThrottlePosition",desc:"osdDescElementThrottlePosition",defaultPosition:-9,draw_order:110,positionable:!0,preview:`${FONT.symbol(SYM.THR)} 69`},CPU_LOAD:{name:"CPU_LOAD",text:"osdTextElementCpuLoad",desc:"osdDescElementCpuLoad",defaultPosition:26,positionable:!0,preview:"15"},VTX_CHANNEL:{name:"VTX_CHANNEL",text:"osdTextElementVtxChannel",desc:"osdDescElementVtxChannel",defaultPosition:1,draw_order:120,positionable:!0,variants:["osdTextElementVTXchannelVariantFull","osdTextElementVTXchannelVariantPower"],preview(ef){return OSD.generateVTXChannelPreview(ef)}},VOLTAGE_WARNING:{name:"VOLTAGE_WARNING",text:"osdTextElementVoltageWarning",desc:"osdDescElementVoltageWarning",defaultPosition:-80,positionable:!0,preview:"LOW VOLTAGE"},ARMED:{name:"ARMED",text:"osdTextElementArmed",desc:"osdDescElementArmed",defaultPosition:-107,positionable:!0,preview:"ARMED"},DISARMED:{name:"DISARMED",text:"osdTextElementDisarmed",desc:"osdDescElementDisarmed",defaultPosition:-109,draw_order:280,positionable:!0,preview:"DISARMED"},CROSSHAIRS:{name:"CROSSHAIRS",text:"osdTextElementCrosshairs",desc:"osdDescElementCrosshairs",defaultPosition(){return(OSD.data.VIDEO_COLS[Qc]>>1)+((OSD.data.VIDEO_ROWS[Qc]>>1)-2)*OSD.data.VIDEO_COLS[Qc]-2},draw_order:40,positionable(){return!0},preview(){return FONT.symbol(SYM.AH_CENTER_LINE)+FONT.symbol(SYM.AH_CENTER)+FONT.symbol(SYM.AH_CENTER_LINE_RIGHT)}},ARTIFICIAL_HORIZON:{name:"ARTIFICIAL_HORIZON",text:"osdTextElementArtificialHorizon",desc:"osdDescElementArtificialHorizon",defaultPosition(){return(OSD.data.VIDEO_COLS[Qc]>>1)+((OSD.data.VIDEO_ROWS[Qc]>>1)-5)*OSD.data.VIDEO_COLS[Qc]-1},draw_order:10,positionable(){return!0},preview(){const ef=[];for(let tf=1;tf<8;tf++)for(let nf=-4;nf<=4;nf++){let rf;tf!==4?rf={x:nf,y:tf,sym:SYM.BLANK}:rf={x:nf,y:tf,sym:SYM.AH_BAR9_0+4},ef.push(rf)}return ef}},HORIZON_SIDEBARS:{name:"HORIZON_SIDEBARS",text:"osdTextElementHorizonSidebars",desc:"osdDescElementHorizonSidebars",defaultPosition(){return(OSD.data.VIDEO_COLS[Qc]>>1)+((OSD.data.VIDEO_ROWS[Qc]>>1)-2)*OSD.data.VIDEO_COLS[Qc]-1},draw_order:50,positionable(){return!0},preview(){const ef=[],tf=OSD.constants.AHISIDEBARWIDTHPOSITION,nf=OSD.constants.AHISIDEBARHEIGHTPOSITION;let rf;for(let sf=-nf;sf<=nf;sf++)rf={x:-tf,y:sf,sym:SYM.AH_DECORATION},ef.push(rf),rf={x:tf,y:sf,sym:SYM.AH_DECORATION},ef.push(rf);return rf={x:-tf+1,y:0,sym:SYM.AH_LEFT},ef.push(rf),rf={x:tf-1,y:0,sym:SYM.AH_RIGHT},ef.push(rf),ef}},CURRENT_DRAW:{name:"CURRENT_DRAW",text:"osdTextElementCurrentDraw",desc:"osdDescElementCurrentDraw",defaultPosition:-23,draw_order:130,positionable:!0,preview(){return` 42.00${FONT.symbol(SYM.AMP)}`}},MAH_DRAWN:{name:"MAH_DRAWN",text:"osdTextElementMahDrawn",desc:"osdDescElementMahDrawn",defaultPosition:-18,draw_order:140,positionable:!0,preview(){return` 690${FONT.symbol(SYM.MAH)}`}},CRAFT_NAME:{name:"CRAFT_NAME",text:"osdTextElementCraftName",desc:"osdDescElementCraftName",defaultPosition:-77,draw_order:150,positionable:!0,preview:OSD.generateCraftName},ALTITUDE:{name:"ALTITUDE",text:"osdTextElementAltitude",desc:"osdDescElementAltitude",defaultPosition:62,draw_order:160,positionable:!0,variants:["osdTextElementAltitudeVariant1Decimal","osdTextElementAltitudeVariantNoDecimal"],preview(ef){return OSD.generateAltitudePreview(ef)}},ONTIME:{name:"ONTIME",text:"osdTextElementOnTime",desc:"osdDescElementOnTime",defaultPosition:-1,positionable:!0,preview:`${FONT.symbol(SYM.ON_M)}05:42`},FLYTIME:{name:"FLYTIME",text:"osdTextElementFlyTime",desc:"osdDescElementFlyTime",defaultPosition:-1,positionable:!0,preview:`${FONT.symbol(SYM.FLY_M)}04:11`},FLYMODE:{name:"FLYMODE",text:"osdTextElementFlyMode",desc:"osdDescElementFlyMode",defaultPosition:-1,draw_order:90,positionable:!0,preview:"ANGL"},GPS_SPEED:{name:"GPS_SPEED",text:"osdTextElementGPSSpeed",desc:"osdDescElementGPSSpeed",defaultPosition:-1,draw_order:810,positionable:!0,preview(ef){const tf=OSD.constants.UNIT_TYPES.indexOf("METRIC"),nf=FONT.symbol(ef.unit_mode===tf?SYM.KPH:SYM.MPH);return`${FONT.symbol(SYM.SPEED)}40${nf}`}},GPS_SATS:{name:"GPS_SATS",text:"osdTextElementGPSSats",desc:"osdDescElementGPSSats",defaultPosition:-1,draw_order:800,positionable:!0,preview:`${FONT.symbol(SYM.GPS_SAT_L)}${FONT.symbol(SYM.GPS_SAT_R)}14`},GPS_LON:{name:"GPS_LON",text:"osdTextElementGPSLon",desc:"osdDescElementGPSLon",defaultPosition:-1,draw_order:830,positionable:!0,variants:["osdTextElementGPSVariant7Decimals","osdTextElementGPSVariant4Decimals","osdTextElementGPSVariantDegMinSec","osdTextElementGPSVariantOpenLocation"],preview(ef){return OSD.generateGpsLatLongPreview(ef,"GPS_LON")}},GPS_LAT:{name:"GPS_LAT",text:"osdTextElementGPSLat",desc:"osdDescElementGPSLat",defaultPosition:-1,draw_order:820,positionable:!0,variants:["osdTextElementGPSVariant7Decimals","osdTextElementGPSVariant4Decimals","osdTextElementGPSVariantDegMinSec","osdTextElementGPSVariantOpenLocation"],preview(ef){return OSD.generateGpsLatLongPreview(ef,"GPS_LAT")}},DEBUG:{name:"DEBUG",text:"osdTextElementDebug",desc:"osdDescElementDebug",defaultPosition:-1,draw_order:240,positionable:!0,preview:"DBG     0     0     0     0"},PID_ROLL:{name:"PID_ROLL",text:"osdTextElementPIDRoll",desc:"osdDescElementPIDRoll",defaultPosition:2370,draw_order:170,positionable:!0,preview:`ROL ${OSD.formatPidsPreview(0)}`},PID_PITCH:{name:"PID_PITCH",text:"osdTextElementPIDPitch",desc:"osdDescElementPIDPitch",defaultPosition:2402,draw_order:180,positionable:!0,preview:`PIT ${OSD.formatPidsPreview(1)}`},PID_YAW:{name:"PID_YAW",text:"osdTextElementPIDYaw",desc:"osdDescElementPIDYaw",defaultPosition:2434,draw_order:190,positionable:!0,preview:`YAW ${OSD.formatPidsPreview(2)}`},POWER:{name:"POWER",text:"osdTextElementPower",desc:"osdDescElementPower",defaultPosition:482,draw_order:200,positionable:!0,preview(){return" 142W"}},PID_RATE_PROFILE:{name:"PID_RATE_PROFILE",text:"osdTextElementPIDRateProfile",desc:"osdDescElementPIDRateProfile",defaultPosition:2466,draw_order:210,positionable:!0,preview:"1-2"},BATTERY_WARNING:{name:"BATTERY_WARNING",text:"osdTextElementBatteryWarning",desc:"osdDescElementBatteryWarning",defaultPosition:-1,positionable:!0,preview:"LOW VOLTAGE"},AVG_CELL_VOLTAGE:{name:"AVG_CELL_VOLTAGE",text:"osdTextElementAvgCellVoltage",desc:"osdDescElementAvgCellVoltage",defaultPosition:384,draw_order:230,positionable:!0,preview:`${FONT.symbol(SYM.BATTERY)}3.98${FONT.symbol(SYM.VOLT)}`},PITCH_ANGLE:{name:"PITCH_ANGLE",text:"osdTextElementPitchAngle",desc:"osdDescElementPitchAngle",defaultPosition:-1,draw_order:250,positionable:!0,preview:`${FONT.symbol(SYM.PITCH)}-00.0`},ROLL_ANGLE:{name:"ROLL_ANGLE",text:"osdTextElementRollAngle",desc:"osdDescElementRollAngle",defaultPosition:-1,draw_order:260,positionable:!0,preview:`${FONT.symbol(SYM.ROLL)}-00.0`},MAIN_BATT_USAGE:{name:"MAIN_BATT_USAGE",text:"osdTextElementMainBattUsage",desc:"osdDescElementMainBattUsage",defaultPosition:-17,draw_order:270,positionable:!0,variants:["osdTextElementMainBattUsageVariantGraphrRemain","osdTextElementMainBattUsageVariantGraphUsage","osdTextElementMainBattUsageVariantValueRemain","osdTextElementMainBattUsageVariantValueUsage"],preview(ef){return OSD.generateBatteryUsagePreview(ef)}},ARMED_TIME:{name:"ARMED_TIME",text:"osdTextElementArmedTime",desc:"osdDescElementArmedTime",defaultPosition:-1,positionable:!0,preview:`${FONT.symbol(SYM.FLY_M)}02:07`},HOME_DIR:{name:"HOME_DIRECTION",text:"osdTextElementHomeDirection",desc:"osdDescElementHomeDirection",defaultPosition:-1,draw_order:850,positionable:!0,preview:FONT.symbol(SYM.ARROW_SOUTH+2)},HOME_DIST:{name:"HOME_DISTANCE",text:"osdTextElementHomeDistance",desc:"osdDescElementHomeDistance",defaultPosition:-1,draw_order:840,positionable:!0,preview(ef){const tf=FONT.symbol(ef.unit_mode===0?SYM.FEET:SYM.METRE);return`${FONT.symbol(SYM.HOMEFLAG)}432${tf}`}},NUMERICAL_HEADING:{name:"NUMERICAL_HEADING",text:"osdTextElementNumericalHeading",desc:"osdDescElementNumericalHeading",defaultPosition:-1,draw_order:290,positionable:!0,preview:`${FONT.symbol(SYM.ARROW_EAST)}90`},NUMERICAL_VARIO:{name:"NUMERICAL_VARIO",text:"osdTextElementNumericalVario",desc:"osdDescElementNumericalVario",defaultPosition:-1,draw_order:300,positionable:!0,preview(ef){const tf=FONT.symbol(ef.unit_mode===0?SYM.FTPS:SYM.MPS);return`${FONT.symbol(SYM.ARROW_SMALL_UP)}8.7${tf}`}},COMPASS_BAR:{name:"COMPASS_BAR",text:"osdTextElementCompassBar",desc:"osdDescElementCompassBar",defaultPosition:-1,draw_order:310,positionable:!0,preview(){return FONT.symbol(SYM.HEADING_W)+FONT.symbol(SYM.HEADING_LINE)+FONT.symbol(SYM.HEADING_DIVIDED_LINE)+FONT.symbol(SYM.HEADING_LINE)+FONT.symbol(SYM.HEADING_N)+FONT.symbol(SYM.HEADING_LINE)+FONT.symbol(SYM.HEADING_DIVIDED_LINE)+FONT.symbol(SYM.HEADING_LINE)+FONT.symbol(SYM.HEADING_E)}},WARNINGS:{name:"WARNINGS",text:"osdTextElementWarnings",desc:"osdDescElementWarnings",defaultPosition:-1,draw_order:220,positionable:!0,preview:"LOW VOLTAGE"},ESC_TEMPERATURE:{name:"ESC_TEMPERATURE",text:"osdTextElementEscTemperature",desc:"osdDescElementEscTemperature",defaultPosition:-1,draw_order:900,positionable:!0,preview(ef){return`E${OSD.generateTemperaturePreview(ef,45)}`}},ESC_RPM:{name:"ESC_RPM",text:"osdTextElementEscRpm",desc:"osdDescElementEscRpm",defaultPosition:-1,draw_order:1e3,positionable:!0,preview:["22600","22600","22600","22600"]},REMAINING_TIME_ESTIMATE:{name:"REMAINING_TIME_ESTIMATE",text:"osdTextElementRemaningTimeEstimate",desc:"osdDescElementRemaningTimeEstimate",defaultPosition:-1,draw_order:80,positionable:!0,preview:"01:13"},RTC_DATE_TIME:{name:"RTC_DATE_TIME",text:"osdTextElementRtcDateTime",desc:"osdDescElementRtcDateTime",defaultPosition:-1,draw_order:360,positionable:!0,preview:"2017-11-11 16:20:00"},ADJUSTMENT_RANGE:{name:"ADJUSTMENT_RANGE",text:"osdTextElementAdjustmentRange",desc:"osdDescElementAdjustmentRange",defaultPosition:-1,draw_order:370,positionable:!0,preview:"PITCH/ROLL P: 42"},TIMER_1:{name:"TIMER_1",text:"osdTextElementTimer1",desc:"osdDescElementTimer1",defaultPosition:-1,draw_order:60,positionable:!0,preview(ef){return OSD.generateTimerPreview(ef,0)}},TIMER_2:{name:"TIMER_2",text:"osdTextElementTimer2",desc:"osdDescElementTimer2",defaultPosition:-1,draw_order:70,positionable:!0,preview(ef){return OSD.generateTimerPreview(ef,1)}},CORE_TEMPERATURE:{name:"CORE_TEMPERATURE",text:"osdTextElementCoreTemperature",desc:"osdDescElementCoreTemperature",defaultPosition:-1,draw_order:380,positionable:!0,preview(ef){return`C${OSD.generateTemperaturePreview(ef,33)}`}},ANTI_GRAVITY:{name:"ANTI_GRAVITY",text:"osdTextAntiGravity",desc:"osdDescAntiGravity",defaultPosition:-1,draw_order:320,positionable:!0,preview:"AG"},G_FORCE:{name:"G_FORCE",text:"osdTextGForce",desc:"osdDescGForce",defaultPosition:-1,draw_order:15,positionable:!0,preview:"1.0G"},MOTOR_DIAG:{name:"MOTOR_DIAGNOSTICS",text:"osdTextElementMotorDiag",desc:"osdDescElementMotorDiag",defaultPosition:-1,draw_order:335,positionable:!0,preview:FONT.symbol(132)+FONT.symbol(133)+FONT.symbol(132)+FONT.symbol(131)},LOG_STATUS:{name:"LOG_STATUS",text:"osdTextElementLogStatus",desc:"osdDescElementLogStatus",defaultPosition:-1,draw_order:330,positionable:!0,preview:`${FONT.symbol(SYM.BBLOG)}16`},FLIP_ARROW:{name:"FLIP_ARROW",text:"osdTextElementFlipArrow",desc:"osdDescElementFlipArrow",defaultPosition:-1,draw_order:340,positionable:!0,preview:FONT.symbol(SYM.ARROW_EAST)},LINK_QUALITY:{name:"LINK_QUALITY",text:"osdTextElementLinkQuality",desc:"osdDescElementLinkQuality",defaultPosition:-1,draw_order:390,positionable:!0,preview:OSD.generateLQPreview},FLIGHT_DIST:{name:"FLIGHT_DISTANCE",text:"osdTextElementFlightDist",desc:"osdDescElementFlightDist",defaultPosition:-1,draw_order:860,positionable:!0,preview(ef){const tf=FONT.symbol(ef.unit_mode===0?SYM.FEET:SYM.METRE);return`${FONT.symbol(SYM.TOTAL_DIST)}653${tf}`}},STICK_OVERLAY_LEFT:{name:"STICK_OVERLAY_LEFT",text:"osdTextElementStickOverlayLeft",desc:"osdDescElementStickOverlayLeft",defaultPosition:-1,draw_order:400,positionable:!0,preview:OSD.drawStickOverlayPreview},STICK_OVERLAY_RIGHT:{name:"STICK_OVERLAY_RIGHT",text:"osdTextElementStickOverlayRight",desc:"osdDescElementStickOverlayRight",defaultPosition:-1,draw_order:410,positionable:!0,preview:OSD.drawStickOverlayPreview},...semver$1.lt(FC.CONFIG.apiVersion,API_VERSION_1_45)?{DISPLAY_NAME:{name:"DISPLAY_NAME",text:"osdTextElementDisplayName",desc:"osdDescElementDisplayName",defaultPosition:-77,draw_order:350,positionable:!0,preview(ef){return OSD.generateDisplayName(ef,1)}}}:{},...semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?{PILOT_NAME:{name:"PILOT_NAME",text:"osdTextElementPilotName",desc:"osdDescElementPilotName",defaultPosition:-77,draw_order:350,positionable:!0,preview(ef){return OSD.generatePilotName(ef,1)}}}:{},ESC_RPM_FREQ:{name:"ESC_RPM_FREQ",text:"osdTextElementEscRpmFreq",desc:"osdDescElementEscRpmFreq",defaultPosition:-1,draw_order:1010,positionable:!0,preview:["22600","22600","22600","22600"]},RATE_PROFILE_NAME:{name:"RATE_PROFILE_NAME",text:"osdTextElementRateProfileName",desc:"osdDescElementRateProfileName",defaultPosition:-1,draw_order:420,positionable:!0,preview:"RATE_1"},PID_PROFILE_NAME:{name:"PID_PROFILE_NAME",text:"osdTextElementPidProfileName",desc:"osdDescElementPidProfileName",defaultPosition:-1,draw_order:430,positionable:!0,preview:"PID_1"},OSD_PROFILE_NAME:{name:"OSD_PROFILE_NAME",text:"osdTextElementOsdProfileName",desc:"osdDescElementOsdProfileName",defaultPosition:-1,draw_order:440,positionable:!0,preview:"OSD_1"},RSSI_DBM_VALUE:{name:"RSSI_DBM_VALUE",text:"osdTextElementRssiDbmValue",desc:"osdDescElementRssiDbmValue",defaultPosition:-1,draw_order:395,positionable:!0,preview:`${FONT.symbol(SYM.RSSI)}-130`},RC_CHANNELS:{name:"OSD_RC_CHANNELS",text:"osdTextElementRcChannels",desc:"osdDescElementRcChannels",defaultPosition:-1,draw_order:445,positionable:!0,preview:["-1000","  545","  689"," 1000"]},CAMERA_FRAME:{name:"OSD_CAMERA_FRAME",text:"osdTextElementCameraFrame",desc:"osdDescElementCameraFrame",defaultPosition:-1,draw_order:450,positionable:!0,preview:OSD.drawCameraFramePreview},OSD_EFFICIENCY:{name:"OSD_EFFICIENCY",text:"osdTextElementEfficiency",desc:"osdDescElementEfficiency",defaultPosition:-1,draw_order:455,positionable:!0,preview(ef){const tf=FONT.symbol(ef.unit_mode===0?SYM.MILES:SYM.KM);return`1234${FONT.symbol(SYM.MAH)}/${tf}`}},TOTAL_FLIGHTS:{name:"OSD_TOTAL_FLIGHTS",text:"osdTextTotalFlights",desc:"osdDescTotalFlights",defaultPosition:-1,draw_order:460,positionable:!0,preview:"#9876"},OSD_UP_DOWN_REFERENCE:{name:"OSD_UP_DOWN_REFERENCE",text:"osdTextElementUpDownReference",desc:"osdDescUpDownReference",defaultPosition:238,draw_order:465,positionable:!0,preview:"U"},OSD_TX_UPLINK_POWER:{name:"OSD_TX_UPLINK_POWER",text:"osdTextElementTxUplinkPower",desc:"osdDescTxUplinkPower",defaultPosition:-1,draw_order:470,positionable:!0,preview:`${FONT.symbol(SYM.RSSI)}250MW`},WH_DRAWN:{name:"WH_DRAWN",text:"osdTextElementWhDrawn",desc:"osdDescElementWhDrawn",defaultPosition:-1,draw_order:475,positionable:!0,preview:"1.10 WH"},AUX_VALUE:{name:"AUX_VALUE",text:"osdTextElementAuxValue",desc:"osdDescElementAuxValue",defaultPosition:-1,draw_order:480,positionable:!0,preview:"AUX"},READY_MODE:{name:"READY_MODE",text:"osdTextElementReadyMode",desc:"osdDescElementReadyMode",defaultPosition:-1,draw_order:485,positionable:!0,preview:"READY"},RSNR_VALUE:{name:"RSNR_VALUE",text:"osdTextElementRSNRValue",desc:"osdDescElementRSNRValue",defaultPosition:-1,draw_order:490,positionable:!0,preview:`${FONT.symbol(SYM.RSSI)}15`},SYS_GOGGLE_VOLTAGE:{name:"SYS_GOGGLE_VOLTAGE",text:"osdTextElementSysGoggleVoltage",desc:"osdDescElementSysGoggleVoltage",defaultPosition:-1,draw_order:485,positionable:!0,preview:"G 16.8V"},SYS_VTX_VOLTAGE:{name:"SYS_VTX_VOLTAGE",text:"osdTextElementSysVtxVoltage",desc:"osdDescElementSysVtxVoltage",defaultPosition:-1,draw_order:490,positionable:!0,preview:"A 12.6V"},SYS_BITRATE:{name:"SYS_BITRATE",text:"osdTextElementSysBitrate",desc:"osdDescElementSysBitrate",defaultPosition:-1,draw_order:495,positionable:!0,preview:"50MBPS"},SYS_DELAY:{name:"SYS_DELAY",text:"osdTextElementSysDelay",desc:"osdDescElementSysDelay",defaultPosition:-1,draw_order:500,positionable:!0,preview:"24.5MS"},SYS_DISTANCE:{name:"SYS_DISTANCE",text:"osdTextElementSysDistance777",desc:"osdDescElementSysDistance",defaultPosition:-1,draw_order:505,positionable:!0,preview:`10${FONT.symbol(SYM.METRE)}`},SYS_LQ:{name:"SYS_LQ",text:"osdTextElementSysLQ",desc:"osdDescElementSysLQ",defaultPosition:-1,draw_order:510,positionable:!0,preview:`G${FONT.symbol(SYM.LINK_QUALITY)}100`},SYS_GOGGLE_DVR:{name:"SYS_GOGGLE_DVR",text:"osdTextElementSysGoggleDVR",desc:"osdDescElementSysGoggleDVR",defaultPosition:-1,draw_order:515,positionable:!0,preview:`${FONT.symbol(SYM.ARROW_SMALL_RIGHT)}G DVR 8.4G`},SYS_VTX_DVR:{name:"SYS_VTX_DVR",text:"osdTextElementSysVtxDVR",desc:"osdDescElementSysVtxDVR",defaultPosition:-1,draw_order:520,positionable:!0,preview:`${FONT.symbol(SYM.ARROW_SMALL_RIGHT)}A DVR 1.6G`},SYS_WARNINGS:{name:"SYS_WARNINGS",text:"osdTextElementSysWarnings",desc:"osdDescElementSysWarnings",defaultPosition:-1,draw_order:525,positionable:!0,preview:"VTX WARNINGS"},SYS_VTX_TEMP:{name:"SYS_VTX_TEMP",text:"osdTextElementSysVtxTemp",desc:"osdDescElementSysVtxTemp",defaultPosition:-1,draw_order:530,positionable:!0,preview(ef){return`V${OSD.generateTemperaturePreview(ef,45)}`}},SYS_FAN_SPEED:{name:"SYS_FAN_SPEED",text:"osdTextElementSysFanSpeed",desc:"osdDescElementSysFanSpeed",defaultPosition:-1,draw_order:535,positionable:!0,preview:`F${FONT.symbol(SYM.TEMPERATURE)}5`},GPS_LAP_TIME_CURRENT:{name:"GPS_LAP_TIME_CURRENT",text:"osdTextElementLapTimeCurrent",desc:"osdDescElementLapTimeCurrent",defaultPosition:-1,draw_order:540,positionable:!0,preview:"1:23.456"},GPS_LAP_TIME_PREVIOUS:{name:"GPS_LAP_TIME_PREVIOUS",text:"osdTextElementLapTimePrevious",desc:"osdDescElementLapTimePrevious",defaultPosition:-1,draw_order:545,positionable:!0,preview:"1:23.456"},GPS_LAP_TIME_BEST3:{name:"GPS_LAP_TIME_BEST3",text:"osdTextElementLapTimeBest3",desc:"osdDescElementLapTimeBest3",defaultPosition:-1,draw_order:550,positionable:!0,preview:"1:23.456"}}};OSD.constants={VISIBLE:2048,VARIANTS:49152,VIDEO_TYPES:["AUTO","PAL","NTSC","HD"],UNIT_TYPES:["IMPERIAL","METRIC","BRITISH"],TIMER_PRECISION:["SECOND","HUNDREDTH","TENTH"],AHISIDEBARWIDTHPOSITION:7,AHISIDEBARHEIGHTPOSITION:3,UNKNOWN_DISPLAY_FIELD:{name:"UNKNOWN",text:"osdTextElementUnknown",desc:"osdDescElementUnknown",defaultPosition:-1,positionable:!0,preview:"UNKNOWN "},ALL_STATISTIC_FIELDS:{MAX_SPEED:{name:"MAX_SPEED",text:"osdTextStatMaxSpeed",desc:"osdDescStatMaxSpeed"},MIN_BATTERY:{name:"MIN_BATTERY",text:"osdTextStatMinBattery",desc:"osdDescStatMinBattery"},MIN_RSSI:{name:"MIN_RSSI",text:"osdTextStatMinRssi",desc:"osdDescStatMinRssi"},MAX_CURRENT:{name:"MAX_CURRENT",text:"osdTextStatMaxCurrent",desc:"osdDescStatMaxCurrent"},USED_MAH:{name:"USED_MAH",text:"osdTextStatUsedMah",desc:"osdDescStatUsedMah"},USED_WH:{name:"USED_WH",text:"osdTextStatUsedWh",desc:"osdDescStatUsedWh"},MAX_ALTITUDE:{name:"MAX_ALTITUDE",text:"osdTextStatMaxAltitude",desc:"osdDescStatMaxAltitude"},BLACKBOX:{name:"BLACKBOX",text:"osdTextStatBlackbox",desc:"osdDescStatBlackbox"},END_BATTERY:{name:"END_BATTERY",text:"osdTextStatEndBattery",desc:"osdDescStatEndBattery"},FLYTIME:{name:"FLY_TIME",text:"osdTextStatFlyTime",desc:"osdDescStatFlyTime"},ARMEDTIME:{name:"ARMED_TIME",text:"osdTextStatArmedTime",desc:"osdDescStatArmedTime"},MAX_DISTANCE:{name:"MAX_DISTANCE",text:"osdTextStatMaxDistance",desc:"osdDescStatMaxDistance"},BLACKBOX_LOG_NUMBER:{name:"BLACKBOX_LOG_NUMBER",text:"osdTextStatBlackboxLogNumber",desc:"osdDescStatBlackboxLogNumber"},TIMER_1:{name:"TIMER_1",text:"osdTextStatTimer1",desc:"osdDescStatTimer1"},TIMER_2:{name:"TIMER_2",text:"osdTextStatTimer2",desc:"osdDescStatTimer2"},RTC_DATE_TIME:{name:"RTC_DATE_TIME",text:"osdTextStatRtcDateTime",desc:"osdDescStatRtcDateTime"},STAT_BATTERY:{name:"BATTERY_VOLTAGE",text:"osdTextStatBattery",desc:"osdDescStatBattery"},MAX_G_FORCE:{name:"MAX_G_FORCE",text:"osdTextStatGForce",desc:"osdDescStatGForce"},MAX_ESC_TEMP:{name:"MAX_ESC_TEMP",text:"osdTextStatEscTemperature",desc:"osdDescStatEscTemperature"},MAX_ESC_RPM:{name:"MAX_ESC_RPM",text:"osdTextStatEscRpm",desc:"osdDescStatEscRpm"},MIN_LINK_QUALITY:{name:"MIN_LINK_QUALITY",text:"osdTextStatMinLinkQuality",desc:"osdDescStatMinLinkQuality"},FLIGHT_DISTANCE:{name:"FLIGHT_DISTANCE",text:"osdTextStatFlightDistance",desc:"osdDescStatFlightDistance"},MAX_FFT:{name:"MAX_FFT",text:"osdTextStatMaxFFT",desc:"osdDescStatMaxFFT"},STAT_TOTAL_FLIGHTS:{name:"STAT_TOTAL_FLIGHTS",text:"osdTextStatTotalFlights",desc:"osdDescStatTotalFlights"},STAT_TOTAL_FLIGHT_TIME:{name:"STAT_TOTAL_FLIGHT_TIME",text:"osdTextStatTotalFlightTime",desc:"osdDescStatTotalFlightTime"},STAT_TOTAL_FLIGHT_DIST:{name:"STAT_TOTAL_FLIGHT_DIST",text:"osdTextStatTotalFlightDistance",desc:"osdDescStatTotalFlightDistance"},MIN_RSSI_DBM:{name:"MIN_RSSI_DBM",text:"osdTextStatMinRssiDbm",desc:"osdDescStatMinRssiDbm"},MIN_RSNR:{name:"MIN_RSNR",text:"osdTextStatMinRSNR",desc:"osdDescStatMinRSNR"},STAT_BEST_3_CONSEC_LAPS:{name:"STAT_BEST_3_CONSEC_LAPS",text:"osdTextStatBest3ConsecLaps",desc:"osdDescStatBest3ConsecLaps"},STAT_BEST_LAP:{name:"STAT_BEST_LAP",text:"osdTextStatBestLap",desc:"osdDescStatBestLap"},STAT_FULL_THROTTLE_TIME:{name:"STAT_FULL_THROTTLE_TIME",text:"osdTextStatFullThrottleTime",desc:"osdDescStatFullThrottleTime"},STAT_FULL_THROTTLE_COUNTER:{name:"STAT_FULL_THROTTLE_COUNTER",text:"osdTextStatFullThrottleCounter",desc:"osdDescStatFullThrottleCounter"},STAT_AVG_THROTTLE:{name:"STAT_AVG_THROTTLE",text:"osdTextStatAvgThrottle",desc:"osdDescStatAvgThrottle"}},ALL_WARNINGS:{ARMING_DISABLED:{name:"ARMING_DISABLED",text:"osdWarningTextArmingDisabled",desc:"osdWarningArmingDisabled"},BATTERY_NOT_FULL:{name:"BATTERY_NOT_FULL",text:"osdWarningTextBatteryNotFull",desc:"osdWarningBatteryNotFull"},BATTERY_WARNING:{name:"BATTERY_WARNING",text:"osdWarningTextBatteryWarning",desc:"osdWarningBatteryWarning"},BATTERY_CRITICAL:{name:"BATTERY_CRITICAL",text:"osdWarningTextBatteryCritical",desc:"osdWarningBatteryCritical"},VISUAL_BEEPER:{name:"VISUAL_BEEPER",text:"osdWarningTextVisualBeeper",desc:"osdWarningVisualBeeper"},CRASH_FLIP_MODE:{name:"CRASH_FLIP_MODE",text:"osdWarningTextCrashFlipMode",desc:"osdWarningCrashFlipMode"},ESC_FAIL:{name:"ESC_FAIL",text:"osdWarningTextEscFail",desc:"osdWarningEscFail"},CORE_TEMPERATURE:{name:"CORE_TEMPERATURE",text:"osdWarningTextCoreTemperature",desc:"osdWarningCoreTemperature"},RC_SMOOTHING_FAILURE:{name:"RC_SMOOTHING_FAILURE",text:"osdWarningTextRcSmoothingFailure",desc:"osdWarningRcSmoothingFailure"},FAILSAFE:{name:"FAILSAFE",text:"osdWarningTextFailsafe",desc:"osdWarningFailsafe"},LAUNCH_CONTROL:{name:"LAUNCH_CONTROL",text:"osdWarningTextLaunchControl",desc:"osdWarningLaunchControl"},GPS_RESCUE_UNAVAILABLE:{name:"GPS_RESCUE_UNAVAILABLE",text:"osdWarningTextGpsRescueUnavailable",desc:"osdWarningGpsRescueUnavailable"},GPS_RESCUE_DISABLED:{name:"GPS_RESCUE_DISABLED",text:"osdWarningTextGpsRescueDisabled",desc:"osdWarningGpsRescueDisabled"},RSSI:{name:"RSSI",text:"osdWarningTextRSSI",desc:"osdWarningRSSI"},LINK_QUALITY:{name:"LINK_QUALITY",text:"osdWarningTextLinkQuality",desc:"osdWarningLinkQuality"},RSSI_DBM:{name:"RSSI_DBM",text:"osdWarningTextRssiDbm",desc:"osdWarningRssiDbm"},OVER_CAP:{name:"OVER_CAP",text:"osdWarningTextOverCap",desc:"osdWarningOverCap"},RSNR:{name:"RSNR",text:"osdWarningTextRSNR",desc:"osdWarningRSNR"}},FONT_TYPES:[{file:"default",name:"osdSetupFontTypeDefault"},{file:"bold",name:"osdSetupFontTypeBold"},{file:"large",name:"osdSetupFontTypeLarge"},{file:"extra_large",name:"osdSetupFontTypeLargeExtra"},{file:"betaflight",name:"osdSetupFontTypeBetaflight"},{file:"digital",name:"osdSetupFontTypeDigital"},{file:"clarity",name:"osdSetupFontTypeClarity"},{file:"vision",name:"osdSetupFontTypeVision"},{file:"impact",name:"osdSetupFontTypeImpact"},{file:"impact_mini",name:"osdSetupFontTypeImpactMini"}]};OSD.searchLimitsElement=function(Qc){const ef={minX:0,maxX:0,minY:0,maxY:0};return Qc.length===0||(Qc[0].constructor===String?(ef.maxY=Qc.length,ef.minY=0,ef.minX=0,Qc.forEach(function(tf){ef.maxX=Math.max(tf.length,ef.maxX)})):Qc.forEach(function(tf){ef.minX=Math.min(tf.x,ef.minX),ef.maxX=Math.max(tf.x,ef.maxX),ef.minY=Math.min(tf.y,ef.minY),ef.maxY=Math.max(tf.y,ef.maxY)})),ef};OSD.chooseFields=function(){let Qc=OSD.ALL_DISPLAY_FIELDS;OSD.constants.DISPLAY_FIELDS=[Qc.RSSI_VALUE,Qc.MAIN_BATT_VOLTAGE,Qc.CROSSHAIRS,Qc.ARTIFICIAL_HORIZON,Qc.HORIZON_SIDEBARS,Qc.TIMER_1,Qc.TIMER_2,Qc.FLYMODE,Qc.CRAFT_NAME,Qc.THROTTLE_POSITION,Qc.VTX_CHANNEL,Qc.CURRENT_DRAW,Qc.MAH_DRAWN,Qc.GPS_SPEED,Qc.GPS_SATS,Qc.ALTITUDE,Qc.PID_ROLL,Qc.PID_PITCH,Qc.PID_YAW,Qc.POWER,Qc.PID_RATE_PROFILE,Qc.WARNINGS,Qc.AVG_CELL_VOLTAGE,Qc.GPS_LON,Qc.GPS_LAT,Qc.DEBUG,Qc.PITCH_ANGLE,Qc.ROLL_ANGLE,Qc.MAIN_BATT_USAGE,Qc.DISARMED,Qc.HOME_DIR,Qc.HOME_DIST,Qc.NUMERICAL_HEADING,Qc.NUMERICAL_VARIO,Qc.COMPASS_BAR,Qc.ESC_TEMPERATURE,Qc.ESC_RPM,Qc.REMAINING_TIME_ESTIMATE,Qc.RTC_DATE_TIME,Qc.ADJUSTMENT_RANGE,Qc.CORE_TEMPERATURE,Qc.ANTI_GRAVITY,Qc.G_FORCE,Qc.MOTOR_DIAG,Qc.LOG_STATUS,Qc.FLIP_ARROW,Qc.LINK_QUALITY,Qc.FLIGHT_DIST,Qc.STICK_OVERLAY_LEFT,Qc.STICK_OVERLAY_RIGHT,semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?Qc.PILOT_NAME:Qc.DISPLAY_NAME,Qc.ESC_RPM_FREQ],semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(OSD.constants.DISPLAY_FIELDS=OSD.constants.DISPLAY_FIELDS.concat([Qc.RATE_PROFILE_NAME,Qc.PID_PROFILE_NAME,Qc.OSD_PROFILE_NAME,Qc.RSSI_DBM_VALUE])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(OSD.constants.DISPLAY_FIELDS=OSD.constants.DISPLAY_FIELDS.concat([Qc.RC_CHANNELS,Qc.CAMERA_FRAME,Qc.OSD_EFFICIENCY])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&(OSD.constants.DISPLAY_FIELDS=OSD.constants.DISPLAY_FIELDS.concat([Qc.TOTAL_FLIGHTS,Qc.OSD_UP_DOWN_REFERENCE,Qc.OSD_TX_UPLINK_POWER])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&(OSD.constants.DISPLAY_FIELDS=OSD.constants.DISPLAY_FIELDS.concat([Qc.WH_DRAWN,Qc.AUX_VALUE,Qc.READY_MODE,Qc.RSNR_VALUE,Qc.SYS_GOGGLE_VOLTAGE,Qc.SYS_VTX_VOLTAGE,Qc.SYS_BITRATE,Qc.SYS_DELAY,Qc.SYS_DISTANCE,Qc.SYS_LQ,Qc.SYS_GOGGLE_DVR,Qc.SYS_VTX_DVR,Qc.SYS_WARNINGS,Qc.SYS_VTX_TEMP,Qc.SYS_FAN_SPEED])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&(OSD.constants.DISPLAY_FIELDS=OSD.constants.DISPLAY_FIELDS.concat([Qc.GPS_LAP_TIME_CURRENT,Qc.GPS_LAP_TIME_PREVIOUS,Qc.GPS_LAP_TIME_BEST3])),Qc=OSD.constants.ALL_STATISTIC_FIELDS,OSD.constants.STATISTIC_FIELDS=[Qc.RTC_DATE_TIME,Qc.TIMER_1,Qc.TIMER_2,Qc.MAX_SPEED,Qc.MAX_DISTANCE,Qc.MIN_BATTERY,Qc.END_BATTERY,Qc.STAT_BATTERY,Qc.MIN_RSSI,Qc.MAX_CURRENT,Qc.USED_MAH,Qc.MAX_ALTITUDE,Qc.BLACKBOX,Qc.BLACKBOX_LOG_NUMBER,Qc.MAX_G_FORCE,Qc.MAX_ESC_TEMP,Qc.MAX_ESC_RPM,Qc.MIN_LINK_QUALITY,Qc.FLIGHT_DISTANCE,Qc.MAX_FFT],semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(OSD.constants.STATISTIC_FIELDS=OSD.constants.STATISTIC_FIELDS.concat([Qc.STAT_TOTAL_FLIGHTS,Qc.STAT_TOTAL_FLIGHT_TIME,Qc.STAT_TOTAL_FLIGHT_DIST,Qc.MIN_RSSI_DBM])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&(OSD.constants.STATISTIC_FIELDS=OSD.constants.STATISTIC_FIELDS.concat([Qc.USED_WH,Qc.MIN_RSNR])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&(OSD.constants.STATISTIC_FIELDS=OSD.constants.STATISTIC_FIELDS.concat([Qc.STAT_BEST_3_CONSEC_LAPS,Qc.STAT_BEST_LAP,Qc.STAT_FULL_THROTTLE_TIME,Qc.STAT_FULL_THROTTLE_COUNTER,Qc.STAT_AVG_THROTTLE])),Qc=OSD.constants.ALL_WARNINGS,OSD.constants.WARNINGS=[Qc.ARMING_DISABLED,Qc.BATTERY_NOT_FULL,Qc.BATTERY_WARNING,Qc.BATTERY_CRITICAL,Qc.VISUAL_BEEPER,Qc.CRASH_FLIP_MODE,Qc.ESC_FAIL,Qc.CORE_TEMPERATURE,Qc.RC_SMOOTHING_FAILURE,Qc.FAILSAFE,Qc.LAUNCH_CONTROL,Qc.GPS_RESCUE_UNAVAILABLE,Qc.GPS_RESCUE_DISABLED],OSD.constants.TIMER_TYPES=["ON_TIME","TOTAL_ARMED_TIME","LAST_ARMED_TIME"],semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(OSD.constants.TIMER_TYPES=OSD.constants.TIMER_TYPES.concat(["ON_ARM_TIME"]),OSD.constants.WARNINGS=OSD.constants.WARNINGS.concat([Qc.RSSI,Qc.LINK_QUALITY,Qc.RSSI_DBM])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(OSD.constants.WARNINGS=OSD.constants.WARNINGS.concat([Qc.OVER_CAP])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&(OSD.constants.WARNINGS=OSD.constants.WARNINGS.concat([Qc.RSNR]))};OSD.updateDisplaySize=function(){let Qc=OSD.constants.VIDEO_TYPES[OSD.data.video_system];Qc==="AUTO"&&(Qc="PAL"),OSD.data.displaySize={x:OSD.data.VIDEO_COLS[Qc],y:OSD.data.VIDEO_ROWS[Qc],total:null}};OSD.drawByOrder=function(Qc,ef,tf,nf,rf){if(OSD.data.preview[Qc]!==void 0){const sf=OSD.data.preview[Qc][0];if(sf!=null&&sf.draw_order!==void 0&&(ef.draw_order===void 0||ef.draw_order<sf.draw_order))return;OSD.data.preview[Qc]=[ef,tf,nf,rf]}};OSD.msp={helpers:{unpack:{position(Qc,ef){const tf={},nf=typeof ef.positionable=="function"?ef.positionable():ef.positionable,rf=typeof ef.defaultPosition=="function"?ef.defaultPosition():ef.defaultPosition;tf.positionable=nf,OSD.updateDisplaySize();const sf=Qc>>5&32|Qc&31,af=Qc>>5&31;tf.position=nf?OSD.data.displaySize.x*af+sf:rf,tf.isVisible=[];for(let lf=0;lf<OSD.getNumberOfProfiles();lf++)tf.isVisible[lf]=(Qc&OSD.constants.VISIBLE<<lf)!==0;return tf.variant=(Qc&OSD.constants.VARIANTS)>>14,tf},timer(Qc){return{src:Qc&15,precision:Qc>>4&15,alarm:Qc>>8&255}}},pack:{position(Qc){const ef=Qc.isVisible,tf=Qc.position,nf=Qc.variant;let rf=0;for(let cf=0;cf<OSD.getNumberOfProfiles();cf++)rf|=ef[cf]?OSD.constants.VISIBLE<<cf:0;const sf=nf<<14,af=tf%OSD.data.displaySize.x,lf=(tf-af)/OSD.data.displaySize.x;return rf|sf|(lf&31)<<5|(af&32)<<5|af&31},timer(Qc){return Qc.src&15|(Qc.precision&15)<<4|(Qc.alarm&255)<<8}}},encodeOther(){const Qc=[-1,OSD.data.video_system];if(OSD.data.state.haveOsdFeature){Qc.push8(OSD.data.unit_mode),Qc.push8(OSD.data.alarms.rssi.value),Qc.push16(OSD.data.alarms.cap.value),Qc.push16(0),Qc.push16(OSD.data.alarms.alt.value);let ef=0;for(let tf=0;tf<OSD.data.warnings.length;tf++)OSD.data.warnings[tf].enabled&&(ef|=1<<tf);CONFIGURATOR.virtualMode&&(OSD.virtualMode.warningFlags=ef),console.log(ef),Qc.push16(ef),Qc.push32(ef),Qc.push8(OSD.data.osd_profiles.selected+1),Qc.push8(OSD.data.parameters.overlayRadioMode),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(Qc.push8(OSD.data.parameters.cameraFrameWidth),Qc.push8(OSD.data.parameters.cameraFrameHeight)),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&Qc.push16(OSD.data.alarms.link_quality.value)}return Qc},encodeLayout(Qc){CONFIGURATOR.virtualMode&&(OSD.virtualMode.itemPositions[Qc.index]=this.helpers.pack.position(Qc));const ef=[];return ef.push8(Qc.index),ef.push16(this.helpers.pack.position(Qc)),ef},encodeStatistics(Qc){CONFIGURATOR.virtualMode&&(OSD.virtualMode.statisticsState[Qc.index]=Qc.enabled);const ef=[];return ef.push8(Qc.index),ef.push16(Qc.enabled),ef.push8(0),ef},encodeTimer(Qc){CONFIGURATOR.virtualMode&&(OSD.virtualMode.timerData[Qc.index]={},OSD.virtualMode.timerData[Qc.index].src=Qc.src,OSD.virtualMode.timerData[Qc.index].precision=Qc.precision,OSD.virtualMode.timerData[Qc.index].alarm=Qc.alarm);const ef=[-2,Qc.index];return ef.push16(this.helpers.pack.timer(Qc)),ef},processOsdElements(Qc,ef){for(const tf of ef){const nf=Qc.displayItems.length;let rf,sf,af=!1;Qc.displayItems.length<OSD.constants.DISPLAY_FIELDS.length?rf=OSD.constants.DISPLAY_FIELDS[nf]:(rf=OSD.constants.UNKNOWN_DISPLAY_FIELD,sf=(1+Qc.displayItems.length-OSD.constants.DISPLAY_FIELDS.length).toString(),af=!0),Qc.displayItems.push($$1.extend({name:rf.name,text:sf?[rf.text,sf]:rf.text,desc:rf.desc,index:nf,draw_order:rf.draw_order,preview:sf?rf.preview+sf:rf.preview,variants:rf.variants,ignoreSize:af},this.helpers.unpack.position(tf,rf)))}for(const tf of Qc.displayItems)typeof tf.preview=="function"&&(tf.preview=tf.preview(Qc))},decode(Qc){const ef=Qc.data,tf=OSD.data;let nf=OSD.constants.DISPLAY_FIELDS.length;tf.flags=ef.readU8(),tf.flags>0&&Qc.length>1&&(tf.video_system=ef.readU8(),bit_check(tf.flags,0)&&(tf.unit_mode=ef.readU8(),tf.alarms={},tf.alarms.rssi={display_name:i18n.getMessage("osdTimerAlarmOptionRssi"),value:ef.readU8()},tf.alarms.cap={display_name:i18n.getMessage("osdTimerAlarmOptionCapacity"),value:ef.readU16()},ef.readU8(),nf=ef.readU8(),tf.alarms.alt={display_name:i18n.getMessage("osdTimerAlarmOptionAltitude"),value:ef.readU16()})),tf.state={},tf.state.haveSomeOsd=tf.flags!==0,tf.state.haveMax7456Configured=bit_check(tf.flags,4),tf.state.haveFrSkyOSDConfigured=semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&bit_check(tf.flags,3),tf.state.haveMax7456FontDeviceConfigured=tf.state.haveMax7456Configured||tf.state.haveFrSkyOSDConfigured,tf.state.isMax7456FontDeviceDetected=bit_check(tf.flags,5)||tf.state.haveMax7456FontDeviceConfigured&&semver$1.lt(FC.CONFIG.apiVersion,API_VERSION_1_43),tf.state.haveOsdFeature=bit_check(tf.flags,0),tf.state.isOsdSlave=bit_check(tf.flags,1),tf.state.isMspDevice=bit_check(tf.flags,6)&&semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45),tf.displayItems=[],tf.statItems=[],tf.warnings=[],tf.timers=[],tf.parameters={},tf.parameters.overlayRadioMode=0,tf.parameters.cameraFrameWidth=24,tf.parameters.cameraFrameHeight=11;const rf=[];for(;ef.offset<ef.byteLength&&rf.length<nf;){const uf=ef.readU16();rf.push(uf)}const sf=ef.readU8();sf!==OSD.constants.STATISTIC_FIELDS.length&&console.error(`Firmware is transmitting a different number of statistics (${sf}) to what the configurator is expecting (${OSD.constants.STATISTIC_FIELDS.length})`);for(let uf=0;uf<sf;uf++){const ff=ef.readU8();if(uf<OSD.constants.STATISTIC_FIELDS.length){const df=OSD.constants.STATISTIC_FIELDS[uf];tf.statItems.push({name:df.name,text:df.text,desc:df.desc,index:uf,enabled:ff===1})}else{const df=uf-OSD.constants.STATISTIC_FIELDS.length+1;tf.statItems.push({name:"UNKNOWN",text:["osdTextStatUnknown",df],desc:"osdDescStatUnknown",index:uf,enabled:ff===1})}}let af=ef.readU8();for(;ef.offset<ef.byteLength&&af>0;){const uf=ef.readU16(),ff=tf.timers.length;tf.timers.push($$1.extend({index:ff},this.helpers.unpack.timer(uf))),af--}for(;af>0;)ef.readU16(),af--;ef.readU16();const lf=ef.readU8(),cf=ef.readU32();for(let uf=0;uf<lf;uf++){const ff=(cf&1<<uf)!==0;if(uf<OSD.constants.WARNINGS.length)tf.warnings.push($$1.extend(OSD.constants.WARNINGS[uf],{enabled:ff}));else{const df=uf-OSD.constants.WARNINGS.length+1;tf.warnings.push({name:"UNKNOWN",text:["osdWarningTextUnknown",df],desc:"osdWarningUnknown",enabled:ff})}}tf.osd_profiles.number=ef.readU8(),tf.osd_profiles.selected=ef.readU8()-1,tf.parameters.overlayRadioMode=ef.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(tf.parameters.cameraFrameWidth=ef.readU8(),tf.parameters.cameraFrameHeight=ef.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&(tf.alarms.link_quality={display_name:i18n.getMessage("osdTimerAlarmOptionLinkQuality"),value:ef.readU16()}),this.processOsdElements(tf,rf),OSD.updateDisplaySize()},decodeVirtual(){const Qc=OSD.data;Qc.displayItems=[],Qc.statItems=[],Qc.warnings=[],Qc.timers=[];const ef=OSD.constants.STATISTIC_FIELDS.length;for(let sf=0;sf<ef;sf++){const af=OSD.virtualMode.statisticsState[sf]?1:0;if(sf<ef){const lf=OSD.constants.STATISTIC_FIELDS[sf];Qc.statItems.push({name:lf.name,text:lf.text,desc:lf.desc,index:sf,enabled:af===1})}else{const lf=sf-ef+1;Qc.statItems.push({name:"UNKNOWN",text:["osdTextStatUnknown",lf],desc:"osdDescStatUnknown",index:sf,enabled:af===1})}}const tf=3;for(let sf=0;sf<tf;sf++)Qc.timers.push($$1.extend({index:sf},OSD.virtualMode.timerData[sf]));const nf=OSD.constants.WARNINGS.length,rf=OSD.virtualMode.warningFlags;for(let sf=0;sf<nf;sf++){const af=(rf&1<<sf)!==0;if(sf<nf)Qc.warnings.push($$1.extend(OSD.constants.WARNINGS[sf],{enabled:af}));else{const lf=sf-nf+1;Qc.warnings.push({name:"UNKNOWN",text:["osdWarningTextUnknown",lf],desc:"osdWarningUnknown",enabled:af})}}this.processOsdElements(OSD.data,OSD.virtualMode.itemPositions),OSD.updateDisplaySize()}};OSD.GUI={};OSD.GUI.preview={onMouseEnter(){$$1(this).data("field")&&$$1(`#element-fields .field-${$$1(this).data("field").index}`).addClass("mouseover")},onMouseLeave(){$$1(this).data("field")&&$$1(`#element-fields .field-${$$1(this).data("field").index}`).removeClass("mouseover")},onDragStart(Qc){const ef=Qc.originalEvent,tf=OSD.data.displayItems[$$1(ef.target).data("field").index];let nf=ef.currentTarget.dataset.x,rf=ef.currentTarget.dataset.y,sf=6,af=9;if(tf.preview.constructor===Array){const lf=tf.preview,cf=OSD.searchLimitsElement(lf);nf-=cf.minX,rf-=cf.minY,sf+=nf*12,af+=rf*18}ef.dataTransfer.setData("text/plain",$$1(ef.target).data("field").index),ef.dataTransfer.setData("x",ef.currentTarget.dataset.x),ef.dataTransfer.setData("y",ef.currentTarget.dataset.y),GUI.operating_system!=="Linux"&&ef.dataTransfer.setDragImage($$1(this).data("field").preview_img,sf,af)},onDragOver(Qc){const ef=Qc.originalEvent;ef.preventDefault(),ef.dataTransfer.dropEffect="move",$$1(this).css({background:"rgba(0,0,0,.5)"})},onDragLeave(){$$1(this).removeAttr("style")},onDrop(Qc){const ef=Qc.originalEvent,tf=parseInt(ef.dataTransfer.getData("text/plain")),nf=OSD.data.displayItems[tf];let rf=$$1(this).removeAttr("style").data("position");const af=rf%OSD.data.displaySize.x;if(console.log(`cursorX=${af}`),nf.preview.constructor===Array){console.log(`Initial Drop Position: ${rf}`);const lf=parseInt(ef.dataTransfer.getData("x")),cf=parseInt(ef.dataTransfer.getData("y"));console.log(`XY Co-ords: ${lf}-${cf}`),rf-=lf,rf-=cf*OSD.data.displaySize.x,console.log(`Calculated Position: ${rf}`)}if(!nf.ignoreSize)if(nf.preview.constructor!==Array){const lf=OSD.data.displaySize.x-(rf%OSD.data.displaySize.x+nf.preview.length);lf<0&&(rf+=lf)}else{const lf=nf.preview,cf=OSD.searchLimitsElement(lf),uf=rf%OSD.data.displaySize.x;let ff=Math.trunc(rf/OSD.data.displaySize.x);if(lf[0].constructor===String){if(rf<0)return;uf>af?(rf+=OSD.data.displaySize.x-uf,ff++):uf+cf.maxX>OSD.data.displaySize.x&&(rf-=uf+cf.maxX-OSD.data.displaySize.x),ff<0?rf+=Math.abs(ff)*OSD.data.displaySize.x:ff+cf.maxY>OSD.data.displaySize.y&&(rf-=(ff+cf.maxY-OSD.data.displaySize.y)*OSD.data.displaySize.x)}else cf.minX<0&&uf+cf.minX<0?rf+=Math.abs(uf+cf.minX):cf.maxX>0&&uf+cf.maxX>=OSD.data.displaySize.x&&(rf-=uf+cf.maxX+1-OSD.data.displaySize.x),cf.minY<0&&ff+cf.minY<0?rf+=Math.abs(ff+cf.minY)*OSD.data.displaySize.x:cf.maxY>0&&ff+cf.maxY>=OSD.data.displaySize.y&&(rf-=(ff+cf.maxY-OSD.data.displaySize.y+1)*OSD.data.displaySize.x)}$$1(`input.${tf}.position`).val(rf).change()}};const osd={analyticsChanges:{}};osd.initialize=function(Qc){GUI.active_tab!=="osd"&&(GUI.active_tab="osd"),CONFIGURATOR.virtualMode&&VirtualFC.setupVirtualOSD(),$$1("#content").load("./tabs/osd.html",function(){SYM.loadSymbols(),OSD.loadDisplayFields();const ef=$$1(".fontpresets");if(OSD.constants.FONT_TYPES.forEach(function(lf){const cf=$$1("<option>",{"data-font-file":lf.file,value:lf.file,text:i18n.getMessage(lf.name)});ef.append($$1(cf))}),ef.sortSelect(i18n.getMessage("osdSetupFontTypeDefault")),$$1(".fontpresets_wrapper").append($$1("<button>",{class:"load_font_file",i18n:"osdSetupOpenFont"})),LogoManager.init(FONT,SYM.LOGO),i18n.localizePage(),$$1(window).width()<390){const lf=($$1(window).width()-30)/360;$$1(".display-layout .preview").css("zoom",lf)}OSD.GUI.fontManager=new jBox("Modal",{width:750,height:455,closeButton:"title",animation:!1,attach:$$1("#fontmanager"),title:"OSD Font Manager",content:$$1("#fontmanagercontent")}),$$1(".elements-container div.cf_tip").attr("title",i18n.getMessage("osdSectionHelpElements")),$$1(".videomode-container div.cf_tip").attr("title",i18n.getMessage("osdSectionHelpVideoMode")),$$1(".units-container div.cf_tip").attr("title",i18n.getMessage("osdSectionHelpUnits")),$$1(".timers-container div.cf_tip").attr("title",i18n.getMessage("osdSectionHelpTimers")),$$1(".alarms-container div.cf_tip").attr("title",i18n.getMessage("osdSectionHelpAlarms")),$$1(".stats-container div.cf_tip").attr("title",i18n.getMessage("osdSectionHelpStats")),$$1(".warnings-container div.cf_tip").attr("title",i18n.getMessage("osdSectionHelpWarnings"));function nf(lf){let cf=null;return lf.text&&(Array.isArray(lf.text)&&i18n.existsMessage(lf.text[0])?cf=i18n.getMessage(lf.text[0],lf.text.slice(1)):cf=i18n.getMessage(lf.text)),cf}function rf(lf,cf){if(cf.name==="UNKNOWN")lf.append(cf);else{let uf=!1;const ff=i18n.getCurrentLocale().replace("_","-");lf.children().each(function(){return $$1(this).text().localeCompare(cf.text(),ff,{sensitivity:"base"})>0?($$1(this).before(cf),uf=!0,!1):!0}),uf||lf.append(cf)}}async function sf(){semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&await MSP$1.promise(MSPCodes.MSP_OSD_CANVAS),MSP$1.promise(MSPCodes.MSP_OSD_CONFIG).then(lf=>{if(OSD.chooseFields(),CONFIGURATOR.virtualMode?OSD.msp.decodeVirtual():OSD.msp.decode(lf),OSD.data.state.haveMax7456FontDeviceConfigured&&!OSD.data.state.isMax7456FontDeviceDetected&&$$1(".noOsdChipDetect").show(),OSD.data.state.haveSomeOsd===0){$$1(".unsupported").fadeIn();return}$$1(".supported").fadeIn();const cf=$$1(".video-types").empty();for(let Lf=0;Lf<OSD.constants.VIDEO_TYPES.length;Lf++){const Cf=OSD.constants.VIDEO_TYPES[Lf],Tf=i18n.getMessage(`osdSetupVideoFormatOption${inflection.camelize(Cf.toLowerCase())}`),Yf=$$1("<label/>").append($$1(`<input class="radioVideo"  name="video_system" type="radio"/>${Tf}</label>`).prop("checked",Lf===OSD.data.video_system).data("type",Cf).data("type",Lf));cf.append(Yf)}cf.find(":radio").click(function(){OSD.data.video_system=$$1(this).data("type"),MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeOther()).then(sf)}),$$1(".units-container").show();const uf=$$1(".units").empty();for(let Lf=0;Lf<OSD.constants.UNIT_TYPES.length;Lf++){const Cf=OSD.constants.UNIT_TYPES[Lf],Tf=i18n.getMessage(`osdSetupUnitsOption${inflection.camelize(Cf.toLowerCase())}`),Yf=$$1("<label/>").append($$1(`<input class="radioVideo" name="unit_mode" type="radio"/>${Tf}</label>`).prop("checked",Lf===OSD.data.unit_mode).data("type",Cf).data("type",Lf));uf.append(Yf)}uf.find(":radio").click(function(){OSD.data.unit_mode=$$1(this).data("type"),MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeOther()).then(sf)}),$$1(".alarms-container").show();const ff=$$1(".alarms").empty();for(const Lf in OSD.data.alarms){const Cf=OSD.data.alarms[Lf],Tf=$$1(`<input name="alarm" type="number" id="${Lf}"/>${Cf.display_name}</label>`);Tf.val(Cf.value),Tf.focusout(function(){OSD.data.alarms[$$1(this)[0].id].value=$$1(this)[0].value,MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeOther()).then(sf)});const Yf=$$1("<label/>").append(Tf);ff.append(Yf)}$$1(".timers-container").show();const df=$$1("#timer-fields").empty();for(const Lf of OSD.data.timers){const Cf=$$1(`<div class="switchable-field field-${Lf.index}"></div>`),Tf=$$1("<table />");Cf.append(Tf);let Yf=$$1("<tr />");Tf.append(Yf),Yf.append(`<td>${Lf.index+1}</td>`);const rh=$$1('<td class="timer-detail osd_tip"></td>');rh.attr("title",i18n.getMessage("osdTimerSourceTooltip")),rh.append(`<label for="timerSource_${Lf.index}" class="char-label">${i18n.getMessage("osdTimerSource")}</label>`);const dh=$$1(`<select class="timer-option" id="timerSource_${Lf.index}"></select>`);OSD.constants.TIMER_TYPES.forEach(function(uh,jf){const Kf=i18n.getMessage(`osdTimerSourceOption${inflection.camelize(uh.toLowerCase())}`);dh.append(`<option value="${jf}">${Kf}</option>`)}),dh.sortSelect(),dh[0].selectedIndex=Lf.src,dh.blur(function(){const uh=$$1(this)[0].id.split("_")[1];OSD.data.timers[uh].src=$$1(this)[0].selectedIndex,MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeTimer(OSD.data.timers[uh])).then(sf)}),rh.append(dh),Yf.append(rh),Yf=$$1("<tr />"),Tf.append(Yf);const hh=$$1('<td class="timer-detail osd_tip"></td>');hh.attr("title",i18n.getMessage("osdTimerPrecisionTooltip")),hh.append(`<label for="timerPrec_${Lf.index}" class="char-label">${i18n.getMessage("osdTimerPrecision")}</label>`);const sh=$$1(`<select class="timer-option osd_tip" id="timerPrec_${Lf.index}"></select>`);OSD.constants.TIMER_PRECISION.forEach(function(uh,jf){const Kf=i18n.getMessage(`osdTimerPrecisionOption${inflection.camelize(uh.toLowerCase())}`);sh.append(`<option value="${jf}">${Kf}</option>`)}),sh.sortSelect(),sh[0].selectedIndex=Lf.precision,sh.blur(function(){const uh=$$1(this)[0].id.split("_")[1];OSD.data.timers[uh].precision=$$1(this)[0].selectedIndex,MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeTimer(OSD.data.timers[uh])).then(sf)}),hh.append(sh),Yf.append("<td></td>"),Yf.append(hh),Yf=$$1("<tr />"),Tf.append(Yf);const Hf=$$1('<td class="timer-detail osd_tip"></td>');Hf.attr("title",i18n.getMessage("osdTimerAlarmTooltip")),Hf.append(`<label for="timerAlarm_${Lf.index}" class="char-label">${i18n.getMessage("osdTimerAlarm")}</label>`);const Qf=$$1(`<input class="timer-option osd_tip" name="alarm" type="number" min=0 id="timerAlarm_${Lf.index}"/>`);Qf[0].value=Lf.alarm,Qf.blur(function(){const uh=$$1(this)[0].id.split("_")[1];OSD.data.timers[uh].alarm=$$1(this)[0].value,MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeTimer(OSD.data.timers[uh])).then(sf)}),Hf.append(Qf),Yf.append("<td></td>"),Yf.append(Hf),df.append(Cf),$$1(".stats-container").show();const ah=$$1("#post-flight-stat-fields").empty();for(const uh of OSD.data.statItems){if(!uh.name)continue;const jf=$$1(`<div class="switchable-field field-${uh.index}"></div>`);let Kf=null;uh.desc&&uh.desc.length&&(Kf=i18n.getMessage(uh.desc)),Kf&&Kf.length&&(jf[0].classList.add("osd_tip"),jf.attr("title",Kf)),jf.append($$1(`<input type="checkbox" name="${uh.name}" class="togglesmall"></input>`).data("field",uh).attr("checked",uh.enabled).change(function(){const of=$$1(this).data("field");of.enabled=!of.enabled,self.analyticsChanges[`OSDStatistic${of.name}`]===void 0&&(self.analyticsChanges[`OSDStatistic${of.name}`]=0),self.analyticsChanges[`OSDStatistic${of.name}`]+=of.enabled?1:-1,MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeStatistics(of)).then(sf)})),jf.append(`<label for="${uh.name}" class="char-label">${nf(uh)}</label>`),jf.name=uh.name,rf(ah,jf)}$$1(".warnings-container").show();const mh=$$1("#warnings-fields").empty();for(const uh of OSD.data.warnings){if(!uh.name)continue;const jf=$$1(`<div class="switchable-field field-${uh.index}"></div>`);let Kf=null;uh.desc&&uh.desc.length&&(Kf=i18n.getMessage(uh.desc)),Kf&&Kf.length&&(jf[0].classList.add("osd_tip"),jf.attr("title",Kf)),jf.append($$1(`<input type="checkbox" name="${uh.name}" class="togglesmall"></input>`).data("field",uh).attr("checked",uh.enabled).change(function(){const hf=$$1(this).data("field");hf.enabled=!hf.enabled,self.analyticsChanges[`OSDWarning${hf.name}`]===void 0&&(self.analyticsChanges[`OSDWarning${hf.name}`]=0),self.analyticsChanges[`OSDWarning${hf.name}`]+=hf.enabled?1:-1,MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeOther()).then(sf)}));const of=nf(uh);jf.append(`<label for="${uh.name}" class="char-label">${of}</label>`),jf.name=uh.name,rf(mh,jf)}}OSD.data.state.haveMax7456Configured||OSD.data.state.isMspDevice||$$1(".requires-max7456").hide(),(!OSD.data.state.isMax7456FontDeviceDetected||!OSD.data.state.haveMax7456FontDeviceConfigured)&&$$1(".requires-max7456-font-device-detected").addClass("disabled"),OSD.data.state.haveOsdFeature||$$1(".requires-osd-feature").hide();const gf=OSD.getNumberOfProfiles(),_f=$$1(".elements").find(".osd-profiles-header");if(_f.children().length===0)for(let Lf=0;Lf<gf;Lf++)_f.append(`<span class="profileOsdHeader">${Lf+1}</span>`);const xf=$$1(".osdprofile-selector"),Af=$$1(".osdprofile-active");if(xf.children().length===0)for(let Lf=0;Lf<gf;Lf++){const Cf=i18n.getMessage("osdSetupPreviewSelectProfileElement",{profileNumber:Lf+1});xf.append(new Option(Cf,Lf)),Af.append(new Option(Cf,Lf))}Af.val(OSD.data.osd_profiles.selected);const Df=$$1(".osdfont-selector"),Of=$$1(".fontpresets");if(Df.children().length===0){const Lf=$$1("<option>",{text:i18n.getMessage("osdSetupFontPresetsSelectorCustomOption"),value:-1,disabled:"disabled",style:"display: none;"});Df.append($$1(Lf)),OSD.constants.FONT_TYPES.forEach(function(Cf){Df.append(new Option(i18n.getMessage(Cf.name),Cf.file))}),Df.sortSelect(i18n.getMessage("osdSetupFontTypeDefault")),Df.change(function(){Of.val(this.value).change()})}Df.val(Of.val()!=null?Of.val():-1),$$1(".osdfont-selector option[value=-1]").toggle(Df.val()===-1),GUI.isCordova()&&($$1(".osd-preview-zoom-group").css({display:"inherit"}),$$1("#osd-preview-zoom-selector").on("change",function(){$$1(".tab-osd .osd-preview").toggleClass("osd-preview-zoom",this.checked)}));const Gf=$$1("#element-fields").empty();for(const Lf of OSD.data.displayItems){if(!Lf.name)continue;Lf.isVisible[OSD.getCurrentPreviewProfile()];const Cf=$$1(`<div class="switchable-field switchable-field-flex field-${Lf.index}"></div>`);let Tf=null;Lf.desc&&Lf.desc.length&&(Tf=i18n.getMessage(Lf.desc)),Tf&&Tf.length&&(Cf[0].classList.add("osd_tip"),Cf.attr("title",Tf));for(let dh=0;dh<OSD.getNumberOfProfiles();dh++)Cf.append($$1(`<input type="checkbox" class="custom-checkbox" name="${Lf.name}"></input>`).data("field",Lf).data("osd_profile",dh).attr("checked",Lf.isVisible[dh]).change(function(){const hh=$$1(this).data("field"),sh=$$1(this).data("osd_profile"),Hf=$$1(this).parent().find(`.position.${hh.name}`);hh.isVisible[sh]=!hh.isVisible[sh],self.analyticsChanges[`OSDElement${hh.name}`]===void 0&&(self.analyticsChanges[`OSDElement${hh.name}`]=0),self.analyticsChanges[`OSDElement${hh.name}`]+=hh.isVisible[sh]?1:-1,hh.isVisible[OSD.getCurrentPreviewProfile()]?Hf.show():Hf.hide(),MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeLayout(hh)).then(function(){sf()})}));const Yf=nf(Lf),rh=$$1('<div class="switchable-field-description"></div>');if(rh.append(`<label for="${Lf.name}" class="char-label">${Yf}</label>`),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&Lf.variants&&Lf.variants.length>0){const dh=$$1('<select class="osd-variant" />').data("field",Lf).on("change",function(){const hh=$$1(this).data("field");hh.variant=parseInt($$1(this).val()),MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeLayout(hh)).then(function(){sf()})});for(const[hh,sh]of Lf.variants.entries())dh.append($$1("<option/>").val(hh).html(i18n.getMessage(sh)));dh.sortSelect(),dh.val(Lf.variant),rh.append(dh)}Lf.positionable&&Lf.isVisible[OSD.getCurrentPreviewProfile()]&&Cf.append($$1(`<input type="number" class="${Lf.index} position"></input>`).data("field",Lf).val(Lf.position).change(debounce$1(function(){const dh=$$1(this).data("field"),hh=parseInt($$1(this).val());dh.position=hh,MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeLayout(dh)).then(function(){sf()})},250))),Cf.append(rh),Cf.name=Lf.name,rf(Gf,Cf)}GUI.switchery(),OSD.data.preview=[],OSD.data.displaySize.total=OSD.data.displaySize.x*OSD.data.displaySize.y;for(const Lf of OSD.data.displayItems)Lf.position>OSD.data.displaySize.total&&(Lf.position=0);for(let Lf=0;Lf<OSD.data.displaySize.total;Lf++)OSD.data.preview.push([null," ".charCodeAt(0),null,null]);for(const Lf of OSD.data.displayItems){if(!Lf.preview||!Lf.isVisible[OSD.getCurrentPreviewProfile()])continue;let Cf=Lf.position>=0?Lf.position:Lf.position+OSD.data.displaySize.total;Lf.preview_img=new Image;const Tf=document.createElement("canvas"),Yf=Tf.getContext("2d");if(Lf.preview.constructor!==Array)for(let rh=0;rh<Lf.preview.length;rh++){const dh=Lf.preview.charCodeAt(rh);if(OSD.drawByOrder(Cf,Lf,dh,rh,1),Cf++,Lf.positionable){const hh=new Image;hh.src=FONT.draw(dh),Yf.drawImage(hh,rh*12,0)}}else{const rh=Lf.preview;for(let dh=0;dh<rh.length;dh++){const hh=rh[dh];if(hh.constructor===String){for(let sh=0;sh<hh.length;sh++){const Hf=hh.charCodeAt(sh);if(OSD.drawByOrder(Cf,Lf,Hf,sh,dh),Cf++,Lf.positionable){const Qf=new Image;Qf.src=FONT.draw(Hf),Yf.drawImage(Qf,sh*12,dh*18)}}Cf=Cf-hh.length+OSD.data.displaySize.x}else{const sh=OSD.searchLimitsElement(rh);let Hf=0,Qf=0;sh.minX<0&&(Hf=-sh.minX),sh.minY<0&&(Qf=-sh.minY);const ah=hh.sym;if(OSD.drawByOrder(Cf+hh.x+hh.y*OSD.data.displaySize.x,Lf,ah,hh.x,hh.y),Lf.positionable){const mh=new Image;mh.src=FONT.draw(ah),Yf.drawImage(mh,(hh.x+Hf)*12,(hh.y+Qf)*18)}}}}Lf.preview_img.src=Tf.toDataURL("image/png"),Lf.preview_img.style.pointerEvents="none"}const Bf=$$1(".display-layout .preview").empty();let Vf=$$1('<div class="row"></div>');for(let Lf=0;Lf<OSD.data.displaySize.total;){let Cf=OSD.data.preview[Lf],Tf,Yf,rh;typeof Cf=="object"&&(Tf=OSD.data.preview[Lf][0],Cf=OSD.data.preview[Lf][1],Yf=OSD.data.preview[Lf][2],rh=OSD.data.preview[Lf][3]);const dh=$$1(`<div class="char" draggable><img src=${FONT.draw(Cf)}></img></div>`).on("mouseenter",OSD.GUI.preview.onMouseEnter).on("mouseleave",OSD.GUI.preview.onMouseLeave).on("dragover",OSD.GUI.preview.onDragOver).on("dragleave",OSD.GUI.preview.onDragLeave).on("drop",OSD.GUI.preview.onDrop).data("field",Tf).data("position",Lf);dh.find("img").css("pointer-events","none"),dh.attr("data-x",Yf).attr("data-y",rh),Tf&&Tf.positionable&&dh.addClass(`field-${Tf.index}`).data("field",Tf).prop("draggable",!0).on("dragstart",OSD.GUI.preview.onDragStart),Vf.append(dh),Lf++,Lf%OSD.data.displaySize.x===0&&(Bf.append(Vf),Vf=$$1('<div class="row"></div>'))}for(const Lf of OSD.data.tooltips)Lf.destroy();OSD.data.tooltips=[],$$1(".osd_tip").each(function(){const Lf=new jBox("Tooltip",{delayOpen:100,delayClose:100,position:{x:"right",y:"center"},outside:"x"});Lf.attach($$1(this)),OSD.data.tooltips.push(Lf)})})}$$1(".osdprofile-selector").change(sf),$$1(".osdprofile-active").change(function(){OSD.data.osd_profiles.selected=parseInt($$1(this).val()),MSP$1.promise(MSPCodes.MSP_SET_OSD_CONFIG,OSD.msp.encodeOther()).then(function(){sf()})}),$$1("a.save").click(function(){MSP$1.promise(MSPCodes.MSP_EEPROM_WRITE),gui_log(i18n.getMessage("osdSettingsSaved"));const lf=$$1(this).html();$$1(this).html(i18n.getMessage("osdButtonSaved")),setTimeout(()=>{$$1(this).html(lf)},1500),Object.keys(self.analyticsChanges).forEach(function(cf){const uf=self.analyticsChanges[cf];uf>0?self.analyticsChanges[cf]="On":uf<0?self.analyticsChanges[cf]="Off":self.analyticsChanges[cf]=void 0}),tracking.sendSaveAndChangeEvents(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,self.analyticsChanges,"osd"),self.analyticsChanges={}});const af=$$1(".font-preview");FONT.initData(),ef.change(function(){const lf=$$1(".fontpresets option:selected");let cf=1;semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(cf=2),$$1(".font-manager-version-info").text(i18n.getMessage(`osdDescribeFontVersion${cf}`)),$$1.get(`./resources/osd/${cf}/${lf.data("font-file")}.mcm`,function(uf){FONT.parseMCMFontFile(uf),FONT.preview(af),LogoManager.drawPreview(),sf(),$$1(".fontpresets option[value=-1]").hide()})}),ef.change(),$$1("button.load_font_file").click(function(){FONT.openFontFile().then(function(){FONT.preview(af),LogoManager.drawPreview(),sf(),$$1(".font-manager-version-info").text(i18n.getMessage("osdDescribeFontVersionCUSTOM")),$$1(".fontpresets option[value=-1]").show(),$$1(".fontpresets").val(-1)}).catch(lf=>console.error(lf))}),$$1("a.flash_font").click(function(){GUI.connect_lock||($$1("a.flash_font").addClass("disabled"),$$1(".progressLabel").text(i18n.getMessage("osdSetupUploadingFont")),FONT.upload($$1(".progress").val(0)).then(function(){$$1(".progressLabel").text(i18n.getMessage("osdSetupUploadingFontEnd",{length:FONT.data.characters.length}))}))}),$$1("a.replace_logo").click(()=>{GUI.connect_lock||LogoManager.openImage().then(lf=>{LogoManager.replaceLogoInFont(lf),LogoManager.drawPreview(),LogoManager.showUploadHint()}).catch(lf=>console.error(lf))}),$$1(document).on("click","span.progressLabel a.save_font",function(){chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:"baseflight",accepts:[{description:"MCM files",extensions:["mcm"]}]},function(lf){checkChromeRuntimeError()||chrome.fileSystem.getDisplayPath(lf,function(cf){console.log(`Saving firmware to: ${cf}`),chrome.fileSystem.isWritableEntry(lf,function(uf){if(uf){const ff=new Blob([intel_hex],{type:"text/plain"});lf.createWriter(function(df){let gf=!1;df.onerror=function(_f){console.error(_f)},df.onwriteend=function(){if(!gf){gf=!0,df.truncate(ff.size);return}},df.write(ff)},function(df){console.error(df)})}else console.log("You don't have write permissions for this file, sorry."),gui_log(i18n.getMessage("osdWritePermissions"))})})})}),$$1(document).keypress(function(lf){lf.which===13&&$$1("a.flash_font").click()}),self.analyticsChanges={},MSP$1.promise(MSPCodes.MSP_RX_CONFIG).finally(()=>{GUI.content_ready(Qc)})})};osd.cleanup=function(Qc){PortHandler$1.flush_callbacks(),OSD.GUI.fontManager&&OSD.GUI.fontManager.destroy(),$$1(document).unbind("keypress"),$$1(document).off("click","span.progressLabel a"),Qc&&Qc()};TABS.osd=osd;const osd$1=Object.freeze(Object.defineProperty({__proto__:null,OSD,osd},Symbol.toStringTag,{value:"Module"})),UI_PHONES={background:"#background",tabContainer:".tab_container",tabContentContainer:"#tab-content-container",headerbar:".headerbar",init:function(){const Qc=this;$$1("#menu_btn").click(function(){Qc.openSideMenu()}),$$1(this.background).click(function(){Qc.closeSideMenu()}),$$1("#tabs a").click(function(){$$1(".tab_container").hasClass("reveal")&&Qc.closeSideMenu()}),$$1("#reveal_btn").click(function(){Qc.expandHeader()}),$$1(`${this.background}, ${this.tabContainer}`).swipe({swipeLeft:function(){Qc.closeSideMenu()}}),$$1("#side_menu_swipe").swipe({swipeRight:function(){Qc.openSideMenu()}})},initToolbar:function(){$$1(".toolbar_expand_btn").click(this.expandToolbar)},openSideMenu:function(){$$1(this.background).fadeIn(300),$$1(this.tabContainer).addClass("reveal")},closeSideMenu:function(){$$1(this.background).fadeOut(300),$$1(this.tabContainer).removeClass("reveal")},expandHeader:function(){const Qc=this;let ef,tf,nf;GUI.connected_to?(ef="expand2",tf="header_expanded2",nf=".header-wrapper"):(ef="expand",tf="headerExpanded",nf="#port-picker"),$$1(Qc.headerbar).hasClass(ef)?($$1(nf).removeClass("reveal"),setTimeout(function(){$$1(Qc.tabContentContainer).removeClass(tf),$$1(Qc.headerbar).removeClass(ef)},100)):($$1(Qc.tabContentContainer).addClass(tf),$$1(Qc.headerbar).addClass(ef),setTimeout(function(){$$1(nf).addClass("reveal")},100))},expandToolbar:function(){const Qc=$$1(".content_toolbar.xs-compressed");Qc.length>0&&($$1(".content_toolbar.xs-compressed").hasClass("expanded")?Qc.removeClass("expanded"):Qc.addClass("expanded"))},reset:function(){$$1(this.tabContentContainer).removeClass("header_expanded2 header_expanded"),$$1("#port-picker, .header-wrapper").removeClass("reveal"),$$1(this.headerbar).removeClass("expand2 expand")}};function have_sensor(Qc,ef){switch(ef){case"acc":return bit_check(Qc,0);case"baro":return bit_check(Qc,1);case"mag":return bit_check(Qc,2);case"gps":return bit_check(Qc,3);case"sonar":return bit_check(Qc,4);case"gyro":return bit_check(Qc,5)}return!1}function sensor_status(Qc=0,ef=0){if(sensor_status.previous_sensors_detected||(sensor_status.previous_sensors_detected=-1),sensor_status.previous_gps_fix_state||(sensor_status.previous_gps_fix_state=-1),sensor_status.previous_sensors_detected===Qc&&sensor_status.previous_gps_fix_state===ef)return;sensor_status.previous_sensors_detected=Qc,sensor_status.previous_gps_fix_state=ef;const tf=$$1("div#sensor-status");have_sensor(Qc,"acc")?($$1(".accel",tf).addClass("on"),$$1(".accicon",tf).addClass("active")):($$1(".accel",tf).removeClass("on"),$$1(".accicon",tf).removeClass("active")),have_sensor(Qc,"gyro")?($$1(".gyro",tf).addClass("on"),$$1(".gyroicon",tf).addClass("active")):($$1(".gyro",tf).removeClass("on"),$$1(".gyroicon",tf).removeClass("active")),have_sensor(Qc,"baro")?($$1(".baro",tf).addClass("on"),$$1(".baroicon",tf).addClass("active")):($$1(".baro",tf).removeClass("on"),$$1(".baroicon",tf).removeClass("active")),have_sensor(Qc,"mag")?($$1(".mag",tf).addClass("on"),$$1(".magicon",tf).addClass("active")):($$1(".mag",tf).removeClass("on"),$$1(".magicon",tf).removeClass("active")),have_sensor(Qc,"gps")?($$1(".gps",tf).addClass("on"),ef?($$1(".gpsicon",tf).removeClass("active"),$$1(".gpsicon",tf).addClass("active_fix")):($$1(".gpsicon",tf).removeClass("active_fix"),$$1(".gpsicon",tf).addClass("active"))):($$1(".gps",tf).removeClass("on"),$$1(".gpsicon",tf).removeClass("active"),$$1(".gpsicon",tf).removeClass("active_fix")),have_sensor(Qc,"sonar")?($$1(".sonar",tf).addClass("on"),$$1(".sonaricon",tf).addClass("active")):($$1(".sonar",tf).removeClass("on"),$$1(".sonaricon",tf).removeClass("active"))}var nm,rm,sm,am,om,lm;const crypto=((nm=typeof globalThis<"u"?globalThis:void 0)==null?void 0:nm.crypto)||((rm=typeof global<"u"?global:void 0)==null?void 0:rm.crypto)||((sm=typeof window<"u"?window:void 0)==null?void 0:sm.crypto)||((am=typeof self<"u"?self:void 0)==null?void 0:am.crypto)||((lm=(om=typeof frames<"u"?frames:void 0)==null?void 0:om[0])==null?void 0:lm.crypto);let randomWordArray;crypto?randomWordArray=Qc=>{const ef=[];for(let tf=0,nf;tf<Qc;tf+=4)ef.push(crypto.getRandomValues(new Uint32Array(1))[0]);return new WordArray(ef,Qc)}:randomWordArray=Qc=>{const ef=[],tf=nf=>{let rf=nf,sf=987654321;const af=4294967295;return()=>{sf=36969*(sf&65535)+(sf>>16)&af,rf=18e3*(rf&65535)+(rf>>16)&af;let lf=(sf<<16)+rf&af;return lf/=4294967296,lf+=.5,lf*(Math.random()>.5?1:-1)}};for(let nf=0,rf;nf<Qc;nf+=4){const sf=tf((rf||Math.random())*4294967296);rf=sf()*987654071,ef.push(sf()*4294967296|0)}return new WordArray(ef,Qc)};class Base{static create(...ef){return new this(...ef)}mixIn(ef){return Object.assign(this,ef)}clone(){const ef=new this.constructor;return Object.assign(ef,this),ef}}class WordArray extends Base{constructor(ef=[],tf=ef.length*4){super();let nf=ef;if(nf instanceof ArrayBuffer&&(nf=new Uint8Array(nf)),(nf instanceof Int8Array||nf instanceof Uint8ClampedArray||nf instanceof Int16Array||nf instanceof Uint16Array||nf instanceof Int32Array||nf instanceof Uint32Array||nf instanceof Float32Array||nf instanceof Float64Array)&&(nf=new Uint8Array(nf.buffer,nf.byteOffset,nf.byteLength)),nf instanceof Uint8Array){const rf=nf.byteLength,sf=[];for(let af=0;af<rf;af+=1)sf[af>>>2]|=nf[af]<<24-af%4*8;this.words=sf,this.sigBytes=rf}else this.words=ef,this.sigBytes=tf}toString(ef=Hex){return ef.stringify(this)}concat(ef){const tf=this.words,nf=ef.words,rf=this.sigBytes,sf=ef.sigBytes;if(this.clamp(),rf%4)for(let af=0;af<sf;af+=1){const lf=nf[af>>>2]>>>24-af%4*8&255;tf[rf+af>>>2]|=lf<<24-(rf+af)%4*8}else for(let af=0;af<sf;af+=4)tf[rf+af>>>2]=nf[af>>>2];return this.sigBytes+=sf,this}clamp(){const{words:ef,sigBytes:tf}=this;ef[tf>>>2]&=4294967295<<32-tf%4*8,ef.length=Math.ceil(tf/4)}clone(){const ef=super.clone.call(this);return ef.words=this.words.slice(0),ef}}im(WordArray,"random",randomWordArray);const Hex={stringify(Qc){const{words:ef,sigBytes:tf}=Qc,nf=[];for(let rf=0;rf<tf;rf+=1){const sf=ef[rf>>>2]>>>24-rf%4*8&255;nf.push((sf>>>4).toString(16)),nf.push((sf&15).toString(16))}return nf.join("")},parse(Qc){const ef=Qc.length,tf=[];for(let nf=0;nf<ef;nf+=2)tf[nf>>>3]|=parseInt(Qc.substr(nf,2),16)<<24-nf%8*4;return new WordArray(tf,ef/2)}},Latin1={stringify(Qc){const{words:ef,sigBytes:tf}=Qc,nf=[];for(let rf=0;rf<tf;rf+=1){const sf=ef[rf>>>2]>>>24-rf%4*8&255;nf.push(String.fromCharCode(sf))}return nf.join("")},parse(Qc){const ef=Qc.length,tf=[];for(let nf=0;nf<ef;nf+=1)tf[nf>>>2]|=(Qc.charCodeAt(nf)&255)<<24-nf%4*8;return new WordArray(tf,ef)}},Utf8={stringify(Qc){try{return decodeURIComponent(escape(Latin1.stringify(Qc)))}catch{throw new Error("Malformed UTF-8 data")}},parse(Qc){return Latin1.parse(unescape(encodeURIComponent(Qc)))}};class BufferedBlockAlgorithm extends Base{constructor(){super(),this._minBufferSize=0}reset(){this._data=new WordArray,this._nDataBytes=0}_append(ef){let tf=ef;typeof tf=="string"&&(tf=Utf8.parse(tf)),this._data.concat(tf),this._nDataBytes+=tf.sigBytes}_process(ef){let tf;const{_data:nf,blockSize:rf}=this,sf=nf.words,af=nf.sigBytes,lf=rf*4;let cf=af/lf;ef?cf=Math.ceil(cf):cf=Math.max((cf|0)-this._minBufferSize,0);const uf=cf*rf,ff=Math.min(uf*4,af);if(uf){for(let df=0;df<uf;df+=rf)this._doProcessBlock(sf,df);tf=sf.splice(0,uf),nf.sigBytes-=ff}return new WordArray(tf,ff)}clone(){const ef=super.clone.call(this);return ef._data=this._data.clone(),ef}}class Hasher extends BufferedBlockAlgorithm{constructor(ef){super(),this.blockSize=512/32,this.cfg=Object.assign(new Base,ef),this.reset()}static _createHelper(ef){return(tf,nf)=>new ef(nf).finalize(tf)}static _createHmacHelper(ef){return(tf,nf)=>new HMAC(ef,nf).finalize(tf)}reset(){super.reset.call(this),this._doReset()}update(ef){return this._append(ef),this._process(),this}finalize(ef){return ef&&this._append(ef),this._doFinalize()}}class HMAC extends Base{constructor(ef,tf){super();const nf=new ef;this._hasher=nf;let rf=tf;typeof rf=="string"&&(rf=Utf8.parse(rf));const sf=nf.blockSize,af=sf*4;rf.sigBytes>af&&(rf=nf.finalize(tf)),rf.clamp();const lf=rf.clone();this._oKey=lf;const cf=rf.clone();this._iKey=cf;const uf=lf.words,ff=cf.words;for(let df=0;df<sf;df+=1)uf[df]^=1549556828,ff[df]^=909522486;lf.sigBytes=af,cf.sigBytes=af,this.reset()}reset(){const ef=this._hasher;ef.reset(),ef.update(this._iKey)}update(ef){return this._hasher.update(ef),this}finalize(ef){const tf=this._hasher,nf=tf.finalize(ef);return tf.reset(),tf.finalize(this._oKey.clone().concat(nf))}}const X32WordArray=WordArray;class X64Word extends Base{constructor(ef,tf){super(),this.high=ef,this.low=tf}}class X64WordArray extends Base{constructor(ef=[],tf=ef.length*8){super(),this.words=ef,this.sigBytes=tf}toX32(){const ef=this.words,tf=ef.length,nf=[];for(let rf=0;rf<tf;rf+=1){const sf=ef[rf];nf.push(sf.high),nf.push(sf.low)}return X32WordArray.create(nf,this.sigBytes)}clone(){const ef=super.clone.call(this);ef.words=this.words.slice(0);const{words:tf}=ef,nf=tf.length;for(let rf=0;rf<nf;rf+=1)tf[rf]=tf[rf].clone();return ef}}const parseLoop=(Qc,ef,tf)=>{const nf=[];let rf=0;for(let sf=0;sf<ef;sf+=1)if(sf%4){const af=tf[Qc.charCodeAt(sf-1)]<<sf%4*2,lf=tf[Qc.charCodeAt(sf)]>>>6-sf%4*2,cf=af|lf;nf[rf>>>2]|=cf<<24-rf%4*8,rf+=1}return WordArray.create(nf,rf)},Base64={stringify(Qc){const{words:ef,sigBytes:tf}=Qc,nf=this._map;Qc.clamp();const rf=[];for(let af=0;af<tf;af+=3){const lf=ef[af>>>2]>>>24-af%4*8&255,cf=ef[af+1>>>2]>>>24-(af+1)%4*8&255,uf=ef[af+2>>>2]>>>24-(af+2)%4*8&255,ff=lf<<16|cf<<8|uf;for(let df=0;df<4&&af+df*.75<tf;df+=1)rf.push(nf.charAt(ff>>>6*(3-df)&63))}const sf=nf.charAt(64);if(sf)for(;rf.length%4;)rf.push(sf);return rf.join("")},parse(Qc){let ef=Qc.length;const tf=this._map;let nf=this._reverseMap;if(!nf){this._reverseMap=[],nf=this._reverseMap;for(let sf=0;sf<tf.length;sf+=1)nf[tf.charCodeAt(sf)]=sf}const rf=tf.charAt(64);if(rf){const sf=Qc.indexOf(rf);sf!==-1&&(ef=sf)}return parseLoop(Qc,ef,nf)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},T$1=[];for(let Qc=0;Qc<64;Qc+=1)T$1[Qc]=Math.abs(Math.sin(Qc+1))*4294967296|0;const FF=(Qc,ef,tf,nf,rf,sf,af)=>{const lf=Qc+(ef&tf|~ef&nf)+rf+af;return(lf<<sf|lf>>>32-sf)+ef},GG=(Qc,ef,tf,nf,rf,sf,af)=>{const lf=Qc+(ef&nf|tf&~nf)+rf+af;return(lf<<sf|lf>>>32-sf)+ef},HH=(Qc,ef,tf,nf,rf,sf,af)=>{const lf=Qc+(ef^tf^nf)+rf+af;return(lf<<sf|lf>>>32-sf)+ef},II=(Qc,ef,tf,nf,rf,sf,af)=>{const lf=Qc+(tf^(ef|~nf))+rf+af;return(lf<<sf|lf>>>32-sf)+ef};class MD5Algo extends Hasher{_doReset(){this._hash=new WordArray([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(ef,tf){const nf=ef;for(let rh=0;rh<16;rh+=1){const dh=tf+rh,hh=ef[dh];nf[dh]=(hh<<8|hh>>>24)&16711935|(hh<<24|hh>>>8)&4278255360}const rf=this._hash.words,sf=nf[tf+0],af=nf[tf+1],lf=nf[tf+2],cf=nf[tf+3],uf=nf[tf+4],ff=nf[tf+5],df=nf[tf+6],gf=nf[tf+7],_f=nf[tf+8],xf=nf[tf+9],Af=nf[tf+10],Df=nf[tf+11],Of=nf[tf+12],Gf=nf[tf+13],Bf=nf[tf+14],Vf=nf[tf+15];let Lf=rf[0],Cf=rf[1],Tf=rf[2],Yf=rf[3];Lf=FF(Lf,Cf,Tf,Yf,sf,7,T$1[0]),Yf=FF(Yf,Lf,Cf,Tf,af,12,T$1[1]),Tf=FF(Tf,Yf,Lf,Cf,lf,17,T$1[2]),Cf=FF(Cf,Tf,Yf,Lf,cf,22,T$1[3]),Lf=FF(Lf,Cf,Tf,Yf,uf,7,T$1[4]),Yf=FF(Yf,Lf,Cf,Tf,ff,12,T$1[5]),Tf=FF(Tf,Yf,Lf,Cf,df,17,T$1[6]),Cf=FF(Cf,Tf,Yf,Lf,gf,22,T$1[7]),Lf=FF(Lf,Cf,Tf,Yf,_f,7,T$1[8]),Yf=FF(Yf,Lf,Cf,Tf,xf,12,T$1[9]),Tf=FF(Tf,Yf,Lf,Cf,Af,17,T$1[10]),Cf=FF(Cf,Tf,Yf,Lf,Df,22,T$1[11]),Lf=FF(Lf,Cf,Tf,Yf,Of,7,T$1[12]),Yf=FF(Yf,Lf,Cf,Tf,Gf,12,T$1[13]),Tf=FF(Tf,Yf,Lf,Cf,Bf,17,T$1[14]),Cf=FF(Cf,Tf,Yf,Lf,Vf,22,T$1[15]),Lf=GG(Lf,Cf,Tf,Yf,af,5,T$1[16]),Yf=GG(Yf,Lf,Cf,Tf,df,9,T$1[17]),Tf=GG(Tf,Yf,Lf,Cf,Df,14,T$1[18]),Cf=GG(Cf,Tf,Yf,Lf,sf,20,T$1[19]),Lf=GG(Lf,Cf,Tf,Yf,ff,5,T$1[20]),Yf=GG(Yf,Lf,Cf,Tf,Af,9,T$1[21]),Tf=GG(Tf,Yf,Lf,Cf,Vf,14,T$1[22]),Cf=GG(Cf,Tf,Yf,Lf,uf,20,T$1[23]),Lf=GG(Lf,Cf,Tf,Yf,xf,5,T$1[24]),Yf=GG(Yf,Lf,Cf,Tf,Bf,9,T$1[25]),Tf=GG(Tf,Yf,Lf,Cf,cf,14,T$1[26]),Cf=GG(Cf,Tf,Yf,Lf,_f,20,T$1[27]),Lf=GG(Lf,Cf,Tf,Yf,Gf,5,T$1[28]),Yf=GG(Yf,Lf,Cf,Tf,lf,9,T$1[29]),Tf=GG(Tf,Yf,Lf,Cf,gf,14,T$1[30]),Cf=GG(Cf,Tf,Yf,Lf,Of,20,T$1[31]),Lf=HH(Lf,Cf,Tf,Yf,ff,4,T$1[32]),Yf=HH(Yf,Lf,Cf,Tf,_f,11,T$1[33]),Tf=HH(Tf,Yf,Lf,Cf,Df,16,T$1[34]),Cf=HH(Cf,Tf,Yf,Lf,Bf,23,T$1[35]),Lf=HH(Lf,Cf,Tf,Yf,af,4,T$1[36]),Yf=HH(Yf,Lf,Cf,Tf,uf,11,T$1[37]),Tf=HH(Tf,Yf,Lf,Cf,gf,16,T$1[38]),Cf=HH(Cf,Tf,Yf,Lf,Af,23,T$1[39]),Lf=HH(Lf,Cf,Tf,Yf,Gf,4,T$1[40]),Yf=HH(Yf,Lf,Cf,Tf,sf,11,T$1[41]),Tf=HH(Tf,Yf,Lf,Cf,cf,16,T$1[42]),Cf=HH(Cf,Tf,Yf,Lf,df,23,T$1[43]),Lf=HH(Lf,Cf,Tf,Yf,xf,4,T$1[44]),Yf=HH(Yf,Lf,Cf,Tf,Of,11,T$1[45]),Tf=HH(Tf,Yf,Lf,Cf,Vf,16,T$1[46]),Cf=HH(Cf,Tf,Yf,Lf,lf,23,T$1[47]),Lf=II(Lf,Cf,Tf,Yf,sf,6,T$1[48]),Yf=II(Yf,Lf,Cf,Tf,gf,10,T$1[49]),Tf=II(Tf,Yf,Lf,Cf,Bf,15,T$1[50]),Cf=II(Cf,Tf,Yf,Lf,ff,21,T$1[51]),Lf=II(Lf,Cf,Tf,Yf,Of,6,T$1[52]),Yf=II(Yf,Lf,Cf,Tf,cf,10,T$1[53]),Tf=II(Tf,Yf,Lf,Cf,Af,15,T$1[54]),Cf=II(Cf,Tf,Yf,Lf,af,21,T$1[55]),Lf=II(Lf,Cf,Tf,Yf,_f,6,T$1[56]),Yf=II(Yf,Lf,Cf,Tf,Vf,10,T$1[57]),Tf=II(Tf,Yf,Lf,Cf,df,15,T$1[58]),Cf=II(Cf,Tf,Yf,Lf,Gf,21,T$1[59]),Lf=II(Lf,Cf,Tf,Yf,uf,6,T$1[60]),Yf=II(Yf,Lf,Cf,Tf,Df,10,T$1[61]),Tf=II(Tf,Yf,Lf,Cf,lf,15,T$1[62]),Cf=II(Cf,Tf,Yf,Lf,xf,21,T$1[63]),rf[0]=rf[0]+Lf|0,rf[1]=rf[1]+Cf|0,rf[2]=rf[2]+Tf|0,rf[3]=rf[3]+Yf|0}_doFinalize(){const ef=this._data,tf=ef.words,nf=this._nDataBytes*8,rf=ef.sigBytes*8;tf[rf>>>5]|=128<<24-rf%32;const sf=Math.floor(nf/4294967296),af=nf;tf[(rf+64>>>9<<4)+15]=(sf<<8|sf>>>24)&16711935|(sf<<24|sf>>>8)&4278255360,tf[(rf+64>>>9<<4)+14]=(af<<8|af>>>24)&16711935|(af<<24|af>>>8)&4278255360,ef.sigBytes=(tf.length+1)*4,this._process();const lf=this._hash,cf=lf.words;for(let uf=0;uf<4;uf+=1){const ff=cf[uf];cf[uf]=(ff<<8|ff>>>24)&16711935|(ff<<24|ff>>>8)&4278255360}return lf}clone(){const ef=super.clone.call(this);return ef._hash=this._hash.clone(),ef}}const MD5=Hasher._createHelper(MD5Algo),HmacMD5=Hasher._createHmacHelper(MD5Algo);class EvpKDFAlgo extends Base{constructor(ef){super(),this.cfg=Object.assign(new Base,{keySize:128/32,hasher:MD5Algo,iterations:1},ef)}compute(ef,tf){let nf;const{cfg:rf}=this,sf=rf.hasher.create(),af=WordArray.create(),lf=af.words,{keySize:cf,iterations:uf}=rf;for(;lf.length<cf;){nf&&sf.update(nf),nf=sf.update(ef).finalize(tf),sf.reset();for(let ff=1;ff<uf;ff+=1)nf=sf.finalize(nf),sf.reset();af.concat(nf)}return af.sigBytes=cf*4,af}}const EvpKDF=(Qc,ef,tf)=>EvpKDFAlgo.create(tf).compute(Qc,ef);class Cipher extends BufferedBlockAlgorithm{constructor(ef,tf,nf){super(),this.cfg=Object.assign(new Base,nf),this._xformMode=ef,this._key=tf,this.reset()}static createEncryptor(ef,tf){return this.create(this._ENC_XFORM_MODE,ef,tf)}static createDecryptor(ef,tf){return this.create(this._DEC_XFORM_MODE,ef,tf)}static _createHelper(ef){const tf=nf=>typeof nf=="string"?PasswordBasedCipher:SerializableCipher;return{encrypt(nf,rf,sf){return tf(rf).encrypt(ef,nf,rf,sf)},decrypt(nf,rf,sf){return tf(rf).decrypt(ef,nf,rf,sf)}}}reset(){super.reset.call(this),this._doReset()}process(ef){return this._append(ef),this._process()}finalize(ef){return ef&&this._append(ef),this._doFinalize()}}Cipher._ENC_XFORM_MODE=1;Cipher._DEC_XFORM_MODE=2;Cipher.keySize=128/32;Cipher.ivSize=128/32;class StreamCipher extends Cipher{constructor(...ef){super(...ef),this.blockSize=1}_doFinalize(){return this._process(!0)}}class BlockCipherMode extends Base{constructor(ef,tf){super(),this._cipher=ef,this._iv=tf}static createEncryptor(ef,tf){return this.Encryptor.create(ef,tf)}static createDecryptor(ef,tf){return this.Decryptor.create(ef,tf)}}function xorBlock(Qc,ef,tf){const nf=Qc;let rf;const sf=this._iv;sf?(rf=sf,this._iv=void 0):rf=this._prevBlock;for(let af=0;af<tf;af+=1)nf[ef+af]^=rf[af]}class CBC extends BlockCipherMode{}CBC.Encryptor=class extends CBC{processBlock(Qc,ef){const tf=this._cipher,{blockSize:nf}=tf;xorBlock.call(this,Qc,ef,nf),tf.encryptBlock(Qc,ef),this._prevBlock=Qc.slice(ef,ef+nf)}};CBC.Decryptor=class extends CBC{processBlock(Qc,ef){const tf=this._cipher,{blockSize:nf}=tf,rf=Qc.slice(ef,ef+nf);tf.decryptBlock(Qc,ef),xorBlock.call(this,Qc,ef,nf),this._prevBlock=rf}};const Pkcs7={pad(Qc,ef){const tf=ef*4,nf=tf-Qc.sigBytes%tf,rf=nf<<24|nf<<16|nf<<8|nf,sf=[];for(let lf=0;lf<nf;lf+=4)sf.push(rf);const af=WordArray.create(sf,nf);Qc.concat(af)},unpad(Qc){const ef=Qc,tf=ef.words[ef.sigBytes-1>>>2]&255;ef.sigBytes-=tf}};class BlockCipher extends Cipher{constructor(ef,tf,nf){super(ef,tf,Object.assign({mode:CBC,padding:Pkcs7},nf)),this.blockSize=128/32}reset(){let ef;super.reset.call(this);const{cfg:tf}=this,{iv:nf,mode:rf}=tf;this._xformMode===this.constructor._ENC_XFORM_MODE?ef=rf.createEncryptor:(ef=rf.createDecryptor,this._minBufferSize=1),this._mode=ef.call(rf,this,nf&&nf.words),this._mode.__creator=ef}_doProcessBlock(ef,tf){this._mode.processBlock(ef,tf)}_doFinalize(){let ef;const{padding:tf}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(tf.pad(this._data,this.blockSize),ef=this._process(!0)):(ef=this._process(!0),tf.unpad(ef)),ef}}class CipherParams extends Base{constructor(ef){super(),this.mixIn(ef)}toString(ef){return(ef||this.formatter).stringify(this)}}const OpenSSLFormatter={stringify(Qc){let ef;const{ciphertext:tf,salt:nf}=Qc;return nf?ef=WordArray.create([1398893684,1701076831]).concat(nf).concat(tf):ef=tf,ef.toString(Base64)},parse(Qc){let ef;const tf=Base64.parse(Qc),nf=tf.words;return nf[0]===1398893684&&nf[1]===1701076831&&(ef=WordArray.create(nf.slice(2,4)),nf.splice(0,4),tf.sigBytes-=16),CipherParams.create({ciphertext:tf,salt:ef})}};class SerializableCipher extends Base{static encrypt(ef,tf,nf,rf){const sf=Object.assign(new Base,this.cfg,rf),af=ef.createEncryptor(nf,sf),lf=af.finalize(tf),cf=af.cfg;return CipherParams.create({ciphertext:lf,key:nf,iv:cf.iv,algorithm:ef,mode:cf.mode,padding:cf.padding,blockSize:af.blockSize,formatter:sf.format})}static decrypt(ef,tf,nf,rf){let sf=tf;const af=Object.assign(new Base,this.cfg,rf);return sf=this._parse(sf,af.format),ef.createDecryptor(nf,af).finalize(sf.ciphertext)}static _parse(ef,tf){return typeof ef=="string"?tf.parse(ef,this):ef}}SerializableCipher.cfg=Object.assign(new Base,{format:OpenSSLFormatter});const OpenSSLKdf={execute(Qc,ef,tf,nf,rf){let sf=nf;sf||(sf=WordArray.random(64/8));let af;rf?af=EvpKDFAlgo.create({keySize:ef+tf,hasher:rf}).compute(Qc,sf):af=EvpKDFAlgo.create({keySize:ef+tf}).compute(Qc,sf);const lf=WordArray.create(af.words.slice(ef),tf*4);return af.sigBytes=ef*4,CipherParams.create({key:af,iv:lf,salt:sf})}};class PasswordBasedCipher extends SerializableCipher{static encrypt(ef,tf,nf,rf){const sf=Object.assign(new Base,this.cfg,rf),af=sf.kdf.execute(nf,ef.keySize,ef.ivSize,sf.salt,sf.hasher);sf.iv=af.iv;const lf=SerializableCipher.encrypt.call(this,ef,tf,af.key,sf);return lf.mixIn(af),lf}static decrypt(ef,tf,nf,rf){let sf=tf;const af=Object.assign(new Base,this.cfg,rf);sf=this._parse(sf,af.format);const lf=af.kdf.execute(nf,ef.keySize,ef.ivSize,sf.salt,af.hasher);return af.iv=lf.iv,SerializableCipher.decrypt.call(this,ef,sf,lf.key,af)}}PasswordBasedCipher.cfg=Object.assign(SerializableCipher.cfg,{kdf:OpenSSLKdf});const swapEndian=Qc=>Qc<<8&4278255360|Qc>>>8&16711935,Utf16BE={stringify(Qc){const{words:ef,sigBytes:tf}=Qc,nf=[];for(let rf=0;rf<tf;rf+=2){const sf=ef[rf>>>2]>>>16-rf%4*8&65535;nf.push(String.fromCharCode(sf))}return nf.join("")},parse(Qc){const ef=Qc.length,tf=[];for(let nf=0;nf<ef;nf+=1)tf[nf>>>1]|=Qc.charCodeAt(nf)<<16-nf%2*16;return WordArray.create(tf,ef*2)}},Utf16=Utf16BE,Utf16LE={stringify(Qc){const{words:ef,sigBytes:tf}=Qc,nf=[];for(let rf=0;rf<tf;rf+=2){const sf=swapEndian(ef[rf>>>2]>>>16-rf%4*8&65535);nf.push(String.fromCharCode(sf))}return nf.join("")},parse(Qc){const ef=Qc.length,tf=[];for(let nf=0;nf<ef;nf+=1)tf[nf>>>1]|=swapEndian(Qc.charCodeAt(nf)<<16-nf%2*16);return WordArray.create(tf,ef*2)}},Base64url={stringify(Qc,ef=!0){const{words:tf,sigBytes:nf}=Qc,rf=ef?this._safeMap:this._map;Qc.clamp();const sf=[];for(let lf=0;lf<nf;lf+=3){const cf=tf[lf>>>2]>>>24-lf%4*8&255,uf=tf[lf+1>>>2]>>>24-(lf+1)%4*8&255,ff=tf[lf+2>>>2]>>>24-(lf+2)%4*8&255,df=cf<<16|uf<<8|ff;for(let gf=0;gf<4&&lf+gf*.75<nf;gf+=1)sf.push(rf.charAt(df>>>6*(3-gf)&63))}const af=rf.charAt(64);if(af)for(;sf.length%4;)sf.push(af);return sf.join("")},parse(Qc,ef=!0){let tf=Qc.length;const nf=ef?this._safeMap:this._map;let rf=this._reverseMap;if(!rf){this._reverseMap=[],rf=this._reverseMap;for(let af=0;af<nf.length;af+=1)rf[nf.charCodeAt(af)]=af}const sf=nf.charAt(64);if(sf){const af=Qc.indexOf(sf);af!==-1&&(tf=af)}return parseLoop(Qc,tf,rf)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safeMap:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},W$2=[];class SHA1Algo extends Hasher{_doReset(){this._hash=new WordArray([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(ef,tf){const nf=this._hash.words;let rf=nf[0],sf=nf[1],af=nf[2],lf=nf[3],cf=nf[4];for(let uf=0;uf<80;uf+=1){if(uf<16)W$2[uf]=ef[tf+uf]|0;else{const df=W$2[uf-3]^W$2[uf-8]^W$2[uf-14]^W$2[uf-16];W$2[uf]=df<<1|df>>>31}let ff=(rf<<5|rf>>>27)+cf+W$2[uf];uf<20?ff+=(sf&af|~sf&lf)+1518500249:uf<40?ff+=(sf^af^lf)+1859775393:uf<60?ff+=(sf&af|sf&lf|af&lf)-1894007588:ff+=(sf^af^lf)-899497514,cf=lf,lf=af,af=sf<<30|sf>>>2,sf=rf,rf=ff}nf[0]=nf[0]+rf|0,nf[1]=nf[1]+sf|0,nf[2]=nf[2]+af|0,nf[3]=nf[3]+lf|0,nf[4]=nf[4]+cf|0}_doFinalize(){const ef=this._data,tf=ef.words,nf=this._nDataBytes*8,rf=ef.sigBytes*8;return tf[rf>>>5]|=128<<24-rf%32,tf[(rf+64>>>9<<4)+14]=Math.floor(nf/4294967296),tf[(rf+64>>>9<<4)+15]=nf,ef.sigBytes=tf.length*4,this._process(),this._hash}clone(){const ef=super.clone.call(this);return ef._hash=this._hash.clone(),ef}}const SHA1=Hasher._createHelper(SHA1Algo),HmacSHA1=Hasher._createHmacHelper(SHA1Algo),H=[],K$1=[],isPrime=Qc=>{const ef=Math.sqrt(Qc);for(let tf=2;tf<=ef;tf+=1)if(!(Qc%tf))return!1;return!0},getFractionalBits=Qc=>(Qc-(Qc|0))*4294967296|0;let n=2,nPrime=0;for(;nPrime<64;)isPrime(n)&&(nPrime<8&&(H[nPrime]=getFractionalBits(n**(1/2))),K$1[nPrime]=getFractionalBits(n**(1/3)),nPrime+=1),n+=1;const W$1=[];class SHA256Algo extends Hasher{_doReset(){this._hash=new WordArray(H.slice(0))}_doProcessBlock(ef,tf){const nf=this._hash.words;let rf=nf[0],sf=nf[1],af=nf[2],lf=nf[3],cf=nf[4],uf=nf[5],ff=nf[6],df=nf[7];for(let gf=0;gf<64;gf+=1){if(gf<16)W$1[gf]=ef[tf+gf]|0;else{const Bf=W$1[gf-15],Vf=(Bf<<25|Bf>>>7)^(Bf<<14|Bf>>>18)^Bf>>>3,Lf=W$1[gf-2],Cf=(Lf<<15|Lf>>>17)^(Lf<<13|Lf>>>19)^Lf>>>10;W$1[gf]=Vf+W$1[gf-7]+Cf+W$1[gf-16]}const _f=cf&uf^~cf&ff,xf=rf&sf^rf&af^sf&af,Af=(rf<<30|rf>>>2)^(rf<<19|rf>>>13)^(rf<<10|rf>>>22),Df=(cf<<26|cf>>>6)^(cf<<21|cf>>>11)^(cf<<7|cf>>>25),Of=df+Df+_f+K$1[gf]+W$1[gf],Gf=Af+xf;df=ff,ff=uf,uf=cf,cf=lf+Of|0,lf=af,af=sf,sf=rf,rf=Of+Gf|0}nf[0]=nf[0]+rf|0,nf[1]=nf[1]+sf|0,nf[2]=nf[2]+af|0,nf[3]=nf[3]+lf|0,nf[4]=nf[4]+cf|0,nf[5]=nf[5]+uf|0,nf[6]=nf[6]+ff|0,nf[7]=nf[7]+df|0}_doFinalize(){const ef=this._data,tf=ef.words,nf=this._nDataBytes*8,rf=ef.sigBytes*8;return tf[rf>>>5]|=128<<24-rf%32,tf[(rf+64>>>9<<4)+14]=Math.floor(nf/4294967296),tf[(rf+64>>>9<<4)+15]=nf,ef.sigBytes=tf.length*4,this._process(),this._hash}clone(){const ef=super.clone.call(this);return ef._hash=this._hash.clone(),ef}}const SHA256=Hasher._createHelper(SHA256Algo),HmacSHA256=Hasher._createHmacHelper(SHA256Algo);class SHA224Algo extends SHA256Algo{_doReset(){this._hash=new WordArray([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])}_doFinalize(){const ef=super._doFinalize.call(this);return ef.sigBytes-=4,ef}}const SHA224=SHA256Algo._createHelper(SHA224Algo),HmacSHA224=SHA256Algo._createHmacHelper(SHA224Algo),K=[new X64Word(1116352408,3609767458),new X64Word(1899447441,602891725),new X64Word(3049323471,3964484399),new X64Word(3921009573,2173295548),new X64Word(961987163,4081628472),new X64Word(1508970993,3053834265),new X64Word(2453635748,2937671579),new X64Word(2870763221,3664609560),new X64Word(3624381080,2734883394),new X64Word(310598401,1164996542),new X64Word(607225278,1323610764),new X64Word(1426881987,3590304994),new X64Word(1925078388,4068182383),new X64Word(2162078206,991336113),new X64Word(2614888103,633803317),new X64Word(3248222580,3479774868),new X64Word(3835390401,2666613458),new X64Word(4022224774,944711139),new X64Word(264347078,2341262773),new X64Word(604807628,2007800933),new X64Word(770255983,1495990901),new X64Word(1249150122,1856431235),new X64Word(1555081692,3175218132),new X64Word(1996064986,2198950837),new X64Word(2554220882,3999719339),new X64Word(2821834349,766784016),new X64Word(2952996808,2566594879),new X64Word(3210313671,3203337956),new X64Word(3336571891,1034457026),new X64Word(3584528711,2466948901),new X64Word(113926993,3758326383),new X64Word(338241895,168717936),new X64Word(666307205,1188179964),new X64Word(773529912,1546045734),new X64Word(1294757372,1522805485),new X64Word(1396182291,2643833823),new X64Word(1695183700,2343527390),new X64Word(1986661051,1014477480),new X64Word(2177026350,1206759142),new X64Word(2456956037,344077627),new X64Word(2730485921,1290863460),new X64Word(2820302411,3158454273),new X64Word(3259730800,3505952657),new X64Word(3345764771,106217008),new X64Word(3516065817,3606008344),new X64Word(3600352804,1432725776),new X64Word(4094571909,1467031594),new X64Word(275423344,851169720),new X64Word(430227734,3100823752),new X64Word(506948616,1363258195),new X64Word(659060556,3750685593),new X64Word(883997877,3785050280),new X64Word(958139571,3318307427),new X64Word(1322822218,3812723403),new X64Word(1537002063,2003034995),new X64Word(1747873779,3602036899),new X64Word(1955562222,1575990012),new X64Word(2024104815,1125592928),new X64Word(2227730452,2716904306),new X64Word(2361852424,442776044),new X64Word(2428436474,593698344),new X64Word(2756734187,3733110249),new X64Word(3204031479,2999351573),new X64Word(3329325298,3815920427),new X64Word(3391569614,3928383900),new X64Word(3515267271,566280711),new X64Word(3940187606,3454069534),new X64Word(4118630271,4000239992),new X64Word(116418474,1914138554),new X64Word(174292421,2731055270),new X64Word(289380356,3203993006),new X64Word(460393269,320620315),new X64Word(685471733,587496836),new X64Word(852142971,1086792851),new X64Word(1017036298,365543100),new X64Word(1126000580,2618297676),new X64Word(1288033470,3409855158),new X64Word(1501505948,4234509866),new X64Word(1607167915,987167468),new X64Word(1816402316,1246189591)],W=[];for(let Qc=0;Qc<80;Qc+=1)W[Qc]=new X64Word;class SHA512Algo extends Hasher{constructor(){super(),this.blockSize=1024/32}_doReset(){this._hash=new X64WordArray([new X64Word(1779033703,4089235720),new X64Word(3144134277,2227873595),new X64Word(1013904242,4271175723),new X64Word(2773480762,1595750129),new X64Word(1359893119,2917565137),new X64Word(2600822924,725511199),new X64Word(528734635,4215389547),new X64Word(1541459225,327033209)])}_doProcessBlock(ef,tf){const nf=this._hash.words,rf=nf[0],sf=nf[1],af=nf[2],lf=nf[3],cf=nf[4],uf=nf[5],ff=nf[6],df=nf[7],gf=rf.high;let _f=rf.low;const xf=sf.high;let Af=sf.low;const Df=af.high;let Of=af.low;const Gf=lf.high;let Bf=lf.low;const Vf=cf.high;let Lf=cf.low;const Cf=uf.high;let Tf=uf.low;const Yf=ff.high;let rh=ff.low;const dh=df.high;let hh=df.low,sh=gf,Hf=_f,Qf=xf,ah=Af,mh=Df,uh=Of,jf=Gf,Kf=Bf,of=Vf,hf=Lf,pf=Cf,vf=Tf,Ef=Yf,Sf=rh,Ff=dh,Uf=hh;for(let Wf=0;Wf<80;Wf+=1){let eh,th;const _h=W[Wf];if(Wf<16)_h.high=ef[tf+Wf*2]|0,th=_h.high,_h.low=ef[tf+Wf*2+1]|0,eh=_h.low;else{const Jh=W[Wf-15],xh=Jh.high,Wh=Jh.low,nd=(xh>>>1|Wh<<31)^(xh>>>8|Wh<<24)^xh>>>7,Ad=(Wh>>>1|xh<<31)^(Wh>>>8|xh<<24)^(Wh>>>7|xh<<25),ad=W[Wf-2],vd=ad.high,ld=ad.low,Id=(vd>>>19|ld<<13)^(vd<<3|ld>>>29)^vd>>>6,$d=(ld>>>19|vd<<13)^(ld<<3|vd>>>29)^(ld>>>6|vd<<26),yd=W[Wf-7],Zd=yd.high,jd=yd.low,pp=W[Wf-16],rp=pp.high,ep=pp.low;eh=Ad+jd,th=nd+Zd+(eh>>>0<Ad>>>0?1:0),eh+=$d,th=th+Id+(eh>>>0<$d>>>0?1:0),eh+=ep,th=th+rp+(eh>>>0<ep>>>0?1:0),_h.high=th,_h.low=eh}const wh=of&pf^~of&Ef,oh=hf&vf^~hf&Sf,gh=sh&Qf^sh&mh^Qf&mh,qf=Hf&ah^Hf&uh^ah&uh,zf=(sh>>>28|Hf<<4)^(sh<<30|Hf>>>2)^(sh<<25|Hf>>>7),Th=(Hf>>>28|sh<<4)^(Hf<<30|sh>>>2)^(Hf<<25|sh>>>7),Fh=(of>>>14|hf<<18)^(of>>>18|hf<<14)^(of<<23|hf>>>9),Uh=(hf>>>14|of<<18)^(hf>>>18|of<<14)^(hf<<23|of>>>9),jh=K[Wf],qh=jh.high,cd=jh.low;let pd=Uf+Uh,Zh=Ff+Fh+(pd>>>0<Uf>>>0?1:0);pd+=oh,Zh=Zh+wh+(pd>>>0<oh>>>0?1:0),pd+=cd,Zh=Zh+qh+(pd>>>0<cd>>>0?1:0),pd+=eh,Zh=Zh+th+(pd>>>0<eh>>>0?1:0);const kh=Th+qf,Kh=zf+gh+(kh>>>0<Th>>>0?1:0);Ff=Ef,Uf=Sf,Ef=pf,Sf=vf,pf=of,vf=hf,hf=Kf+pd|0,of=jf+Zh+(hf>>>0<Kf>>>0?1:0)|0,jf=mh,Kf=uh,mh=Qf,uh=ah,Qf=sh,ah=Hf,Hf=pd+kh|0,sh=Zh+Kh+(Hf>>>0<pd>>>0?1:0)|0}rf.low=_f+Hf,_f=rf.low,rf.high=gf+sh+(_f>>>0<Hf>>>0?1:0),sf.low=Af+ah,Af=sf.low,sf.high=xf+Qf+(Af>>>0<ah>>>0?1:0),af.low=Of+uh,Of=af.low,af.high=Df+mh+(Of>>>0<uh>>>0?1:0),lf.low=Bf+Kf,Bf=lf.low,lf.high=Gf+jf+(Bf>>>0<Kf>>>0?1:0),cf.low=Lf+hf,Lf=cf.low,cf.high=Vf+of+(Lf>>>0<hf>>>0?1:0),uf.low=Tf+vf,Tf=uf.low,uf.high=Cf+pf+(Tf>>>0<vf>>>0?1:0),ff.low=rh+Sf,rh=ff.low,ff.high=Yf+Ef+(rh>>>0<Sf>>>0?1:0),df.low=hh+Uf,hh=df.low,df.high=dh+Ff+(hh>>>0<Uf>>>0?1:0)}_doFinalize(){const ef=this._data,tf=ef.words,nf=this._nDataBytes*8,rf=ef.sigBytes*8;return tf[rf>>>5]|=128<<24-rf%32,tf[(rf+128>>>10<<5)+30]=Math.floor(nf/4294967296),tf[(rf+128>>>10<<5)+31]=nf,ef.sigBytes=tf.length*4,this._process(),this._hash.toX32()}clone(){const ef=super.clone.call(this);return ef._hash=this._hash.clone(),ef}}const SHA512=Hasher._createHelper(SHA512Algo),HmacSHA512=Hasher._createHmacHelper(SHA512Algo);class SHA384Algo extends SHA512Algo{_doReset(){this._hash=new X64WordArray([new X64Word(3418070365,3238371032),new X64Word(1654270250,914150663),new X64Word(2438529370,812702999),new X64Word(355462360,4144912697),new X64Word(1731405415,4290775857),new X64Word(2394180231,1750603025),new X64Word(3675008525,1694076839),new X64Word(1203062813,3204075428)])}_doFinalize(){const ef=super._doFinalize.call(this);return ef.sigBytes-=16,ef}}const SHA384=SHA512Algo._createHelper(SHA384Algo),HmacSHA384=SHA512Algo._createHmacHelper(SHA384Algo),RHO_OFFSETS=[],PI_INDEXES=[],ROUND_CONSTANTS=[];let _x=1,_y=0;for(let Qc=0;Qc<24;Qc+=1){RHO_OFFSETS[_x+5*_y]=(Qc+1)*(Qc+2)/2%64;const ef=_y%5,tf=(2*_x+3*_y)%5;_x=ef,_y=tf}for(let Qc=0;Qc<5;Qc+=1)for(let ef=0;ef<5;ef+=1)PI_INDEXES[Qc+5*ef]=ef+(2*Qc+3*ef)%5*5;let LFSR=1;for(let Qc=0;Qc<24;Qc+=1){let ef=0,tf=0;for(let nf=0;nf<7;nf+=1){if(LFSR&1){const rf=(1<<nf)-1;rf<32?tf^=1<<rf:ef^=1<<rf-32}LFSR&128?LFSR=LFSR<<1^113:LFSR<<=1}ROUND_CONSTANTS[Qc]=X64Word.create(ef,tf)}const T=[];for(let Qc=0;Qc<25;Qc+=1)T[Qc]=X64Word.create();class SHA3Algo extends Hasher{constructor(ef){super(Object.assign({outputLength:512},ef))}_doReset(){this._state=[];const ef=this._state;for(let tf=0;tf<25;tf+=1)ef[tf]=new X64Word;this.blockSize=(1600-2*this.cfg.outputLength)/32}_doProcessBlock(ef,tf){const nf=this._state,rf=this.blockSize/2;for(let sf=0;sf<rf;sf+=1){let af=ef[tf+2*sf],lf=ef[tf+2*sf+1];af=(af<<8|af>>>24)&16711935|(af<<24|af>>>8)&4278255360,lf=(lf<<8|lf>>>24)&16711935|(lf<<24|lf>>>8)&4278255360;const cf=nf[sf];cf.high^=lf,cf.low^=af}for(let sf=0;sf<24;sf+=1){for(let ff=0;ff<5;ff+=1){let df=0,gf=0;for(let xf=0;xf<5;xf+=1){const Af=nf[ff+5*xf];df^=Af.high,gf^=Af.low}const _f=T[ff];_f.high=df,_f.low=gf}for(let ff=0;ff<5;ff+=1){const df=T[(ff+4)%5],gf=T[(ff+1)%5],_f=gf.high,xf=gf.low,Af=df.high^(_f<<1|xf>>>31),Df=df.low^(xf<<1|_f>>>31);for(let Of=0;Of<5;Of+=1){const Gf=nf[ff+5*Of];Gf.high^=Af,Gf.low^=Df}}for(let ff=1;ff<25;ff+=1){let df,gf;const _f=nf[ff],xf=_f.high,Af=_f.low,Df=RHO_OFFSETS[ff];Df<32?(df=xf<<Df|Af>>>32-Df,gf=Af<<Df|xf>>>32-Df):(df=Af<<Df-32|xf>>>64-Df,gf=xf<<Df-32|Af>>>64-Df);const Of=T[PI_INDEXES[ff]];Of.high=df,Of.low=gf}const af=T[0],lf=nf[0];af.high=lf.high,af.low=lf.low;for(let ff=0;ff<5;ff+=1)for(let df=0;df<5;df+=1){const gf=ff+5*df,_f=nf[gf],xf=T[gf],Af=T[(ff+1)%5+5*df],Df=T[(ff+2)%5+5*df];_f.high=xf.high^~Af.high&Df.high,_f.low=xf.low^~Af.low&Df.low}const cf=nf[0],uf=ROUND_CONSTANTS[sf];cf.high^=uf.high,cf.low^=uf.low}}_doFinalize(){const ef=this._data,tf=ef.words,nf=ef.sigBytes*8,rf=this.blockSize*32;tf[nf>>>5]|=1<<24-nf%32,tf[(Math.ceil((nf+1)/rf)*rf>>>5)-1]|=128,ef.sigBytes=tf.length*4,this._process();const sf=this._state,af=this.cfg.outputLength/8,lf=af/8,cf=[];for(let uf=0;uf<lf;uf+=1){const ff=sf[uf];let df=ff.high,gf=ff.low;df=(df<<8|df>>>24)&16711935|(df<<24|df>>>8)&4278255360,gf=(gf<<8|gf>>>24)&16711935|(gf<<24|gf>>>8)&4278255360,cf.push(gf),cf.push(df)}return new WordArray(cf,af)}clone(){const ef=super.clone.call(this);ef._state=this._state.slice(0);const tf=ef._state;for(let nf=0;nf<25;nf+=1)tf[nf]=tf[nf].clone();return ef}}const SHA3=Hasher._createHelper(SHA3Algo),HmacSHA3=Hasher._createHmacHelper(SHA3Algo);/** @preserve
(c) 2012 by Cdric Mesnil. All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted
provided that the following conditions are met:

    - Redistributions of source code must retain the above copyright notice, this list of
    conditions and the following disclaimer.
    - Redistributions in binary form must reproduce the above copyright notice, this list
    of conditions and the following disclaimer in the documentation and/or other materials
    provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS
OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/const _zl=WordArray.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),_zr=WordArray.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_sl=WordArray.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_sr=WordArray.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_hl=WordArray.create([0,1518500249,1859775393,2400959708,2840853838]),_hr=WordArray.create([1352829926,1548603684,1836072691,2053994217,0]),f1=(Qc,ef,tf)=>Qc^ef^tf,f2=(Qc,ef,tf)=>Qc&ef|~Qc&tf,f3=(Qc,ef,tf)=>(Qc|~ef)^tf,f4=(Qc,ef,tf)=>Qc&tf|ef&~tf,f5=(Qc,ef,tf)=>Qc^(ef|~tf),rotl=(Qc,ef)=>Qc<<ef|Qc>>>32-ef;class RIPEMD160Algo extends Hasher{_doReset(){this._hash=WordArray.create([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(ef,tf){const nf=ef;for(let Cf=0;Cf<16;Cf+=1){const Tf=tf+Cf,Yf=nf[Tf];nf[Tf]=(Yf<<8|Yf>>>24)&16711935|(Yf<<24|Yf>>>8)&4278255360}const rf=this._hash.words,sf=_hl.words,af=_hr.words,lf=_zl.words,cf=_zr.words,uf=_sl.words,ff=_sr.words;let df=rf[0],gf=rf[1],_f=rf[2],xf=rf[3],Af=rf[4],Df=rf[0],Of=rf[1],Gf=rf[2],Bf=rf[3],Vf=rf[4],Lf;for(let Cf=0;Cf<80;Cf+=1)Lf=df+nf[tf+lf[Cf]]|0,Cf<16?Lf+=f1(gf,_f,xf)+sf[0]:Cf<32?Lf+=f2(gf,_f,xf)+sf[1]:Cf<48?Lf+=f3(gf,_f,xf)+sf[2]:Cf<64?Lf+=f4(gf,_f,xf)+sf[3]:Lf+=f5(gf,_f,xf)+sf[4],Lf|=0,Lf=rotl(Lf,uf[Cf]),Lf=Lf+Af|0,df=Af,Af=xf,xf=rotl(_f,10),_f=gf,gf=Lf,Lf=Df+nf[tf+cf[Cf]]|0,Cf<16?Lf+=f5(Of,Gf,Bf)+af[0]:Cf<32?Lf+=f4(Of,Gf,Bf)+af[1]:Cf<48?Lf+=f3(Of,Gf,Bf)+af[2]:Cf<64?Lf+=f2(Of,Gf,Bf)+af[3]:Lf+=f1(Of,Gf,Bf)+af[4],Lf|=0,Lf=rotl(Lf,ff[Cf]),Lf=Lf+Vf|0,Df=Vf,Vf=Bf,Bf=rotl(Gf,10),Gf=Of,Of=Lf;Lf=rf[1]+_f+Bf|0,rf[1]=rf[2]+xf+Vf|0,rf[2]=rf[3]+Af+Df|0,rf[3]=rf[4]+df+Of|0,rf[4]=rf[0]+gf+Gf|0,rf[0]=Lf}_doFinalize(){const ef=this._data,tf=ef.words,nf=this._nDataBytes*8,rf=ef.sigBytes*8;tf[rf>>>5]|=128<<24-rf%32,tf[(rf+64>>>9<<4)+14]=(nf<<8|nf>>>24)&16711935|(nf<<24|nf>>>8)&4278255360,ef.sigBytes=(tf.length+1)*4,this._process();const sf=this._hash,af=sf.words;for(let lf=0;lf<5;lf+=1){const cf=af[lf];af[lf]=(cf<<8|cf>>>24)&16711935|(cf<<24|cf>>>8)&4278255360}return sf}clone(){const ef=super.clone.call(this);return ef._hash=this._hash.clone(),ef}}const RIPEMD160=Hasher._createHelper(RIPEMD160Algo),HmacRIPEMD160=Hasher._createHmacHelper(RIPEMD160Algo);class PBKDF2Algo extends Base{constructor(ef){super(),this.cfg=Object.assign(new Base,{keySize:128/32,hasher:SHA256Algo,iterations:25e4},ef)}compute(ef,tf){const{cfg:nf}=this,rf=HMAC.create(nf.hasher,ef),sf=WordArray.create(),af=WordArray.create([1]),lf=sf.words,cf=af.words,{keySize:uf,iterations:ff}=nf;for(;lf.length<uf;){const df=rf.update(tf).finalize(af);rf.reset();const gf=df.words,_f=gf.length;let xf=df;for(let Af=1;Af<ff;Af+=1){xf=rf.finalize(xf),rf.reset();const Df=xf.words;for(let Of=0;Of<_f;Of+=1)gf[Of]^=Df[Of]}sf.concat(df),cf[0]+=1}return sf.sigBytes=uf*4,sf}}const PBKDF2=(Qc,ef,tf)=>PBKDF2Algo.create(tf).compute(Qc,ef),_SBOX=[],INV_SBOX=[],_SUB_MIX_0=[],_SUB_MIX_1=[],_SUB_MIX_2=[],_SUB_MIX_3=[],INV_SUB_MIX_0=[],INV_SUB_MIX_1=[],INV_SUB_MIX_2=[],INV_SUB_MIX_3=[],d=[];for(let Qc=0;Qc<256;Qc+=1)Qc<128?d[Qc]=Qc<<1:d[Qc]=Qc<<1^283;let x=0,xi=0;for(let Qc=0;Qc<256;Qc+=1){let ef=xi^xi<<1^xi<<2^xi<<3^xi<<4;ef=ef>>>8^ef&255^99,_SBOX[x]=ef,INV_SBOX[ef]=x;const tf=d[x],nf=d[tf],rf=d[nf];let sf=d[ef]*257^ef*16843008;_SUB_MIX_0[x]=sf<<24|sf>>>8,_SUB_MIX_1[x]=sf<<16|sf>>>16,_SUB_MIX_2[x]=sf<<8|sf>>>24,_SUB_MIX_3[x]=sf,sf=rf*16843009^nf*65537^tf*257^x*16843008,INV_SUB_MIX_0[ef]=sf<<24|sf>>>8,INV_SUB_MIX_1[ef]=sf<<16|sf>>>16,INV_SUB_MIX_2[ef]=sf<<8|sf>>>24,INV_SUB_MIX_3[ef]=sf,x?(x=tf^d[d[d[rf^tf]]],xi^=d[d[xi]]):(xi=1,x=xi)}const RCON=[0,1,2,4,8,16,32,64,128,27,54];class AESAlgo extends BlockCipher{_doReset(){let ef;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const tf=this._keyPriorReset,nf=tf.words,rf=tf.sigBytes/4;this._nRounds=rf+6;const af=(this._nRounds+1)*4;this._keySchedule=[];const lf=this._keySchedule;for(let uf=0;uf<af;uf+=1)uf<rf?lf[uf]=nf[uf]:(ef=lf[uf-1],uf%rf?rf>6&&uf%rf===4&&(ef=_SBOX[ef>>>24]<<24|_SBOX[ef>>>16&255]<<16|_SBOX[ef>>>8&255]<<8|_SBOX[ef&255]):(ef=ef<<8|ef>>>24,ef=_SBOX[ef>>>24]<<24|_SBOX[ef>>>16&255]<<16|_SBOX[ef>>>8&255]<<8|_SBOX[ef&255],ef^=RCON[uf/rf|0]<<24),lf[uf]=lf[uf-rf]^ef);this._invKeySchedule=[];const cf=this._invKeySchedule;for(let uf=0;uf<af;uf+=1){const ff=af-uf;uf%4?ef=lf[ff]:ef=lf[ff-4],uf<4||ff<=4?cf[uf]=ef:cf[uf]=INV_SUB_MIX_0[_SBOX[ef>>>24]]^INV_SUB_MIX_1[_SBOX[ef>>>16&255]]^INV_SUB_MIX_2[_SBOX[ef>>>8&255]]^INV_SUB_MIX_3[_SBOX[ef&255]]}}encryptBlock(ef,tf){this._doCryptBlock(ef,tf,this._keySchedule,_SUB_MIX_0,_SUB_MIX_1,_SUB_MIX_2,_SUB_MIX_3,_SBOX)}decryptBlock(ef,tf){const nf=ef;let rf=nf[tf+1];nf[tf+1]=nf[tf+3],nf[tf+3]=rf,this._doCryptBlock(nf,tf,this._invKeySchedule,INV_SUB_MIX_0,INV_SUB_MIX_1,INV_SUB_MIX_2,INV_SUB_MIX_3,INV_SBOX),rf=nf[tf+1],nf[tf+1]=nf[tf+3],nf[tf+3]=rf}_doCryptBlock(ef,tf,nf,rf,sf,af,lf,cf){const uf=ef,ff=this._nRounds;let df=uf[tf]^nf[0],gf=uf[tf+1]^nf[1],_f=uf[tf+2]^nf[2],xf=uf[tf+3]^nf[3],Af=4;for(let Vf=1;Vf<ff;Vf+=1){const Lf=rf[df>>>24]^sf[gf>>>16&255]^af[_f>>>8&255]^lf[xf&255]^nf[Af];Af+=1;const Cf=rf[gf>>>24]^sf[_f>>>16&255]^af[xf>>>8&255]^lf[df&255]^nf[Af];Af+=1;const Tf=rf[_f>>>24]^sf[xf>>>16&255]^af[df>>>8&255]^lf[gf&255]^nf[Af];Af+=1;const Yf=rf[xf>>>24]^sf[df>>>16&255]^af[gf>>>8&255]^lf[_f&255]^nf[Af];Af+=1,df=Lf,gf=Cf,_f=Tf,xf=Yf}const Df=(cf[df>>>24]<<24|cf[gf>>>16&255]<<16|cf[_f>>>8&255]<<8|cf[xf&255])^nf[Af];Af+=1;const Of=(cf[gf>>>24]<<24|cf[_f>>>16&255]<<16|cf[xf>>>8&255]<<8|cf[df&255])^nf[Af];Af+=1;const Gf=(cf[_f>>>24]<<24|cf[xf>>>16&255]<<16|cf[df>>>8&255]<<8|cf[gf&255])^nf[Af];Af+=1;const Bf=(cf[xf>>>24]<<24|cf[df>>>16&255]<<16|cf[gf>>>8&255]<<8|cf[_f&255])^nf[Af];Af+=1,uf[tf]=Df,uf[tf+1]=Of,uf[tf+2]=Gf,uf[tf+3]=Bf}}AESAlgo.keySize=256/32;const AES=BlockCipher._createHelper(AESAlgo),PC1=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],PC2=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],BIT_SHIFTS=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],SBOX_P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],SBOX_MASK=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];function exchangeLR(Qc,ef){const tf=(this._lBlock>>>Qc^this._rBlock)&ef;this._rBlock^=tf,this._lBlock^=tf<<Qc}function exchangeRL(Qc,ef){const tf=(this._rBlock>>>Qc^this._lBlock)&ef;this._lBlock^=tf,this._rBlock^=tf<<Qc}class DESAlgo extends BlockCipher{constructor(ef,tf,nf){super(ef,tf,nf),this.blockSize=64/32}_doReset(){const tf=this._key.words,nf=[];for(let af=0;af<56;af+=1){const lf=PC1[af]-1;nf[af]=tf[lf>>>5]>>>31-lf%32&1}this._subKeys=[];const rf=this._subKeys;for(let af=0;af<16;af+=1){rf[af]=[];const lf=rf[af],cf=BIT_SHIFTS[af];for(let uf=0;uf<24;uf+=1)lf[uf/6|0]|=nf[(PC2[uf]-1+cf)%28]<<31-uf%6,lf[4+(uf/6|0)]|=nf[28+(PC2[uf+24]-1+cf)%28]<<31-uf%6;lf[0]=lf[0]<<1|lf[0]>>>31;for(let uf=1;uf<7;uf+=1)lf[uf]>>>=(uf-1)*4+3;lf[7]=lf[7]<<5|lf[7]>>>27}this._invSubKeys=[];const sf=this._invSubKeys;for(let af=0;af<16;af+=1)sf[af]=rf[15-af]}encryptBlock(ef,tf){this._doCryptBlock(ef,tf,this._subKeys)}decryptBlock(ef,tf){this._doCryptBlock(ef,tf,this._invSubKeys)}_doCryptBlock(ef,tf,nf){const rf=ef;this._lBlock=ef[tf],this._rBlock=ef[tf+1],exchangeLR.call(this,4,252645135),exchangeLR.call(this,16,65535),exchangeRL.call(this,2,858993459),exchangeRL.call(this,8,16711935),exchangeLR.call(this,1,1431655765);for(let af=0;af<16;af+=1){const lf=nf[af],cf=this._lBlock,uf=this._rBlock;let ff=0;for(let df=0;df<8;df+=1)ff|=SBOX_P[df][((uf^lf[df])&SBOX_MASK[df])>>>0];this._lBlock=uf,this._rBlock=cf^ff}const sf=this._lBlock;this._lBlock=this._rBlock,this._rBlock=sf,exchangeLR.call(this,1,1431655765),exchangeRL.call(this,8,16711935),exchangeRL.call(this,2,858993459),exchangeLR.call(this,16,65535),exchangeLR.call(this,4,252645135),rf[tf]=this._lBlock,rf[tf+1]=this._rBlock}}DESAlgo.keySize=64/32;DESAlgo.ivSize=64/32;const DES=BlockCipher._createHelper(DESAlgo);class TripleDESAlgo extends BlockCipher{_doReset(){const tf=this._key.words;if(tf.length!==2&&tf.length!==4&&tf.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");const nf=tf.slice(0,2),rf=tf.length<4?tf.slice(0,2):tf.slice(2,4),sf=tf.length<6?tf.slice(0,2):tf.slice(4,6);this._des1=DESAlgo.createEncryptor(WordArray.create(nf)),this._des2=DESAlgo.createEncryptor(WordArray.create(rf)),this._des3=DESAlgo.createEncryptor(WordArray.create(sf))}encryptBlock(ef,tf){this._des1.encryptBlock(ef,tf),this._des2.decryptBlock(ef,tf),this._des3.encryptBlock(ef,tf)}decryptBlock(ef,tf){this._des3.decryptBlock(ef,tf),this._des2.encryptBlock(ef,tf),this._des1.decryptBlock(ef,tf)}}TripleDESAlgo.keySize=192/32;TripleDESAlgo.ivSize=64/32;const TripleDES=BlockCipher._createHelper(TripleDESAlgo),S$1=[],C_$1=[],G$1=[];function nextState$1(){const Qc=this._X,ef=this._C;for(let tf=0;tf<8;tf+=1)C_$1[tf]=ef[tf];ef[0]=ef[0]+1295307597+this._b|0,ef[1]=ef[1]+3545052371+(ef[0]>>>0<C_$1[0]>>>0?1:0)|0,ef[2]=ef[2]+886263092+(ef[1]>>>0<C_$1[1]>>>0?1:0)|0,ef[3]=ef[3]+1295307597+(ef[2]>>>0<C_$1[2]>>>0?1:0)|0,ef[4]=ef[4]+3545052371+(ef[3]>>>0<C_$1[3]>>>0?1:0)|0,ef[5]=ef[5]+886263092+(ef[4]>>>0<C_$1[4]>>>0?1:0)|0,ef[6]=ef[6]+1295307597+(ef[5]>>>0<C_$1[5]>>>0?1:0)|0,ef[7]=ef[7]+3545052371+(ef[6]>>>0<C_$1[6]>>>0?1:0)|0,this._b=ef[7]>>>0<C_$1[7]>>>0?1:0;for(let tf=0;tf<8;tf+=1){const nf=Qc[tf]+ef[tf],rf=nf&65535,sf=nf>>>16,af=((rf*rf>>>17)+rf*sf>>>15)+sf*sf,lf=((nf&4294901760)*nf|0)+((nf&65535)*nf|0);G$1[tf]=af^lf}Qc[0]=G$1[0]+(G$1[7]<<16|G$1[7]>>>16)+(G$1[6]<<16|G$1[6]>>>16)|0,Qc[1]=G$1[1]+(G$1[0]<<8|G$1[0]>>>24)+G$1[7]|0,Qc[2]=G$1[2]+(G$1[1]<<16|G$1[1]>>>16)+(G$1[0]<<16|G$1[0]>>>16)|0,Qc[3]=G$1[3]+(G$1[2]<<8|G$1[2]>>>24)+G$1[1]|0,Qc[4]=G$1[4]+(G$1[3]<<16|G$1[3]>>>16)+(G$1[2]<<16|G$1[2]>>>16)|0,Qc[5]=G$1[5]+(G$1[4]<<8|G$1[4]>>>24)+G$1[3]|0,Qc[6]=G$1[6]+(G$1[5]<<16|G$1[5]>>>16)+(G$1[4]<<16|G$1[4]>>>16)|0,Qc[7]=G$1[7]+(G$1[6]<<8|G$1[6]>>>24)+G$1[5]|0}class RabbitAlgo extends StreamCipher{constructor(...ef){super(...ef),this.blockSize=128/32,this.ivSize=64/32}_doReset(){const ef=this._key.words,{iv:tf}=this.cfg;for(let sf=0;sf<4;sf+=1)ef[sf]=(ef[sf]<<8|ef[sf]>>>24)&16711935|(ef[sf]<<24|ef[sf]>>>8)&4278255360;this._X=[ef[0],ef[3]<<16|ef[2]>>>16,ef[1],ef[0]<<16|ef[3]>>>16,ef[2],ef[1]<<16|ef[0]>>>16,ef[3],ef[2]<<16|ef[1]>>>16];const nf=this._X;this._C=[ef[2]<<16|ef[2]>>>16,ef[0]&4294901760|ef[1]&65535,ef[3]<<16|ef[3]>>>16,ef[1]&4294901760|ef[2]&65535,ef[0]<<16|ef[0]>>>16,ef[2]&4294901760|ef[3]&65535,ef[1]<<16|ef[1]>>>16,ef[3]&4294901760|ef[0]&65535];const rf=this._C;this._b=0;for(let sf=0;sf<4;sf+=1)nextState$1.call(this);for(let sf=0;sf<8;sf+=1)rf[sf]^=nf[sf+4&7];if(tf){const sf=tf.words,af=sf[0],lf=sf[1],cf=(af<<8|af>>>24)&16711935|(af<<24|af>>>8)&4278255360,uf=(lf<<8|lf>>>24)&16711935|(lf<<24|lf>>>8)&4278255360,ff=cf>>>16|uf&4294901760,df=uf<<16|cf&65535;rf[0]^=cf,rf[1]^=ff,rf[2]^=uf,rf[3]^=df,rf[4]^=cf,rf[5]^=ff,rf[6]^=uf,rf[7]^=df;for(let gf=0;gf<4;gf+=1)nextState$1.call(this)}}_doProcessBlock(ef,tf){const nf=ef,rf=this._X;nextState$1.call(this),S$1[0]=rf[0]^rf[5]>>>16^rf[3]<<16,S$1[1]=rf[2]^rf[7]>>>16^rf[5]<<16,S$1[2]=rf[4]^rf[1]>>>16^rf[7]<<16,S$1[3]=rf[6]^rf[3]>>>16^rf[1]<<16;for(let sf=0;sf<4;sf+=1)S$1[sf]=(S$1[sf]<<8|S$1[sf]>>>24)&16711935|(S$1[sf]<<24|S$1[sf]>>>8)&4278255360,nf[tf+sf]^=S$1[sf]}}const Rabbit=StreamCipher._createHelper(RabbitAlgo),S=[],C_=[],G=[];function nextState(){const Qc=this._X,ef=this._C;for(let tf=0;tf<8;tf+=1)C_[tf]=ef[tf];ef[0]=ef[0]+1295307597+this._b|0,ef[1]=ef[1]+3545052371+(ef[0]>>>0<C_[0]>>>0?1:0)|0,ef[2]=ef[2]+886263092+(ef[1]>>>0<C_[1]>>>0?1:0)|0,ef[3]=ef[3]+1295307597+(ef[2]>>>0<C_[2]>>>0?1:0)|0,ef[4]=ef[4]+3545052371+(ef[3]>>>0<C_[3]>>>0?1:0)|0,ef[5]=ef[5]+886263092+(ef[4]>>>0<C_[4]>>>0?1:0)|0,ef[6]=ef[6]+1295307597+(ef[5]>>>0<C_[5]>>>0?1:0)|0,ef[7]=ef[7]+3545052371+(ef[6]>>>0<C_[6]>>>0?1:0)|0,this._b=ef[7]>>>0<C_[7]>>>0?1:0;for(let tf=0;tf<8;tf+=1){const nf=Qc[tf]+ef[tf],rf=nf&65535,sf=nf>>>16,af=((rf*rf>>>17)+rf*sf>>>15)+sf*sf,lf=((nf&4294901760)*nf|0)+((nf&65535)*nf|0);G[tf]=af^lf}Qc[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0,Qc[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0,Qc[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0,Qc[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0,Qc[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0,Qc[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0,Qc[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0,Qc[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}class RabbitLegacyAlgo extends StreamCipher{constructor(...ef){super(...ef),this.blockSize=128/32,this.ivSize=64/32}_doReset(){const ef=this._key.words,{iv:tf}=this.cfg;this._X=[ef[0],ef[3]<<16|ef[2]>>>16,ef[1],ef[0]<<16|ef[3]>>>16,ef[2],ef[1]<<16|ef[0]>>>16,ef[3],ef[2]<<16|ef[1]>>>16];const nf=this._X;this._C=[ef[2]<<16|ef[2]>>>16,ef[0]&4294901760|ef[1]&65535,ef[3]<<16|ef[3]>>>16,ef[1]&4294901760|ef[2]&65535,ef[0]<<16|ef[0]>>>16,ef[2]&4294901760|ef[3]&65535,ef[1]<<16|ef[1]>>>16,ef[3]&4294901760|ef[0]&65535];const rf=this._C;this._b=0;for(let sf=0;sf<4;sf+=1)nextState.call(this);for(let sf=0;sf<8;sf+=1)rf[sf]^=nf[sf+4&7];if(tf){const sf=tf.words,af=sf[0],lf=sf[1],cf=(af<<8|af>>>24)&16711935|(af<<24|af>>>8)&4278255360,uf=(lf<<8|lf>>>24)&16711935|(lf<<24|lf>>>8)&4278255360,ff=cf>>>16|uf&4294901760,df=uf<<16|cf&65535;rf[0]^=cf,rf[1]^=ff,rf[2]^=uf,rf[3]^=df,rf[4]^=cf,rf[5]^=ff,rf[6]^=uf,rf[7]^=df;for(let gf=0;gf<4;gf+=1)nextState.call(this)}}_doProcessBlock(ef,tf){const nf=ef,rf=this._X;nextState.call(this),S[0]=rf[0]^rf[5]>>>16^rf[3]<<16,S[1]=rf[2]^rf[7]>>>16^rf[5]<<16,S[2]=rf[4]^rf[1]>>>16^rf[7]<<16,S[3]=rf[6]^rf[3]>>>16^rf[1]<<16;for(let sf=0;sf<4;sf+=1)S[sf]=(S[sf]<<8|S[sf]>>>24)&16711935|(S[sf]<<24|S[sf]>>>8)&4278255360,nf[tf+sf]^=S[sf]}}const RabbitLegacy=StreamCipher._createHelper(RabbitLegacyAlgo);function generateKeystreamWord(){const Qc=this._S;let ef=this._i,tf=this._j,nf=0;for(let rf=0;rf<4;rf+=1){ef=(ef+1)%256,tf=(tf+Qc[ef])%256;const sf=Qc[ef];Qc[ef]=Qc[tf],Qc[tf]=sf,nf|=Qc[(Qc[ef]+Qc[tf])%256]<<24-rf*8}return this._i=ef,this._j=tf,nf}class RC4Algo extends StreamCipher{_doReset(){const ef=this._key,tf=ef.words,nf=ef.sigBytes;this._S=[];const rf=this._S;for(let sf=0;sf<256;sf+=1)rf[sf]=sf;for(let sf=0,af=0;sf<256;sf+=1){const lf=sf%nf,cf=tf[lf>>>2]>>>24-lf%4*8&255;af=(af+rf[sf]+cf)%256;const uf=rf[sf];rf[sf]=rf[af],rf[af]=uf}this._j=0,this._i=this._j}_doProcessBlock(ef,tf){const nf=ef;nf[tf]^=generateKeystreamWord.call(this)}}RC4Algo.keySize=256/32;RC4Algo.ivSize=0;const RC4=StreamCipher._createHelper(RC4Algo);class RC4DropAlgo extends RC4Algo{constructor(...ef){super(...ef),Object.assign(this.cfg,{drop:192})}_doReset(){super._doReset.call(this);for(let ef=this.cfg.drop;ef>0;ef-=1)generateKeystreamWord.call(this)}}const RC4Drop=StreamCipher._createHelper(RC4DropAlgo),N=16,ORIG_P=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],ORIG_S=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],blowfishCtx={pbox:[],sbox:[]};function f(Qc,ef){const tf=ef>>24&255,nf=ef>>16&255,rf=ef>>8&255,sf=ef&255;let af=Qc.sbox[0][tf]+Qc.sbox[1][nf];return af=af^Qc.sbox[2][rf],af=af+Qc.sbox[3][sf],af}function blowfishEncrypt(Qc,ef,tf){let nf=ef,rf=tf,sf;for(let af=0;af<N;++af)nf=nf^Qc.pbox[af],rf=f(Qc,nf)^rf,sf=nf,nf=rf,rf=sf;return sf=nf,nf=rf,rf=sf,rf=rf^Qc.pbox[N],nf=nf^Qc.pbox[N+1],{left:nf,right:rf}}function blowfishDecrypt(Qc,ef,tf){let nf=ef,rf=tf,sf;for(let af=N+1;af>1;--af)nf=nf^Qc.pbox[af],rf=f(Qc,nf)^rf,sf=nf,nf=rf,rf=sf;return sf=nf,nf=rf,rf=sf,rf=rf^Qc.pbox[1],nf=nf^Qc.pbox[0],{left:nf,right:rf}}function blowfishInit(Qc,ef,tf){for(let lf=0;lf<4;lf++){Qc.sbox[lf]=[];for(let cf=0;cf<256;cf++)Qc.sbox[lf][cf]=ORIG_S[lf][cf]}let nf=0;for(let lf=0;lf<N+2;lf++)Qc.pbox[lf]=ORIG_P[lf]^ef[nf],nf++,nf>=tf&&(nf=0);let rf=0,sf=0,af=0;for(let lf=0;lf<N+2;lf+=2)af=blowfishEncrypt(Qc,rf,sf),rf=af.left,sf=af.right,Qc.pbox[lf]=rf,Qc.pbox[lf+1]=sf;for(let lf=0;lf<4;lf++)for(let cf=0;cf<256;cf+=2)af=blowfishEncrypt(Qc,rf,sf),rf=af.left,sf=af.right,Qc.sbox[lf][cf]=rf,Qc.sbox[lf][cf+1]=sf;return!0}class BlowfishAlgo extends BlockCipher{constructor(ef,tf,nf){super(ef,tf,nf),this.blockSize=64/32}_doReset(){if(this._keyPriorReset===this._key)return;const ef=this._keyPriorReset=this._key,tf=ef.words,nf=ef.sigBytes/4;blowfishInit(blowfishCtx,tf,nf)}encryptBlock(ef,tf){const nf=blowfishEncrypt(blowfishCtx,ef[tf],ef[tf+1]);ef[tf]=nf.left,ef[tf+1]=nf.right}decryptBlock(ef,tf){const nf=blowfishDecrypt(blowfishCtx,ef[tf],ef[tf+1]);ef[tf]=nf.left,ef[tf+1]=nf.right}}BlowfishAlgo.keySize=128/32;BlowfishAlgo.ivSize=64/32;const Blowfish=BlockCipher._createHelper(BlowfishAlgo);function generateKeystreamAndEncrypt(Qc,ef,tf,nf){const rf=Qc;let sf;const af=this._iv;af?(sf=af.slice(0),this._iv=void 0):sf=this._prevBlock,nf.encryptBlock(sf,0);for(let lf=0;lf<tf;lf+=1)rf[ef+lf]^=sf[lf]}class CFB extends BlockCipherMode{}CFB.Encryptor=class extends CFB{processBlock(Qc,ef){const tf=this._cipher,{blockSize:nf}=tf;generateKeystreamAndEncrypt.call(this,Qc,ef,nf,tf),this._prevBlock=Qc.slice(ef,ef+nf)}};CFB.Decryptor=class extends CFB{processBlock(Qc,ef){const tf=this._cipher,{blockSize:nf}=tf,rf=Qc.slice(ef,ef+nf);generateKeystreamAndEncrypt.call(this,Qc,ef,nf,tf),this._prevBlock=rf}};class CTR extends BlockCipherMode{}CTR.Encryptor=class extends CTR{processBlock(Qc,ef){const tf=Qc,nf=this._cipher,{blockSize:rf}=nf,sf=this._iv;let af=this._counter;sf&&(this._counter=sf.slice(0),af=this._counter,this._iv=void 0);const lf=af.slice(0);nf.encryptBlock(lf,0),af[rf-1]=af[rf-1]+1|0;for(let cf=0;cf<rf;cf+=1)tf[ef+cf]^=lf[cf]}};CTR.Decryptor=CTR.Encryptor;const incWord=Qc=>{let ef=Qc;if((Qc>>24&255)===255){let tf=Qc>>16&255,nf=Qc>>8&255,rf=Qc&255;tf===255?(tf=0,nf===255?(nf=0,rf===255?rf=0:rf+=1):nf+=1):tf+=1,ef=0,ef+=tf<<16,ef+=nf<<8,ef+=rf}else ef+=1<<24;return ef},incCounter=Qc=>{const ef=Qc;return ef[0]=incWord(ef[0]),ef[0]===0&&(ef[1]=incWord(ef[1])),ef};/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */class CTRGladman extends BlockCipherMode{}CTRGladman.Encryptor=class extends CTRGladman{processBlock(Qc,ef){const tf=Qc,nf=this._cipher,{blockSize:rf}=nf,sf=this._iv;let af=this._counter;sf&&(this._counter=sf.slice(0),af=this._counter,this._iv=void 0),incCounter(af);const lf=af.slice(0);nf.encryptBlock(lf,0);for(let cf=0;cf<rf;cf+=1)tf[ef+cf]^=lf[cf]}};CTRGladman.Decryptor=CTRGladman.Encryptor;class ECB extends BlockCipherMode{}ECB.Encryptor=class extends ECB{processBlock(Qc,ef){this._cipher.encryptBlock(Qc,ef)}};ECB.Decryptor=class extends ECB{processBlock(Qc,ef){this._cipher.decryptBlock(Qc,ef)}};class OFB extends BlockCipherMode{}OFB.Encryptor=class extends OFB{processBlock(Qc,ef){const tf=Qc,nf=this._cipher,{blockSize:rf}=nf,sf=this._iv;let af=this._keystream;sf&&(this._keystream=sf.slice(0),af=this._keystream,this._iv=void 0),nf.encryptBlock(af,0);for(let lf=0;lf<rf;lf+=1)tf[ef+lf]^=af[lf]}};OFB.Decryptor=OFB.Encryptor;const AnsiX923={pad(Qc,ef){const tf=Qc,nf=tf.sigBytes,rf=ef*4,sf=rf-nf%rf,af=nf+sf-1;tf.clamp(),tf.words[af>>>2]|=sf<<24-af%4*8,tf.sigBytes+=sf},unpad(Qc){const ef=Qc,tf=ef.words[ef.sigBytes-1>>>2]&255;ef.sigBytes-=tf}},Iso10126={pad(Qc,ef){const tf=ef*4,nf=tf-Qc.sigBytes%tf;Qc.concat(WordArray.random(nf-1)).concat(WordArray.create([nf<<24],1))},unpad(Qc){const ef=Qc,tf=ef.words[ef.sigBytes-1>>>2]&255;ef.sigBytes-=tf}},ZeroPadding={pad(Qc,ef){const tf=Qc,nf=ef*4;tf.clamp(),tf.sigBytes+=nf-(Qc.sigBytes%nf||nf)},unpad(Qc){const ef=Qc,tf=ef.words;for(let nf=ef.sigBytes-1;nf>=0;nf-=1)if(tf[nf>>>2]>>>24-nf%4*8&255){ef.sigBytes=nf+1;break}}},Iso97971={pad(Qc,ef){Qc.concat(WordArray.create([2147483648],1)),ZeroPadding.pad(Qc,ef)},unpad(Qc){const ef=Qc;ZeroPadding.unpad(ef),ef.sigBytes-=1}},NoPadding={pad(){},unpad(){}},HexFormatter={stringify(Qc){return Qc.ciphertext.toString(Hex)},parse(Qc){const ef=Hex.parse(Qc);return CipherParams.create({ciphertext:ef})}},CryptoES={lib:{Base,WordArray,BufferedBlockAlgorithm,Hasher,Cipher,StreamCipher,BlockCipherMode,BlockCipher,CipherParams,SerializableCipher,PasswordBasedCipher},x64:{Word:X64Word,WordArray:X64WordArray},enc:{Hex,Latin1,Utf8,Utf16,Utf16BE,Utf16LE,Base64,Base64url},algo:{HMAC,MD5:MD5Algo,SHA1:SHA1Algo,SHA224:SHA224Algo,SHA256:SHA256Algo,SHA384:SHA384Algo,SHA512:SHA512Algo,SHA3:SHA3Algo,RIPEMD160:RIPEMD160Algo,PBKDF2:PBKDF2Algo,EvpKDF:EvpKDFAlgo,AES:AESAlgo,DES:DESAlgo,TripleDES:TripleDESAlgo,Rabbit:RabbitAlgo,RabbitLegacy:RabbitLegacyAlgo,RC4:RC4Algo,RC4Drop:RC4DropAlgo,Blowfish:BlowfishAlgo},mode:{CBC,CFB,CTR,CTRGladman,ECB,OFB},pad:{Pkcs7,AnsiX923,Iso10126,Iso97971,NoPadding,ZeroPadding},format:{OpenSSL:OpenSSLFormatter,Hex:HexFormatter},kdf:{OpenSSL:OpenSSLKdf},MD5,HmacMD5,SHA1,HmacSHA1,SHA224,HmacSHA224,SHA256,HmacSHA256,SHA384,HmacSHA384,SHA512,HmacSHA512,SHA3,HmacSHA3,RIPEMD160,HmacRIPEMD160,PBKDF2,EvpKDF,AES,DES,TripleDES,Rabbit,RabbitLegacy,RC4,RC4Drop,Blowfish};function get$2(Qc){let ef={};if(Array.isArray(Qc))Qc.forEach(function(tf){try{ef={...ef,...JSON.parse(sessionStorage.getItem(tf))}}catch(nf){console.error(nf)}});else{const tf=sessionStorage.getItem(Qc);if(tf)try{ef=JSON.parse(tf)}catch(nf){console.error(nf)}}return ef}function set$2(Qc){Object.keys(Qc).forEach(function(ef){const tf={};tf[ef]=Qc[ef];try{sessionStorage.setItem(ef,JSON.stringify(tf))}catch(nf){console.error(nf)}})}class BuildApi{constructor(){this._url="https://build.betaflight.com",this._cacheExpirationPeriod=3600*1e3}load(ef,tf,nf){const rf=`${ef}_Data`,sf=`${ef}_LastUpdate`,af=get$2([sf,rf]),lf=$$1.now(),cf=af[rf],uf=af[sf],ff=()=>{cf&&gui_log(i18n.getMessage("buildServerUsingCached",[ef])),tf(cf)};!cf||!uf||lf-uf>this._cacheExpirationPeriod?$$1.get(ef,function(df){const gf={};gf[rf]=df,gf[sf]=$$1.now(),set$2(gf),tf(df)}).fail(df=>{gui_log(i18n.getMessage("buildServerFailure",[ef,`HTTP ${df.status}`])),nf!==void 0?nf():ff()}):ff()}loadTargets(ef){const tf=`${this._url}/api/targets`;this.load(tf,ef)}loadTargetReleases(ef,tf){const nf=`${this._url}/api/targets/${ef}`;this.load(nf,tf)}loadTarget(ef,tf,nf,rf){const sf=`${this._url}/api/builds/${tf}/${ef}`;this.load(sf,nf,rf)}loadTargetHex(ef,tf,nf){const rf=`${this._url}${ef}`;$$1.get(rf,function(sf){gui_log(i18n.getMessage("buildServerSuccess",[ef])),tf(sf)}).fail(sf=>{gui_log(i18n.getMessage("buildServerFailure",[ef,`HTTP ${sf.status}`])),nf!==void 0&&nf()})}getSupportCommands(ef,tf){const nf=`${this._url}/api/support/commands`;$$1.get(nf,function(rf){ef(rf)}).fail(rf=>{gui_log(i18n.getMessage("buildServerFailure",[nf,`HTTP ${rf.status}`])),tf!==void 0&&tf()})}submitSupportData(ef,tf,nf){const rf=`${this._url}/api/support`;$$1.ajax({url:rf,type:"POST",data:ef,contentType:"text/plain",dataType:"text",success:function(sf){tf(sf)}}).fail(sf=>{gui_log(i18n.getMessage("buildServerFailure",[`HTTP ${sf.status}`])),nf!==void 0&&nf()})}requestBuild(ef,tf,nf){const rf=`${this._url}/api/builds`;$$1.ajax({url:rf,type:"POST",data:JSON.stringify(ef),contentType:"application/json",dataType:"json",success:function(sf){tf(sf)}}).fail(sf=>{gui_log(i18n.getMessage("buildServerFailure",[rf,`HTTP ${sf.status}`])),nf!==void 0&&nf()})}requestBuildStatus(ef,tf,nf){const rf=`${this._url}/api/builds/${ef}/status`;$$1.get(rf,function(sf){gui_log(i18n.getMessage("buildServerSuccess",[rf])),tf(sf)}).fail(sf=>{gui_log(i18n.getMessage("buildServerFailure",[rf,`HTTP ${sf.status}`])),nf!==void 0&&nf()})}requestBuildOptions(ef,tf,nf){const rf=`${this._url}/api/builds/${ef}/json`;$$1.get(rf,function(sf){tf(sf)}).fail(sf=>{nf!==void 0&&nf()})}loadOptions(ef,tf,nf){const rf=`${this._url}/api/options/${ef}`;this.load(rf,tf,nf)}loadOptionsByBuildKey(ef,tf,nf,rf){const sf=`${this._url}/api/options/${ef}/${tf}`;this.load(sf,nf,rf)}loadCommits(ef,tf,nf){const rf=`${this._url}/api/releases/${ef}/commits`;this.load(rf,tf,nf)}loadConfiguratorRelease(ef,tf,nf){const rf=`${this._url}/api/configurator/releases/${ef}`;this.load(rf,tf,nf)}loadSponsorTile(ef,tf,nf){const rf=`${this._url}/api/configurator/sponsors/${ef}`;this.load(rf,tf,nf)}}const serial=isWeb()?serialWeb:serial$3;let mspHelper$1,connectionTimestamp,liveDataRefreshTimerId=!1,isConnected=!1;const toggleStatus=function(){isConnected=!isConnected};function connectHandler(Qc){onOpen(Qc.detail),toggleStatus()}function disconnectHandler(Qc){onClosed(Qc.detail)}function initializeSerialBackend(){GUI.updateManualPortVisibility=function(){const tf=$$1("div#port-picker #port option:selected");tf.data().isManual?$$1("#port-override-option").show():$$1("#port-override-option").hide(),tf.data().isVirtual?$$1("#firmware-virtual-option").show():$$1("#firmware-virtual-option").hide(),$$1("#auto-connect-and-baud").toggle(!tf.data().isDFU)},GUI.updateManualPortVisibility(),$$1("#port-override").change(function(){set$4({portOverride:$$1("#port-override").val()})});const Qc=get$3("portOverride");Qc.portOverride&&$$1("#port-override").val(Qc.portOverride),$$1("div#port-picker #port").change(function(tf){GUI.updateManualPortVisibility()}),$$1("div.connect_controls a.connect").on("click",function(){const tf=$$1("div#port-picker #port option:selected");let nf;if(tf.data().isManual?nf=$$1("#port-override").val():nf=String($$1("div#port-picker #port").val()),!GUI.connect_lock){GUI.configuration_loaded=!1;const rf=parseInt($$1("div#port-picker #baud").val()),sf=$$1("div#port-picker #port option:selected");if(sf.data().isDFU)$$1("select#baud").hide();else if(nf!=="0")if(isConnected){let af=function(){finishClose(toggleStatus)};$$1("div#flashbutton a.flash_state").hasClass("active")&&$$1("div#flashbutton a.flash").hasClass("active")&&($$1("div#flashbutton a.flash_state").removeClass("active"),$$1("div#flashbutton a.flash").removeClass("active")),GUI.timeout_kill_all(),GUI.interval_kill_all(),GUI.tab_switch_cleanup(()=>GUI.tab_switch_in_progress=!1),mspHelper$1.setArmingEnabled(!0,!1,af)}else{console.log(`Connecting to: ${nf}`),GUI.connecting_to=nf,$$1("div#port-picker #port, div#port-picker #baud, div#port-picker #delay").prop("disabled",!0),$$1("div.connect_controls div.connect_state").text(i18n.getMessage("connecting"));const af=parseInt($$1("div#port-picker #baud").val());sf.data().isVirtual?(CONFIGURATOR.virtualMode=!0,CONFIGURATOR.virtualApiVersion=$$1("#firmware-version-dropdown :selected").val(),serial.connect("virtual",{},onOpenVirtual)):isWeb()?(serial.removeEventListener("connect",connectHandler),serial.addEventListener("connect",connectHandler),serial.removeEventListener("disconnect",disconnectHandler),serial.addEventListener("disconnect",disconnectHandler),serial.connect({baudRate:af})):(serial.connect(nf,{bitrate:rf},onOpen),toggleStatus())}}}),$$1("div.open_firmware_flasher a.flash").click(function(){$$1("div#flashbutton a.flash_state").hasClass("active")&&$$1("div#flashbutton a.flash").hasClass("active")?($$1("div#flashbutton a.flash_state").removeClass("active"),$$1("div#flashbutton a.flash").removeClass("active"),$$1("#tabs ul.mode-disconnected .tab_landing a").click()):($$1("#tabs ul.mode-disconnected .tab_firmware_flasher a").click(),$$1("div#flashbutton a.flash_state").addClass("active"),$$1("div#flashbutton a.flash").addClass("active"))});const ef=get$3("auto_connect");ef.auto_connect===void 0||ef.auto_connect?(GUI.auto_connect=!0,$$1("input.auto_connect").prop("checked",!0),$$1("input.auto_connect, span.auto_connect").prop("title",i18n.getMessage("autoConnectEnabled")),$$1("select#baud").val(115200).prop("disabled",!0)):(GUI.auto_connect=!1,$$1("input.auto_connect").prop("checked",!1),$$1("input.auto_connect, span.auto_connect").prop("title",i18n.getMessage("autoConnectDisabled"))),$$1("input.auto_connect").change(function(){GUI.auto_connect=$$1(this).is(":checked"),GUI.auto_connect?($$1("input.auto_connect, span.auto_connect").prop("title",i18n.getMessage("autoConnectEnabled")),$$1("select#baud").val(115200).prop("disabled",!0)):($$1("input.auto_connect, span.auto_connect").prop("title",i18n.getMessage("autoConnectDisabled")),!GUI.connected_to&&!GUI.connecting_to&&$$1("select#baud").prop("disabled",!1)),set$4({auto_connect:GUI.auto_connect})}),PortHandler$1.initialize(),PortUsage.initialize()}function finishClose(Qc){GUI.isCordova()&&UI_PHONES.reset();const ef=CONFIGURATOR.connectionValid;if(tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,"Disconnected"),connectionTimestamp){const tf=Date.now()-connectionTimestamp;tracking.sendTiming(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,"Connected",tf)}semver$1.lt(FC.CONFIG.apiVersion,API_VERSION_1_46)&&$$1("#dialogResetToCustomDefaults")[0].close(),tracking.resetFlightControllerData(),serial.disconnect(onClosed),MSP$1.disconnect_cleanup(),PortUsage.reset(),FC.resetState(),GUI.connected_to=!1,GUI.allowedTabs=GUI.defaultAllowedTabsWhenDisconnected.slice(),$$1("#dialogReportProblems-closebtn").click(),$$1("div#port-picker #port").prop("disabled",!1),GUI.auto_connect||$$1("div#port-picker #baud").prop("disabled",!1),$$1("div.connect_controls a.connect").removeClass("active"),$$1("div.connect_controls div.connect_state").text(i18n.getMessage("connect")),sensor_status(),ef&&$$1("#content").empty(),$$1("#tabs .tab_landing a").click(),Qc()}function setConnectionTimeout(){GUI.timeout_add("connecting",function(){CONFIGURATOR.connectionValid||(gui_log(i18n.getMessage("noConfigurationReceived")),$$1("div.connect_controls a.connect").click())},1e4)}function abortConnection(){GUI.timeout_remove("connecting"),GUI.connected_to=!1,GUI.connecting_to=!1,tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,"SerialPortFailed"),gui_log(i18n.getMessage("serialPortOpenFail")),$$1("div#connectbutton div.connect_state").text(i18n.getMessage("connect")),$$1("div#connectbutton a.connect").removeClass("active"),$$1("div#port-picker #port, div#port-picker #baud, div#port-picker #delay").prop("disabled",!1),isConnected=!1}function read_serial_adapter(Qc){read_serial(Qc.detail.buffer)}function onOpen(Qc){var ef;if(Qc){CONFIGURATOR.virtualMode=!1,GUI.connected_to=GUI.connecting_to,GUI.connecting_to=!1,gui_log(i18n.getMessage("serialPortOpened",serial.connectionType==="serial"?[serial.connectionId]:[Qc.socketId]));let tf=get$3("last_used_port");tf.last_used_port?tf.last_used_port!==GUI.connected_to&&set$4({last_used_port:GUI.connected_to}):set$4({last_used_port:GUI.connected_to}),tf=((ef=get$3("expertMode"))==null?void 0:ef.expertMode)??!1,$$1('input[name="expertModeCheckbox"]').prop("checked",tf).trigger("change"),isWeb()?(serial.removeEventListener("receive",read_serial_adapter),serial.addEventListener("receive",read_serial_adapter)):serial.onReceive.addListener(read_serial),setConnectionTimeout(),FC.resetState(),mspHelper$1=new MspHelper,MSP$1.listen(mspHelper$1.process_data.bind(mspHelper$1)),MSP$1.timeout=250,console.log("Requesting configuration data"),MSP$1.send_message(MSPCodes.MSP_API_VERSION,!1,!1,function(){if(gui_log(i18n.getMessage("apiVersionReceived",FC.CONFIG.apiVersion)),FC.CONFIG.apiVersion.includes("null")){abortConnection();return}if(tracking.setFlightControllerData(tracking.DATA.API_VERSION,FC.CONFIG.apiVersion),semver$1.gte(FC.CONFIG.apiVersion,CONFIGURATOR.API_VERSION_ACCEPTED))MSP$1.send_message(MSPCodes.MSP_FC_VARIANT,!1,!1,function(){if(tracking.setFlightControllerData(tracking.DATA.FIRMWARE_TYPE,FC.CONFIG.flightControllerIdentifier),FC.CONFIG.flightControllerIdentifier==="BTFL")MSP$1.send_message(MSPCodes.MSP_FC_VERSION,!1,!1,function(){tracking.setFlightControllerData(tracking.DATA.FIRMWARE_VERSION,FC.CONFIG.flightControllerVersion),gui_log(i18n.getMessage("fcInfoReceived",[FC.CONFIG.flightControllerIdentifier,FC.CONFIG.flightControllerVersion])),MSP$1.send_message(MSPCodes.MSP_BUILD_INFO,!1,!1,function(){gui_log(i18n.getMessage("buildInfoReceived",[FC.CONFIG.buildInfo])),MSP$1.send_message(MSPCodes.MSP_BOARD_INFO,!1,!1,processBoardInfo)})});else{tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,"ConnectionRefusedFirmwareType",FC.CONFIG.flightControllerIdentifier);const nf=$$1(".dialogConnectWarning")[0];$$1(".dialogConnectWarning-content").html(i18n.getMessage("firmwareTypeNotSupported")),$$1(".dialogConnectWarning-closebtn").click(function(){nf.close()}),nf.showModal(),connectCli()}});else{tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,"ConnectionRefusedFirmwareVersion",FC.CONFIG.apiVersion);const nf=$$1(".dialogConnectWarning")[0];$$1(".dialogConnectWarning-content").html(i18n.getMessage("firmwareVersionNotSupported",[CONFIGURATOR.API_VERSION_ACCEPTED])),$$1(".dialogConnectWarning-closebtn").click(function(){nf.close()}),nf.showModal(),connectCli()}})}else abortConnection()}function onOpenVirtual(){GUI.connected_to=GUI.connecting_to,GUI.connecting_to=!1,CONFIGURATOR.connectionValid=!0,isConnected=!0,mspHelper$1=new MspHelper,VirtualFC.setVirtualConfig(),processBoardInfo(),update_dataflash_global(),sensor_status(FC.CONFIG.activeSensors),updateTabList(FC.FEATURE_CONFIG.features)}function processCustomDefaults(){if(bit_check(FC.CONFIG.targetCapabilities,FC.TARGET_CAPABILITIES_FLAGS.SUPPORTS_CUSTOM_DEFAULTS)&&bit_check(FC.CONFIG.targetCapabilities,FC.TARGET_CAPABILITIES_FLAGS.HAS_CUSTOM_DEFAULTS)&&FC.CONFIG.configurationState===FC.CONFIGURATION_STATES.DEFAULTS_BARE){const Qc=$$1("#dialogResetToCustomDefaults")[0];$$1("#dialogResetToCustomDefaults-acceptbtn").click(function(){tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,"AcceptResetToCustomDefaults");const ef=[];ef.push(mspHelper$1.RESET_TYPES.CUSTOM_DEFAULTS),MSP$1.send_message(MSPCodes.MSP_RESET_CONF,ef,!1),Qc.close(),GUI.timeout_add("disconnect",function(){$$1("div.connect_controls a.connect").click()},0)}),$$1("#dialogResetToCustomDefaults-cancelbtn").click(function(){tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,"CancelResetToCustomDefaults"),Qc.close(),setConnectionTimeout(),checkReportProblems()}),Qc.showModal(),GUI.timeout_remove("connecting")}else checkReportProblems()}function processBoardInfo(){tracking.setFlightControllerData(tracking.DATA.BOARD_TYPE,FC.CONFIG.boardIdentifier),tracking.setFlightControllerData(tracking.DATA.TARGET_NAME,FC.CONFIG.targetName),tracking.setFlightControllerData(tracking.DATA.BOARD_NAME,FC.CONFIG.boardName),tracking.setFlightControllerData(tracking.DATA.MANUFACTURER_ID,FC.CONFIG.manufacturerId),tracking.setFlightControllerData(tracking.DATA.MCU_TYPE,FC.getMcuType()),gui_log(i18n.getMessage("boardInfoReceived",[FC.getHardwareName(),FC.CONFIG.boardVersion])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)?checkReportProblems():processCustomDefaults()}function checkReportProblems(){const Qc="ProblemFound",ef=$$1("#dialogReportProblems-listItemTemplate");function tf(nf,rf){return bit_check(FC.CONFIG.configurationProblems,FC.CONFIGURATION_PROBLEM_FLAGS[nf])?(ef.clone().html(i18n.getMessage(`reportProblemsDialog${nf}`)).appendTo(rf),tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,Qc,nf),!0):!1}MSP$1.send_message(MSPCodes.MSP_STATUS,!1,!1,function(){let nf=!1;const rf=$$1("#dialogReportProblems-list");if(rf.empty(),semver$1.gt(FC.CONFIG.apiVersion,CONFIGURATOR.API_VERSION_MAX_SUPPORTED)){const sf="API_VERSION_MAX_SUPPORTED";ef.clone().html(i18n.getMessage(`reportProblemsDialog${sf}`,[CONFIGURATOR.latestVersion,CONFIGURATOR.latestVersionReleaseUrl,CONFIGURATOR.getDisplayVersion(),FC.CONFIG.flightControllerVersion])).appendTo(rf),nf=!0,tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,Qc,`${sf};${CONFIGURATOR.API_VERSION_MAX_SUPPORTED};${FC.CONFIG.apiVersion}`)}if(nf=tf("MOTOR_PROTOCOL_DISABLED",rf)||nf,have_sensor(FC.CONFIG.activeSensors,"acc")&&(nf=tf("ACC_NEEDS_CALIBRATION",rf)||nf),nf){const sf=$$1("#dialogReportProblems")[0];$$1("#dialogReportProblems-closebtn").click(function(){sf.close()}),sf.showModal(),$$1("#dialogReportProblems").scrollTop(0),$$1("#dialogReportProblems-closebtn").focus()}processUid()})}async function processBuildConfiguration(){const Qc=new BuildApi;function ef(tf){FC.CONFIG.buildOptions=tf.Request.Options,processCraftName()}await MSP$1.promise(MSPCodes.MSP2_GET_TEXT,mspHelper$1.crunch(MSPCodes.MSP2_GET_TEXT,MSPCodes.BUILD_KEY)),FC.CONFIG.buildKey.length===32&&navigator.onLine?(gui_log(i18n.getMessage("buildKey",FC.CONFIG.buildKey)),Qc.requestBuildOptions(FC.CONFIG.buildKey,ef,processCraftName)):processCraftName()}async function processUid(){await MSP$1.promise(MSPCodes.MSP_UID),tracking.setFlightControllerData(tracking.DATA.MCU_ID,CryptoES.SHA1(FC.CONFIG.deviceIdentifier)),tracking.sendEvent(tracking.EVENT_CATEGORIES.FLIGHT_CONTROLLER,"Connected"),connectionTimestamp=Date.now(),gui_log(i18n.getMessage("uniqueDeviceIdReceived",FC.CONFIG.deviceIdentifier)),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?processBuildConfiguration():processCraftName()}async function processCraftName(){semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?await MSP$1.promise(MSPCodes.MSP2_GET_TEXT,mspHelper$1.crunch(MSPCodes.MSP2_GET_TEXT,MSPCodes.CRAFT_NAME)):await MSP$1.promise(MSPCodes.MSP_NAME),gui_log(i18n.getMessage("craftNameReceived",semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?[FC.CONFIG.craftName]:[FC.CONFIG.name])),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&await MSP$1.promise(MSPCodes.MSP2_GET_TEXT,mspHelper$1.crunch(MSPCodes.MSP2_GET_TEXT,MSPCodes.PILOT_NAME)),FC.CONFIG.armingDisabled=!1,mspHelper$1.setArmingEnabled(!1,!1,setRtc)}function setRtc(){MSP$1.send_message(MSPCodes.MSP_SET_RTC,mspHelper$1.crunch(MSPCodes.MSP_SET_RTC),!1,finishOpen)}function finishOpen(){if(CONFIGURATOR.connectionValid=!0,semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&FC.CONFIG.buildOptions.length){GUI.allowedTabs=Array.from(GUI.defaultAllowedTabs);for(const Qc of GUI.defaultCloudBuildTabOptions)FC.CONFIG.buildOptions.some(ef=>ef.toLowerCase().includes(Qc))&&GUI.allowedTabs.push(Qc)}else GUI.allowedTabs=Array.from(GUI.defaultAllowedFCTabsWhenConnected);GUI.isCordova()&&UI_PHONES.reset(),onConnect(),GUI.selectDefaultTabWhenConnected()}function connectCli(){CONFIGURATOR.connectionValid=!0,GUI.allowedTabs=["cli"],onConnect(),$$1("#tabs .tab_cli a").click()}function onConnect(){$$1("div#flashbutton a.flash_state").hasClass("active")&&$$1("div#flashbutton a.flash").hasClass("active")&&($$1("div#flashbutton a.flash_state").removeClass("active"),$$1("div#flashbutton a.flash").removeClass("active")),GUI.timeout_remove("connecting"),$$1("div#connectbutton div.connect_state").text(i18n.getMessage("disconnect")).addClass("active"),$$1("div#connectbutton a.connect").addClass("active"),$$1("#tabs ul.mode-disconnected").hide(),$$1("#tabs ul.mode-connected-cli").show(),$$1("#tabs ul.mode-connected li").hide(),$$1("#tabs ul.mode-connected li").filter(function(nf){const rf=$$1(this).attr("class").split(/\s+/);let sf=!1;return $$1.each(GUI.allowedTabs,(af,lf)=>{const cf=`tab_${lf}`;$$1.inArray(cf,rf)>=0&&(sf=!0)}),FC.CONFIG.boardType==0&&rf.indexOf("osd-required")>=0&&(sf=!1),sf}).show(),FC.CONFIG.flightControllerVersion!==""&&(FC.FEATURE_CONFIG.features=new Features(FC.CONFIG),FC.BEEPER_CONFIG.beepers=new Beepers(FC.CONFIG),FC.BEEPER_CONFIG.dshotBeaconConditions=new Beepers(FC.CONFIG,["RX_LOST","RX_SET"]),$$1("#tabs ul.mode-connected").show(),MSP$1.send_message(MSPCodes.MSP_FEATURE_CONFIG,!1,!1),MSP$1.send_message(MSPCodes.MSP_BATTERY_CONFIG,!1,!1),MSP$1.send_message(MSPCodes.MSP_DATAFLASH_SUMMARY,!1,!1),(FC.CONFIG.boardType===0||FC.CONFIG.boardType===2)&&startLiveDataRefreshTimer()),$$1("#sensor-status").show(),$$1("#portsinput").hide(),$$1("#dataflash_wrapper_global").show()}function onClosed(Qc){gui_log(Qc?i18n.getMessage("serialPortClosedOk"):i18n.getMessage("serialPortClosedFail")),$$1("#tabs ul.mode-connected").hide(),$$1("#tabs ul.mode-connected-cli").hide(),$$1("#tabs ul.mode-disconnected").show(),$$1("#sensor-status").hide(),$$1("#portsinput").show(),$$1("#dataflash_wrapper_global").hide(),$$1("#quad-status_wrapper").hide(),clearLiveDataRefreshTimer(),MSP$1.clearListeners(),CONFIGURATOR.connectionValid=!1,CONFIGURATOR.cliValid=!1,CONFIGURATOR.cliActive=!1,CONFIGURATOR.cliEngineValid=!1,CONFIGURATOR.cliEngineActive=!1}function read_serial(Qc){CONFIGURATOR.cliActive?(MSP$1.clearListeners(),MSP$1.disconnect_cleanup(),TABS.cli.read(Qc)):CONFIGURATOR.cliEngineActive?TABS.presets.read(Qc):MSP$1.read(Qc)}async function update_live_status(){const Qc=$$1("#quad-status_wrapper");if(GUI.active_tab!=="cli"&&GUI.active_tab!=="presets"){await MSP$1.promise(MSPCodes.MSP_ANALOG);const ef=FC.ANALOG.voltage===0?1:Math.floor(FC.ANALOG.voltage/FC.BATTERY_CONFIG.vbatmaxcellvoltage)+1,tf=FC.BATTERY_CONFIG.vbatmincellvoltage*ef,nf=FC.BATTERY_CONFIG.vbatmaxcellvoltage*ef,rf=FC.BATTERY_CONFIG.vbatwarningcellvoltage*ef,sf=1.8;FC.ANALOG.voltage<tf&&FC.ANALOG.voltage>sf?($$1(".battery-status").addClass("state-empty").removeClass("state-ok").removeClass("state-warning"),$$1(".battery-status").css({width:"100%"})):($$1(".battery-status").css({width:`${(FC.ANALOG.voltage-tf)/(nf-tf)*100}%`}),FC.ANALOG.voltage<rf?$$1(".battery-status").addClass("state-warning").removeClass("state-empty").removeClass("state-ok"):$$1(".battery-status").addClass("state-ok").removeClass("state-warning").removeClass("state-empty")),await MSP$1.promise(MSPCodes.MSP_BOXNAMES),await MSP$1.promise(MSPCodes.MSP_STATUS_EX);const af=performance.now()-FC.ANALOG.last_received_timestamp<300;$$1(".linkicon").toggleClass("active",af);for(let lf=0;lf<FC.AUX_CONFIG.length;lf++)FC.AUX_CONFIG[lf]==="ARM"&&$$1(".armedicon").toggleClass("active",bit_check(FC.CONFIG.mode,lf)),FC.AUX_CONFIG[lf]==="FAILSAFE"&&$$1(".failsafeicon").toggleClass("active",bit_check(FC.CONFIG.mode,lf));have_sensor(FC.CONFIG.activeSensors,"gps")&&await MSP$1.promise(MSPCodes.MSP_RAW_GPS),sensor_status(FC.CONFIG.activeSensors,FC.GPS_DATA.fix),Qc.show()}}function clearLiveDataRefreshTimer(){liveDataRefreshTimerId&&(clearInterval(liveDataRefreshTimerId),liveDataRefreshTimerId=!1)}function startLiveDataRefreshTimer(){clearLiveDataRefreshTimer(),liveDataRefreshTimerId=setInterval(update_live_status,250)}function reinitializeConnection(Qc){const ef=connectionTimestamp;serial.connectionId&&(GUI.connected_to||GUI.connecting_to?$$1("a.connect").trigger("click"):serial.disconnect()),gui_log(i18n.getMessage("deviceRebooting"));let tf=0;const nf=setInterval(rf,100);function rf(){connectionTimestamp!==ef&&CONFIGURATOR.connectionValid?(console.log(`Serial connection available after ${tf/10} seconds`),clearInterval(nf),gui_log(i18n.getMessage("deviceReady")),typeof Qc=="function"&&Qc()):(tf++,tf>100&&(clearInterval(nf),console.log("failed to get serial connection, gave up after 10 seconds"),gui_log(i18n.getMessage("serialPortOpenFail"))))}}const ledDirectionLetters=["n","e","s","w","u","d"],ledBaseFunctionLetters=["c","f","a","l","s","g","r"];let ledOverlayLetters=["t","y","o","b","v","i","w"];function MspHelper(){const Qc=this;Qc.BAUD_RATES=["AUTO","9600","19200","38400","57600","115200","230400","250000","400000","460800","500000","921600","1000000","1500000","2000000","2470000"],Qc.SERIAL_PORT_FUNCTIONS={MSP:0,GPS:1,TELEMETRY_FRSKY:2,TELEMETRY_HOTT:3,TELEMETRY_MSP:4,TELEMETRY_LTM:4,TELEMETRY_SMARTPORT:5,RX_SERIAL:6,BLACKBOX:7,TELEMETRY_MAVLINK:9,ESC_SENSOR:10,TBS_SMARTAUDIO:11,TELEMETRY_IBUS:12,IRC_TRAMP:13,RUNCAM_DEVICE_CONTROL:14,LIDAR_TF:15,FRSKY_OSD:16,VTX_MSP:17},Qc.REBOOT_TYPES={FIRMWARE:0,BOOTLOADER:1,MSC:2,MSC_UTC:3,BOOTLOADER_FLASH:4},Qc.RESET_TYPES={BASE_DEFAULTS:0,CUSTOM_DEFAULTS:1},Qc.SIGNATURE_LENGTH=32,Qc.mspMultipleCache=[],Qc.setText=function(ef,tf,nf,rf){ef.push8(tf);const sf=Math.min(rf,nf.length);ef.push8(sf);for(let af=0;af<sf;af++)ef.push8(nf.charCodeAt(af))},Qc.getText=function(ef){const tf=ef.readU8()||0;let nf="";for(let rf=0;rf<tf;rf++)nf+=String.fromCharCode(ef.readU8());return nf}}function getMSPCodeName(Qc){return Object.keys(MSPCodes).find(ef=>MSPCodes[ef]===Qc)}MspHelper.readPidSliderSettings=function(Qc){FC.TUNING_SLIDERS.slider_pids_mode=Qc.readU8(),FC.TUNING_SLIDERS.slider_master_multiplier=Qc.readU8(),FC.TUNING_SLIDERS.slider_roll_pitch_ratio=Qc.readU8(),FC.TUNING_SLIDERS.slider_i_gain=Qc.readU8(),FC.TUNING_SLIDERS.slider_d_gain=Qc.readU8(),FC.TUNING_SLIDERS.slider_pi_gain=Qc.readU8(),FC.TUNING_SLIDERS.slider_dmax_gain=Qc.readU8(),FC.TUNING_SLIDERS.slider_feedforward_gain=Qc.readU8(),FC.TUNING_SLIDERS.slider_pitch_pi_gain=Qc.readU8(),Qc.readU32(),Qc.readU32()};MspHelper.writePidSliderSettings=function(Qc){Qc.push8(FC.TUNING_SLIDERS.slider_pids_mode).push8(FC.TUNING_SLIDERS.slider_master_multiplier).push8(FC.TUNING_SLIDERS.slider_roll_pitch_ratio).push8(FC.TUNING_SLIDERS.slider_i_gain).push8(FC.TUNING_SLIDERS.slider_d_gain).push8(FC.TUNING_SLIDERS.slider_pi_gain).push8(FC.TUNING_SLIDERS.slider_dmax_gain).push8(FC.TUNING_SLIDERS.slider_feedforward_gain).push8(FC.TUNING_SLIDERS.slider_pitch_pi_gain).push32(0).push32(0)};MspHelper.readDtermFilterSliderSettings=function(Qc){FC.TUNING_SLIDERS.slider_dterm_filter=Qc.readU8(),FC.TUNING_SLIDERS.slider_dterm_filter_multiplier=Qc.readU8(),FC.FILTER_CONFIG.dterm_lowpass_hz=Qc.readU16(),FC.FILTER_CONFIG.dterm_lowpass2_hz=Qc.readU16(),FC.FILTER_CONFIG.dterm_lowpass_dyn_min_hz=Qc.readU16(),FC.FILTER_CONFIG.dterm_lowpass_dyn_max_hz=Qc.readU16(),Qc.readU32(),Qc.readU32()};MspHelper.writeDtermFilterSliderSettings=function(Qc){Qc.push8(FC.TUNING_SLIDERS.slider_dterm_filter).push8(FC.TUNING_SLIDERS.slider_dterm_filter_multiplier).push16(FC.FILTER_CONFIG.dterm_lowpass_hz).push16(FC.FILTER_CONFIG.dterm_lowpass2_hz).push16(FC.FILTER_CONFIG.dterm_lowpass_dyn_min_hz).push16(FC.FILTER_CONFIG.dterm_lowpass_dyn_max_hz).push32(0).push32(0)};MspHelper.readGyroFilterSliderSettings=function(Qc){FC.TUNING_SLIDERS.slider_gyro_filter=Qc.readU8(),FC.TUNING_SLIDERS.slider_gyro_filter_multiplier=Qc.readU8(),FC.FILTER_CONFIG.gyro_lowpass_hz=Qc.readU16(),FC.FILTER_CONFIG.gyro_lowpass2_hz=Qc.readU16(),FC.FILTER_CONFIG.gyro_lowpass_dyn_min_hz=Qc.readU16(),FC.FILTER_CONFIG.gyro_lowpass_dyn_max_hz=Qc.readU16(),Qc.readU32(),Qc.readU32()};MspHelper.writeGyroFilterSliderSettings=function(Qc){Qc.push8(FC.TUNING_SLIDERS.slider_gyro_filter).push8(FC.TUNING_SLIDERS.slider_gyro_filter_multiplier).push16(FC.FILTER_CONFIG.gyro_lowpass_hz).push16(FC.FILTER_CONFIG.gyro_lowpass2_hz).push16(FC.FILTER_CONFIG.gyro_lowpass_dyn_min_hz).push16(FC.FILTER_CONFIG.gyro_lowpass_dyn_max_hz).push32(0).push32(0)};MspHelper.prototype.process_data=function(Qc){var cf;const ef=this,tf=Qc.dataView,nf=Qc.code,rf=Qc.crcError;let sf=[],af="",lf=0;if(rf)console.warn(`code: ${nf} (${getMSPCodeName(nf)}) - crc failed`);else if(Qc.unsupported)console.log(`FC reports unsupported message error: ${nf} (${getMSPCodeName(nf)})`),nf===MSPCodes.MSP_SET_REBOOT&&TABS.onboard_logging.mscRebootFailedCallback();else switch(nf){case MSPCodes.MSP_STATUS:FC.CONFIG.cycleTime=tf.readU16(),FC.CONFIG.i2cError=tf.readU16(),FC.CONFIG.activeSensors=tf.readU16(),FC.CONFIG.mode=tf.readU32(),FC.CONFIG.profile=tf.readU8();break;case MSPCodes.MSP_STATUS_EX:FC.CONFIG.cycleTime=tf.readU16(),FC.CONFIG.i2cError=tf.readU16(),FC.CONFIG.activeSensors=tf.readU16(),FC.CONFIG.mode=tf.readU32(),FC.CONFIG.profile=tf.readU8(),FC.CONFIG.cpuload=tf.readU16(),FC.CONFIG.numProfiles=tf.readU8(),FC.CONFIG.rateProfile=tf.readU8();const uf=tf.readU8();for(let Sf=0;Sf<uf;Sf++)tf.readU8();FC.CONFIG.armingDisableCount=tf.readU8(),FC.CONFIG.armingDisableFlags=tf.readU32(),FC.CONFIG.configStateFlag=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&(FC.CONFIG.cpuTemp=tf.readU16());break;case MSPCodes.MSP_RAW_IMU:FC.SENSOR_DATA.accelerometer[0]=tf.read16()/2048,FC.SENSOR_DATA.accelerometer[1]=tf.read16()/2048,FC.SENSOR_DATA.accelerometer[2]=tf.read16()/2048,FC.SENSOR_DATA.gyroscope[0]=tf.read16()*(4/16.4),FC.SENSOR_DATA.gyroscope[1]=tf.read16()*(4/16.4),FC.SENSOR_DATA.gyroscope[2]=tf.read16()*(4/16.4),FC.SENSOR_DATA.magnetometer[0]=tf.read16(),FC.SENSOR_DATA.magnetometer[1]=tf.read16(),FC.SENSOR_DATA.magnetometer[2]=tf.read16();break;case MSPCodes.MSP_SERVO:const ff=tf.byteLength/2;for(let Sf=0;Sf<ff;Sf++)FC.SERVO_DATA[Sf]=tf.readU16();break;case MSPCodes.MSP_MOTOR:const df=tf.byteLength/2;for(let Sf=0;Sf<df;Sf++)FC.MOTOR_DATA[Sf]=tf.readU16();break;case MSPCodes.MSP2_MOTOR_OUTPUT_REORDERING:FC.MOTOR_OUTPUT_ORDER=[];const gf=tf.read8();for(let Sf=0;Sf<gf;Sf++)FC.MOTOR_OUTPUT_ORDER[Sf]=tf.readU8();break;case MSPCodes.MSP2_GET_VTX_DEVICE_STATUS:FC.VTX_DEVICE_STATUS=null;const _f=tf.byteLength;if(_f>0){const Sf=new Uint8Array(_f);for(let Ff=0;Ff<_f;Ff++)Sf[Ff]=tf.readU8();FC.VTX_DEVICE_STATUS=vtxDeviceStatusFactory.createVtxDeviceStatus(Sf)}break;case MSPCodes.MSP_MOTOR_TELEMETRY:const xf=tf.readU8();for(let Sf=0;Sf<xf;Sf++)FC.MOTOR_TELEMETRY_DATA.rpm[Sf]=tf.readU32(),FC.MOTOR_TELEMETRY_DATA.invalidPercent[Sf]=tf.readU16(),FC.MOTOR_TELEMETRY_DATA.temperature[Sf]=tf.readU8(),FC.MOTOR_TELEMETRY_DATA.voltage[Sf]=tf.readU16(),FC.MOTOR_TELEMETRY_DATA.current[Sf]=tf.readU16(),FC.MOTOR_TELEMETRY_DATA.consumption[Sf]=tf.readU16();break;case MSPCodes.MSP_RC:FC.RC.active_channels=tf.byteLength/2;for(let Sf=0;Sf<FC.RC.active_channels;Sf++)FC.RC.channels[Sf]=tf.readU16();break;case MSPCodes.MSP_RAW_GPS:FC.GPS_DATA.fix=tf.readU8(),FC.GPS_DATA.numSat=tf.readU8(),FC.GPS_DATA.lat=tf.read32(),FC.GPS_DATA.lon=tf.read32(),FC.GPS_DATA.alt=tf.readU16(),FC.GPS_DATA.speed=tf.readU16(),FC.GPS_DATA.ground_course=tf.readU16();break;case MSPCodes.MSP_COMP_GPS:FC.GPS_DATA.distanceToHome=tf.readU16(),FC.GPS_DATA.directionToHome=tf.readU16(),FC.GPS_DATA.update=tf.readU8();break;case MSPCodes.MSP_ATTITUDE:FC.SENSOR_DATA.kinematics[0]=tf.read16()/10,FC.SENSOR_DATA.kinematics[1]=tf.read16()/10,FC.SENSOR_DATA.kinematics[2]=tf.read16();break;case MSPCodes.MSP_ALTITUDE:FC.SENSOR_DATA.altitude=parseFloat((tf.read32()/100).toFixed(2));break;case MSPCodes.MSP_SONAR:FC.SENSOR_DATA.sonar=tf.read32();break;case MSPCodes.MSP_ANALOG:FC.ANALOG.voltage=tf.readU8()/10,FC.ANALOG.mAhdrawn=tf.readU16(),FC.ANALOG.rssi=tf.readU16(),FC.ANALOG.amperage=tf.read16()/100,FC.ANALOG.voltage=tf.readU16()/100,FC.ANALOG.last_received_timestamp=performance.now();break;case MSPCodes.MSP_VOLTAGE_METERS:FC.VOLTAGE_METERS=[];const Af=2;for(let Sf=0;Sf<tf.byteLength/Af;Sf++){const Ff={id:tf.readU8(),voltage:tf.readU8()/10};FC.VOLTAGE_METERS.push(Ff)}break;case MSPCodes.MSP_CURRENT_METERS:FC.CURRENT_METERS=[];const Df=5;for(let Sf=0;Sf<tf.byteLength/Df;Sf++){const Ff={id:tf.readU8(),mAhDrawn:tf.readU16(),amperage:tf.readU16()/1e3};FC.CURRENT_METERS.push(Ff)}break;case MSPCodes.MSP_BATTERY_STATE:FC.BATTERY_STATE.cellCount=tf.readU8(),FC.BATTERY_STATE.capacity=tf.readU16(),FC.BATTERY_STATE.voltage=tf.readU8()/10,FC.BATTERY_STATE.mAhDrawn=tf.readU16(),FC.BATTERY_STATE.amperage=tf.readU16()/100,FC.BATTERY_STATE.batteryState=tf.readU8(),FC.BATTERY_STATE.voltage=tf.readU16()/100;break;case MSPCodes.MSP_VOLTAGE_METER_CONFIG:FC.VOLTAGE_METER_CONFIGS=[];const Of=tf.readU8();for(let Sf=0;Sf<Of;Sf++){const Ff=tf.readU8();if(Ff!==5)for(let Uf=0;Uf<Ff;Uf++)tf.readU8();else{const Uf={id:tf.readU8(),sensorType:tf.readU8(),vbatscale:tf.readU8(),vbatresdivval:tf.readU8(),vbatresdivmultiplier:tf.readU8()};FC.VOLTAGE_METER_CONFIGS.push(Uf)}}break;case MSPCodes.MSP_CURRENT_METER_CONFIG:FC.CURRENT_METER_CONFIGS=[];const Gf=tf.readU8();for(let Sf=0;Sf<Gf;Sf++){const Ff={},Uf=tf.readU8();if(Uf!==6)for(let Wf=0;Wf<Uf;Wf++)tf.readU8();else Ff.id=tf.readU8(),Ff.sensorType=tf.readU8(),Ff.scale=tf.read16(),Ff.offset=tf.read16(),FC.CURRENT_METER_CONFIGS.push(Ff)}break;case MSPCodes.MSP_BATTERY_CONFIG:FC.BATTERY_CONFIG.vbatmincellvoltage=tf.readU8()/10,FC.BATTERY_CONFIG.vbatmaxcellvoltage=tf.readU8()/10,FC.BATTERY_CONFIG.vbatwarningcellvoltage=tf.readU8()/10,FC.BATTERY_CONFIG.capacity=tf.readU16(),FC.BATTERY_CONFIG.voltageMeterSource=tf.readU8(),FC.BATTERY_CONFIG.currentMeterSource=tf.readU8(),FC.BATTERY_CONFIG.vbatmincellvoltage=tf.readU16()/100,FC.BATTERY_CONFIG.vbatmaxcellvoltage=tf.readU16()/100,FC.BATTERY_CONFIG.vbatwarningcellvoltage=tf.readU16()/100;break;case MSPCodes.MSP_SET_BATTERY_CONFIG:console.log("Battery configuration saved");break;case MSPCodes.MSP_RC_TUNING:FC.RC_TUNING.RC_RATE=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.RC_EXPO=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.roll_pitch_rate=0,FC.RC_TUNING.roll_rate=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.pitch_rate=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.yaw_rate=parseFloat((tf.readU8()/100).toFixed(2)),semver$1.lt(FC.CONFIG.apiVersion,API_VERSION_1_45)?FC.RC_TUNING.dynamic_THR_PID=parseFloat((tf.readU8()/100).toFixed(2)):tf.readU8(),FC.RC_TUNING.throttle_MID=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.throttle_EXPO=parseFloat((tf.readU8()/100).toFixed(2)),semver$1.lt(FC.CONFIG.apiVersion,API_VERSION_1_45)?FC.RC_TUNING.dynamic_THR_breakpoint=tf.readU16():tf.readU16(),FC.RC_TUNING.RC_YAW_EXPO=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.rcYawRate=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.rcPitchRate=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.RC_PITCH_EXPO=parseFloat((tf.readU8()/100).toFixed(2)),FC.RC_TUNING.throttleLimitType=tf.readU8(),FC.RC_TUNING.throttleLimitPercent=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(FC.RC_TUNING.roll_rate_limit=tf.readU16(),FC.RC_TUNING.pitch_rate_limit=tf.readU16(),FC.RC_TUNING.yaw_rate_limit=tf.readU16()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(FC.RC_TUNING.rates_type=tf.readU8());break;case MSPCodes.MSP_PID:for(let Sf=0,Ff=0;Sf<tf.byteLength/3;Sf++,Ff+=3)for(let Uf=0;Uf<3;Uf++)FC.PIDS_ACTIVE[Sf][Uf]=tf.readU8(),FC.PIDS[Sf][Uf]=FC.PIDS_ACTIVE[Sf][Uf];break;case MSPCodes.MSP_ARMING_CONFIG:FC.ARMING_CONFIG.auto_disarm_delay=tf.readU8(),FC.ARMING_CONFIG.disarm_kill_switch=tf.readU8(),FC.ARMING_CONFIG.small_angle=tf.readU8();break;case MSPCodes.MSP_LOOP_TIME:FC.FC_CONFIG.loopTime=tf.readU16();break;case MSPCodes.MSP_MISC:FC.RX_CONFIG.midrc=tf.readU16(),FC.MOTOR_CONFIG.minthrottle=tf.readU16(),FC.MOTOR_CONFIG.maxthrottle=tf.readU16(),FC.MOTOR_CONFIG.mincommand=tf.readU16(),FC.MISC.failsafe_throttle=tf.readU16(),FC.GPS_CONFIG.provider=tf.readU8(),FC.MISC.gps_baudrate=tf.readU8(),FC.GPS_CONFIG.ublox_sbas=tf.readU8(),FC.MISC.multiwiicurrentoutput=tf.readU8(),FC.RSSI_CONFIG.channel=tf.readU8(),FC.MISC.placeholder2=tf.readU8(),tf.read16(),FC.MISC.vbatscale=tf.readU8(),FC.MISC.vbatmincellvoltage=tf.readU8()/10,FC.MISC.vbatmaxcellvoltage=tf.readU8()/10,FC.MISC.vbatwarningcellvoltage=tf.readU8()/10;break;case MSPCodes.MSP_MOTOR_CONFIG:FC.MOTOR_CONFIG.minthrottle=tf.readU16(),FC.MOTOR_CONFIG.maxthrottle=tf.readU16(),FC.MOTOR_CONFIG.mincommand=tf.readU16(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(FC.MOTOR_CONFIG.motor_count=tf.readU8(),FC.MOTOR_CONFIG.motor_poles=tf.readU8(),FC.MOTOR_CONFIG.use_dshot_telemetry=tf.readU8()!=0,FC.MOTOR_CONFIG.use_esc_sensor=tf.readU8()!=0);break;case MSPCodes.MSP_GPS_CONFIG:FC.GPS_CONFIG.provider=tf.readU8(),FC.GPS_CONFIG.ublox_sbas=tf.readU8(),FC.GPS_CONFIG.auto_config=tf.readU8(),FC.GPS_CONFIG.auto_baud=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(FC.GPS_CONFIG.home_point_once=tf.readU8(),FC.GPS_CONFIG.ublox_use_galileo=tf.readU8());break;case MSPCodes.MSP_GPS_RESCUE:FC.GPS_RESCUE.angle=tf.readU16(),FC.GPS_RESCUE.returnAltitudeM=tf.readU16(),FC.GPS_RESCUE.descentDistanceM=tf.readU16(),FC.GPS_RESCUE.groundSpeed=tf.readU16(),FC.GPS_RESCUE.throttleMin=tf.readU16(),FC.GPS_RESCUE.throttleMax=tf.readU16(),FC.GPS_RESCUE.throttleHover=tf.readU16(),FC.GPS_RESCUE.sanityChecks=tf.readU8(),FC.GPS_RESCUE.minSats=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(FC.GPS_RESCUE.ascendRate=tf.readU16(),FC.GPS_RESCUE.descendRate=tf.readU16(),FC.GPS_RESCUE.allowArmingWithoutFix=tf.readU8(),FC.GPS_RESCUE.altitudeMode=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&(FC.GPS_RESCUE.minStartDistM=tf.readU16()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&(FC.GPS_RESCUE.initialClimbM=tf.readU16());break;case MSPCodes.MSP_RSSI_CONFIG:FC.RSSI_CONFIG.channel=tf.readU8();break;case MSPCodes.MSP_MOTOR_3D_CONFIG:FC.MOTOR_3D_CONFIG.deadband3d_low=tf.readU16(),FC.MOTOR_3D_CONFIG.deadband3d_high=tf.readU16(),FC.MOTOR_3D_CONFIG.neutral=tf.readU16();break;case MSPCodes.MSP_BOXNAMES:FC.AUX_CONFIG=[],sf=[];for(let Sf=0;Sf<tf.byteLength;Sf++)af=tf.readU8(),af==59?(FC.AUX_CONFIG.push(String.fromCharCode.apply(null,sf)),sf=[]):sf.push(af);break;case MSPCodes.MSP_PIDNAMES:FC.PID_NAMES=[],sf=[];for(let Sf=0;Sf<tf.byteLength;Sf++)af=tf.readU8(),af==59?(FC.PID_NAMES.push(String.fromCharCode.apply(null,sf)),sf=[]):sf.push(af);break;case MSPCodes.MSP_BOXIDS:FC.AUX_CONFIG_IDS=[];for(let Sf=0;Sf<tf.byteLength;Sf++)FC.AUX_CONFIG_IDS.push(tf.readU8());break;case MSPCodes.MSP_SERVO_MIX_RULES:break;case MSPCodes.MSP_SERVO_CONFIGURATIONS:if(FC.SERVO_CONFIG=[],tf.byteLength%12==0)for(let Sf=0;Sf<tf.byteLength;Sf+=12){const Ff={min:tf.readU16(),max:tf.readU16(),middle:tf.readU16(),rate:tf.read8(),indexOfChannelToForward:tf.readU8(),reversedInputSources:tf.readU32()};FC.SERVO_CONFIG.push(Ff)}break;case MSPCodes.MSP_RC_DEADBAND:FC.RC_DEADBAND_CONFIG.deadband=tf.readU8(),FC.RC_DEADBAND_CONFIG.yaw_deadband=tf.readU8(),FC.RC_DEADBAND_CONFIG.alt_hold_deadband=tf.readU8(),FC.RC_DEADBAND_CONFIG.deadband3d_throttle=tf.readU16();break;case MSPCodes.MSP_SENSOR_ALIGNMENT:FC.SENSOR_ALIGNMENT.align_gyro=tf.readU8(),FC.SENSOR_ALIGNMENT.align_acc=tf.readU8(),FC.SENSOR_ALIGNMENT.align_mag=tf.readU8(),FC.SENSOR_ALIGNMENT.gyro_detection_flags=tf.readU8(),FC.SENSOR_ALIGNMENT.gyro_to_use=tf.readU8(),FC.SENSOR_ALIGNMENT.gyro_1_align=tf.readU8(),FC.SENSOR_ALIGNMENT.gyro_2_align=tf.readU8();break;case MSPCodes.MSP_DISPLAYPORT:break;case MSPCodes.MSP_SET_RAW_RC:break;case MSPCodes.MSP_SET_PID:console.log("PID settings saved"),FC.PIDS_ACTIVE=FC.PIDS.map(Sf=>Sf.slice());break;case MSPCodes.MSP_SET_RC_TUNING:console.log("RC Tuning saved");break;case MSPCodes.MSP_ACC_CALIBRATION:console.log("Accel calibration executed");break;case MSPCodes.MSP_MAG_CALIBRATION:console.log("Mag calibration executed");break;case MSPCodes.MSP_SET_MOTOR_CONFIG:console.log("Motor Configuration saved");break;case MSPCodes.MSP_SET_GPS_CONFIG:console.log("GPS Configuration saved");break;case MSPCodes.MSP_SET_GPS_RESCUE:console.log("GPS Rescue Configuration saved");break;case MSPCodes.MSP_SET_RSSI_CONFIG:console.log("RSSI Configuration saved");break;case MSPCodes.MSP_SET_FEATURE_CONFIG:console.log("Features saved");break;case MSPCodes.MSP_SET_BEEPER_CONFIG:console.log("Beeper Configuration saved");break;case MSPCodes.MSP_RESET_CONF:console.log("Settings Reset");break;case MSPCodes.MSP_SELECT_SETTING:console.log("Profile selected");break;case MSPCodes.MSP_SET_SERVO_CONFIGURATION:console.log("Servo Configuration saved");break;case MSPCodes.MSP_EEPROM_WRITE:console.log("Settings Saved in EEPROM");break;case MSPCodes.MSP_SET_CURRENT_METER_CONFIG:console.log("Amperage Settings saved");break;case MSPCodes.MSP_SET_VOLTAGE_METER_CONFIG:console.log("Voltage config saved");break;case MSPCodes.MSP_DEBUG:for(let Sf=0;Sf<8;Sf++)FC.SENSOR_DATA.debug[Sf]=tf.read16();break;case MSPCodes.MSP_SET_MOTOR:break;case MSPCodes.MSP_UID:FC.CONFIG.uid[0]=tf.readU32(),FC.CONFIG.uid[1]=tf.readU32(),FC.CONFIG.uid[2]=tf.readU32(),FC.CONFIG.deviceIdentifier=FC.CONFIG.uid[0].toString(16)+FC.CONFIG.uid[1].toString(16)+FC.CONFIG.uid[2].toString(16);break;case MSPCodes.MSP_ACC_TRIM:FC.CONFIG.accelerometerTrims[0]=tf.read16(),FC.CONFIG.accelerometerTrims[1]=tf.read16();break;case MSPCodes.MSP_SET_ACC_TRIM:console.log("Accelerometer trimms saved.");break;case MSPCodes.MSP_GPS_SV_INFO:if(tf.byteLength>0){const Sf=tf.readU8();for(let Ff=0;Ff<Sf;Ff++)FC.GPS_DATA.chn[Ff]=tf.readU8(),FC.GPS_DATA.svid[Ff]=tf.readU8(),FC.GPS_DATA.quality[Ff]=tf.readU8(),FC.GPS_DATA.cno[Ff]=tf.readU8()}break;case MSPCodes.MSP_RX_MAP:FC.RC_MAP=[];for(let Sf=0;Sf<tf.byteLength;Sf++)FC.RC_MAP.push(tf.readU8());break;case MSPCodes.MSP_SET_RX_MAP:console.log("RCMAP saved");break;case MSPCodes.MSP_MIXER_CONFIG:FC.MIXER_CONFIG.mixer=tf.readU8(),FC.MIXER_CONFIG.reverseMotorDir=tf.readU8();break;case MSPCodes.MSP_FEATURE_CONFIG:FC.FEATURE_CONFIG.features.setMask(tf.readU32()),updateTabList(FC.FEATURE_CONFIG.features);break;case MSPCodes.MSP_BEEPER_CONFIG:FC.BEEPER_CONFIG.beepers.setDisabledMask(tf.readU32()),FC.BEEPER_CONFIG.dshotBeaconTone=tf.readU8(),FC.BEEPER_CONFIG.dshotBeaconConditions.setDisabledMask(tf.readU32());break;case MSPCodes.MSP_BOARD_ALIGNMENT_CONFIG:FC.BOARD_ALIGNMENT_CONFIG.roll=tf.read16(),FC.BOARD_ALIGNMENT_CONFIG.pitch=tf.read16(),FC.BOARD_ALIGNMENT_CONFIG.yaw=tf.read16();break;case MSPCodes.MSP_SET_REBOOT:const Bf=tf.read8();if((Bf===ef.REBOOT_TYPES.MSC||Bf===ef.REBOOT_TYPES.MSC_UTC)&&tf.read8()===0){console.log("Storage device not ready."),showErrorDialog(i18n.getMessage("storageDeviceNotReady"));break}console.log("Reboot request accepted");break;case MSPCodes.MSP_API_VERSION:FC.CONFIG.mspProtocolVersion=tf.readU8(),FC.CONFIG.apiVersion=`${tf.readU8()}.${tf.readU8()}.0`;break;case MSPCodes.MSP_FC_VARIANT:let Vf="";for(let Sf=0;Sf<4;Sf++)Vf+=String.fromCharCode(tf.readU8());FC.CONFIG.flightControllerIdentifier=Vf;break;case MSPCodes.MSP_FC_VERSION:FC.CONFIG.flightControllerVersion=`${tf.readU8()}.${tf.readU8()}.${tf.readU8()}`;break;case MSPCodes.MSP_BUILD_INFO:const Lf=11;sf=[];for(let Sf=0;Sf<Lf;Sf++)sf.push(tf.readU8());sf.push(32);const Cf=8;for(let Sf=0;Sf<Cf;Sf++)sf.push(tf.readU8());FC.CONFIG.buildInfo=String.fromCharCode.apply(null,sf);break;case MSPCodes.MSP_BOARD_INFO:FC.CONFIG.boardIdentifier="";for(let Sf=0;Sf<4;Sf++)FC.CONFIG.boardIdentifier+=String.fromCharCode(tf.readU8());FC.CONFIG.boardVersion=tf.readU16(),FC.CONFIG.boardType=tf.readU8(),FC.CONFIG.targetCapabilities=tf.readU8(),FC.CONFIG.targetName=this.getText(tf),FC.CONFIG.boardName=this.getText(tf),FC.CONFIG.manufacturerId=this.getText(tf),FC.CONFIG.signature=[];for(let Sf=0;Sf<ef.SIGNATURE_LENGTH;Sf++)FC.CONFIG.signature.push(tf.readU8());FC.CONFIG.mcuTypeId=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(FC.CONFIG.configurationState=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)?(FC.CONFIG.sampleRateHz=tf.readU16(),FC.CONFIG.configurationProblems=tf.readU32()):FC.CONFIG.configurationProblems=0;break;case MSPCodes.MSP_NAME:for(FC.CONFIG.name="";(af=tf.readU8())!==null;)FC.CONFIG.name+=String.fromCharCode(af);break;case MSPCodes.MSP2_GET_TEXT:switch(tf.readU8()){case MSPCodes.PILOT_NAME:FC.CONFIG.pilotName=ef.getText(tf);break;case MSPCodes.CRAFT_NAME:FC.CONFIG.craftName=ef.getText(tf);break;case MSPCodes.PID_PROFILE_NAME:FC.CONFIG.pidProfileNames[FC.CONFIG.profile]=ef.getText(tf);break;case MSPCodes.RATE_PROFILE_NAME:FC.CONFIG.rateProfileNames[FC.CONFIG.rateProfile]=ef.getText(tf);break;case MSPCodes.BUILD_KEY:FC.CONFIG.buildKey=ef.getText(tf);break;default:console.log("Unsupport text type");break}break;case MSPCodes.MSP2_GET_LED_STRIP_CONFIG_VALUES:FC.LED_CONFIG_VALUES.brightness=tf.readU8(),FC.LED_CONFIG_VALUES.rainbow_delta=tf.readU16(),FC.LED_CONFIG_VALUES.rainbow_freq=tf.readU16();break;case MSPCodes.MSP_SET_CHANNEL_FORWARDING:console.log("Channel forwarding saved");break;case MSPCodes.MSP_CF_SERIAL_CONFIG:FC.SERIAL_CONFIG.ports=[];const Yf=1+2+1*4,rh=tf.byteLength/Yf;for(let Sf=0;Sf<rh;Sf++){const Ff={identifier:tf.readU8(),functions:ef.serialPortFunctionMaskToFunctions(tf.readU16()),msp_baudrate:ef.BAUD_RATES[tf.readU8()],gps_baudrate:ef.BAUD_RATES[tf.readU8()],telemetry_baudrate:ef.BAUD_RATES[tf.readU8()],blackbox_baudrate:ef.BAUD_RATES[tf.readU8()]};FC.SERIAL_CONFIG.ports.push(Ff)}break;case MSPCodes.MSP2_COMMON_SERIAL_CONFIG:FC.SERIAL_CONFIG.ports=[];const dh=tf.readU8(),hh=tf.remaining()/dh;for(let Sf=0;Sf<dh;Sf++){const Ff=tf.remaining(),Uf={identifier:tf.readU8(),functions:ef.serialPortFunctionMaskToFunctions(tf.readU32()),msp_baudrate:ef.BAUD_RATES[tf.readU8()],gps_baudrate:ef.BAUD_RATES[tf.readU8()],telemetry_baudrate:ef.BAUD_RATES[tf.readU8()],blackbox_baudrate:ef.BAUD_RATES[tf.readU8()]};for(FC.SERIAL_CONFIG.ports.push(Uf);Ff-tf.remaining()<hh&&tf.remaining()>0;)tf.readU8()}break;case MSPCodes.MSP_SET_CF_SERIAL_CONFIG:console.log("Serial config saved");break;case MSPCodes.MSP2_COMMON_SET_SERIAL_CONFIG:console.log("Serial config saved (MSPv2)");break;case MSPCodes.MSP_MODE_RANGES:FC.MODE_RANGES=[];const sh=tf.byteLength/4;for(let Sf=0;Sf<sh;Sf++){const Ff={id:tf.readU8(),auxChannelIndex:tf.readU8(),range:{start:900+tf.readU8()*25,end:900+tf.readU8()*25}};FC.MODE_RANGES.push(Ff)}break;case MSPCodes.MSP_MODE_RANGES_EXTRA:FC.MODE_RANGES_EXTRA=[];const Hf=tf.readU8();for(let Sf=0;Sf<Hf;Sf++){const Ff={id:tf.readU8(),modeLogic:tf.readU8(),linkedTo:tf.readU8()};FC.MODE_RANGES_EXTRA.push(Ff)}break;case MSPCodes.MSP_ADJUSTMENT_RANGES:FC.ADJUSTMENT_RANGES=[];const Qf=tf.byteLength/6;for(let Sf=0;Sf<Qf;Sf++){const Ff={slotIndex:tf.readU8(),auxChannelIndex:tf.readU8(),range:{start:900+tf.readU8()*25,end:900+tf.readU8()*25},adjustmentFunction:tf.readU8(),auxSwitchChannelIndex:tf.readU8()};FC.ADJUSTMENT_RANGES.push(Ff)}break;case MSPCodes.MSP_RX_CONFIG:if(FC.RX_CONFIG.serialrx_provider=tf.readU8(),FC.RX_CONFIG.stick_max=tf.readU16(),FC.RX_CONFIG.stick_center=tf.readU16(),FC.RX_CONFIG.stick_min=tf.readU16(),FC.RX_CONFIG.spektrum_sat_bind=tf.readU8(),FC.RX_CONFIG.rx_min_usec=tf.readU16(),FC.RX_CONFIG.rx_max_usec=tf.readU16(),FC.RX_CONFIG.rcInterpolation=tf.readU8(),FC.RX_CONFIG.rcInterpolationInterval=tf.readU8(),FC.RX_CONFIG.airModeActivateThreshold=tf.readU16(),FC.RX_CONFIG.rxSpiProtocol=tf.readU8(),FC.RX_CONFIG.rxSpiId=tf.readU32(),FC.RX_CONFIG.rxSpiRfChannelCount=tf.readU8(),FC.RX_CONFIG.fpvCamAngleDegrees=tf.readU8(),FC.RX_CONFIG.rcInterpolationChannels=tf.readU8(),FC.RX_CONFIG.rcSmoothingType=tf.readU8(),FC.RX_CONFIG.rcSmoothingSetpointCutoff=tf.readU8(),FC.RX_CONFIG.rcSmoothingFeedforwardCutoff=tf.readU8(),FC.RX_CONFIG.rcSmoothingInputType=tf.readU8(),FC.RX_CONFIG.rcSmoothingDerivativeType=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(FC.RX_CONFIG.usbCdcHidType=tf.readU8(),FC.RX_CONFIG.rcSmoothingAutoFactor=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&(FC.RX_CONFIG.rcSmoothingMode=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)){FC.RX_CONFIG.elrsUid=[];for(let Ff=0;Ff<6;Ff++)FC.RX_CONFIG.elrsUid.push(tf.readU8())}break;case MSPCodes.MSP_FAILSAFE_CONFIG:FC.FAILSAFE_CONFIG.failsafe_delay=tf.readU8(),FC.FAILSAFE_CONFIG.failsafe_off_delay=tf.readU8(),FC.FAILSAFE_CONFIG.failsafe_throttle=tf.readU16(),FC.FAILSAFE_CONFIG.failsafe_switch_mode=tf.readU8(),FC.FAILSAFE_CONFIG.failsafe_throttle_low_delay=tf.readU16(),FC.FAILSAFE_CONFIG.failsafe_procedure=tf.readU8();break;case MSPCodes.MSP_RXFAIL_CONFIG:FC.RXFAIL_CONFIG=[];const ah=tf.byteLength/3;for(let Sf=0;Sf<ah;Sf++){const Ff={mode:tf.readU8(),value:tf.readU16()};FC.RXFAIL_CONFIG.push(Ff)}break;case MSPCodes.MSP_ADVANCED_CONFIG:FC.PID_ADVANCED_CONFIG.gyro_sync_denom=tf.readU8(),FC.PID_ADVANCED_CONFIG.pid_process_denom=tf.readU8(),FC.PID_ADVANCED_CONFIG.use_unsyncedPwm=tf.readU8(),FC.PID_ADVANCED_CONFIG.fast_pwm_protocol=EscProtocols.ReorderPwmProtocols(FC.CONFIG.apiVersion,tf.readU8()),FC.PID_ADVANCED_CONFIG.motor_pwm_rate=tf.readU16(),FC.PID_ADVANCED_CONFIG.digitalIdlePercent=tf.readU16()/100,tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(FC.PID_ADVANCED_CONFIG.motorPwmInversion=tf.readU8(),FC.SENSOR_ALIGNMENT.gyro_to_use=tf.readU8(),FC.PID_ADVANCED_CONFIG.gyroHighFsr=tf.readU8(),FC.PID_ADVANCED_CONFIG.gyroMovementCalibThreshold=tf.readU8(),FC.PID_ADVANCED_CONFIG.gyroCalibDuration=tf.readU16(),FC.PID_ADVANCED_CONFIG.gyroOffsetYaw=tf.readU16(),FC.PID_ADVANCED_CONFIG.gyroCheckOverflow=tf.readU8(),FC.PID_ADVANCED_CONFIG.debugMode=tf.readU8(),FC.PID_ADVANCED_CONFIG.debugModeCount=tf.readU8());break;case MSPCodes.MSP_FILTER_CONFIG:FC.FILTER_CONFIG.gyro_lowpass_hz=tf.readU8(),FC.FILTER_CONFIG.dterm_lowpass_hz=tf.readU16(),FC.FILTER_CONFIG.yaw_lowpass_hz=tf.readU16(),FC.FILTER_CONFIG.gyro_notch_hz=tf.readU16(),FC.FILTER_CONFIG.gyro_notch_cutoff=tf.readU16(),FC.FILTER_CONFIG.dterm_notch_hz=tf.readU16(),FC.FILTER_CONFIG.dterm_notch_cutoff=tf.readU16(),FC.FILTER_CONFIG.gyro_notch2_hz=tf.readU16(),FC.FILTER_CONFIG.gyro_notch2_cutoff=tf.readU16(),FC.FILTER_CONFIG.dterm_lowpass_type=tf.readU8(),FC.FILTER_CONFIG.gyro_hardware_lpf=tf.readU8(),tf.readU8(),FC.FILTER_CONFIG.gyro_lowpass_hz=tf.readU16(),FC.FILTER_CONFIG.gyro_lowpass2_hz=tf.readU16(),FC.FILTER_CONFIG.gyro_lowpass_type=tf.readU8(),FC.FILTER_CONFIG.gyro_lowpass2_type=tf.readU8(),FC.FILTER_CONFIG.dterm_lowpass2_hz=tf.readU16(),FC.FILTER_CONFIG.gyro_32khz_hardware_lpf=0,FC.FILTER_CONFIG.dterm_lowpass2_type=tf.readU8(),FC.FILTER_CONFIG.gyro_lowpass_dyn_min_hz=tf.readU16(),FC.FILTER_CONFIG.gyro_lowpass_dyn_max_hz=tf.readU16(),FC.FILTER_CONFIG.dterm_lowpass_dyn_min_hz=tf.readU16(),FC.FILTER_CONFIG.dterm_lowpass_dyn_max_hz=tf.readU16(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(FC.FILTER_CONFIG.dyn_notch_range=tf.readU8(),FC.FILTER_CONFIG.dyn_notch_width_percent=tf.readU8(),FC.FILTER_CONFIG.dyn_notch_q=tf.readU16(),FC.FILTER_CONFIG.dyn_notch_min_hz=tf.readU16(),FC.FILTER_CONFIG.gyro_rpm_notch_harmonics=tf.readU8(),FC.FILTER_CONFIG.gyro_rpm_notch_min_hz=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(FC.FILTER_CONFIG.dyn_notch_max_hz=tf.readU16()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&(FC.FILTER_CONFIG.dyn_lpf_curve_expo=tf.readU8(),FC.FILTER_CONFIG.dyn_notch_count=tf.readU8());break;case MSPCodes.MSP_SET_PID_ADVANCED:console.log("Advanced PID settings saved"),FC.ADVANCED_TUNING_ACTIVE={...FC.ADVANCED_TUNING};break;case MSPCodes.MSP_PID_ADVANCED:FC.ADVANCED_TUNING.rollPitchItermIgnoreRate=tf.readU16(),FC.ADVANCED_TUNING.yawItermIgnoreRate=tf.readU16(),FC.ADVANCED_TUNING.yaw_p_limit=tf.readU16(),FC.ADVANCED_TUNING.deltaMethod=tf.readU8(),FC.ADVANCED_TUNING.vbatPidCompensation=tf.readU8(),FC.ADVANCED_TUNING.feedforwardTransition=tf.readU8(),FC.ADVANCED_TUNING.dtermSetpointWeight=tf.readU8(),FC.ADVANCED_TUNING.toleranceBand=tf.readU8(),FC.ADVANCED_TUNING.toleranceBandReduction=tf.readU8(),FC.ADVANCED_TUNING.itermThrottleGain=tf.readU8(),FC.ADVANCED_TUNING.pidMaxVelocity=tf.readU16(),FC.ADVANCED_TUNING.pidMaxVelocityYaw=tf.readU16(),FC.ADVANCED_TUNING.levelAngleLimit=tf.readU8(),FC.ADVANCED_TUNING.levelSensitivity=tf.readU8(),FC.ADVANCED_TUNING.itermThrottleThreshold=tf.readU16(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?FC.ADVANCED_TUNING.antiGravityGain=tf.readU16():FC.ADVANCED_TUNING.itermAcceleratorGain=tf.readU16(),FC.ADVANCED_TUNING.dtermSetpointWeight=tf.readU16(),FC.ADVANCED_TUNING.itermRotation=tf.readU8(),FC.ADVANCED_TUNING.smartFeedforward=tf.readU8(),FC.ADVANCED_TUNING.itermRelax=tf.readU8(),FC.ADVANCED_TUNING.itermRelaxType=tf.readU8(),FC.ADVANCED_TUNING.absoluteControlGain=tf.readU8(),FC.ADVANCED_TUNING.throttleBoost=tf.readU8(),FC.ADVANCED_TUNING.acroTrainerAngleLimit=tf.readU8(),FC.ADVANCED_TUNING.feedforwardRoll=tf.readU16(),FC.ADVANCED_TUNING.feedforwardPitch=tf.readU16(),FC.ADVANCED_TUNING.feedforwardYaw=tf.readU16(),FC.ADVANCED_TUNING.antiGravityMode=tf.readU8(),FC.ADVANCED_TUNING.dMinRoll=tf.readU8(),FC.ADVANCED_TUNING.dMinPitch=tf.readU8(),FC.ADVANCED_TUNING.dMinYaw=tf.readU8(),FC.ADVANCED_TUNING.dMinGain=tf.readU8(),FC.ADVANCED_TUNING.dMinAdvance=tf.readU8(),FC.ADVANCED_TUNING.useIntegratedYaw=tf.readU8(),FC.ADVANCED_TUNING.integratedYawRelax=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(FC.ADVANCED_TUNING.itermRelaxCutoff=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&(FC.ADVANCED_TUNING.motorOutputLimit=tf.readU8(),FC.ADVANCED_TUNING.autoProfileCellCount=tf.read8(),FC.ADVANCED_TUNING.idleMinRpm=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&(FC.ADVANCED_TUNING.feedforward_averaging=tf.readU8(),FC.ADVANCED_TUNING.feedforward_smooth_factor=tf.readU8(),FC.ADVANCED_TUNING.feedforward_boost=tf.readU8(),FC.ADVANCED_TUNING.feedforward_max_rate_limit=tf.readU8(),FC.ADVANCED_TUNING.feedforward_jitter_factor=tf.readU8(),FC.ADVANCED_TUNING.vbat_sag_compensation=tf.readU8(),FC.ADVANCED_TUNING.thrustLinearization=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&(FC.ADVANCED_TUNING.tpaMode=tf.readU8(),FC.ADVANCED_TUNING.tpaRate=parseFloat((tf.readU8()/100).toFixed(2)),FC.ADVANCED_TUNING.tpaBreakpoint=tf.readU16()),FC.ADVANCED_TUNING_ACTIVE={...FC.ADVANCED_TUNING};break;case MSPCodes.MSP_SENSOR_CONFIG:FC.SENSOR_CONFIG.acc_hardware=tf.readU8(),FC.SENSOR_CONFIG.baro_hardware=tf.readU8(),FC.SENSOR_CONFIG.mag_hardware=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&(FC.SENSOR_CONFIG.sonar_hardware=tf.readU8());break;case MSPCodes.MSP2_SENSOR_CONFIG_ACTIVE:FC.SENSOR_CONFIG_ACTIVE.gyro_hardware=tf.readU8(),FC.SENSOR_CONFIG_ACTIVE.acc_hardware=tf.readU8(),FC.SENSOR_CONFIG_ACTIVE.baro_hardware=tf.readU8(),FC.SENSOR_CONFIG_ACTIVE.mag_hardware=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&(FC.SENSOR_CONFIG_ACTIVE.sonar_hardware=tf.readU8());break;case MSPCodes.MSP_LED_STRIP_CONFIG:FC.LED_STRIP=[];let mh=(tf.byteLength-2)/4;if(semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46))for(let Sf=0;Sf<mh;Sf++){const Ff=tf.readU32(),Uf=Ff>>8&15,Wf=[];for(let oh=0;oh<ledBaseFunctionLetters.length;oh++)if(Uf==oh){Wf.push(ledBaseFunctionLetters[oh]);break}const eh=Ff>>12&1023;for(let oh=0;oh<ledOverlayLetters.length;oh++)bit_check(eh,oh)&&Wf.push(ledOverlayLetters[oh]);const th=Ff>>26&63,_h=[];for(let oh=0;oh<ledDirectionLetters.length;oh++)bit_check(th,oh)&&_h.push(ledDirectionLetters[oh]);const wh={y:Ff&15,x:Ff>>4&15,functions:Wf,color:Ff>>22&15,directions:_h};FC.LED_STRIP.push(wh)}else{ledOverlayLetters=ledOverlayLetters.filter(Sf=>Sf!=="y");for(let Sf=0;Sf<mh;Sf++){const Ff=tf.readU32(),Uf=Ff>>8&15,Wf=[];for(let oh=0;oh<ledBaseFunctionLetters.length;oh++)if(Uf==oh){Wf.push(ledBaseFunctionLetters[oh]);break}const eh=Ff>>12&63;for(let oh=0;oh<ledOverlayLetters.length;oh++)bit_check(eh,oh)&&Wf.push(ledOverlayLetters[oh]);const th=Ff>>22&63,_h=[];for(let oh=0;oh<ledDirectionLetters.length;oh++)bit_check(th,oh)&&_h.push(ledDirectionLetters[oh]);const wh={y:Ff&15,x:Ff>>4&15,functions:Wf,color:Ff>>18&15,directions:_h,parameters:Ff>>28&15};FC.LED_STRIP.push(wh)}}break;case MSPCodes.MSP_SET_LED_STRIP_CONFIG:console.log("Led strip config saved");break;case MSPCodes.MSP_LED_COLORS:FC.LED_COLORS=[];const uh=tf.byteLength/4;for(let Sf=0;Sf<uh;Sf++){const Ff={h:tf.readU16(),s:tf.readU8(),v:tf.readU8()};FC.LED_COLORS.push(Ff)}break;case MSPCodes.MSP_SET_LED_COLORS:console.log("Led strip colors saved");break;case MSPCodes.MSP_LED_STRIP_MODECOLOR:FC.LED_MODE_COLORS=[];const jf=tf.byteLength/3;for(let Sf=0;Sf<jf;Sf++){const Ff={mode:tf.readU8(),direction:tf.readU8(),color:tf.readU8()};FC.LED_MODE_COLORS.push(Ff)}break;case MSPCodes.MSP_SET_LED_STRIP_MODECOLOR:console.log("Led strip mode colors saved");break;case MSPCodes.MSP_DATAFLASH_SUMMARY:tf.byteLength>=13?(lf=tf.readU8(),FC.DATAFLASH.ready=(lf&1)!=0,FC.DATAFLASH.supported=(lf&2)!=0,FC.DATAFLASH.sectors=tf.readU32(),FC.DATAFLASH.totalSize=tf.readU32(),FC.DATAFLASH.usedSize=tf.readU32()):(FC.DATAFLASH.ready=!1,FC.DATAFLASH.supported=!1,FC.DATAFLASH.sectors=0,FC.DATAFLASH.totalSize=0,FC.DATAFLASH.usedSize=0),update_dataflash_global();break;case MSPCodes.MSP_DATAFLASH_READ:break;case MSPCodes.MSP_DATAFLASH_ERASE:console.log("Data flash erase begun...");break;case MSPCodes.MSP_SDCARD_SUMMARY:lf=tf.readU8(),FC.SDCARD.supported=(lf&1)!=0,FC.SDCARD.state=tf.readU8(),FC.SDCARD.filesystemLastError=tf.readU8(),FC.SDCARD.freeSizeKB=tf.readU32(),FC.SDCARD.totalSizeKB=tf.readU32();break;case MSPCodes.MSP_BLACKBOX_CONFIG:FC.BLACKBOX.supported=(tf.readU8()&1)!=0,FC.BLACKBOX.blackboxDevice=tf.readU8(),FC.BLACKBOX.blackboxRateNum=tf.readU8(),FC.BLACKBOX.blackboxRateDenom=tf.readU8(),FC.BLACKBOX.blackboxPDenom=tf.readU16(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&(FC.BLACKBOX.blackboxSampleRate=tf.readU8()),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&(FC.BLACKBOX.blackboxDisabledMask=tf.readU32());break;case MSPCodes.MSP_SET_BLACKBOX_CONFIG:console.log("Blackbox config saved");break;case MSPCodes.MSP_TRANSPONDER_CONFIG:let Kf=tf.byteLength;const of=tf.readU8();Kf--,FC.TRANSPONDER.supported=of>0,FC.TRANSPONDER.providers=[];for(let Sf=0;Sf<of;Sf++){const Ff={id:tf.readU8(),dataLength:tf.readU8()};Kf-=2,FC.TRANSPONDER.providers.push(Ff)}FC.TRANSPONDER.provider=tf.readU8(),Kf--,FC.TRANSPONDER.data=[];for(let Sf=0;Sf<Kf;Sf++)FC.TRANSPONDER.data.push(tf.readU8());break;case MSPCodes.MSP_SET_TRANSPONDER_CONFIG:console.log("Transponder config saved");break;case MSPCodes.MSP_VTX_CONFIG:FC.VTX_CONFIG.vtx_type=tf.readU8(),FC.VTX_CONFIG.vtx_band=tf.readU8(),FC.VTX_CONFIG.vtx_channel=tf.readU8(),FC.VTX_CONFIG.vtx_power=tf.readU8(),FC.VTX_CONFIG.vtx_pit_mode=tf.readU8()!=0,FC.VTX_CONFIG.vtx_frequency=tf.readU16(),FC.VTX_CONFIG.vtx_device_ready=tf.readU8()!=0,FC.VTX_CONFIG.vtx_low_power_disarm=tf.readU8(),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(FC.VTX_CONFIG.vtx_pit_mode_frequency=tf.readU16(),FC.VTX_CONFIG.vtx_table_available=tf.readU8()!=0,FC.VTX_CONFIG.vtx_table_bands=tf.readU8(),FC.VTX_CONFIG.vtx_table_channels=tf.readU8(),FC.VTX_CONFIG.vtx_table_powerlevels=tf.readU8(),FC.VTX_CONFIG.vtx_table_clear=!1);break;case MSPCodes.MSP_SET_VTX_CONFIG:console.log("VTX config sent");break;case MSPCodes.MSP_VTXTABLE_BAND:FC.VTXTABLE_BAND.vtxtable_band_number=tf.readU8();const hf=tf.readU8();FC.VTXTABLE_BAND.vtxtable_band_name="";for(let Sf=0;Sf<hf;Sf++)FC.VTXTABLE_BAND.vtxtable_band_name+=String.fromCharCode(tf.readU8());FC.VTXTABLE_BAND.vtxtable_band_letter=String.fromCharCode(tf.readU8()),FC.VTXTABLE_BAND.vtxtable_band_is_factory_band=tf.readU8()!=0;const pf=tf.readU8();FC.VTXTABLE_BAND.vtxtable_band_frequencies=[];for(let Sf=0;Sf<pf;Sf++)FC.VTXTABLE_BAND.vtxtable_band_frequencies.push(tf.readU16());break;case MSPCodes.MSP_SET_VTXTABLE_BAND:console.log("VTX band sent");break;case MSPCodes.MSP_VTXTABLE_POWERLEVEL:FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_number=tf.readU8(),FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_value=tf.readU16();const vf=tf.readU8();FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_label="";for(let Sf=0;Sf<vf;Sf++)FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_label+=String.fromCharCode(tf.readU8());break;case MSPCodes.MSP_SET_SIMPLIFIED_TUNING:console.log("Tuning Sliders sent");break;case MSPCodes.MSP_SIMPLIFIED_TUNING:MspHelper.readPidSliderSettings(tf),MspHelper.readDtermFilterSliderSettings(tf),MspHelper.readGyroFilterSliderSettings(tf);break;case MSPCodes.MSP_CALCULATE_SIMPLIFIED_PID:FC.TUNING_SLIDERS.slider_pids_mode>0&&(FC.PIDS[0][0]=tf.readU8(),FC.PIDS[0][1]=tf.readU8(),FC.PIDS[0][2]=tf.readU8(),FC.ADVANCED_TUNING.dMinRoll=tf.readU8(),FC.ADVANCED_TUNING.feedforwardRoll=tf.readU16(),FC.PIDS[1][0]=tf.readU8(),FC.PIDS[1][1]=tf.readU8(),FC.PIDS[1][2]=tf.readU8(),FC.ADVANCED_TUNING.dMinPitch=tf.readU8(),FC.ADVANCED_TUNING.feedforwardPitch=tf.readU16()),FC.TUNING_SLIDERS.slider_pids_mode>1&&(FC.PIDS[2][0]=tf.readU8(),FC.PIDS[2][1]=tf.readU8(),FC.PIDS[2][2]=tf.readU8(),FC.ADVANCED_TUNING.dMinYaw=tf.readU8(),FC.ADVANCED_TUNING.feedforwardYaw=tf.readU16());break;case MSPCodes.MSP_CALCULATE_SIMPLIFIED_GYRO:MspHelper.readGyroFilterSliderSettings(tf);break;case MSPCodes.MSP_CALCULATE_SIMPLIFIED_DTERM:MspHelper.readDtermFilterSliderSettings(tf);break;case MSPCodes.MSP_VALIDATE_SIMPLIFIED_TUNING:FC.TUNING_SLIDERS.slider_pids_valid=tf.readU8(),FC.TUNING_SLIDERS.slider_gyro_valid=tf.readU8(),FC.TUNING_SLIDERS.slider_dterm_valid=tf.readU8();break;case MSPCodes.MSP_SET_VTXTABLE_POWERLEVEL:console.log("VTX powerlevel sent");break;case MSPCodes.MSP_SET_MODE_RANGE:console.log("Mode range saved");break;case MSPCodes.MSP_SET_ADJUSTMENT_RANGE:console.log("Adjustment range saved");break;case MSPCodes.MSP_SET_BOARD_ALIGNMENT_CONFIG:console.log("Board alignment saved");break;case MSPCodes.MSP_PID_CONTROLLER:FC.PID.controller=tf.readU8();break;case MSPCodes.MSP_SET_PID_CONTROLLER:console.log("PID controller changed");break;case MSPCodes.MSP_SET_LOOP_TIME:console.log("Looptime saved");break;case MSPCodes.MSP_SET_ARMING_CONFIG:console.log("Arming config saved");break;case MSPCodes.MSP_SET_RESET_CURR_PID:console.log("Current PID profile reset");break;case MSPCodes.MSP_SET_MOTOR_3D_CONFIG:console.log("3D settings saved");break;case MSPCodes.MSP_SET_MIXER_CONFIG:console.log("Mixer config saved");break;case MSPCodes.MSP_SET_RC_DEADBAND:console.log("Rc controls settings saved");break;case MSPCodes.MSP_SET_SENSOR_ALIGNMENT:console.log("Sensor alignment saved");break;case MSPCodes.MSP_SET_RX_CONFIG:console.log("Rx config saved");break;case MSPCodes.MSP_SET_RXFAIL_CONFIG:console.log("Rxfail config saved");break;case MSPCodes.MSP_SET_FAILSAFE_CONFIG:console.log("Failsafe config saved");break;case MSPCodes.MSP_OSD_CANVAS:OSD.data.VIDEO_COLS.HD=tf.readU8(),OSD.data.VIDEO_ROWS.HD=tf.readU8(),OSD.data.VIDEO_BUFFER_CHARS.HD=OSD.data.VIDEO_COLS.HD*OSD.data.VIDEO_ROWS.HD,console.log(`Canvas ${OSD.data.VIDEO_COLS.HD} x ${OSD.data.VIDEO_ROWS.HD}`);break;case MSPCodes.MSP_SET_OSD_CANVAS:console.log("OSD Canvas config set");break;case MSPCodes.MSP_OSD_CONFIG:break;case MSPCodes.MSP_SET_OSD_CONFIG:console.log("OSD config set");break;case MSPCodes.MSP_OSD_CHAR_READ:break;case MSPCodes.MSP_OSD_CHAR_WRITE:console.log("OSD char uploaded");break;case MSPCodes.MSP_SET_NAME:console.log("Name set");break;case MSPCodes.MSP2_SET_TEXT:console.log("Text set");break;case MSPCodes.MSP2_SET_LED_STRIP_CONFIG_VALUES:break;case MSPCodes.MSP_SET_FILTER_CONFIG:break;case MSPCodes.MSP_SET_ADVANCED_CONFIG:console.log("Advanced config parameters set");break;case MSPCodes.MSP_SET_SENSOR_CONFIG:console.log("Sensor config parameters set");break;case MSPCodes.MSP_COPY_PROFILE:console.log("Copy profile");break;case MSPCodes.MSP_ARMING_DISABLE:console.log("Arming disable");break;case MSPCodes.MSP_SET_RTC:console.log("Real time clock set");break;case MSPCodes.MSP2_SET_MOTOR_OUTPUT_REORDERING:console.log("Motor output reordering set");break;case MSPCodes.MSP2_SEND_DSHOT_COMMAND:console.log("DSHOT command sent");break;case MSPCodes.MSP_MULTIPLE_MSP:let Ef=!1;for(;tf.offset<tf.byteLength;){Ef=!0;const Sf=ef.mspMultipleCache.shift(),Ff=tf.readU8();if(Ff!=0){const Uf={code:Sf,dataView:new DataView(tf.buffer,tf.offset,Ff),callbacks:[]};ef.process_data(Uf),tf.offset+=Ff}}if(Ef){if(ef.mspMultipleCache.length>0){const Sf=[];for(const Ff of ef.mspMultipleCache)Sf.push8(Ff);MSP$1.send_message(MSPCodes.MSP_MULTIPLE_MSP,Sf,!1,Qc.callbacks),Qc.callbacks=[]}}else console.log("MSP Multiple can't process the command"),ef.mspMultipleCache=[];break;default:console.log(`Unknown code detected: ${nf} (${getMSPCodeName(nf)})`)}for(let uf=Qc.callbacks.length-1;uf>=0;uf--)if(((cf=Qc.callbacks[uf])==null?void 0:cf.code)===nf){const ff=Qc.callbacks[uf].callback,df=Qc.callbacks[uf].callbackOnError;clearInterval(Qc.callbacks[uf].timer),Qc.callbacks.splice(uf,1),!rf||df?ff&&ff({command:nf,data:tf,length:tf.byteLength,crcError:rf}):console.warn(`code: ${nf} - crc failed. No callback`)}};MspHelper.prototype.crunch=function(Qc,ef=void 0){const tf=[],nf=this;switch(Qc){case MSPCodes.MSP_SET_FEATURE_CONFIG:const rf=FC.FEATURE_CONFIG.features.getMask();tf.push32(rf);break;case MSPCodes.MSP_SET_BEEPER_CONFIG:const sf=FC.BEEPER_CONFIG.beepers.getDisabledMask();tf.push32(sf),tf.push8(FC.BEEPER_CONFIG.dshotBeaconTone),tf.push32(FC.BEEPER_CONFIG.dshotBeaconConditions.getDisabledMask());break;case MSPCodes.MSP_SET_MIXER_CONFIG:tf.push8(FC.MIXER_CONFIG.mixer),tf.push8(FC.MIXER_CONFIG.reverseMotorDir);break;case MSPCodes.MSP_SET_BOARD_ALIGNMENT_CONFIG:tf.push16(FC.BOARD_ALIGNMENT_CONFIG.roll).push16(FC.BOARD_ALIGNMENT_CONFIG.pitch).push16(FC.BOARD_ALIGNMENT_CONFIG.yaw);break;case MSPCodes.MSP_SET_PID_CONTROLLER:tf.push8(FC.PID.controller);break;case MSPCodes.MSP_SET_PID:for(let gf=0;gf<FC.PIDS.length;gf++)for(let _f=0;_f<3;_f++)tf.push8(parseInt(FC.PIDS[gf][_f]));break;case MSPCodes.MSP_SET_RC_TUNING:tf.push8(Math.round(FC.RC_TUNING.RC_RATE*100)).push8(Math.round(FC.RC_TUNING.RC_EXPO*100)).push8(Math.round(FC.RC_TUNING.roll_rate*100)).push8(Math.round(FC.RC_TUNING.pitch_rate*100)).push8(Math.round(FC.RC_TUNING.yaw_rate*100)),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?tf.push8(0):tf.push8(Math.round(FC.RC_TUNING.dynamic_THR_PID*100)),tf.push8(Math.round(FC.RC_TUNING.throttle_MID*100)),tf.push8(Math.round(FC.RC_TUNING.throttle_EXPO*100)),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?tf.push16(0):tf.push16(FC.RC_TUNING.dynamic_THR_breakpoint),tf.push8(Math.round(FC.RC_TUNING.RC_YAW_EXPO*100)),tf.push8(Math.round(FC.RC_TUNING.rcYawRate*100)),tf.push8(Math.round(FC.RC_TUNING.rcPitchRate*100)),tf.push8(Math.round(FC.RC_TUNING.RC_PITCH_EXPO*100)),tf.push8(FC.RC_TUNING.throttleLimitType),tf.push8(FC.RC_TUNING.throttleLimitPercent),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(tf.push16(FC.RC_TUNING.roll_rate_limit),tf.push16(FC.RC_TUNING.pitch_rate_limit),tf.push16(FC.RC_TUNING.yaw_rate_limit)),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&tf.push8(FC.RC_TUNING.rates_type);break;case MSPCodes.MSP_SET_RX_MAP:for(let gf=0;gf<FC.RC_MAP.length;gf++)tf.push8(FC.RC_MAP[gf]);break;case MSPCodes.MSP_SET_ACC_TRIM:tf.push16(FC.CONFIG.accelerometerTrims[0]).push16(FC.CONFIG.accelerometerTrims[1]);break;case MSPCodes.MSP_SET_ARMING_CONFIG:tf.push8(FC.ARMING_CONFIG.auto_disarm_delay).push8(FC.ARMING_CONFIG.disarm_kill_switch).push8(FC.ARMING_CONFIG.small_angle);break;case MSPCodes.MSP_SET_LOOP_TIME:tf.push16(FC.FC_CONFIG.loopTime);break;case MSPCodes.MSP_SET_MISC:tf.push16(FC.RX_CONFIG.midrc).push16(FC.MOTOR_CONFIG.minthrottle).push16(FC.MOTOR_CONFIG.maxthrottle).push16(FC.MOTOR_CONFIG.mincommand).push16(FC.MISC.failsafe_throttle).push8(FC.GPS_CONFIG.provider).push8(FC.MISC.gps_baudrate).push8(FC.GPS_CONFIG.ublox_sbas).push8(FC.MISC.multiwiicurrentoutput).push8(FC.RSSI_CONFIG.channel).push8(FC.MISC.placeholder2).push16(0).push8(FC.MISC.vbatscale).push8(Math.round(FC.MISC.vbatmincellvoltage*10)).push8(Math.round(FC.MISC.vbatmaxcellvoltage*10)).push8(Math.round(FC.MISC.vbatwarningcellvoltage*10));break;case MSPCodes.MSP_SET_MOTOR_CONFIG:tf.push16(FC.MOTOR_CONFIG.minthrottle).push16(FC.MOTOR_CONFIG.maxthrottle).push16(FC.MOTOR_CONFIG.mincommand),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&(tf.push8(FC.MOTOR_CONFIG.motor_poles),tf.push8(FC.MOTOR_CONFIG.use_dshot_telemetry?1:0));break;case MSPCodes.MSP_SET_GPS_CONFIG:tf.push8(FC.GPS_CONFIG.provider).push8(FC.GPS_CONFIG.ublox_sbas).push8(FC.GPS_CONFIG.auto_config).push8(FC.GPS_CONFIG.auto_baud),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&tf.push8(FC.GPS_CONFIG.home_point_once).push8(FC.GPS_CONFIG.ublox_use_galileo);break;case MSPCodes.MSP_SET_GPS_RESCUE:tf.push16(FC.GPS_RESCUE.angle).push16(FC.GPS_RESCUE.returnAltitudeM).push16(FC.GPS_RESCUE.descentDistanceM).push16(FC.GPS_RESCUE.groundSpeed).push16(FC.GPS_RESCUE.throttleMin).push16(FC.GPS_RESCUE.throttleMax).push16(FC.GPS_RESCUE.throttleHover).push8(FC.GPS_RESCUE.sanityChecks).push8(FC.GPS_RESCUE.minSats),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&tf.push16(FC.GPS_RESCUE.ascendRate).push16(FC.GPS_RESCUE.descendRate).push8(FC.GPS_RESCUE.allowArmingWithoutFix).push8(FC.GPS_RESCUE.altitudeMode),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&tf.push16(FC.GPS_RESCUE.minStartDistM),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)&&tf.push16(FC.GPS_RESCUE.initialClimbM);break;case MSPCodes.MSP_SET_RSSI_CONFIG:tf.push8(FC.RSSI_CONFIG.channel);break;case MSPCodes.MSP_SET_BATTERY_CONFIG:tf.push8(Math.round(FC.BATTERY_CONFIG.vbatmincellvoltage*10)).push8(Math.round(FC.BATTERY_CONFIG.vbatmaxcellvoltage*10)).push8(Math.round(FC.BATTERY_CONFIG.vbatwarningcellvoltage*10)).push16(FC.BATTERY_CONFIG.capacity).push8(FC.BATTERY_CONFIG.voltageMeterSource).push8(FC.BATTERY_CONFIG.currentMeterSource).push16(Math.round(FC.BATTERY_CONFIG.vbatmincellvoltage*100)).push16(Math.round(FC.BATTERY_CONFIG.vbatmaxcellvoltage*100)).push16(Math.round(FC.BATTERY_CONFIG.vbatwarningcellvoltage*100));break;case MSPCodes.MSP_SET_VOLTAGE_METER_CONFIG:break;case MSPCodes.MSP_SET_CURRENT_METER_CONFIG:break;case MSPCodes.MSP_SET_RX_CONFIG:tf.push8(FC.RX_CONFIG.serialrx_provider).push16(FC.RX_CONFIG.stick_max).push16(FC.RX_CONFIG.stick_center).push16(FC.RX_CONFIG.stick_min).push8(FC.RX_CONFIG.spektrum_sat_bind).push16(FC.RX_CONFIG.rx_min_usec).push16(FC.RX_CONFIG.rx_max_usec).push8(FC.RX_CONFIG.rcInterpolation).push8(FC.RX_CONFIG.rcInterpolationInterval).push16(FC.RX_CONFIG.airModeActivateThreshold).push8(FC.RX_CONFIG.rxSpiProtocol).push32(FC.RX_CONFIG.rxSpiId).push8(FC.RX_CONFIG.rxSpiRfChannelCount).push8(FC.RX_CONFIG.fpvCamAngleDegrees).push8(FC.RX_CONFIG.rcInterpolationChannels).push8(FC.RX_CONFIG.rcSmoothingType).push8(FC.RX_CONFIG.rcSmoothingSetpointCutoff).push8(FC.RX_CONFIG.rcSmoothingFeedforwardCutoff).push8(FC.RX_CONFIG.rcSmoothingInputType).push8(FC.RX_CONFIG.rcSmoothingDerivativeType),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&tf.push8(FC.RX_CONFIG.usbCdcHidType).push8(FC.RX_CONFIG.rcSmoothingAutoFactor),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&tf.push8(FC.RX_CONFIG.rcSmoothingMode),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&FC.RX_CONFIG.elrsUid.forEach(gf=>tf.push8(gf));break;case MSPCodes.MSP_SET_FAILSAFE_CONFIG:tf.push8(FC.FAILSAFE_CONFIG.failsafe_delay).push8(FC.FAILSAFE_CONFIG.failsafe_off_delay).push16(FC.FAILSAFE_CONFIG.failsafe_throttle).push8(FC.FAILSAFE_CONFIG.failsafe_switch_mode).push16(FC.FAILSAFE_CONFIG.failsafe_throttle_low_delay).push8(FC.FAILSAFE_CONFIG.failsafe_procedure);break;case MSPCodes.MSP_SET_TRANSPONDER_CONFIG:tf.push8(FC.TRANSPONDER.provider);for(let gf=0;gf<FC.TRANSPONDER.data.length;gf++)tf.push8(FC.TRANSPONDER.data[gf]);break;case MSPCodes.MSP_SET_CHANNEL_FORWARDING:for(let gf=0;gf<FC.SERVO_CONFIG.length;gf++){let _f=FC.SERVO_CONFIG[gf].indexOfChannelToForward;_f==null&&(_f=255),tf.push8(_f)}break;case MSPCodes.MSP_SET_CF_SERIAL_CONFIG:for(let gf=0;gf<FC.SERIAL_CONFIG.ports.length;gf++){const _f=FC.SERIAL_CONFIG.ports[gf];tf.push8(_f.identifier);const xf=nf.serialPortFunctionsToMask(_f.functions);tf.push16(xf).push8(nf.BAUD_RATES.indexOf(_f.msp_baudrate)).push8(nf.BAUD_RATES.indexOf(_f.gps_baudrate)).push8(nf.BAUD_RATES.indexOf(_f.telemetry_baudrate)).push8(nf.BAUD_RATES.indexOf(_f.blackbox_baudrate))}break;case MSPCodes.MSP2_COMMON_SET_SERIAL_CONFIG:tf.push8(FC.SERIAL_CONFIG.ports.length);for(let gf=0;gf<FC.SERIAL_CONFIG.ports.length;gf++){const _f=FC.SERIAL_CONFIG.ports[gf];tf.push8(_f.identifier);const xf=nf.serialPortFunctionsToMask(_f.functions);tf.push32(xf).push8(nf.BAUD_RATES.indexOf(_f.msp_baudrate)).push8(nf.BAUD_RATES.indexOf(_f.gps_baudrate)).push8(nf.BAUD_RATES.indexOf(_f.telemetry_baudrate)).push8(nf.BAUD_RATES.indexOf(_f.blackbox_baudrate))}break;case MSPCodes.MSP_SET_MOTOR_3D_CONFIG:tf.push16(FC.MOTOR_3D_CONFIG.deadband3d_low).push16(FC.MOTOR_3D_CONFIG.deadband3d_high).push16(FC.MOTOR_3D_CONFIG.neutral);break;case MSPCodes.MSP_SET_RC_DEADBAND:tf.push8(FC.RC_DEADBAND_CONFIG.deadband).push8(FC.RC_DEADBAND_CONFIG.yaw_deadband).push8(FC.RC_DEADBAND_CONFIG.alt_hold_deadband).push16(FC.RC_DEADBAND_CONFIG.deadband3d_throttle);break;case MSPCodes.MSP_SET_SENSOR_ALIGNMENT:tf.push8(FC.SENSOR_ALIGNMENT.align_gyro).push8(FC.SENSOR_ALIGNMENT.align_acc).push8(FC.SENSOR_ALIGNMENT.align_mag).push8(FC.SENSOR_ALIGNMENT.gyro_to_use).push8(FC.SENSOR_ALIGNMENT.gyro_1_align).push8(FC.SENSOR_ALIGNMENT.gyro_2_align);break;case MSPCodes.MSP_SET_ADVANCED_CONFIG:tf.push8(FC.PID_ADVANCED_CONFIG.gyro_sync_denom).push8(FC.PID_ADVANCED_CONFIG.pid_process_denom).push8(FC.PID_ADVANCED_CONFIG.use_unsyncedPwm).push8(EscProtocols.ReorderPwmProtocols(FC.CONFIG.apiVersion,FC.PID_ADVANCED_CONFIG.fast_pwm_protocol)).push16(FC.PID_ADVANCED_CONFIG.motor_pwm_rate).push16(FC.PID_ADVANCED_CONFIG.digitalIdlePercent*100).push8(0),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&tf.push8(FC.PID_ADVANCED_CONFIG.motorPwmInversion).push8(FC.SENSOR_ALIGNMENT.gyro_to_use).push8(FC.PID_ADVANCED_CONFIG.gyroHighFsr).push8(FC.PID_ADVANCED_CONFIG.gyroMovementCalibThreshold).push16(FC.PID_ADVANCED_CONFIG.gyroCalibDuration).push16(FC.PID_ADVANCED_CONFIG.gyroOffsetYaw).push8(FC.PID_ADVANCED_CONFIG.gyroCheckOverflow).push8(FC.PID_ADVANCED_CONFIG.debugMode);break;case MSPCodes.MSP_SET_FILTER_CONFIG:tf.push8(FC.FILTER_CONFIG.gyro_lowpass_hz).push16(FC.FILTER_CONFIG.dterm_lowpass_hz).push16(FC.FILTER_CONFIG.yaw_lowpass_hz).push16(FC.FILTER_CONFIG.gyro_notch_hz).push16(FC.FILTER_CONFIG.gyro_notch_cutoff).push16(FC.FILTER_CONFIG.dterm_notch_hz).push16(FC.FILTER_CONFIG.dterm_notch_cutoff).push16(FC.FILTER_CONFIG.gyro_notch2_hz).push16(FC.FILTER_CONFIG.gyro_notch2_cutoff).push8(FC.FILTER_CONFIG.dterm_lowpass_type).push8(FC.FILTER_CONFIG.gyro_hardware_lpf).push8(0).push16(FC.FILTER_CONFIG.gyro_lowpass_hz).push16(FC.FILTER_CONFIG.gyro_lowpass2_hz).push8(FC.FILTER_CONFIG.gyro_lowpass_type).push8(FC.FILTER_CONFIG.gyro_lowpass2_type).push16(FC.FILTER_CONFIG.dterm_lowpass2_hz).push8(FC.FILTER_CONFIG.dterm_lowpass2_type).push16(FC.FILTER_CONFIG.gyro_lowpass_dyn_min_hz).push16(FC.FILTER_CONFIG.gyro_lowpass_dyn_max_hz).push16(FC.FILTER_CONFIG.dterm_lowpass_dyn_min_hz).push16(FC.FILTER_CONFIG.dterm_lowpass_dyn_max_hz),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&tf.push8(FC.FILTER_CONFIG.dyn_notch_range).push8(FC.FILTER_CONFIG.dyn_notch_width_percent).push16(FC.FILTER_CONFIG.dyn_notch_q).push16(FC.FILTER_CONFIG.dyn_notch_min_hz).push8(FC.FILTER_CONFIG.gyro_rpm_notch_harmonics).push8(FC.FILTER_CONFIG.gyro_rpm_notch_min_hz),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&tf.push16(FC.FILTER_CONFIG.dyn_notch_max_hz),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&tf.push8(FC.FILTER_CONFIG.dyn_lpf_curve_expo).push8(FC.FILTER_CONFIG.dyn_notch_count);break;case MSPCodes.MSP_SET_PID_ADVANCED:tf.push16(FC.ADVANCED_TUNING.rollPitchItermIgnoreRate).push16(FC.ADVANCED_TUNING.yawItermIgnoreRate).push16(FC.ADVANCED_TUNING.yaw_p_limit).push8(FC.ADVANCED_TUNING.deltaMethod).push8(FC.ADVANCED_TUNING.vbatPidCompensation).push8(FC.ADVANCED_TUNING.feedforwardTransition).push8(Math.min(FC.ADVANCED_TUNING.dtermSetpointWeight,254)).push8(FC.ADVANCED_TUNING.toleranceBand).push8(FC.ADVANCED_TUNING.toleranceBandReduction).push8(FC.ADVANCED_TUNING.itermThrottleGain).push16(FC.ADVANCED_TUNING.pidMaxVelocity).push16(FC.ADVANCED_TUNING.pidMaxVelocityYaw).push8(FC.ADVANCED_TUNING.levelAngleLimit).push8(FC.ADVANCED_TUNING.levelSensitivity).push16(FC.ADVANCED_TUNING.itermThrottleThreshold),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)?tf.push16(FC.ADVANCED_TUNING.antiGravityGain):tf.push16(FC.ADVANCED_TUNING.itermAcceleratorGain),tf.push16(FC.ADVANCED_TUNING.dtermSetpointWeight).push8(FC.ADVANCED_TUNING.itermRotation).push8(FC.ADVANCED_TUNING.smartFeedforward).push8(FC.ADVANCED_TUNING.itermRelax).push8(FC.ADVANCED_TUNING.itermRelaxType).push8(FC.ADVANCED_TUNING.absoluteControlGain).push8(FC.ADVANCED_TUNING.throttleBoost).push8(FC.ADVANCED_TUNING.acroTrainerAngleLimit).push16(FC.ADVANCED_TUNING.feedforwardRoll).push16(FC.ADVANCED_TUNING.feedforwardPitch).push16(FC.ADVANCED_TUNING.feedforwardYaw).push8(FC.ADVANCED_TUNING.antiGravityMode).push8(FC.ADVANCED_TUNING.dMinRoll).push8(FC.ADVANCED_TUNING.dMinPitch).push8(FC.ADVANCED_TUNING.dMinYaw).push8(FC.ADVANCED_TUNING.dMinGain).push8(FC.ADVANCED_TUNING.dMinAdvance).push8(FC.ADVANCED_TUNING.useIntegratedYaw).push8(FC.ADVANCED_TUNING.integratedYawRelax),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&tf.push8(FC.ADVANCED_TUNING.itermRelaxCutoff),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)&&tf.push8(FC.ADVANCED_TUNING.motorOutputLimit).push8(FC.ADVANCED_TUNING.autoProfileCellCount).push8(FC.ADVANCED_TUNING.idleMinRpm),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&tf.push8(FC.ADVANCED_TUNING.feedforward_averaging).push8(FC.ADVANCED_TUNING.feedforward_smooth_factor).push8(FC.ADVANCED_TUNING.feedforward_boost).push8(FC.ADVANCED_TUNING.feedforward_max_rate_limit).push8(FC.ADVANCED_TUNING.feedforward_jitter_factor).push8(FC.ADVANCED_TUNING.vbat_sag_compensation).push8(FC.ADVANCED_TUNING.thrustLinearization),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&(tf.push8(FC.ADVANCED_TUNING.tpaMode),tf.push8(Math.round(FC.ADVANCED_TUNING.tpaRate*100)),tf.push16(FC.ADVANCED_TUNING.tpaBreakpoint));break;case MSPCodes.MSP_SET_SENSOR_CONFIG:tf.push8(FC.SENSOR_CONFIG.acc_hardware).push8(FC.SENSOR_CONFIG.baro_hardware).push8(FC.SENSOR_CONFIG.mag_hardware);break;case MSPCodes.MSP_SET_NAME:const af=64;for(let gf=0;gf<FC.CONFIG.name.length&&gf<af;gf++)tf.push8(FC.CONFIG.name.charCodeAt(gf));break;case MSPCodes.MSP2_GET_TEXT:tf.push8(ef);break;case MSPCodes.MSP2_SET_TEXT:switch(ef){case MSPCodes.PILOT_NAME:nf.setText(tf,ef,FC.CONFIG.pilotName,16);break;case MSPCodes.CRAFT_NAME:nf.setText(tf,ef,FC.CONFIG.craftName,16);break;case MSPCodes.PID_PROFILE_NAME:nf.setText(tf,ef,FC.CONFIG.pidProfileNames[FC.CONFIG.profile],8);break;case MSPCodes.RATE_PROFILE_NAME:nf.setText(tf,ef,FC.CONFIG.rateProfileNames[FC.CONFIG.rateProfile],8);break;default:console.log("Unsupported text type");break}break;case MSPCodes.MSP2_SET_LED_STRIP_CONFIG_VALUES:break;case MSPCodes.MSP_SET_BLACKBOX_CONFIG:tf.push8(FC.BLACKBOX.blackboxDevice).push8(FC.BLACKBOX.blackboxRateNum).push8(FC.BLACKBOX.blackboxRateDenom).push16(FC.BLACKBOX.blackboxPDenom),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_44)&&tf.push8(FC.BLACKBOX.blackboxSampleRate),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_45)&&tf.push32(FC.BLACKBOX.blackboxDisabledMask);break;case MSPCodes.MSP_COPY_PROFILE:tf.push8(FC.COPY_PROFILE.type).push8(FC.COPY_PROFILE.dstProfile).push8(FC.COPY_PROFILE.srcProfile);break;case MSPCodes.MSP_ARMING_DISABLE:let lf;FC.CONFIG.armingDisabled?lf=1:lf=0,tf.push8(lf),FC.CONFIG.runawayTakeoffPreventionDisabled?lf=1:lf=0,tf.push8(lf);break;case MSPCodes.MSP_SET_RTC:const uf=new Date().getTime(),ff=uf/1e3,df=uf%1e3;tf.push32(ff),tf.push16(df);break;case MSPCodes.MSP_SET_VTX_CONFIG:tf.push16(FC.VTX_CONFIG.vtx_frequency).push8(FC.VTX_CONFIG.vtx_power).push8(FC.VTX_CONFIG.vtx_pit_mode?1:0).push8(FC.VTX_CONFIG.vtx_low_power_disarm),semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_42)&&tf.push16(FC.VTX_CONFIG.vtx_pit_mode_frequency).push8(FC.VTX_CONFIG.vtx_band).push8(FC.VTX_CONFIG.vtx_channel).push16(FC.VTX_CONFIG.vtx_frequency).push8(FC.VTX_CONFIG.vtx_table_bands).push8(FC.VTX_CONFIG.vtx_table_channels).push8(FC.VTX_CONFIG.vtx_table_powerlevels).push8(FC.VTX_CONFIG.vtx_table_clear?1:0);break;case MSPCodes.MSP_SET_VTXTABLE_POWERLEVEL:tf.push8(FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_number).push16(FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_value),tf.push8(FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_label.length);for(let gf=0;gf<FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_label.length;gf++)tf.push8(FC.VTXTABLE_POWERLEVEL.vtxtable_powerlevel_label.charCodeAt(gf));break;case MSPCodes.MSP_SET_VTXTABLE_BAND:tf.push8(FC.VTXTABLE_BAND.vtxtable_band_number),tf.push8(FC.VTXTABLE_BAND.vtxtable_band_name.length);for(let gf=0;gf<FC.VTXTABLE_BAND.vtxtable_band_name.length;gf++)tf.push8(FC.VTXTABLE_BAND.vtxtable_band_name.charCodeAt(gf));FC.VTXTABLE_BAND.vtxtable_band_letter!=""?tf.push8(FC.VTXTABLE_BAND.vtxtable_band_letter.charCodeAt(0)):tf.push8(" ".charCodeAt(0)),tf.push8(FC.VTXTABLE_BAND.vtxtable_band_is_factory_band?1:0),tf.push8(FC.VTXTABLE_BAND.vtxtable_band_frequencies.length);for(let gf=0;gf<FC.VTXTABLE_BAND.vtxtable_band_frequencies.length;gf++)tf.push16(FC.VTXTABLE_BAND.vtxtable_band_frequencies[gf]);break;case MSPCodes.MSP_MULTIPLE_MSP:for(;FC.MULTIPLE_MSP.msp_commands.length>0;){const gf=FC.MULTIPLE_MSP.msp_commands.shift();nf.mspMultipleCache.push(gf),tf.push8(gf)}break;case MSPCodes.MSP2_SET_MOTOR_OUTPUT_REORDERING:tf.push8(FC.MOTOR_OUTPUT_ORDER.length);for(let gf=0;gf<FC.MOTOR_OUTPUT_ORDER.length;gf++)tf.push8(FC.MOTOR_OUTPUT_ORDER[gf]);break;case MSPCodes.MSP2_SEND_DSHOT_COMMAND:tf.push8(1);break;case MSPCodes.MSP_SET_SIMPLIFIED_TUNING:MspHelper.writePidSliderSettings(tf),MspHelper.writeDtermFilterSliderSettings(tf),MspHelper.writeGyroFilterSliderSettings(tf);break;case MSPCodes.MSP_CALCULATE_SIMPLIFIED_PID:MspHelper.writePidSliderSettings(tf);break;case MSPCodes.MSP_CALCULATE_SIMPLIFIED_GYRO:MspHelper.writeGyroFilterSliderSettings(tf);break;case MSPCodes.MSP_CALCULATE_SIMPLIFIED_DTERM:MspHelper.writeDtermFilterSliderSettings(tf);break;default:return tf}return tf};MspHelper.prototype.setRawRx=function(Qc){const ef=[];for(let tf=0;tf<Qc.length;tf++)ef.push16(Qc[tf]);MSP$1.send_message(MSPCodes.MSP_SET_RAW_RC,ef,!1)};MspHelper.prototype.dataflashRead=function(Qc,ef,tf){let nf=[Qc&255,Qc>>8&255,Qc>>16&255,Qc>>24&255];nf=nf.concat([ef&255,ef>>8&255]),nf=nf.concat([1]),MSP$1.send_message(MSPCodes.MSP_DATAFLASH_READ,nf,!1,function(rf){if(rf.crcError)console.log(`CRC error for address ${Qc} - retrying`),tf(Qc,null);else{const sf=rf.data.readU32(),af=7,lf=rf.data.readU16(),cf=rf.data.readU8();if(sf==Qc){if(cf==0)tf(Qc,new DataView(rf.data.buffer,rf.data.byteOffset+af,lf));else if(cf==1){const uf=rf.data.readU16(),ff=new Uint8Array(rf.data.buffer,rf.data.byteOffset+af+2,lf-2),df=huffmanDecodeBuf(ff,uf,defaultHuffmanTree,defaultHuffmanLenIndex);tf(Qc,new DataView(df.buffer),lf)}}else console.log(`Expected address ${Qc} but received ${sf} - retrying`),tf(Qc,null)}},!0)};MspHelper.prototype.sendServoConfigurations=function(Qc){let ef=nf,tf=0;FC.SERVO_CONFIG.length==0?Qc():ef();function nf(){const rf=[],sf=FC.SERVO_CONFIG[tf];rf.push8(tf).push16(sf.min).push16(sf.max).push16(sf.middle).push8(sf.rate);let af=sf.indexOfChannelToForward;af==null&&(af=255),rf.push8(af).push32(sf.reversedInputSources),tf++,tf==FC.SERVO_CONFIG.length&&(ef=Qc),MSP$1.send_message(MSPCodes.MSP_SET_SERVO_CONFIGURATION,rf,!1,ef)}};MspHelper.prototype.sendModeRanges=function(Qc){let ef=nf,tf=0;FC.MODE_RANGES.length==0?Qc():nf();function nf(){const rf=FC.MODE_RANGES[tf],sf=[];sf.push8(tf).push8(rf.id).push8(rf.auxChannelIndex).push8((rf.range.start-900)/25).push8((rf.range.end-900)/25);const af=FC.MODE_RANGES_EXTRA[tf];sf.push8(af.modeLogic).push8(af.linkedTo),tf++,tf==FC.MODE_RANGES.length&&(ef=Qc),MSP$1.send_message(MSPCodes.MSP_SET_MODE_RANGE,sf,!1,ef)}};MspHelper.prototype.sendAdjustmentRanges=function(Qc){let ef=nf,tf=0;FC.ADJUSTMENT_RANGES.length==0?Qc():nf();function nf(){const rf=FC.ADJUSTMENT_RANGES[tf],sf=[];sf.push8(tf).push8(rf.slotIndex).push8(rf.auxChannelIndex).push8((rf.range.start-900)/25).push8((rf.range.end-900)/25).push8(rf.adjustmentFunction).push8(rf.auxSwitchChannelIndex),tf++,tf==FC.ADJUSTMENT_RANGES.length&&(ef=Qc),MSP$1.send_message(MSPCodes.MSP_SET_ADJUSTMENT_RANGE,sf,!1,ef)}};MspHelper.prototype.sendVoltageConfig=function(Qc){let ef=nf,tf=0;FC.VOLTAGE_METER_CONFIGS.length==0?Qc():nf();function nf(){const rf=[];rf.push8(FC.VOLTAGE_METER_CONFIGS[tf].id).push8(FC.VOLTAGE_METER_CONFIGS[tf].vbatscale).push8(FC.VOLTAGE_METER_CONFIGS[tf].vbatresdivval).push8(FC.VOLTAGE_METER_CONFIGS[tf].vbatresdivmultiplier),tf++,tf==FC.VOLTAGE_METER_CONFIGS.length&&(ef=Qc),MSP$1.send_message(MSPCodes.MSP_SET_VOLTAGE_METER_CONFIG,rf,!1,ef)}};MspHelper.prototype.sendCurrentConfig=function(Qc){let ef=nf,tf=0;FC.CURRENT_METER_CONFIGS.length==0?Qc():nf();function nf(){const rf=[];rf.push8(FC.CURRENT_METER_CONFIGS[tf].id).push16(FC.CURRENT_METER_CONFIGS[tf].scale).push16(FC.CURRENT_METER_CONFIGS[tf].offset),tf++,tf==FC.CURRENT_METER_CONFIGS.length&&(ef=Qc),MSP$1.send_message(MSPCodes.MSP_SET_CURRENT_METER_CONFIG,rf,!1,ef)}};MspHelper.prototype.sendLedStripConfig=function(Qc){let ef=nf,tf=0;FC.LED_STRIP.length==0?Qc():nf();function nf(){const rf=FC.LED_STRIP[tf],sf=[];sf.push(tf);let af=0;af|=rf.y<<0,af|=rf.x<<4;for(let lf=0;lf<rf.functions.length;lf++){const cf=ledBaseFunctionLetters.indexOf(rf.functions[lf]);if(cf>=0){af|=cf<<8;break}}if(semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_46)){for(let lf=0;lf<rf.functions.length;lf++){const cf=ledOverlayLetters.indexOf(rf.functions[lf]);cf>=0&&(af|=bit_set(af,cf+12))}af|=rf.color<<22;for(let lf=0;lf<rf.directions.length;lf++){const cf=ledDirectionLetters.indexOf(rf.directions[lf]);cf>=0&&(af|=bit_set(af,cf+26))}sf.push32(af)}else{for(let lf=0;lf<rf.functions.length;lf++){const cf=ledOverlayLetters.indexOf(rf.functions[lf]);cf>=0&&(af|=bit_set(af,cf+12))}af|=rf.color<<18;for(let lf=0;lf<rf.directions.length;lf++){const cf=ledDirectionLetters.indexOf(rf.directions[lf]);cf>=0&&(af|=bit_set(af,cf+22))}af|=0,sf.push32(af)}tf++,tf==FC.LED_STRIP.length&&(ef=Qc),MSP$1.send_message(MSPCodes.MSP_SET_LED_STRIP_CONFIG,sf,!1,ef)}};MspHelper.prototype.sendLedStripColors=function(Qc){if(FC.LED_COLORS.length==0)Qc();else{const ef=[];for(const tf of FC.LED_COLORS)ef.push16(tf.h).push8(tf.s).push8(tf.v);MSP$1.send_message(MSPCodes.MSP_SET_LED_COLORS,ef,!1,Qc)}};MspHelper.prototype.sendLedStripModeColors=function(Qc){let ef=nf,tf=0;FC.LED_MODE_COLORS.length==0?Qc():nf();function nf(){const rf=[],sf=FC.LED_MODE_COLORS[tf];rf.push8(sf.mode).push8(sf.direction).push8(sf.color),tf++,tf==FC.LED_MODE_COLORS.length&&(ef=Qc),MSP$1.send_message(MSPCodes.MSP_SET_LED_STRIP_MODECOLOR,rf,!1,ef)}};MspHelper.prototype.sendLedStripConfigValues=function(Qc){const ef=[];ef.push8(FC.LED_CONFIG_VALUES.brightness),ef.push16(FC.LED_CONFIG_VALUES.rainbow_delta),ef.push16(FC.LED_CONFIG_VALUES.rainbow_freq),MSP$1.send_message(MSPCodes.MSP2_SET_LED_STRIP_CONFIG_VALUES,ef,!1,Qc)};MspHelper.prototype.serialPortFunctionMaskToFunctions=function(Qc){const ef=this,tf=[],nf=Object.keys(ef.SERIAL_PORT_FUNCTIONS);for(const rf of nf){const sf=ef.SERIAL_PORT_FUNCTIONS[rf];bit_check(Qc,sf)&&tf.push(rf)}return tf};MspHelper.prototype.serialPortFunctionsToMask=function(Qc){const ef=this;let tf=0;for(let nf=0;nf<Qc.length;nf++){const rf=Qc[nf],sf=ef.SERIAL_PORT_FUNCTIONS[rf];sf>=0&&(tf=bit_set(tf,sf))}return tf};MspHelper.prototype.sendRxFailConfig=function(Qc){let ef=nf,tf=0;FC.RXFAIL_CONFIG.length==0?Qc():nf();function nf(){const rf=FC.RXFAIL_CONFIG[tf],sf=[];sf.push8(tf).push8(rf.mode).push16(rf.value),tf++,tf==FC.RXFAIL_CONFIG.length&&(ef=Qc),MSP$1.send_message(MSPCodes.MSP_SET_RXFAIL_CONFIG,sf,!1,ef)}};MspHelper.prototype.setArmingEnabled=function(Qc,ef,tf){FC.CONFIG.armingDisabled===Qc||FC.CONFIG.runawayTakeoffPreventionDisabled!==ef?(FC.CONFIG.armingDisabled=!Qc,FC.CONFIG.runawayTakeoffPreventionDisabled=ef,MSP$1.send_message(MSPCodes.MSP_ARMING_DISABLE,mspHelper.crunch(MSPCodes.MSP_ARMING_DISABLE),!1,function(){Qc?(gui_log(i18n.getMessage("armingEnabled")),gui_log(ef?i18n.getMessage("runawayTakeoffPreventionDisabled"):i18n.getMessage("runawayTakeoffPreventionEnabled"))):gui_log(i18n.getMessage("armingDisabled")),tf&&tf()})):tf&&tf()};MspHelper.prototype.loadSerialConfig=function(Qc){const ef=semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)?MSPCodes.MSP2_COMMON_SERIAL_CONFIG:MSPCodes.MSP_CF_SERIAL_CONFIG;MSP$1.send_message(ef,!1,!1,Qc)};MspHelper.prototype.sendSerialConfig=function(Qc){const ef=semver$1.gte(FC.CONFIG.apiVersion,API_VERSION_1_43)?MSPCodes.MSP2_COMMON_SET_SERIAL_CONFIG:MSPCodes.MSP_SET_CF_SERIAL_CONFIG;MSP$1.send_message(ef,mspHelper.crunch(ef),!1,Qc)};MspHelper.prototype.writeConfiguration=function(Qc,ef){setTimeout(function(){MSP$1.send_message(MSPCodes.MSP_EEPROM_WRITE,!1,!1,function(){gui_log(i18n.getMessage("configurationEepromSaved")),console.log("Configuration saved to EEPROM"),Qc&&GUI.tab_switch_cleanup(function(){MSP$1.send_message(MSPCodes.MSP_SET_REBOOT,!1,!1,reinitializeConnection)}),ef&&ef()})},100)};let mspHelper;window.mspHelper=mspHelper=new MspHelper;const CliAutoComplete={configEnabled:!1,builder:{state:"reset",numFails:0}};CliAutoComplete.isEnabled=function(){return this.isBuilding()||this.configEnabled&&FC.CONFIG.flightControllerIdentifier==="BTFL"&&this.builder.state!=="fail"};CliAutoComplete.isBuilding=function(){return this.builder.state!=="reset"&&this.builder.state!=="done"&&this.builder.state!=="fail"};CliAutoComplete.isOpen=function(){return $$1(".cli-textcomplete-dropdown").is(":visible")};CliAutoComplete.openLater=function(Qc){const ef=this;setTimeout(function(){ef.forceOpen=!!Qc,ef.$textarea.textcomplete("trigger"),ef.forceOpen=!1},0)};CliAutoComplete.setEnabled=function(Qc){this.configEnabled!==Qc&&(this.configEnabled=Qc,CONFIGURATOR.cliActive&&CONFIGURATOR.cliValid&&(this.isEnabled()?this.builderStart():!this.isEnabled()&&!this.isBuilding()&&this.cleanup()))};CliAutoComplete.initialize=function(Qc,ef,tf){tracking.sendEvent(tracking.EVENT_CATEGORIES.APPLICATION,"CliAutoComplete",this.configEnabled),this.$textarea=Qc,this.forceOpen=!1,this.sendLine=ef,this.writeToOutput=tf,this.cleanup()};CliAutoComplete.cleanup=function(){this.$textarea.textcomplete("destroy"),this.builder.state="reset",this.builder.numFails=0};CliAutoComplete._builderWatchdogTouch=function(){const Qc=this;this._builderWatchdogStop(),GUI.timeout_add("autocomplete_builder_watchdog",function(){Qc.builder.numFails?(Qc.builder.numFails++,Qc.builder.state="fail",Qc.writeToOutput("Failed!<br># "),$$1(Qc).trigger("build:stop")):(Qc.builder.state="reset",Qc.builderStart())},3e3)};CliAutoComplete._builderWatchdogStop=function(){GUI.timeout_remove("autocomplete_builder_watchdog")};CliAutoComplete.builderStart=function(){this.builder.state==="reset"&&(this.cache={commands:[],resources:[],resourcesCount:{},settings:[],settingsAcceptedValues:{},feature:[],beeper:["ALL"],mixers:[]},this.builder.commandSequence=["help","dump","get","mixer list"],this.builder.currentSetting=null,this.builder.sentinel=`# ${Math.random()}`,this.builder.state="init",this.writeToOutput("<br># Building AutoComplete Cache ... "),this.sendLine(this.builder.sentinel),$$1(this).trigger("build:start"))};CliAutoComplete.builderParseLine=function(Qc){const ef=this.cache,tf=this.builder;if(this._builderWatchdogTouch(),Qc.indexOf(tf.sentinel)!==-1){const nf=tf.commandSequence.shift();nf&&this.configEnabled?(tf.state=`parse-${nf}`,this.sendLine(nf),this.sendLine(tf.sentinel)):(this._builderWatchdogStop(),this.configEnabled?(ef.settings.sort(),ef.commands.sort(),ef.feature.sort(),ef.beeper.sort(),ef.resources=Object.keys(ef.resourcesCount).sort(),this._initTextcomplete(),this.writeToOutput("Done!<br># "),tf.state="done"):(this.writeToOutput("Cancelled!<br># "),this.cleanup()),$$1(this).trigger("build:stop"))}else switch(tf.state){case"parse-help":const nf=Qc.match(/^(\w+)/);nf&&ef.commands.push(nf[1]);break;case"parse-dump":const rf=Qc.match(/^resource\s+(\w+)/i);if(rf){const lf=rf[1].toUpperCase();ef.resourcesCount[lf]=(ef.resourcesCount[lf]||0)+1}else{const lf=Qc.match(/^(feature|beeper)\s+-?(\w+)/i);lf&&ef[lf[1].toLowerCase()].push(lf[2])}break;case"parse-get":const sf=Qc.match(/^(\w+)\s*=/);if(sf)ef.settings.push(sf[1]),tf.currentSetting=sf[1].toLowerCase();else{const lf=Qc.match(/^(.*): (.*)/);lf!==null&&tf.currentSetting&&(lf[1].match(/values/i)?ef.settingsAcceptedValues[tf.currentSetting]=lf[2].split(/\s*,\s*/).sort():lf[1].match(/range|length/i)&&(ef.settingsAcceptedValues[tf.currentSetting]=lf[0]))}break;case"parse-mixer list":const af=Qc.match(/:(.+)/);af&&(ef.mixers=["list"].concat(af[1].trim().split(/\s+/)));break}};CliAutoComplete._initTextcomplete=function(){let Qc=!1;const ef=this,tf=this.$textarea,nf=ef.cache;let rf=null;const sf=function(xf){return function(Af,Df){const Of=xf?"":"^",Gf=Af.replace(new RegExp(`${Of}(${Df})`,"gi"),"<b>$1</b>");return Df?Gf:Af}},af=sf(!0),lf=sf(!1),cf=function(xf,Af,Df,Of,Gf){const Bf=[];if(Of!==!1&&xf.length>=Of||ef.forceOpen||ef.isOpen()){xf=xf.toLowerCase();for(let Vf=0;Vf<Df.length;Vf++){const Lf=Df[Vf].toLowerCase();(Gf&&Lf.startsWith(xf)||!Gf&&Lf.indexOf(xf)!==-1)&&Bf.push(Df[Vf])}}Af(Bf),ef.forceOpen&&Bf.length===1&&tf.trigger($$1.Event("keydown",{keyCode:9}))},uf=function(xf){const Af=tf.val();return!!(Af.length===xf.length||Af[xf.length].match(/\s/))},ff=function(xf){return`$1${xf} `};tf.textcomplete([],{maxCount:1e4,debounce:0,className:"cli-textcomplete-dropdown",placement:"top",onKeydown:function(xf){xf.which===13&&setTimeout(function(){Qc&&tf.trigger($$1.Event("keypress",{which:13}))},0)}}).on("textComplete:show",function(){const xf=$$1(".textcomplete-dropdown");if(!rf){try{rf=$$1._data(xf[0],"events").mouseover[0].handler}catch(Af){console.log(Af)}rf&&xf.off("mouseover").off("mousemove").on("mousemove",".textcomplete-item",function(Af){$$1(this).parent().off("mousemove").on("mouseover",".textcomplete-item",rf),rf(Af)})}});const df=function(xf){return $$1.extend({template:af,replace:ff,context:uf,index:2},xf)};tf.textcomplete("register",[df({match:/^(\s*)(\w*)$/,search:function(xf,Af){Qc=!1,cf(xf,Af,nf.commands,!1,!0)},template:lf}),df({match:/^(\s*get\s+)(\w*)$/i,search:function(xf,Af){Qc=!0,cf(xf,function(Df){xf.length>0&&Df.length>1&&(Df=[xf].concat(Df)),Af(Df)},nf.settings,3)}}),df({match:/^(\s*set\s+)(\w*)$/i,search:function(xf,Af){Qc=!1,cf(xf,Af,nf.settings,3)}}),df({match:/^(\s*set\s+\w*\s*)$/i,search:function(xf,Af){Qc=!1,cf("",Af,["="],!1)},replace:function(xf){return ef.openLater(),ff(xf)}}),df({match:/^(\s*set\s+(\w+))\s*=\s*(.*)$/i,search:function(xf,Af,Df){const Of=[],Gf=Df[2].toLowerCase();if(this.isSettingValueArray=!1,this.value=Df[3],Qc=!!xf,Gf in nf.settingsAcceptedValues){const Bf=nf.settingsAcceptedValues[Gf];if(Array.isArray(Bf)){this.isSettingValueArray=!0,Qc=!0,cf(xf,Af,Bf,0);return}Of.push(Bf)}Af(Of)},replace:function(xf){return this.isSettingValueArray||(xf=this.value),`$1 = ${xf}`},index:3,isSettingValueArray:!1}),df({match:/^(\s*resource\s+)(\w*)$/i,search:function(xf,Af){Qc=!1;let Df=nf.resources;semver$1.gte(FC.CONFIG.flightControllerVersion,"4.0.0")?Df=["show"].concat(Df):Df=["list"].concat(Df),cf(xf,Af,Df,1)},replace:function(xf){return xf in nf.resourcesCount?ef.openLater():(xf==="list"||xf==="show")&&(Qc=!0),ff(xf)}}),df({match:/^(\s*resource\s+(\w+)\s+)(\d*)$/i,search:function(xf,Af,Df){Qc=!1,this.savedTerm=xf,Af([`&lt;1-${nf.resourcesCount[Df[2].toUpperCase()]}&gt;`])},replace:function(){if(this.savedTerm)return ef.openLater(),"$1$3 "},context:function(xf){const Af=xf.match(/^\s*resource\s+(\w+)\s/i);return Af&&(nf.resourcesCount[Af[1].toUpperCase()]||0)>1?uf(xf):!1},index:3,savedTerm:null}),df({match:/^(\s*resource\s+\w+\s+(\d*\s+)?)(\w*)$/i,search:function(xf,Af){Qc=!!xf,xf?"none".startsWith(xf)?Af(["none"]):Af(["&lt;pin&gt;"]):Af(["&lt;pin&gt","none"])},template:function(xf,Af){return xf==="none"?lf(xf,Af):xf},replace:function(xf){if(xf==="none")return Qc=!0,"$1none "},context:function(xf){const Af=xf.match(/^\s*resource\s+(\w+)\s+(\d+\s)?/i);if(Af){const Df=nf.resourcesCount[Af[1].toUpperCase()]||0;if(Df&&(Af[2]||Df===1))return uf(xf)}return!1},index:3}),df({match:/^(\s*(feature|beeper)\s+(-?))(\w*)$/i,search:function(xf,Af,Df){Qc=!!xf;let Of=nf[Df[2].toLowerCase()];Df[3]||(Of=["-","list"].concat(Of)),cf(xf,Af,Of,1)},replace:function(xf){return xf==="-"?(ef.openLater(!0),"$1-"):ff(xf)},index:4}),df({match:/^(\s*mixer\s+)(\w*)$/i,search:function(xf,Af){Qc=!0,cf(xf,Af,nf.mixers,1)}})]),tf.textcomplete("register",[df({match:/^(\s*resource\s+show\s+)(\w*)$/i,search:function(xf,Af){Qc=!0,cf(xf,Af,["all"],1,!0)},template:lf})]);const gf=["master","profile","rates","all"],_f=[];_f.push("defaults"),gf.push("hardware"),_f.push("bare"),gf.sort(),_f.sort(),tf.textcomplete("register",[df({match:/^(\s*diff\s+)(\w*)$/i,search:function(xf,Af){Qc=!0,cf(xf,Af,gf,1,!0)},template:lf}),df({match:/^(\s*diff\s+\w+\s+)(\w*)$/i,search:function(xf,Af){Qc=!0,cf(xf,Af,_f,1,!0)},template:lf})])};window.CliAutoComplete=CliAutoComplete;const windowWatcherUtil={};windowWatcherUtil.invokeWatcher=function(Qc,ef,tf){tf[Qc]&&tf[Qc](ef)};windowWatcherUtil.iterateOverBindings=function(Qc,ef){let tf=Object.entries(Qc);for(const[nf,rf]of tf)this.invokeWatcher(nf,rf,ef)};windowWatcherUtil.bindWatchers=function(Qc,ef){Qc.bindings?this.iterateOverBindings(Qc.bindings,ef):Qc.bindings={},Qc.bindings=new Proxy(Qc.bindings,{set(tf,nf,rf,sf){return windowWatcherUtil.invokeWatcher(nf,rf,ef),Reflect.set(tf,nf,rf,sf)}})};windowWatcherUtil.passValue=function(Qc,ef,tf){let nf=function(rf,sf,af){rf&&(rf.contentWindow.bindings?rf.contentWindow.bindings[sf]=af:rf.contentWindow.bindings={[sf]:af})};Array.isArray(Qc)?Qc.forEach(rf=>nf(rf,ef,tf)):nf(Qc,ef,tf)};const css_dark=["./css/dark-theme.css"],DarkTheme={configSetting:void 0,enabled:!1};DarkTheme.isDarkThemeEnabled=function(Qc){if(this.configSetting===0)Qc(!0);else if(this.configSetting===2)if(GUI.isCordova())cordova.plugins.ThemeDetection.isDarkModeEnabled(function(ef){Qc(ef.value)},function(ef){console.log(`cordova-plugin-theme-detection: ${ef}`),Qc(!1)});else{const ef=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;Qc(ef)}else Qc(!1)};DarkTheme.apply=function(){const Qc=this;this.isDarkThemeEnabled(function(ef){ef?Qc.applyDark():Qc.applyNormal(),chrome.app.window!==void 0&&windowWatcherUtil.passValue(chrome.app.window.get("receiver_msp"),"darkTheme",ef)})};DarkTheme.autoSet=function(){this.configSetting===2&&this.apply()};DarkTheme.setConfig=function(Qc){this.configSetting!==Qc&&(this.configSetting=Qc,this.apply())};DarkTheme.applyDark=function(){css_dark.forEach(Qc=>$$1(`link[href="${Qc}"]`).prop("disabled",!1)),this.enabled=!0};DarkTheme.applyNormal=function(){css_dark.forEach(Qc=>$$1(`link[href="${Qc}"]`).prop("disabled",!0)),this.enabled=!1};function setDarkTheme(Qc){DarkTheme.setConfig(Qc),checkSetupAnalytics(function(ef){ef.sendEvent(ef.EVENT_CATEGORIES.APPLICATION,"DarkTheme",Qc)})}function isExpertModeEnabled(){return $$1('input[name="expertModeCheckbox"]').is(":checked")}function notifyOutdatedVersion(Qc){if(Qc===void 0)return console.log("No releaseData"),!1;if(Qc.isCurrent===!1&&Qc.updatedVersion!==void 0){CONFIGURATOR.latestVersion=Qc.updatedVersion.version,CONFIGURATOR.latestVersionReleaseUrl=Qc.updatedVersion.url;const ef=i18n.getMessage("configuratorUpdateNotice",[CONFIGURATOR.latestVersion,CONFIGURATOR.latestVersionReleaseUrl]);gui_log(ef);const tf=$$1(".dialogConfiguratorUpdate")[0];$$1(".dialogConfiguratorUpdate-content").html(ef),$$1(".dialogConfiguratorUpdate-closebtn").click(function(){tf.close()}),$$1(".dialogConfiguratorUpdate-websitebtn").click(function(){tf.close(),window.open(CONFIGURATOR.latestVersionReleaseUrl,"_blank")}),tf.showModal()}}function checkForConfiguratorUpdates(){const Qc=get$3("checkForConfiguratorUnstableVersions");let ef="Stable";Qc.checkForConfiguratorUnstableVersions&&(ef="Unstable"),new BuildApi().loadConfiguratorRelease(ef,notifyOutdatedVersion)}var noop={value:()=>{}};function dispatch(){for(var Qc=0,ef=arguments.length,tf={},nf;Qc<ef;++Qc){if(!(nf=arguments[Qc]+"")||nf in tf||/[\s.]/.test(nf))throw new Error("illegal type: "+nf);tf[nf]=[]}return new Dispatch(tf)}function Dispatch(Qc){this._=Qc}function parseTypenames$1(Qc,ef){return Qc.trim().split(/^|\s+/).map(function(tf){var nf="",rf=tf.indexOf(".");if(rf>=0&&(nf=tf.slice(rf+1),tf=tf.slice(0,rf)),tf&&!ef.hasOwnProperty(tf))throw new Error("unknown type: "+tf);return{type:tf,name:nf}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(Qc,ef){var tf=this._,nf=parseTypenames$1(Qc+"",tf),rf,sf=-1,af=nf.length;if(arguments.length<2){for(;++sf<af;)if((rf=(Qc=nf[sf]).type)&&(rf=get$1(tf[rf],Qc.name)))return rf;return}if(ef!=null&&typeof ef!="function")throw new Error("invalid callback: "+ef);for(;++sf<af;)if(rf=(Qc=nf[sf]).type)tf[rf]=set$1(tf[rf],Qc.name,ef);else if(ef==null)for(rf in tf)tf[rf]=set$1(tf[rf],Qc.name,null);return this},copy:function(){var Qc={},ef=this._;for(var tf in ef)Qc[tf]=ef[tf].slice();return new Dispatch(Qc)},call:function(Qc,ef){if((rf=arguments.length-2)>0)for(var tf=new Array(rf),nf=0,rf,sf;nf<rf;++nf)tf[nf]=arguments[nf+2];if(!this._.hasOwnProperty(Qc))throw new Error("unknown type: "+Qc);for(sf=this._[Qc],nf=0,rf=sf.length;nf<rf;++nf)sf[nf].value.apply(ef,tf)},apply:function(Qc,ef,tf){if(!this._.hasOwnProperty(Qc))throw new Error("unknown type: "+Qc);for(var nf=this._[Qc],rf=0,sf=nf.length;rf<sf;++rf)nf[rf].value.apply(ef,tf)}};function get$1(Qc,ef){for(var tf=0,nf=Qc.length,rf;tf<nf;++tf)if((rf=Qc[tf]).name===ef)return rf.value}function set$1(Qc,ef,tf){for(var nf=0,rf=Qc.length;nf<rf;++nf)if(Qc[nf].name===ef){Qc[nf]=noop,Qc=Qc.slice(0,nf).concat(Qc.slice(nf+1));break}return tf!=null&&Qc.push({name:ef,value:tf}),Qc}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(Qc){var ef=Qc+="",tf=ef.indexOf(":");return tf>=0&&(ef=Qc.slice(0,tf))!=="xmlns"&&(Qc=Qc.slice(tf+1)),namespaces.hasOwnProperty(ef)?{space:namespaces[ef],local:Qc}:Qc}function creatorInherit(Qc){return function(){var ef=this.ownerDocument,tf=this.namespaceURI;return tf===xhtml&&ef.documentElement.namespaceURI===xhtml?ef.createElement(Qc):ef.createElementNS(tf,Qc)}}function creatorFixed(Qc){return function(){return this.ownerDocument.createElementNS(Qc.space,Qc.local)}}function creator(Qc){var ef=namespace(Qc);return(ef.local?creatorFixed:creatorInherit)(ef)}function none(){}function selector(Qc){return Qc==null?none:function(){return this.querySelector(Qc)}}function selection_select(Qc){typeof Qc!="function"&&(Qc=selector(Qc));for(var ef=this._groups,tf=ef.length,nf=new Array(tf),rf=0;rf<tf;++rf)for(var sf=ef[rf],af=sf.length,lf=nf[rf]=new Array(af),cf,uf,ff=0;ff<af;++ff)(cf=sf[ff])&&(uf=Qc.call(cf,cf.__data__,ff,sf))&&("__data__"in cf&&(uf.__data__=cf.__data__),lf[ff]=uf);return new Selection$1(nf,this._parents)}function array(Qc){return Qc==null?[]:Array.isArray(Qc)?Qc:Array.from(Qc)}function empty(){return[]}function selectorAll(Qc){return Qc==null?empty:function(){return this.querySelectorAll(Qc)}}function arrayAll(Qc){return function(){return array(Qc.apply(this,arguments))}}function selection_selectAll(Qc){typeof Qc=="function"?Qc=arrayAll(Qc):Qc=selectorAll(Qc);for(var ef=this._groups,tf=ef.length,nf=[],rf=[],sf=0;sf<tf;++sf)for(var af=ef[sf],lf=af.length,cf,uf=0;uf<lf;++uf)(cf=af[uf])&&(nf.push(Qc.call(cf,cf.__data__,uf,af)),rf.push(cf));return new Selection$1(nf,rf)}function matcher(Qc){return function(){return this.matches(Qc)}}function childMatcher(Qc){return function(ef){return ef.matches(Qc)}}var find=Array.prototype.find;function childFind(Qc){return function(){return find.call(this.children,Qc)}}function childFirst(){return this.firstElementChild}function selection_selectChild(Qc){return this.select(Qc==null?childFirst:childFind(typeof Qc=="function"?Qc:childMatcher(Qc)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(Qc){return function(){return filter.call(this.children,Qc)}}function selection_selectChildren(Qc){return this.selectAll(Qc==null?children:childrenFilter(typeof Qc=="function"?Qc:childMatcher(Qc)))}function selection_filter(Qc){typeof Qc!="function"&&(Qc=matcher(Qc));for(var ef=this._groups,tf=ef.length,nf=new Array(tf),rf=0;rf<tf;++rf)for(var sf=ef[rf],af=sf.length,lf=nf[rf]=[],cf,uf=0;uf<af;++uf)(cf=sf[uf])&&Qc.call(cf,cf.__data__,uf,sf)&&lf.push(cf);return new Selection$1(nf,this._parents)}function sparse(Qc){return new Array(Qc.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(Qc,ef){this.ownerDocument=Qc.ownerDocument,this.namespaceURI=Qc.namespaceURI,this._next=null,this._parent=Qc,this.__data__=ef}EnterNode.prototype={constructor:EnterNode,appendChild:function(Qc){return this._parent.insertBefore(Qc,this._next)},insertBefore:function(Qc,ef){return this._parent.insertBefore(Qc,ef)},querySelector:function(Qc){return this._parent.querySelector(Qc)},querySelectorAll:function(Qc){return this._parent.querySelectorAll(Qc)}};function constant$1(Qc){return function(){return Qc}}function bindIndex(Qc,ef,tf,nf,rf,sf){for(var af=0,lf,cf=ef.length,uf=sf.length;af<uf;++af)(lf=ef[af])?(lf.__data__=sf[af],nf[af]=lf):tf[af]=new EnterNode(Qc,sf[af]);for(;af<cf;++af)(lf=ef[af])&&(rf[af]=lf)}function bindKey(Qc,ef,tf,nf,rf,sf,af){var lf,cf,uf=new Map,ff=ef.length,df=sf.length,gf=new Array(ff),_f;for(lf=0;lf<ff;++lf)(cf=ef[lf])&&(gf[lf]=_f=af.call(cf,cf.__data__,lf,ef)+"",uf.has(_f)?rf[lf]=cf:uf.set(_f,cf));for(lf=0;lf<df;++lf)_f=af.call(Qc,sf[lf],lf,sf)+"",(cf=uf.get(_f))?(nf[lf]=cf,cf.__data__=sf[lf],uf.delete(_f)):tf[lf]=new EnterNode(Qc,sf[lf]);for(lf=0;lf<ff;++lf)(cf=ef[lf])&&uf.get(gf[lf])===cf&&(rf[lf]=cf)}function datum(Qc){return Qc.__data__}function selection_data(Qc,ef){if(!arguments.length)return Array.from(this,datum);var tf=ef?bindKey:bindIndex,nf=this._parents,rf=this._groups;typeof Qc!="function"&&(Qc=constant$1(Qc));for(var sf=rf.length,af=new Array(sf),lf=new Array(sf),cf=new Array(sf),uf=0;uf<sf;++uf){var ff=nf[uf],df=rf[uf],gf=df.length,_f=arraylike(Qc.call(ff,ff&&ff.__data__,uf,nf)),xf=_f.length,Af=lf[uf]=new Array(xf),Df=af[uf]=new Array(xf),Of=cf[uf]=new Array(gf);tf(ff,df,Af,Df,Of,_f,ef);for(var Gf=0,Bf=0,Vf,Lf;Gf<xf;++Gf)if(Vf=Af[Gf]){for(Gf>=Bf&&(Bf=Gf+1);!(Lf=Df[Bf])&&++Bf<xf;);Vf._next=Lf||null}}return af=new Selection$1(af,nf),af._enter=lf,af._exit=cf,af}function arraylike(Qc){return typeof Qc=="object"&&"length"in Qc?Qc:Array.from(Qc)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(Qc,ef,tf){var nf=this.enter(),rf=this,sf=this.exit();return typeof Qc=="function"?(nf=Qc(nf),nf&&(nf=nf.selection())):nf=nf.append(Qc+""),ef!=null&&(rf=ef(rf),rf&&(rf=rf.selection())),tf==null?sf.remove():tf(sf),nf&&rf?nf.merge(rf).order():rf}function selection_merge(Qc){for(var ef=Qc.selection?Qc.selection():Qc,tf=this._groups,nf=ef._groups,rf=tf.length,sf=nf.length,af=Math.min(rf,sf),lf=new Array(rf),cf=0;cf<af;++cf)for(var uf=tf[cf],ff=nf[cf],df=uf.length,gf=lf[cf]=new Array(df),_f,xf=0;xf<df;++xf)(_f=uf[xf]||ff[xf])&&(gf[xf]=_f);for(;cf<rf;++cf)lf[cf]=tf[cf];return new Selection$1(lf,this._parents)}function selection_order(){for(var Qc=this._groups,ef=-1,tf=Qc.length;++ef<tf;)for(var nf=Qc[ef],rf=nf.length-1,sf=nf[rf],af;--rf>=0;)(af=nf[rf])&&(sf&&af.compareDocumentPosition(sf)^4&&sf.parentNode.insertBefore(af,sf),sf=af);return this}function selection_sort(Qc){Qc||(Qc=ascending);function ef(df,gf){return df&&gf?Qc(df.__data__,gf.__data__):!df-!gf}for(var tf=this._groups,nf=tf.length,rf=new Array(nf),sf=0;sf<nf;++sf){for(var af=tf[sf],lf=af.length,cf=rf[sf]=new Array(lf),uf,ff=0;ff<lf;++ff)(uf=af[ff])&&(cf[ff]=uf);cf.sort(ef)}return new Selection$1(rf,this._parents).order()}function ascending(Qc,ef){return Qc<ef?-1:Qc>ef?1:Qc>=ef?0:NaN}function selection_call(){var Qc=arguments[0];return arguments[0]=this,Qc.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var Qc=this._groups,ef=0,tf=Qc.length;ef<tf;++ef)for(var nf=Qc[ef],rf=0,sf=nf.length;rf<sf;++rf){var af=nf[rf];if(af)return af}return null}function selection_size(){let Qc=0;for(const ef of this)++Qc;return Qc}function selection_empty(){return!this.node()}function selection_each(Qc){for(var ef=this._groups,tf=0,nf=ef.length;tf<nf;++tf)for(var rf=ef[tf],sf=0,af=rf.length,lf;sf<af;++sf)(lf=rf[sf])&&Qc.call(lf,lf.__data__,sf,rf);return this}function attrRemove$1(Qc){return function(){this.removeAttribute(Qc)}}function attrRemoveNS$1(Qc){return function(){this.removeAttributeNS(Qc.space,Qc.local)}}function attrConstant$1(Qc,ef){return function(){this.setAttribute(Qc,ef)}}function attrConstantNS$1(Qc,ef){return function(){this.setAttributeNS(Qc.space,Qc.local,ef)}}function attrFunction$1(Qc,ef){return function(){var tf=ef.apply(this,arguments);tf==null?this.removeAttribute(Qc):this.setAttribute(Qc,tf)}}function attrFunctionNS$1(Qc,ef){return function(){var tf=ef.apply(this,arguments);tf==null?this.removeAttributeNS(Qc.space,Qc.local):this.setAttributeNS(Qc.space,Qc.local,tf)}}function selection_attr(Qc,ef){var tf=namespace(Qc);if(arguments.length<2){var nf=this.node();return tf.local?nf.getAttributeNS(tf.space,tf.local):nf.getAttribute(tf)}return this.each((ef==null?tf.local?attrRemoveNS$1:attrRemove$1:typeof ef=="function"?tf.local?attrFunctionNS$1:attrFunction$1:tf.local?attrConstantNS$1:attrConstant$1)(tf,ef))}function defaultView(Qc){return Qc.ownerDocument&&Qc.ownerDocument.defaultView||Qc.document&&Qc||Qc.defaultView}function styleRemove$1(Qc){return function(){this.style.removeProperty(Qc)}}function styleConstant$1(Qc,ef,tf){return function(){this.style.setProperty(Qc,ef,tf)}}function styleFunction$1(Qc,ef,tf){return function(){var nf=ef.apply(this,arguments);nf==null?this.style.removeProperty(Qc):this.style.setProperty(Qc,nf,tf)}}function selection_style(Qc,ef,tf){return arguments.length>1?this.each((ef==null?styleRemove$1:typeof ef=="function"?styleFunction$1:styleConstant$1)(Qc,ef,tf??"")):styleValue(this.node(),Qc)}function styleValue(Qc,ef){return Qc.style.getPropertyValue(ef)||defaultView(Qc).getComputedStyle(Qc,null).getPropertyValue(ef)}function propertyRemove(Qc){return function(){delete this[Qc]}}function propertyConstant(Qc,ef){return function(){this[Qc]=ef}}function propertyFunction(Qc,ef){return function(){var tf=ef.apply(this,arguments);tf==null?delete this[Qc]:this[Qc]=tf}}function selection_property(Qc,ef){return arguments.length>1?this.each((ef==null?propertyRemove:typeof ef=="function"?propertyFunction:propertyConstant)(Qc,ef)):this.node()[Qc]}function classArray(Qc){return Qc.trim().split(/^|\s+/)}function classList(Qc){return Qc.classList||new ClassList(Qc)}function ClassList(Qc){this._node=Qc,this._names=classArray(Qc.getAttribute("class")||"")}ClassList.prototype={add:function(Qc){var ef=this._names.indexOf(Qc);ef<0&&(this._names.push(Qc),this._node.setAttribute("class",this._names.join(" ")))},remove:function(Qc){var ef=this._names.indexOf(Qc);ef>=0&&(this._names.splice(ef,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(Qc){return this._names.indexOf(Qc)>=0}};function classedAdd(Qc,ef){for(var tf=classList(Qc),nf=-1,rf=ef.length;++nf<rf;)tf.add(ef[nf])}function classedRemove(Qc,ef){for(var tf=classList(Qc),nf=-1,rf=ef.length;++nf<rf;)tf.remove(ef[nf])}function classedTrue(Qc){return function(){classedAdd(this,Qc)}}function classedFalse(Qc){return function(){classedRemove(this,Qc)}}function classedFunction(Qc,ef){return function(){(ef.apply(this,arguments)?classedAdd:classedRemove)(this,Qc)}}function selection_classed(Qc,ef){var tf=classArray(Qc+"");if(arguments.length<2){for(var nf=classList(this.node()),rf=-1,sf=tf.length;++rf<sf;)if(!nf.contains(tf[rf]))return!1;return!0}return this.each((typeof ef=="function"?classedFunction:ef?classedTrue:classedFalse)(tf,ef))}function textRemove(){this.textContent=""}function textConstant$1(Qc){return function(){this.textContent=Qc}}function textFunction$1(Qc){return function(){var ef=Qc.apply(this,arguments);this.textContent=ef??""}}function selection_text(Qc){return arguments.length?this.each(Qc==null?textRemove:(typeof Qc=="function"?textFunction$1:textConstant$1)(Qc)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(Qc){return function(){this.innerHTML=Qc}}function htmlFunction(Qc){return function(){var ef=Qc.apply(this,arguments);this.innerHTML=ef??""}}function selection_html(Qc){return arguments.length?this.each(Qc==null?htmlRemove:(typeof Qc=="function"?htmlFunction:htmlConstant)(Qc)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(Qc){var ef=typeof Qc=="function"?Qc:creator(Qc);return this.select(function(){return this.appendChild(ef.apply(this,arguments))})}function constantNull(){return null}function selection_insert(Qc,ef){var tf=typeof Qc=="function"?Qc:creator(Qc),nf=ef==null?constantNull:typeof ef=="function"?ef:selector(ef);return this.select(function(){return this.insertBefore(tf.apply(this,arguments),nf.apply(this,arguments)||null)})}function remove(){var Qc=this.parentNode;Qc&&Qc.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var Qc=this.cloneNode(!1),ef=this.parentNode;return ef?ef.insertBefore(Qc,this.nextSibling):Qc}function selection_cloneDeep(){var Qc=this.cloneNode(!0),ef=this.parentNode;return ef?ef.insertBefore(Qc,this.nextSibling):Qc}function selection_clone(Qc){return this.select(Qc?selection_cloneDeep:selection_cloneShallow)}function selection_datum(Qc){return arguments.length?this.property("__data__",Qc):this.node().__data__}function contextListener(Qc){return function(ef){Qc.call(this,ef,this.__data__)}}function parseTypenames(Qc){return Qc.trim().split(/^|\s+/).map(function(ef){var tf="",nf=ef.indexOf(".");return nf>=0&&(tf=ef.slice(nf+1),ef=ef.slice(0,nf)),{type:ef,name:tf}})}function onRemove(Qc){return function(){var ef=this.__on;if(ef){for(var tf=0,nf=-1,rf=ef.length,sf;tf<rf;++tf)sf=ef[tf],(!Qc.type||sf.type===Qc.type)&&sf.name===Qc.name?this.removeEventListener(sf.type,sf.listener,sf.options):ef[++nf]=sf;++nf?ef.length=nf:delete this.__on}}}function onAdd(Qc,ef,tf){return function(){var nf=this.__on,rf,sf=contextListener(ef);if(nf){for(var af=0,lf=nf.length;af<lf;++af)if((rf=nf[af]).type===Qc.type&&rf.name===Qc.name){this.removeEventListener(rf.type,rf.listener,rf.options),this.addEventListener(rf.type,rf.listener=sf,rf.options=tf),rf.value=ef;return}}this.addEventListener(Qc.type,sf,tf),rf={type:Qc.type,name:Qc.name,value:ef,listener:sf,options:tf},nf?nf.push(rf):this.__on=[rf]}}function selection_on(Qc,ef,tf){var nf=parseTypenames(Qc+""),rf,sf=nf.length,af;if(arguments.length<2){var lf=this.node().__on;if(lf){for(var cf=0,uf=lf.length,ff;cf<uf;++cf)for(rf=0,ff=lf[cf];rf<sf;++rf)if((af=nf[rf]).type===ff.type&&af.name===ff.name)return ff.value}return}for(lf=ef?onAdd:onRemove,rf=0;rf<sf;++rf)this.each(lf(nf[rf],ef,tf));return this}function dispatchEvent(Qc,ef,tf){var nf=defaultView(Qc),rf=nf.CustomEvent;typeof rf=="function"?rf=new rf(ef,tf):(rf=nf.document.createEvent("Event"),tf?(rf.initEvent(ef,tf.bubbles,tf.cancelable),rf.detail=tf.detail):rf.initEvent(ef,!1,!1)),Qc.dispatchEvent(rf)}function dispatchConstant(Qc,ef){return function(){return dispatchEvent(this,Qc,ef)}}function dispatchFunction(Qc,ef){return function(){return dispatchEvent(this,Qc,ef.apply(this,arguments))}}function selection_dispatch(Qc,ef){return this.each((typeof ef=="function"?dispatchFunction:dispatchConstant)(Qc,ef))}function*selection_iterator(){for(var Qc=this._groups,ef=0,tf=Qc.length;ef<tf;++ef)for(var nf=Qc[ef],rf=0,sf=nf.length,af;rf<sf;++rf)(af=nf[rf])&&(yield af)}var root=[null];function Selection$1(Qc,ef){this._groups=Qc,this._parents=ef}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function define$1(Qc,ef,tf){Qc.prototype=ef.prototype=tf,tf.constructor=Qc}function extend(Qc,ef){var tf=Object.create(Qc.prototype);for(var nf in ef)tf[nf]=ef[nf];return tf}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$1(Color,color,{copy(Qc){return Object.assign(new this.constructor,this,Qc)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(Qc){var ef,tf;return Qc=(Qc+"").trim().toLowerCase(),(ef=reHex.exec(Qc))?(tf=ef[1].length,ef=parseInt(ef[1],16),tf===6?rgbn(ef):tf===3?new Rgb(ef>>8&15|ef>>4&240,ef>>4&15|ef&240,(ef&15)<<4|ef&15,1):tf===8?rgba(ef>>24&255,ef>>16&255,ef>>8&255,(ef&255)/255):tf===4?rgba(ef>>12&15|ef>>8&240,ef>>8&15|ef>>4&240,ef>>4&15|ef&240,((ef&15)<<4|ef&15)/255):null):(ef=reRgbInteger.exec(Qc))?new Rgb(ef[1],ef[2],ef[3],1):(ef=reRgbPercent.exec(Qc))?new Rgb(ef[1]*255/100,ef[2]*255/100,ef[3]*255/100,1):(ef=reRgbaInteger.exec(Qc))?rgba(ef[1],ef[2],ef[3],ef[4]):(ef=reRgbaPercent.exec(Qc))?rgba(ef[1]*255/100,ef[2]*255/100,ef[3]*255/100,ef[4]):(ef=reHslPercent.exec(Qc))?hsla(ef[1],ef[2]/100,ef[3]/100,1):(ef=reHslaPercent.exec(Qc))?hsla(ef[1],ef[2]/100,ef[3]/100,ef[4]):named.hasOwnProperty(Qc)?rgbn(named[Qc]):Qc==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(Qc){return new Rgb(Qc>>16&255,Qc>>8&255,Qc&255,1)}function rgba(Qc,ef,tf,nf){return nf<=0&&(Qc=ef=tf=NaN),new Rgb(Qc,ef,tf,nf)}function rgbConvert(Qc){return Qc instanceof Color||(Qc=color(Qc)),Qc?(Qc=Qc.rgb(),new Rgb(Qc.r,Qc.g,Qc.b,Qc.opacity)):new Rgb}function rgb(Qc,ef,tf,nf){return arguments.length===1?rgbConvert(Qc):new Rgb(Qc,ef,tf,nf??1)}function Rgb(Qc,ef,tf,nf){this.r=+Qc,this.g=+ef,this.b=+tf,this.opacity=+nf}define$1(Rgb,rgb,extend(Color,{brighter(Qc){return Qc=Qc==null?brighter:Math.pow(brighter,Qc),new Rgb(this.r*Qc,this.g*Qc,this.b*Qc,this.opacity)},darker(Qc){return Qc=Qc==null?darker:Math.pow(darker,Qc),new Rgb(this.r*Qc,this.g*Qc,this.b*Qc,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const Qc=clampa(this.opacity);return`${Qc===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${Qc===1?")":`, ${Qc})`}`}function clampa(Qc){return isNaN(Qc)?1:Math.max(0,Math.min(1,Qc))}function clampi(Qc){return Math.max(0,Math.min(255,Math.round(Qc)||0))}function hex(Qc){return Qc=clampi(Qc),(Qc<16?"0":"")+Qc.toString(16)}function hsla(Qc,ef,tf,nf){return nf<=0?Qc=ef=tf=NaN:tf<=0||tf>=1?Qc=ef=NaN:ef<=0&&(Qc=NaN),new Hsl(Qc,ef,tf,nf)}function hslConvert(Qc){if(Qc instanceof Hsl)return new Hsl(Qc.h,Qc.s,Qc.l,Qc.opacity);if(Qc instanceof Color||(Qc=color(Qc)),!Qc)return new Hsl;if(Qc instanceof Hsl)return Qc;Qc=Qc.rgb();var ef=Qc.r/255,tf=Qc.g/255,nf=Qc.b/255,rf=Math.min(ef,tf,nf),sf=Math.max(ef,tf,nf),af=NaN,lf=sf-rf,cf=(sf+rf)/2;return lf?(ef===sf?af=(tf-nf)/lf+(tf<nf)*6:tf===sf?af=(nf-ef)/lf+2:af=(ef-tf)/lf+4,lf/=cf<.5?sf+rf:2-sf-rf,af*=60):lf=cf>0&&cf<1?0:af,new Hsl(af,lf,cf,Qc.opacity)}function hsl(Qc,ef,tf,nf){return arguments.length===1?hslConvert(Qc):new Hsl(Qc,ef,tf,nf??1)}function Hsl(Qc,ef,tf,nf){this.h=+Qc,this.s=+ef,this.l=+tf,this.opacity=+nf}define$1(Hsl,hsl,extend(Color,{brighter(Qc){return Qc=Qc==null?brighter:Math.pow(brighter,Qc),new Hsl(this.h,this.s,this.l*Qc,this.opacity)},darker(Qc){return Qc=Qc==null?darker:Math.pow(darker,Qc),new Hsl(this.h,this.s,this.l*Qc,this.opacity)},rgb(){var Qc=this.h%360+(this.h<0)*360,ef=isNaN(Qc)||isNaN(this.s)?0:this.s,tf=this.l,nf=tf+(tf<.5?tf:1-tf)*ef,rf=2*tf-nf;return new Rgb(hsl2rgb(Qc>=240?Qc-240:Qc+120,rf,nf),hsl2rgb(Qc,rf,nf),hsl2rgb(Qc<120?Qc+240:Qc-120,rf,nf),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const Qc=clampa(this.opacity);return`${Qc===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${Qc===1?")":`, ${Qc})`}`}}));function clamph(Qc){return Qc=(Qc||0)%360,Qc<0?Qc+360:Qc}function clampt(Qc){return Math.max(0,Math.min(1,Qc||0))}function hsl2rgb(Qc,ef,tf){return(Qc<60?ef+(tf-ef)*Qc/60:Qc<180?tf:Qc<240?ef+(tf-ef)*(240-Qc)/60:ef)*255}const constant=Qc=>()=>Qc;function linear(Qc,ef){return function(tf){return Qc+tf*ef}}function exponential(Qc,ef,tf){return Qc=Math.pow(Qc,tf),ef=Math.pow(ef,tf)-Qc,tf=1/tf,function(nf){return Math.pow(Qc+nf*ef,tf)}}function gamma(Qc){return(Qc=+Qc)==1?nogamma:function(ef,tf){return tf-ef?exponential(ef,tf,Qc):constant(isNaN(ef)?tf:ef)}}function nogamma(Qc,ef){var tf=ef-Qc;return tf?linear(Qc,tf):constant(isNaN(Qc)?ef:Qc)}const interpolateRgb=function Qc(ef){var tf=gamma(ef);function nf(rf,sf){var af=tf((rf=rgb(rf)).r,(sf=rgb(sf)).r),lf=tf(rf.g,sf.g),cf=tf(rf.b,sf.b),uf=nogamma(rf.opacity,sf.opacity);return function(ff){return rf.r=af(ff),rf.g=lf(ff),rf.b=cf(ff),rf.opacity=uf(ff),rf+""}}return nf.gamma=Qc,nf}(1);function interpolateNumber(Qc,ef){return Qc=+Qc,ef=+ef,function(tf){return Qc*(1-tf)+ef*tf}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(Qc){return function(){return Qc}}function one(Qc){return function(ef){return Qc(ef)+""}}function interpolateString(Qc,ef){var tf=reA.lastIndex=reB.lastIndex=0,nf,rf,sf,af=-1,lf=[],cf=[];for(Qc=Qc+"",ef=ef+"";(nf=reA.exec(Qc))&&(rf=reB.exec(ef));)(sf=rf.index)>tf&&(sf=ef.slice(tf,sf),lf[af]?lf[af]+=sf:lf[++af]=sf),(nf=nf[0])===(rf=rf[0])?lf[af]?lf[af]+=rf:lf[++af]=rf:(lf[++af]=null,cf.push({i:af,x:interpolateNumber(nf,rf)})),tf=reB.lastIndex;return tf<ef.length&&(sf=ef.slice(tf),lf[af]?lf[af]+=sf:lf[++af]=sf),lf.length<2?cf[0]?one(cf[0].x):zero(ef):(ef=cf.length,function(uf){for(var ff=0,df;ff<ef;++ff)lf[(df=cf[ff]).i]=df.x(uf);return lf.join("")})}var degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(Qc,ef,tf,nf,rf,sf){var af,lf,cf;return(af=Math.sqrt(Qc*Qc+ef*ef))&&(Qc/=af,ef/=af),(cf=Qc*tf+ef*nf)&&(tf-=Qc*cf,nf-=ef*cf),(lf=Math.sqrt(tf*tf+nf*nf))&&(tf/=lf,nf/=lf,cf/=lf),Qc*nf<ef*tf&&(Qc=-Qc,ef=-ef,cf=-cf,af=-af),{translateX:rf,translateY:sf,rotate:Math.atan2(ef,Qc)*degrees,skewX:Math.atan(cf)*degrees,scaleX:af,scaleY:lf}}var svgNode;function parseCss(Qc){const ef=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(Qc+"");return ef.isIdentity?identity:decompose(ef.a,ef.b,ef.c,ef.d,ef.e,ef.f)}function parseSvg(Qc){return Qc==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",Qc),!(Qc=svgNode.transform.baseVal.consolidate()))?identity:(Qc=Qc.matrix,decompose(Qc.a,Qc.b,Qc.c,Qc.d,Qc.e,Qc.f))}function interpolateTransform(Qc,ef,tf,nf){function rf(uf){return uf.length?uf.pop()+" ":""}function sf(uf,ff,df,gf,_f,xf){if(uf!==df||ff!==gf){var Af=_f.push("translate(",null,ef,null,tf);xf.push({i:Af-4,x:interpolateNumber(uf,df)},{i:Af-2,x:interpolateNumber(ff,gf)})}else(df||gf)&&_f.push("translate("+df+ef+gf+tf)}function af(uf,ff,df,gf){uf!==ff?(uf-ff>180?ff+=360:ff-uf>180&&(uf+=360),gf.push({i:df.push(rf(df)+"rotate(",null,nf)-2,x:interpolateNumber(uf,ff)})):ff&&df.push(rf(df)+"rotate("+ff+nf)}function lf(uf,ff,df,gf){uf!==ff?gf.push({i:df.push(rf(df)+"skewX(",null,nf)-2,x:interpolateNumber(uf,ff)}):ff&&df.push(rf(df)+"skewX("+ff+nf)}function cf(uf,ff,df,gf,_f,xf){if(uf!==df||ff!==gf){var Af=_f.push(rf(_f)+"scale(",null,",",null,")");xf.push({i:Af-4,x:interpolateNumber(uf,df)},{i:Af-2,x:interpolateNumber(ff,gf)})}else(df!==1||gf!==1)&&_f.push(rf(_f)+"scale("+df+","+gf+")")}return function(uf,ff){var df=[],gf=[];return uf=Qc(uf),ff=Qc(ff),sf(uf.translateX,uf.translateY,ff.translateX,ff.translateY,df,gf),af(uf.rotate,ff.rotate,df,gf),lf(uf.skewX,ff.skewX,df,gf),cf(uf.scaleX,uf.scaleY,ff.scaleX,ff.scaleY,df,gf),uf=ff=null,function(_f){for(var xf=-1,Af=gf.length,Df;++xf<Af;)df[(Df=gf[xf]).i]=Df.x(_f);return df.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Qc){setTimeout(Qc,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(Qc,ef,tf){if(typeof Qc!="function")throw new TypeError("callback is not a function");tf=(tf==null?now():+tf)+(ef==null?0:+ef),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=Qc,this._time=tf,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(Qc,ef,tf){var nf=new Timer;return nf.restart(Qc,ef,tf),nf}function timerFlush(){now(),++frame;for(var Qc=taskHead,ef;Qc;)(ef=clockNow-Qc._time)>=0&&Qc._call.call(void 0,ef),Qc=Qc._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var Qc=clock.now(),ef=Qc-clockLast;ef>pokeDelay&&(clockSkew-=ef,clockLast=Qc)}function nap(){for(var Qc,ef=taskHead,tf,nf=1/0;ef;)ef._call?(nf>ef._time&&(nf=ef._time),Qc=ef,ef=ef._next):(tf=ef._next,ef._next=null,ef=Qc?Qc._next=tf:taskHead=tf);taskTail=Qc,sleep(nf)}function sleep(Qc){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var ef=Qc-clockNow;ef>24?(Qc<1/0&&(timeout$1=setTimeout(wake,Qc-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(Qc,ef,tf){var nf=new Timer;return ef=ef==null?0:+ef,nf.restart(rf=>{nf.stop(),Qc(rf+ef)},ef,tf),nf}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(Qc,ef,tf,nf,rf,sf){var af=Qc.__transition;if(!af)Qc.__transition={};else if(tf in af)return;create(Qc,tf,{name:ef,index:nf,group:rf,on:emptyOn,tween:emptyTween,time:sf.time,delay:sf.delay,duration:sf.duration,ease:sf.ease,timer:null,state:CREATED})}function init(Qc,ef){var tf=get(Qc,ef);if(tf.state>CREATED)throw new Error("too late; already scheduled");return tf}function set(Qc,ef){var tf=get(Qc,ef);if(tf.state>STARTED)throw new Error("too late; already running");return tf}function get(Qc,ef){var tf=Qc.__transition;if(!tf||!(tf=tf[ef]))throw new Error("transition not found");return tf}function create(Qc,ef,tf){var nf=Qc.__transition,rf;nf[ef]=tf,tf.timer=timer(sf,0,tf.time);function sf(uf){tf.state=SCHEDULED,tf.timer.restart(af,tf.delay,tf.time),tf.delay<=uf&&af(uf-tf.delay)}function af(uf){var ff,df,gf,_f;if(tf.state!==SCHEDULED)return cf();for(ff in nf)if(_f=nf[ff],_f.name===tf.name){if(_f.state===STARTED)return timeout(af);_f.state===RUNNING?(_f.state=ENDED,_f.timer.stop(),_f.on.call("interrupt",Qc,Qc.__data__,_f.index,_f.group),delete nf[ff]):+ff<ef&&(_f.state=ENDED,_f.timer.stop(),_f.on.call("cancel",Qc,Qc.__data__,_f.index,_f.group),delete nf[ff])}if(timeout(function(){tf.state===STARTED&&(tf.state=RUNNING,tf.timer.restart(lf,tf.delay,tf.time),lf(uf))}),tf.state=STARTING,tf.on.call("start",Qc,Qc.__data__,tf.index,tf.group),tf.state===STARTING){for(tf.state=STARTED,rf=new Array(gf=tf.tween.length),ff=0,df=-1;ff<gf;++ff)(_f=tf.tween[ff].value.call(Qc,Qc.__data__,tf.index,tf.group))&&(rf[++df]=_f);rf.length=df+1}}function lf(uf){for(var ff=uf<tf.duration?tf.ease.call(null,uf/tf.duration):(tf.timer.restart(cf),tf.state=ENDING,1),df=-1,gf=rf.length;++df<gf;)rf[df].call(Qc,ff);tf.state===ENDING&&(tf.on.call("end",Qc,Qc.__data__,tf.index,tf.group),cf())}function cf(){tf.state=ENDED,tf.timer.stop(),delete nf[ef];for(var uf in nf)return;delete Qc.__transition}}function interrupt(Qc,ef){var tf=Qc.__transition,nf,rf,sf=!0,af;if(tf){ef=ef==null?null:ef+"";for(af in tf){if((nf=tf[af]).name!==ef){sf=!1;continue}rf=nf.state>STARTING&&nf.state<ENDING,nf.state=ENDED,nf.timer.stop(),nf.on.call(rf?"interrupt":"cancel",Qc,Qc.__data__,nf.index,nf.group),delete tf[af]}sf&&delete Qc.__transition}}function selection_interrupt(Qc){return this.each(function(){interrupt(this,Qc)})}function tweenRemove(Qc,ef){var tf,nf;return function(){var rf=set(this,Qc),sf=rf.tween;if(sf!==tf){nf=tf=sf;for(var af=0,lf=nf.length;af<lf;++af)if(nf[af].name===ef){nf=nf.slice(),nf.splice(af,1);break}}rf.tween=nf}}function tweenFunction(Qc,ef,tf){var nf,rf;if(typeof tf!="function")throw new Error;return function(){var sf=set(this,Qc),af=sf.tween;if(af!==nf){rf=(nf=af).slice();for(var lf={name:ef,value:tf},cf=0,uf=rf.length;cf<uf;++cf)if(rf[cf].name===ef){rf[cf]=lf;break}cf===uf&&rf.push(lf)}sf.tween=rf}}function transition_tween(Qc,ef){var tf=this._id;if(Qc+="",arguments.length<2){for(var nf=get(this.node(),tf).tween,rf=0,sf=nf.length,af;rf<sf;++rf)if((af=nf[rf]).name===Qc)return af.value;return null}return this.each((ef==null?tweenRemove:tweenFunction)(tf,Qc,ef))}function tweenValue(Qc,ef,tf){var nf=Qc._id;return Qc.each(function(){var rf=set(this,nf);(rf.value||(rf.value={}))[ef]=tf.apply(this,arguments)}),function(rf){return get(rf,nf).value[ef]}}function interpolate(Qc,ef){var tf;return(typeof ef=="number"?interpolateNumber:ef instanceof color?interpolateRgb:(tf=color(ef))?(ef=tf,interpolateRgb):interpolateString)(Qc,ef)}function attrRemove(Qc){return function(){this.removeAttribute(Qc)}}function attrRemoveNS(Qc){return function(){this.removeAttributeNS(Qc.space,Qc.local)}}function attrConstant(Qc,ef,tf){var nf,rf=tf+"",sf;return function(){var af=this.getAttribute(Qc);return af===rf?null:af===nf?sf:sf=ef(nf=af,tf)}}function attrConstantNS(Qc,ef,tf){var nf,rf=tf+"",sf;return function(){var af=this.getAttributeNS(Qc.space,Qc.local);return af===rf?null:af===nf?sf:sf=ef(nf=af,tf)}}function attrFunction(Qc,ef,tf){var nf,rf,sf;return function(){var af,lf=tf(this),cf;return lf==null?void this.removeAttribute(Qc):(af=this.getAttribute(Qc),cf=lf+"",af===cf?null:af===nf&&cf===rf?sf:(rf=cf,sf=ef(nf=af,lf)))}}function attrFunctionNS(Qc,ef,tf){var nf,rf,sf;return function(){var af,lf=tf(this),cf;return lf==null?void this.removeAttributeNS(Qc.space,Qc.local):(af=this.getAttributeNS(Qc.space,Qc.local),cf=lf+"",af===cf?null:af===nf&&cf===rf?sf:(rf=cf,sf=ef(nf=af,lf)))}}function transition_attr(Qc,ef){var tf=namespace(Qc),nf=tf==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(Qc,typeof ef=="function"?(tf.local?attrFunctionNS:attrFunction)(tf,nf,tweenValue(this,"attr."+Qc,ef)):ef==null?(tf.local?attrRemoveNS:attrRemove)(tf):(tf.local?attrConstantNS:attrConstant)(tf,nf,ef))}function attrInterpolate(Qc,ef){return function(tf){this.setAttribute(Qc,ef.call(this,tf))}}function attrInterpolateNS(Qc,ef){return function(tf){this.setAttributeNS(Qc.space,Qc.local,ef.call(this,tf))}}function attrTweenNS(Qc,ef){var tf,nf;function rf(){var sf=ef.apply(this,arguments);return sf!==nf&&(tf=(nf=sf)&&attrInterpolateNS(Qc,sf)),tf}return rf._value=ef,rf}function attrTween(Qc,ef){var tf,nf;function rf(){var sf=ef.apply(this,arguments);return sf!==nf&&(tf=(nf=sf)&&attrInterpolate(Qc,sf)),tf}return rf._value=ef,rf}function transition_attrTween(Qc,ef){var tf="attr."+Qc;if(arguments.length<2)return(tf=this.tween(tf))&&tf._value;if(ef==null)return this.tween(tf,null);if(typeof ef!="function")throw new Error;var nf=namespace(Qc);return this.tween(tf,(nf.local?attrTweenNS:attrTween)(nf,ef))}function delayFunction(Qc,ef){return function(){init(this,Qc).delay=+ef.apply(this,arguments)}}function delayConstant(Qc,ef){return ef=+ef,function(){init(this,Qc).delay=ef}}function transition_delay(Qc){var ef=this._id;return arguments.length?this.each((typeof Qc=="function"?delayFunction:delayConstant)(ef,Qc)):get(this.node(),ef).delay}function durationFunction(Qc,ef){return function(){set(this,Qc).duration=+ef.apply(this,arguments)}}function durationConstant(Qc,ef){return ef=+ef,function(){set(this,Qc).duration=ef}}function transition_duration(Qc){var ef=this._id;return arguments.length?this.each((typeof Qc=="function"?durationFunction:durationConstant)(ef,Qc)):get(this.node(),ef).duration}function easeConstant(Qc,ef){if(typeof ef!="function")throw new Error;return function(){set(this,Qc).ease=ef}}function transition_ease(Qc){var ef=this._id;return arguments.length?this.each(easeConstant(ef,Qc)):get(this.node(),ef).ease}function easeVarying(Qc,ef){return function(){var tf=ef.apply(this,arguments);if(typeof tf!="function")throw new Error;set(this,Qc).ease=tf}}function transition_easeVarying(Qc){if(typeof Qc!="function")throw new Error;return this.each(easeVarying(this._id,Qc))}function transition_filter(Qc){typeof Qc!="function"&&(Qc=matcher(Qc));for(var ef=this._groups,tf=ef.length,nf=new Array(tf),rf=0;rf<tf;++rf)for(var sf=ef[rf],af=sf.length,lf=nf[rf]=[],cf,uf=0;uf<af;++uf)(cf=sf[uf])&&Qc.call(cf,cf.__data__,uf,sf)&&lf.push(cf);return new Transition(nf,this._parents,this._name,this._id)}function transition_merge(Qc){if(Qc._id!==this._id)throw new Error;for(var ef=this._groups,tf=Qc._groups,nf=ef.length,rf=tf.length,sf=Math.min(nf,rf),af=new Array(nf),lf=0;lf<sf;++lf)for(var cf=ef[lf],uf=tf[lf],ff=cf.length,df=af[lf]=new Array(ff),gf,_f=0;_f<ff;++_f)(gf=cf[_f]||uf[_f])&&(df[_f]=gf);for(;lf<nf;++lf)af[lf]=ef[lf];return new Transition(af,this._parents,this._name,this._id)}function start(Qc){return(Qc+"").trim().split(/^|\s+/).every(function(ef){var tf=ef.indexOf(".");return tf>=0&&(ef=ef.slice(0,tf)),!ef||ef==="start"})}function onFunction(Qc,ef,tf){var nf,rf,sf=start(ef)?init:set;return function(){var af=sf(this,Qc),lf=af.on;lf!==nf&&(rf=(nf=lf).copy()).on(ef,tf),af.on=rf}}function transition_on(Qc,ef){var tf=this._id;return arguments.length<2?get(this.node(),tf).on.on(Qc):this.each(onFunction(tf,Qc,ef))}function removeFunction(Qc){return function(){var ef=this.parentNode;for(var tf in this.__transition)if(+tf!==Qc)return;ef&&ef.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(Qc){var ef=this._name,tf=this._id;typeof Qc!="function"&&(Qc=selector(Qc));for(var nf=this._groups,rf=nf.length,sf=new Array(rf),af=0;af<rf;++af)for(var lf=nf[af],cf=lf.length,uf=sf[af]=new Array(cf),ff,df,gf=0;gf<cf;++gf)(ff=lf[gf])&&(df=Qc.call(ff,ff.__data__,gf,lf))&&("__data__"in ff&&(df.__data__=ff.__data__),uf[gf]=df,schedule(uf[gf],ef,tf,gf,uf,get(ff,tf)));return new Transition(sf,this._parents,ef,tf)}function transition_selectAll(Qc){var ef=this._name,tf=this._id;typeof Qc!="function"&&(Qc=selectorAll(Qc));for(var nf=this._groups,rf=nf.length,sf=[],af=[],lf=0;lf<rf;++lf)for(var cf=nf[lf],uf=cf.length,ff,df=0;df<uf;++df)if(ff=cf[df]){for(var gf=Qc.call(ff,ff.__data__,df,cf),_f,xf=get(ff,tf),Af=0,Df=gf.length;Af<Df;++Af)(_f=gf[Af])&&schedule(_f,ef,tf,Af,gf,xf);sf.push(gf),af.push(ff)}return new Transition(sf,af,ef,tf)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(Qc,ef){var tf,nf,rf;return function(){var sf=styleValue(this,Qc),af=(this.style.removeProperty(Qc),styleValue(this,Qc));return sf===af?null:sf===tf&&af===nf?rf:rf=ef(tf=sf,nf=af)}}function styleRemove(Qc){return function(){this.style.removeProperty(Qc)}}function styleConstant(Qc,ef,tf){var nf,rf=tf+"",sf;return function(){var af=styleValue(this,Qc);return af===rf?null:af===nf?sf:sf=ef(nf=af,tf)}}function styleFunction(Qc,ef,tf){var nf,rf,sf;return function(){var af=styleValue(this,Qc),lf=tf(this),cf=lf+"";return lf==null&&(cf=lf=(this.style.removeProperty(Qc),styleValue(this,Qc))),af===cf?null:af===nf&&cf===rf?sf:(rf=cf,sf=ef(nf=af,lf))}}function styleMaybeRemove(Qc,ef){var tf,nf,rf,sf="style."+ef,af="end."+sf,lf;return function(){var cf=set(this,Qc),uf=cf.on,ff=cf.value[sf]==null?lf||(lf=styleRemove(ef)):void 0;(uf!==tf||rf!==ff)&&(nf=(tf=uf).copy()).on(af,rf=ff),cf.on=nf}}function transition_style(Qc,ef,tf){var nf=(Qc+="")=="transform"?interpolateTransformCss:interpolate;return ef==null?this.styleTween(Qc,styleNull(Qc,nf)).on("end.style."+Qc,styleRemove(Qc)):typeof ef=="function"?this.styleTween(Qc,styleFunction(Qc,nf,tweenValue(this,"style."+Qc,ef))).each(styleMaybeRemove(this._id,Qc)):this.styleTween(Qc,styleConstant(Qc,nf,ef),tf).on("end.style."+Qc,null)}function styleInterpolate(Qc,ef,tf){return function(nf){this.style.setProperty(Qc,ef.call(this,nf),tf)}}function styleTween(Qc,ef,tf){var nf,rf;function sf(){var af=ef.apply(this,arguments);return af!==rf&&(nf=(rf=af)&&styleInterpolate(Qc,af,tf)),nf}return sf._value=ef,sf}function transition_styleTween(Qc,ef,tf){var nf="style."+(Qc+="");if(arguments.length<2)return(nf=this.tween(nf))&&nf._value;if(ef==null)return this.tween(nf,null);if(typeof ef!="function")throw new Error;return this.tween(nf,styleTween(Qc,ef,tf??""))}function textConstant(Qc){return function(){this.textContent=Qc}}function textFunction(Qc){return function(){var ef=Qc(this);this.textContent=ef??""}}function transition_text(Qc){return this.tween("text",typeof Qc=="function"?textFunction(tweenValue(this,"text",Qc)):textConstant(Qc==null?"":Qc+""))}function textInterpolate(Qc){return function(ef){this.textContent=Qc.call(this,ef)}}function textTween(Qc){var ef,tf;function nf(){var rf=Qc.apply(this,arguments);return rf!==tf&&(ef=(tf=rf)&&textInterpolate(rf)),ef}return nf._value=Qc,nf}function transition_textTween(Qc){var ef="text";if(arguments.length<1)return(ef=this.tween(ef))&&ef._value;if(Qc==null)return this.tween(ef,null);if(typeof Qc!="function")throw new Error;return this.tween(ef,textTween(Qc))}function transition_transition(){for(var Qc=this._name,ef=this._id,tf=newId(),nf=this._groups,rf=nf.length,sf=0;sf<rf;++sf)for(var af=nf[sf],lf=af.length,cf,uf=0;uf<lf;++uf)if(cf=af[uf]){var ff=get(cf,ef);schedule(cf,Qc,tf,uf,af,{time:ff.time+ff.delay+ff.duration,delay:0,duration:ff.duration,ease:ff.ease})}return new Transition(nf,this._parents,Qc,tf)}function transition_end(){var Qc,ef,tf=this,nf=tf._id,rf=tf.size();return new Promise(function(sf,af){var lf={value:af},cf={value:function(){--rf===0&&sf()}};tf.each(function(){var uf=set(this,nf),ff=uf.on;ff!==Qc&&(ef=(Qc=ff).copy(),ef._.cancel.push(lf),ef._.interrupt.push(lf),ef._.end.push(cf)),uf.on=ef}),rf===0&&sf()})}var id=0;function Transition(Qc,ef,tf,nf){this._groups=Qc,this._parents=ef,this._name=tf,this._id=nf}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(Qc){return((Qc*=2)<=1?Qc*Qc*Qc:(Qc-=2)*Qc*Qc+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(Qc,ef){for(var tf;!(tf=Qc.__transition)||!(tf=tf[ef]);)if(!(Qc=Qc.parentNode))throw new Error(`transition ${ef} not found`);return tf}function selection_transition(Qc){var ef,tf;Qc instanceof Transition?(ef=Qc._id,Qc=Qc._name):(ef=newId(),(tf=defaultTiming).time=now(),Qc=Qc==null?null:Qc+"");for(var nf=this._groups,rf=nf.length,sf=0;sf<rf;++sf)for(var af=nf[sf],lf=af.length,cf,uf=0;uf<lf;++uf)(cf=af[uf])&&schedule(cf,Qc,ef,uf,af,tf||inherit(cf,ef));return new Transition(nf,this._parents,Qc,ef)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;function Transform(Qc,ef,tf){this.k=Qc,this.x=ef,this.y=tf}Transform.prototype={constructor:Transform,scale:function(Qc){return Qc===1?this:new Transform(this.k*Qc,this.x,this.y)},translate:function(Qc,ef){return Qc===0&ef===0?this:new Transform(this.k,this.x+this.k*Qc,this.y+this.k*ef)},apply:function(Qc){return[Qc[0]*this.k+this.x,Qc[1]*this.k+this.y]},applyX:function(Qc){return Qc*this.k+this.x},applyY:function(Qc){return Qc*this.k+this.y},invert:function(Qc){return[(Qc[0]-this.x)/this.k,(Qc[1]-this.y)/this.k]},invertX:function(Qc){return(Qc-this.x)/this.k},invertY:function(Qc){return(Qc-this.y)/this.k},rescaleX:function(Qc){return Qc.copy().domain(Qc.range().map(this.invertX,this).map(Qc.invert,Qc))},rescaleY:function(Qc){return Qc.copy().domain(Qc.range().map(this.invertY,this).map(Qc.invert,Qc))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;typeof String.prototype.replaceAll>"u"&&(String.prototype.replaceAll=function(Qc,ef){return this.replace(new RegExp(Qc,"g"),()=>ef)});$$1(document).ready(function(){useGlobalNodeFunctions(),typeof cordovaApp>"u"&&appReady()});function useGlobalNodeFunctions(){GUI.isNWJS()&&(console.log("Replacing timeout/interval functions with Node versions"),window.setTimeout=global.setTimeout,window.clearTimeout=global.clearTimeout,window.setInterval=global.setInterval,window.clearInterval=global.clearInterval)}function readConfiguratorVersionMetadata(){if(GUI.isNWJS()||GUI.isCordova()){const Qc=chrome.runtime.getManifest();CONFIGURATOR.productName=Qc.productName,CONFIGURATOR.version=Qc.version,CONFIGURATOR.gitRevision=Qc.gitRevision}else CONFIGURATOR.productName="SKYS Config2",CONFIGURATOR.version="1.1.0",CONFIGURATOR.gitRevision=`55e162b
`}function cleanupLocalStorage(){const Qc=["cache","firmware","https","selected_board","unifiedConfigLast","unifiedSourceCache"];for(const ef in localStorage)for(const tf of Qc)ef.includes(tf)&&localStorage.removeItem(ef)}function appReady(){readConfiguratorVersionMetadata(),cleanupLocalStorage(),i18n.init(function(){$$1.ajaxSetup({headers:{"X-CFG-VER":`${CONFIGURATOR.version}`}}),startProcess(),checkSetupAnalytics(function(Qc){Qc.sendEvent(Qc.EVENT_CATEGORIES.APPLICATION,"SelectedLanguage",i18n.selectedLanguage)}),initializeSerialBackend()})}function closeSerial(){const Qc=serial$3.connectionId;if(Qc&&CONFIGURATOR.connectionValid&&!CONFIGURATOR.virtualMode){let ef=new ArrayBuffer(5),tf=new Uint8Array(ef);tf[0]=101,tf[1]=120,tf[2]=105,tf[3]=116,tf[4]=13;const nf=serial$3.connectionType==="serial"?chrome.serial.send:chrome.sockets.tcp.send;nf(Qc,ef,function(){console.log("Send exit")}),setTimeout(function(){ef=new ArrayBuffer(22),tf=new Uint8Array(ef);let rf=0;tf[0]=36,tf[1]=77,tf[2]=60,tf[3]=16,tf[4]=214,rf=tf[3]^tf[4];for(let sf=0;sf<16;sf+=2)tf[sf+5]=FC.MOTOR_CONFIG.mincommand&255,tf[sf+6]=FC.MOTOR_CONFIG.mincommand>>8,rf^=tf[sf+5],rf^=tf[sf+6];tf[5+16]=rf,nf(Qc,ef,function(){serial$3.disconnect()})},100)}else Qc&&serial$3.disconnect()}function closeHandler(){GUI.isCordova()||this.hide(),tracking.sendEvent(tracking.EVENT_CATEGORIES.APPLICATION,"AppClose",{sessionControl:"end"}),closeSerial(),GUI.isCordova()||this.close(!0)}function startProcess(){if(i18n.localizePage(),gui_log(i18n.getMessage("infoVersionOs",{operatingSystem:GUI.operating_system})),gui_log(i18n.getMessage("infoVersionConfigurator",{configuratorVersion:CONFIGURATOR.getDisplayVersion()})),GUI.isNWJS()){const nf=GUI.nwGui.Window.get();nf.on("new-win-policy",function(sf,af,lf){lf.ignore(),GUI.nwGui.Shell.openExternal(af)}),nf.on("close",closeHandler);const rf=get$3("showDevToolsOnStartup");CONFIGURATOR.isDevVersion()&&rf.showDevToolsOnStartup&&nf.showDevTools()}else GUI.isCordova()&&(window.addEventListener("beforeunload",closeHandler),document.addEventListener("backbutton",function(nf){nf.preventDefault(),navigator.notification.confirm(i18n.getMessage("cordovaExitAppMessage"),function(rf){rf===1&&navigator.app.exitApp()},i18n.getMessage("cordovaExitAppTitle"),[i18n.getMessage("yes"),i18n.getMessage("no")])}));$$1(".connect_b a.connect").removeClass("disabled"),GUI.isOther()||checkForConfiguratorUpdates(),document.createElement("canvas"),console.log(`Libraries: jQuery - ${$$1.fn.jquery}, d3 - ${void 0}, three.js - ${REVISION}`),$$1("#tabs ul.mode-connected li").click(function(){const nf=$$1(this).attr("class").split(" ")[0];nf.substring(4)!=="cli"&&set$4({lastTab:nf})}),GUI.isCordova()&&UI_PHONES.init();const Qc=$$1("#tabs > ul");$$1("a",Qc).click(function(){if($$1(this).parent().hasClass("active")===!1&&!GUI.tab_switch_in_progress){const nf=this,rf=$$1(nf).parent().prop("class"),sf=$$1(nf).parent().hasClass("mode-connected"),af=rf.substring(4),lf=$$1(nf).text();if(sf&&!CONFIGURATOR.connectionValid){gui_log(i18n.getMessage("tabSwitchConnectionRequired"));return}if(GUI.connect_lock){gui_log(i18n.getMessage("tabSwitchWaitForOperation"));return}if(GUI.allowedTabs.indexOf(af)<0&&af==="firmware_flasher")GUI.connected_to||GUI.connecting_to?$$1("a.connect").click():serial$3.disconnect(),$$1("div.open_firmware_flasher a.flash").click();else if(GUI.allowedTabs.indexOf(af)<0){gui_log(i18n.getMessage("tabSwitchUpgradeRequired",[lf]));return}GUI.tab_switch_in_progress=!0,GUI.tab_switch_cleanup(function(){$$1("div#flashbutton a.flash_state").hasClass("active")&&$$1("div#flashbutton a.flash").hasClass("active")&&($$1("div#flashbutton a.flash_state").removeClass("active"),$$1("div#flashbutton a.flash").removeClass("active")),$$1("li",Qc).removeClass("active"),$$1(nf).parent().addClass("active");const cf=$$1("#content");cf.empty(),$$1("#cache .data-loading").clone().appendTo(cf);function uf(){GUI.tab_switch_in_progress=!1}switch(checkSetupAnalytics(function(ff){ff.sendAppView(af)}),af){case"landing":__vitePreload(()=>import("./landing-03af82bd.js"),[]).then(({landing:ff})=>ff.initialize(uf));break;case"changelog":__vitePreload(()=>import("./static_tab-da5d8dc4.js"),[]).then(({staticTab:ff})=>ff.initialize("changelog",uf));break;case"privacy_policy":__vitePreload(()=>import("./static_tab-da5d8dc4.js"),[]).then(({staticTab:ff})=>ff.initialize("privacy_policy",uf));break;case"options":__vitePreload(()=>import("./options-350d1470.js"),[]).then(({options:ff})=>ff.initialize(uf));break;case"firmware_flasher":__vitePreload(()=>import("./firmware_flasher-de8a6537.js"),["assets/firmware_flasher-de8a6537.js","assets/generate_filename-ef5ebf28.js"]).then(({firmware_flasher:ff})=>ff.initialize(uf));break;case"help":__vitePreload(()=>import("./help-b6ba4452.js"),[]).then(({help:ff})=>ff.initialize(uf));break;case"auxiliary":__vitePreload(()=>import("./auxiliary-c7a19491.js"),["assets/auxiliary-c7a19491.js","assets/peripherals-b0d6e618.js"]).then(({auxiliary:ff})=>ff.initialize(uf));break;case"adjustments":__vitePreload(()=>import("./adjustments-73d030a1.js"),[]).then(({adjustments:ff})=>ff.initialize(uf));break;case"ports":__vitePreload(()=>import("./ports-45593621.js"),[]).then(({ports:ff})=>ff.initialize(uf));break;case"led_strip":__vitePreload(()=>import("./led_strip-79b6f962.js"),[]).then(({led_strip:ff})=>ff.initialize(uf));break;case"failsafe":__vitePreload(()=>import("./failsafe-95f74791.js"),["assets/failsafe-95f74791.js","assets/peripherals-b0d6e618.js"]).then(({failsafe:ff})=>ff.initialize(uf));break;case"transponder":__vitePreload(()=>import("./transponder-63a6db67.js"),[]).then(({transponder:ff})=>ff.initialize(uf));break;case"osd":__vitePreload(()=>Promise.resolve().then(()=>osd$1),void 0).then(({osd:ff})=>ff.initialize(uf));break;case"vtx":__vitePreload(()=>import("./vtx-ee6dad30.js"),["assets/vtx-ee6dad30.js","assets/generate_filename-ef5ebf28.js","assets/Clipboard-afda6529.js"]).then(({vtx:ff})=>ff.initialize(uf));break;case"power":__vitePreload(()=>import("./power-ca016153.js"),[]).then(({power:ff})=>ff.initialize(uf));break;case"setup":__vitePreload(()=>import("./setup-a223f873.js"),["assets/setup-a223f873.js","assets/generate_filename-ef5ebf28.js"]).then(({setup:ff})=>ff.initialize(uf));break;case"setup_osd":__vitePreload(()=>import("./setup_osd-0ec6ae20.js"),[]).then(({setup_osd:ff})=>ff.initialize(uf));break;case"configuration":__vitePreload(()=>import("./configuration-2c8b081a.js"),[]).then(({configuration:ff})=>ff.initialize(uf));break;case"pid_tuning":__vitePreload(()=>import("./pid_tuning-eaefe475.js"),["assets/pid_tuning-eaefe475.js","assets/RateCurve-9f00eea3.js"]).then(({pid_tuning:ff})=>ff.initialize(uf));break;case"receiver":__vitePreload(()=>import("./receiver-f957e4fa.js"),["assets/receiver-f957e4fa.js","assets/RateCurve-9f00eea3.js","assets/line-11e76e8a.js"]).then(({receiver:ff})=>ff.initialize(uf));break;case"servos":__vitePreload(()=>import("./servos-ee80e07b.js"),[]).then(({servos:ff})=>ff.initialize(uf));break;case"gps":__vitePreload(()=>import("./gps-4771b5b0.js"),[]).then(({gps:ff})=>ff.initialize(uf));break;case"motors":__vitePreload(()=>import("./motors-51879f54.js"),["assets/motors-51879f54.js","assets/line-11e76e8a.js","assets/extent-4cf1c809.js"]).then(({motors:ff})=>ff.initialize(uf));break;case"sensors":__vitePreload(()=>import("./sensors-010963a8.js"),["assets/sensors-010963a8.js","assets/debug-1e3a05f1.js","assets/line-11e76e8a.js","assets/extent-4cf1c809.js"]).then(({sensors:ff})=>ff.initialize(uf));break;case"logging":__vitePreload(()=>import("./logging-12d0f0c4.js"),["assets/logging-12d0f0c4.js","assets/generate_filename-ef5ebf28.js"]).then(({logging:ff})=>ff.initialize(uf));break;case"onboard_logging":__vitePreload(()=>import("./onboard_logging-da0eb479.js"),["assets/onboard_logging-da0eb479.js","assets/generate_filename-ef5ebf28.js","assets/debug-1e3a05f1.js"]).then(({onboard_logging:ff})=>ff.initialize(uf));break;case"cli":__vitePreload(()=>import("./cli-e7aad869.js"),["assets/cli-e7aad869.js","assets/Clipboard-afda6529.js","assets/generate_filename-ef5ebf28.js"]).then(({cli:ff})=>ff.initialize(uf));break;case"presets":__vitePreload(()=>import("./presets-20d05b6e.js"),["assets/presets-20d05b6e.js","assets/generate_filename-ef5ebf28.js"]).then(({presets:ff})=>ff.initialize(uf));break;default:console.log(`Tab not found: ${af}`)}})}}),$$1("#tabs ul.mode-disconnected li a:first").click(),$$1("#content").on("focus",'input[type="number"]',function(){const nf=$$1(this),rf=nf.val();isNaN(rf)||nf.data("previousValue",parseFloat(rf))}),$$1("#content").on("keydown",'input[type="number"]',function(nf){[96,97,98,99,100,101,102,103,104,105,48,49,50,51,52,53,54,55,56,57,109,189,8,46,9,190,110,37,38,39,40,13].indexOf(nf.keyCode)===-1&&nf.preventDefault()}),$$1("#content").on("change",'input[type="number"]',function(){const nf=$$1(this),rf=parseFloat(nf.prop("min")),sf=parseFloat(nf.prop("max")),af=parseFloat(nf.prop("step"));let lf=parseFloat(nf.val());if(nf.prop("min")&&lf<rf&&(nf.val(rf),lf=rf),nf.prop("max")&&lf>sf&&(nf.val(sf),lf=sf),isNaN(lf)&&(nf.val(nf.data("previousValue")),lf=nf.data("previousValue")),(isNaN(af)||af%1===0)&&lf%1!==0&&(nf.val(nf.data("previousValue")),lf=nf.data("previousValue")),!isNaN(af)&&af%1!==0){const cf=String(af).split(".")[1].length;(lf%1===0||String(lf).split(".")[1].length!==cf)&&nf.val(lf.toFixed(cf))}}),$$1("#showlog").on("click",function(){let nf=$$1(this).data("state");nf?(setTimeout(function(){const rf=$$1("div#log");rf.scrollTop($$1("div.wrapper",rf).height())},200),$$1("#log").removeClass("active"),$$1("#tab-content-container").removeClass("logopen"),$$1("#scrollicon").removeClass("active"),set$4({logopen:!1}),nf=!1):($$1("#log").addClass("active"),$$1("#tab-content-container").addClass("logopen"),$$1("#scrollicon").addClass("active"),set$4({logopen:!0}),nf=!0),$$1(this).text(nf?i18n.getMessage("logActionHide"):i18n.getMessage("logActionShow")),$$1(this).data("state",nf)});let ef=get$3("logopen");ef.logopen&&$$1("#showlog").trigger("click"),ef=get$3("expertMode").expertMode??!1;const tf=$$1('input[name="expertModeCheckbox"]');if(tf.prop("checked",ef).trigger("change"),tf.on("change",()=>{var rf,sf;const nf=tf.is(":checked");checkSetupAnalytics(function(af){af.setDimension(af.DIMENSIONS.CONFIGURATOR_EXPERT_MODE,nf?"On":"Off")}),FC.FEATURE_CONFIG&&FC.FEATURE_CONFIG.features!==0&&updateTabList(FC.FEATURE_CONFIG.features),GUI.active_tab&&((sf=(rf=TABS[GUI.active_tab])==null?void 0:rf.expertModeChanged)==null||sf.call(rf,nf)),set$4({expertMode:nf})}),ef=get$3("cliAutoComplete"),CliAutoComplete.setEnabled(typeof ef.cliAutoComplete>"u"||ef.cliAutoComplete),ef=get$3("darkTheme"),ef.darkTheme===void 0||typeof ef.darkTheme!="number"?setDarkTheme(2):setDarkTheme(ef.darkTheme),GUI.isCordova()){let nf=!1;setInterval(function(){cordova.plugins.ThemeDetection.isDarkModeEnabled(function(sf){sf.value!==nf&&(nf=sf.value,DarkTheme.autoSet())})},500)}else window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(){DarkTheme.autoSet()})}window.isExpertModeEnabled=isExpertModeEnabled;window.appReady=appReady;export{$$1 as $,API_VERSION_1_42 as A,BuildApi as B,CliAutoComplete as C,DarkTheme as D,API_VERSION_1_43 as E,FC as F,GUI as G,API_VERSION_1_46 as H,API_VERSION_1_44 as I,commonjsGlobal as J,getDefaultExportFromCjs as K,jBox as L,MspHelper as M,Features as N,sensor_status as O,PortHandler$1 as P,update_dataflash_global as Q,API_VERSION_1_41 as R,Beepers as S,TABS as T,UI_PHONES as U,VtxDeviceTypes as V,reinitializeConnection as W,Model as X,have_sensor as Y,isExpertModeEnabled as Z,updateTabList as _,checkSetupAnalytics as a,isInt as a0,Clock as a1,degToRad as a2,windowWatcherUtil as a3,CryptoES as a4,getMixerImageSrc as a5,mixerList as a6,EscProtocols as a7,Selection$1 as a8,root as a9,constant as aa,interpolateNumber as ab,color as ac,interpolateRgb as ad,interpolateString as ae,bytesToSize as af,millitime as ag,showErrorDialog as ah,setDarkTheme as b,checkForConfiguratorUpdates as c,CONFIGURATOR as d,serial$3 as e,gui_log as f,get$3 as g,MSP$1 as h,i18n as i,MSPCodes as j,checkChromeRuntimeError as k,PortUsage as l,semver$1 as m,bit_check as n,urlExists as o,get$2 as p,API_VERSION_1_39 as q,read_serial as r,set$4 as s,tracking as t,usbDevices as u,set$2 as v,API_VERSION_1_45 as w,mspHelper as x,getTextWidth as y,inflection as z};
